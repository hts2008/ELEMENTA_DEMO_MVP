function uH(n,e){for(var t=0;t<e.length;t++){const r=e[t];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in n)){const a=Object.getOwnPropertyDescriptor(r,i);a&&Object.defineProperty(n,i,a.get?a:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function t(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=t(i);fetch(i.href,a)}})();var I0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Xn(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Db={exports:{}},dm={},Ub={exports:{}},bn={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var U2;function cH(){if(U2)return bn;U2=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),o=Symbol.for("react.context"),s=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),c=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),d=Symbol.iterator;function g(z){return z===null||typeof z!="object"?null:(z=d&&z[d]||z["@@iterator"],typeof z=="function"?z:null)}var y={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b=Object.assign,S={};function x(z,re,le){this.props=z,this.context=re,this.refs=S,this.updater=le||y}x.prototype.isReactComponent={},x.prototype.setState=function(z,re){if(typeof z!="object"&&typeof z!="function"&&z!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,z,re,"setState")},x.prototype.forceUpdate=function(z){this.updater.enqueueForceUpdate(this,z,"forceUpdate")};function _(){}_.prototype=x.prototype;function E(z,re,le){this.props=z,this.context=re,this.refs=S,this.updater=le||y}var A=E.prototype=new _;A.constructor=E,b(A,x.prototype),A.isPureReactComponent=!0;var T=Array.isArray,P=Object.prototype.hasOwnProperty,O={current:null},N={key:!0,ref:!0,__self:!0,__source:!0};function F(z,re,le){var ce,be={},Oe=null,ke=null;if(re!=null)for(ce in re.ref!==void 0&&(ke=re.ref),re.key!==void 0&&(Oe=""+re.key),re)P.call(re,ce)&&!N.hasOwnProperty(ce)&&(be[ce]=re[ce]);var He=arguments.length-2;if(He===1)be.children=le;else if(1<He){for(var Je=Array(He),Ue=0;Ue<He;Ue++)Je[Ue]=arguments[Ue+2];be.children=Je}if(z&&z.defaultProps)for(ce in He=z.defaultProps,He)be[ce]===void 0&&(be[ce]=He[ce]);return{$$typeof:n,type:z,key:Oe,ref:ke,props:be,_owner:O.current}}function D(z,re){return{$$typeof:n,type:z.type,key:re,ref:z.ref,props:z.props,_owner:z._owner}}function U(z){return typeof z=="object"&&z!==null&&z.$$typeof===n}function G(z){var re={"=":"=0",":":"=2"};return"$"+z.replace(/[=:]/g,function(le){return re[le]})}var q=/\/+/g;function Q(z,re){return typeof z=="object"&&z!==null&&z.key!=null?G(""+z.key):re.toString(36)}function H(z,re,le,ce,be){var Oe=typeof z;(Oe==="undefined"||Oe==="boolean")&&(z=null);var ke=!1;if(z===null)ke=!0;else switch(Oe){case"string":case"number":ke=!0;break;case"object":switch(z.$$typeof){case n:case e:ke=!0}}if(ke)return ke=z,be=be(ke),z=ce===""?"."+Q(ke,0):ce,T(be)?(le="",z!=null&&(le=z.replace(q,"$&/")+"/"),H(be,re,le,"",function(Ue){return Ue})):be!=null&&(U(be)&&(be=D(be,le+(!be.key||ke&&ke.key===be.key?"":(""+be.key).replace(q,"$&/")+"/")+z)),re.push(be)),1;if(ke=0,ce=ce===""?".":ce+":",T(z))for(var He=0;He<z.length;He++){Oe=z[He];var Je=ce+Q(Oe,He);ke+=H(Oe,re,le,Je,be)}else if(Je=g(z),typeof Je=="function")for(z=Je.call(z),He=0;!(Oe=z.next()).done;)Oe=Oe.value,Je=ce+Q(Oe,He++),ke+=H(Oe,re,le,Je,be);else if(Oe==="object")throw re=String(z),Error("Objects are not valid as a React child (found: "+(re==="[object Object]"?"object with keys {"+Object.keys(z).join(", ")+"}":re)+"). If you meant to render a collection of children, use an array instead.");return ke}function te(z,re,le){if(z==null)return z;var ce=[],be=0;return H(z,ce,"","",function(Oe){return re.call(le,Oe,be++)}),ce}function Z(z){if(z._status===-1){var re=z._result;re=re(),re.then(function(le){(z._status===0||z._status===-1)&&(z._status=1,z._result=le)},function(le){(z._status===0||z._status===-1)&&(z._status=2,z._result=le)}),z._status===-1&&(z._status=0,z._result=re)}if(z._status===1)return z._result.default;throw z._result}var he={current:null},X={transition:null},ae={ReactCurrentDispatcher:he,ReactCurrentBatchConfig:X,ReactCurrentOwner:O};return bn.Children={map:te,forEach:function(z,re,le){te(z,function(){re.apply(this,arguments)},le)},count:function(z){var re=0;return te(z,function(){re++}),re},toArray:function(z){return te(z,function(re){return re})||[]},only:function(z){if(!U(z))throw Error("React.Children.only expected to receive a single React element child.");return z}},bn.Component=x,bn.Fragment=t,bn.Profiler=i,bn.PureComponent=E,bn.StrictMode=r,bn.Suspense=u,bn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ae,bn.cloneElement=function(z,re,le){if(z==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+z+".");var ce=b({},z.props),be=z.key,Oe=z.ref,ke=z._owner;if(re!=null){if(re.ref!==void 0&&(Oe=re.ref,ke=O.current),re.key!==void 0&&(be=""+re.key),z.type&&z.type.defaultProps)var He=z.type.defaultProps;for(Je in re)P.call(re,Je)&&!N.hasOwnProperty(Je)&&(ce[Je]=re[Je]===void 0&&He!==void 0?He[Je]:re[Je])}var Je=arguments.length-2;if(Je===1)ce.children=le;else if(1<Je){He=Array(Je);for(var Ue=0;Ue<Je;Ue++)He[Ue]=arguments[Ue+2];ce.children=He}return{$$typeof:n,type:z.type,key:be,ref:Oe,props:ce,_owner:ke}},bn.createContext=function(z){return z={$$typeof:o,_currentValue:z,_currentValue2:z,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},z.Provider={$$typeof:a,_context:z},z.Consumer=z},bn.createElement=F,bn.createFactory=function(z){var re=F.bind(null,z);return re.type=z,re},bn.createRef=function(){return{current:null}},bn.forwardRef=function(z){return{$$typeof:s,render:z}},bn.isValidElement=U,bn.lazy=function(z){return{$$typeof:h,_payload:{_status:-1,_result:z},_init:Z}},bn.memo=function(z,re){return{$$typeof:c,type:z,compare:re===void 0?null:re}},bn.startTransition=function(z){var re=X.transition;X.transition={};try{z()}finally{X.transition=re}},bn.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},bn.useCallback=function(z,re){return he.current.useCallback(z,re)},bn.useContext=function(z){return he.current.useContext(z)},bn.useDebugValue=function(){},bn.useDeferredValue=function(z){return he.current.useDeferredValue(z)},bn.useEffect=function(z,re){return he.current.useEffect(z,re)},bn.useId=function(){return he.current.useId()},bn.useImperativeHandle=function(z,re,le){return he.current.useImperativeHandle(z,re,le)},bn.useInsertionEffect=function(z,re){return he.current.useInsertionEffect(z,re)},bn.useLayoutEffect=function(z,re){return he.current.useLayoutEffect(z,re)},bn.useMemo=function(z,re){return he.current.useMemo(z,re)},bn.useReducer=function(z,re,le){return he.current.useReducer(z,re,le)},bn.useRef=function(z){return he.current.useRef(z)},bn.useState=function(z){return he.current.useState(z)},bn.useSyncExternalStore=function(z,re,le){return he.current.useSyncExternalStore(z,re,le)},bn.useTransition=function(){return he.current.useTransition()},bn.version="18.2.0",bn}var F2;function r_(){return F2||(F2=1,Ub.exports=cH()),Ub.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var B2;function fH(){if(B2)return dm;B2=1;var n=r_(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,i=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function o(s,u,c){var h,d={},g=null,y=null;c!==void 0&&(g=""+c),u.key!==void 0&&(g=""+u.key),u.ref!==void 0&&(y=u.ref);for(h in u)r.call(u,h)&&!a.hasOwnProperty(h)&&(d[h]=u[h]);if(s&&s.defaultProps)for(h in u=s.defaultProps,u)d[h]===void 0&&(d[h]=u[h]);return{$$typeof:e,type:s,key:g,ref:y,props:d,_owner:i.current}}return dm.Fragment=t,dm.jsx=o,dm.jsxs=o,dm}var z2;function hH(){return z2||(z2=1,Db.exports=fH()),Db.exports}var L=hH(),ee=r_();const _e=Xn(ee),dH=uH({__proto__:null,default:_e},[ee]);var N0={},Fb={exports:{}},Oa={},Bb={exports:{}},zb={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var j2;function pH(){return j2||(j2=1,(function(n){function e(X,ae){var z=X.length;X.push(ae);e:for(;0<z;){var re=z-1>>>1,le=X[re];if(0<i(le,ae))X[re]=ae,X[z]=le,z=re;else break e}}function t(X){return X.length===0?null:X[0]}function r(X){if(X.length===0)return null;var ae=X[0],z=X.pop();if(z!==ae){X[0]=z;e:for(var re=0,le=X.length,ce=le>>>1;re<ce;){var be=2*(re+1)-1,Oe=X[be],ke=be+1,He=X[ke];if(0>i(Oe,z))ke<le&&0>i(He,Oe)?(X[re]=He,X[ke]=z,re=ke):(X[re]=Oe,X[be]=z,re=be);else if(ke<le&&0>i(He,z))X[re]=He,X[ke]=z,re=ke;else break e}}return ae}function i(X,ae){var z=X.sortIndex-ae.sortIndex;return z!==0?z:X.id-ae.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;n.unstable_now=function(){return a.now()}}else{var o=Date,s=o.now();n.unstable_now=function(){return o.now()-s}}var u=[],c=[],h=1,d=null,g=3,y=!1,b=!1,S=!1,x=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,E=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function A(X){for(var ae=t(c);ae!==null;){if(ae.callback===null)r(c);else if(ae.startTime<=X)r(c),ae.sortIndex=ae.expirationTime,e(u,ae);else break;ae=t(c)}}function T(X){if(S=!1,A(X),!b)if(t(u)!==null)b=!0,Z(P);else{var ae=t(c);ae!==null&&he(T,ae.startTime-X)}}function P(X,ae){b=!1,S&&(S=!1,_(F),F=-1),y=!0;var z=g;try{for(A(ae),d=t(u);d!==null&&(!(d.expirationTime>ae)||X&&!G());){var re=d.callback;if(typeof re=="function"){d.callback=null,g=d.priorityLevel;var le=re(d.expirationTime<=ae);ae=n.unstable_now(),typeof le=="function"?d.callback=le:d===t(u)&&r(u),A(ae)}else r(u);d=t(u)}if(d!==null)var ce=!0;else{var be=t(c);be!==null&&he(T,be.startTime-ae),ce=!1}return ce}finally{d=null,g=z,y=!1}}var O=!1,N=null,F=-1,D=5,U=-1;function G(){return!(n.unstable_now()-U<D)}function q(){if(N!==null){var X=n.unstable_now();U=X;var ae=!0;try{ae=N(!0,X)}finally{ae?Q():(O=!1,N=null)}}else O=!1}var Q;if(typeof E=="function")Q=function(){E(q)};else if(typeof MessageChannel<"u"){var H=new MessageChannel,te=H.port2;H.port1.onmessage=q,Q=function(){te.postMessage(null)}}else Q=function(){x(q,0)};function Z(X){N=X,O||(O=!0,Q())}function he(X,ae){F=x(function(){X(n.unstable_now())},ae)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(X){X.callback=null},n.unstable_continueExecution=function(){b||y||(b=!0,Z(P))},n.unstable_forceFrameRate=function(X){0>X||125<X?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<X?Math.floor(1e3/X):5},n.unstable_getCurrentPriorityLevel=function(){return g},n.unstable_getFirstCallbackNode=function(){return t(u)},n.unstable_next=function(X){switch(g){case 1:case 2:case 3:var ae=3;break;default:ae=g}var z=g;g=ae;try{return X()}finally{g=z}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(X,ae){switch(X){case 1:case 2:case 3:case 4:case 5:break;default:X=3}var z=g;g=X;try{return ae()}finally{g=z}},n.unstable_scheduleCallback=function(X,ae,z){var re=n.unstable_now();switch(typeof z=="object"&&z!==null?(z=z.delay,z=typeof z=="number"&&0<z?re+z:re):z=re,X){case 1:var le=-1;break;case 2:le=250;break;case 5:le=1073741823;break;case 4:le=1e4;break;default:le=5e3}return le=z+le,X={id:h++,callback:ae,priorityLevel:X,startTime:z,expirationTime:le,sortIndex:-1},z>re?(X.sortIndex=z,e(c,X),t(u)===null&&X===t(c)&&(S?(_(F),F=-1):S=!0,he(T,z-re))):(X.sortIndex=le,e(u,X),b||y||(b=!0,Z(P))),X},n.unstable_shouldYield=G,n.unstable_wrapCallback=function(X){var ae=g;return function(){var z=g;g=ae;try{return X.apply(this,arguments)}finally{g=z}}}})(zb)),zb}var H2;function mH(){return H2||(H2=1,Bb.exports=pH()),Bb.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var V2;function gH(){if(V2)return Oa;V2=1;var n=r_(),e=mH();function t(l){for(var f="https://reactjs.org/docs/error-decoder.html?invariant="+l,v=1;v<arguments.length;v++)f+="&args[]="+encodeURIComponent(arguments[v]);return"Minified React error #"+l+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,i={};function a(l,f){o(l,f),o(l+"Capture",f)}function o(l,f){for(i[l]=f,l=0;l<f.length;l++)r.add(f[l])}var s=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),u=Object.prototype.hasOwnProperty,c=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,h={},d={};function g(l){return u.call(d,l)?!0:u.call(h,l)?!1:c.test(l)?d[l]=!0:(h[l]=!0,!1)}function y(l,f,v,M){if(v!==null&&v.type===0)return!1;switch(typeof f){case"function":case"symbol":return!0;case"boolean":return M?!1:v!==null?!v.acceptsBooleans:(l=l.toLowerCase().slice(0,5),l!=="data-"&&l!=="aria-");default:return!1}}function b(l,f,v,M){if(f===null||typeof f>"u"||y(l,f,v,M))return!0;if(M)return!1;if(v!==null)switch(v.type){case 3:return!f;case 4:return f===!1;case 5:return isNaN(f);case 6:return isNaN(f)||1>f}return!1}function S(l,f,v,M,R,k,W){this.acceptsBooleans=f===2||f===3||f===4,this.attributeName=M,this.attributeNamespace=R,this.mustUseProperty=v,this.propertyName=l,this.type=f,this.sanitizeURL=k,this.removeEmptyString=W}var x={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(l){x[l]=new S(l,0,!1,l,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(l){var f=l[0];x[f]=new S(f,1,!1,l[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(l){x[l]=new S(l,2,!1,l.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(l){x[l]=new S(l,2,!1,l,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(l){x[l]=new S(l,3,!1,l.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(l){x[l]=new S(l,3,!0,l,null,!1,!1)}),["capture","download"].forEach(function(l){x[l]=new S(l,4,!1,l,null,!1,!1)}),["cols","rows","size","span"].forEach(function(l){x[l]=new S(l,6,!1,l,null,!1,!1)}),["rowSpan","start"].forEach(function(l){x[l]=new S(l,5,!1,l.toLowerCase(),null,!1,!1)});var _=/[\-:]([a-z])/g;function E(l){return l[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(l){var f=l.replace(_,E);x[f]=new S(f,1,!1,l,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(l){var f=l.replace(_,E);x[f]=new S(f,1,!1,l,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(l){var f=l.replace(_,E);x[f]=new S(f,1,!1,l,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(l){x[l]=new S(l,1,!1,l.toLowerCase(),null,!1,!1)}),x.xlinkHref=new S("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(l){x[l]=new S(l,1,!1,l.toLowerCase(),null,!0,!0)});function A(l,f,v,M){var R=x.hasOwnProperty(f)?x[f]:null;(R!==null?R.type!==0:M||!(2<f.length)||f[0]!=="o"&&f[0]!=="O"||f[1]!=="n"&&f[1]!=="N")&&(b(f,v,R,M)&&(v=null),M||R===null?g(f)&&(v===null?l.removeAttribute(f):l.setAttribute(f,""+v)):R.mustUseProperty?l[R.propertyName]=v===null?R.type===3?!1:"":v:(f=R.attributeName,M=R.attributeNamespace,v===null?l.removeAttribute(f):(R=R.type,v=R===3||R===4&&v===!0?"":""+v,M?l.setAttributeNS(M,f,v):l.setAttribute(f,v))))}var T=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,P=Symbol.for("react.element"),O=Symbol.for("react.portal"),N=Symbol.for("react.fragment"),F=Symbol.for("react.strict_mode"),D=Symbol.for("react.profiler"),U=Symbol.for("react.provider"),G=Symbol.for("react.context"),q=Symbol.for("react.forward_ref"),Q=Symbol.for("react.suspense"),H=Symbol.for("react.suspense_list"),te=Symbol.for("react.memo"),Z=Symbol.for("react.lazy"),he=Symbol.for("react.offscreen"),X=Symbol.iterator;function ae(l){return l===null||typeof l!="object"?null:(l=X&&l[X]||l["@@iterator"],typeof l=="function"?l:null)}var z=Object.assign,re;function le(l){if(re===void 0)try{throw Error()}catch(v){var f=v.stack.trim().match(/\n( *(at )?)/);re=f&&f[1]||""}return`
`+re+l}var ce=!1;function be(l,f){if(!l||ce)return"";ce=!0;var v=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(f)if(f=function(){throw Error()},Object.defineProperty(f.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(f,[])}catch(Ie){var M=Ie}Reflect.construct(l,[],f)}else{try{f.call()}catch(Ie){M=Ie}l.call(f.prototype)}else{try{throw Error()}catch(Ie){M=Ie}l()}}catch(Ie){if(Ie&&M&&typeof Ie.stack=="string"){for(var R=Ie.stack.split(`
`),k=M.stack.split(`
`),W=R.length-1,ue=k.length-1;1<=W&&0<=ue&&R[W]!==k[ue];)ue--;for(;1<=W&&0<=ue;W--,ue--)if(R[W]!==k[ue]){if(W!==1||ue!==1)do if(W--,ue--,0>ue||R[W]!==k[ue]){var ve=`
`+R[W].replace(" at new "," at ");return l.displayName&&ve.includes("<anonymous>")&&(ve=ve.replace("<anonymous>",l.displayName)),ve}while(1<=W&&0<=ue);break}}}finally{ce=!1,Error.prepareStackTrace=v}return(l=l?l.displayName||l.name:"")?le(l):""}function Oe(l){switch(l.tag){case 5:return le(l.type);case 16:return le("Lazy");case 13:return le("Suspense");case 19:return le("SuspenseList");case 0:case 2:case 15:return l=be(l.type,!1),l;case 11:return l=be(l.type.render,!1),l;case 1:return l=be(l.type,!0),l;default:return""}}function ke(l){if(l==null)return null;if(typeof l=="function")return l.displayName||l.name||null;if(typeof l=="string")return l;switch(l){case N:return"Fragment";case O:return"Portal";case D:return"Profiler";case F:return"StrictMode";case Q:return"Suspense";case H:return"SuspenseList"}if(typeof l=="object")switch(l.$$typeof){case G:return(l.displayName||"Context")+".Consumer";case U:return(l._context.displayName||"Context")+".Provider";case q:var f=l.render;return l=l.displayName,l||(l=f.displayName||f.name||"",l=l!==""?"ForwardRef("+l+")":"ForwardRef"),l;case te:return f=l.displayName||null,f!==null?f:ke(l.type)||"Memo";case Z:f=l._payload,l=l._init;try{return ke(l(f))}catch{}}return null}function He(l){var f=l.type;switch(l.tag){case 24:return"Cache";case 9:return(f.displayName||"Context")+".Consumer";case 10:return(f._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return l=f.render,l=l.displayName||l.name||"",f.displayName||(l!==""?"ForwardRef("+l+")":"ForwardRef");case 7:return"Fragment";case 5:return f;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ke(f);case 8:return f===F?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof f=="function")return f.displayName||f.name||null;if(typeof f=="string")return f}return null}function Je(l){switch(typeof l){case"boolean":case"number":case"string":case"undefined":return l;case"object":return l;default:return""}}function Ue(l){var f=l.type;return(l=l.nodeName)&&l.toLowerCase()==="input"&&(f==="checkbox"||f==="radio")}function qe(l){var f=Ue(l)?"checked":"value",v=Object.getOwnPropertyDescriptor(l.constructor.prototype,f),M=""+l[f];if(!l.hasOwnProperty(f)&&typeof v<"u"&&typeof v.get=="function"&&typeof v.set=="function"){var R=v.get,k=v.set;return Object.defineProperty(l,f,{configurable:!0,get:function(){return R.call(this)},set:function(W){M=""+W,k.call(this,W)}}),Object.defineProperty(l,f,{enumerable:v.enumerable}),{getValue:function(){return M},setValue:function(W){M=""+W},stopTracking:function(){l._valueTracker=null,delete l[f]}}}}function Qe(l){l._valueTracker||(l._valueTracker=qe(l))}function K(l){if(!l)return!1;var f=l._valueTracker;if(!f)return!0;var v=f.getValue(),M="";return l&&(M=Ue(l)?l.checked?"true":"false":l.value),l=M,l!==v?(f.setValue(l),!0):!1}function je(l){if(l=l||(typeof document<"u"?document:void 0),typeof l>"u")return null;try{return l.activeElement||l.body}catch{return l.body}}function Ae(l,f){var v=f.checked;return z({},f,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:v??l._wrapperState.initialChecked})}function We(l,f){var v=f.defaultValue==null?"":f.defaultValue,M=f.checked!=null?f.checked:f.defaultChecked;v=Je(f.value!=null?f.value:v),l._wrapperState={initialChecked:M,initialValue:v,controlled:f.type==="checkbox"||f.type==="radio"?f.checked!=null:f.value!=null}}function Ne(l,f){f=f.checked,f!=null&&A(l,"checked",f,!1)}function gt(l,f){Ne(l,f);var v=Je(f.value),M=f.type;if(v!=null)M==="number"?(v===0&&l.value===""||l.value!=v)&&(l.value=""+v):l.value!==""+v&&(l.value=""+v);else if(M==="submit"||M==="reset"){l.removeAttribute("value");return}f.hasOwnProperty("value")?J(l,f.type,v):f.hasOwnProperty("defaultValue")&&J(l,f.type,Je(f.defaultValue)),f.checked==null&&f.defaultChecked!=null&&(l.defaultChecked=!!f.defaultChecked)}function st(l,f,v){if(f.hasOwnProperty("value")||f.hasOwnProperty("defaultValue")){var M=f.type;if(!(M!=="submit"&&M!=="reset"||f.value!==void 0&&f.value!==null))return;f=""+l._wrapperState.initialValue,v||f===l.value||(l.value=f),l.defaultValue=f}v=l.name,v!==""&&(l.name=""),l.defaultChecked=!!l._wrapperState.initialChecked,v!==""&&(l.name=v)}function J(l,f,v){(f!=="number"||je(l.ownerDocument)!==l)&&(v==null?l.defaultValue=""+l._wrapperState.initialValue:l.defaultValue!==""+v&&(l.defaultValue=""+v))}var $=Array.isArray;function we(l,f,v,M){if(l=l.options,f){f={};for(var R=0;R<v.length;R++)f["$"+v[R]]=!0;for(v=0;v<l.length;v++)R=f.hasOwnProperty("$"+l[v].value),l[v].selected!==R&&(l[v].selected=R),R&&M&&(l[v].defaultSelected=!0)}else{for(v=""+Je(v),f=null,R=0;R<l.length;R++){if(l[R].value===v){l[R].selected=!0,M&&(l[R].defaultSelected=!0);return}f!==null||l[R].disabled||(f=l[R])}f!==null&&(f.selected=!0)}}function Xe(l,f){if(f.dangerouslySetInnerHTML!=null)throw Error(t(91));return z({},f,{value:void 0,defaultValue:void 0,children:""+l._wrapperState.initialValue})}function $e(l,f){var v=f.value;if(v==null){if(v=f.children,f=f.defaultValue,v!=null){if(f!=null)throw Error(t(92));if($(v)){if(1<v.length)throw Error(t(93));v=v[0]}f=v}f==null&&(f=""),v=f}l._wrapperState={initialValue:Je(v)}}function Ge(l,f){var v=Je(f.value),M=Je(f.defaultValue);v!=null&&(v=""+v,v!==l.value&&(l.value=v),f.defaultValue==null&&l.defaultValue!==v&&(l.defaultValue=v)),M!=null&&(l.defaultValue=""+M)}function Tt(l){var f=l.textContent;f===l._wrapperState.initialValue&&f!==""&&f!==null&&(l.value=f)}function ft(l){switch(l){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function yt(l,f){return l==null||l==="http://www.w3.org/1999/xhtml"?ft(f):l==="http://www.w3.org/2000/svg"&&f==="foreignObject"?"http://www.w3.org/1999/xhtml":l}var Nt,Vt=(function(l){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(f,v,M,R){MSApp.execUnsafeLocalFunction(function(){return l(f,v,M,R)})}:l})(function(l,f){if(l.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in l)l.innerHTML=f;else{for(Nt=Nt||document.createElement("div"),Nt.innerHTML="<svg>"+f.valueOf().toString()+"</svg>",f=Nt.firstChild;l.firstChild;)l.removeChild(l.firstChild);for(;f.firstChild;)l.appendChild(f.firstChild)}});function Ke(l,f){if(f){var v=l.firstChild;if(v&&v===l.lastChild&&v.nodeType===3){v.nodeValue=f;return}}l.textContent=f}var an={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},rn=["Webkit","ms","Moz","O"];Object.keys(an).forEach(function(l){rn.forEach(function(f){f=f+l.charAt(0).toUpperCase()+l.substring(1),an[f]=an[l]})});function zt(l,f,v){return f==null||typeof f=="boolean"||f===""?"":v||typeof f!="number"||f===0||an.hasOwnProperty(l)&&an[l]?(""+f).trim():f+"px"}function _t(l,f){l=l.style;for(var v in f)if(f.hasOwnProperty(v)){var M=v.indexOf("--")===0,R=zt(v,f[v],M);v==="float"&&(v="cssFloat"),M?l.setProperty(v,R):l[v]=R}}var bt=z({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function pe(l,f){if(f){if(bt[l]&&(f.children!=null||f.dangerouslySetInnerHTML!=null))throw Error(t(137,l));if(f.dangerouslySetInnerHTML!=null){if(f.children!=null)throw Error(t(60));if(typeof f.dangerouslySetInnerHTML!="object"||!("__html"in f.dangerouslySetInnerHTML))throw Error(t(61))}if(f.style!=null&&typeof f.style!="object")throw Error(t(62))}}function ze(l,f){if(l.indexOf("-")===-1)return typeof f.is=="string";switch(l){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var at=null;function vt(l){return l=l.target||l.srcElement||window,l.correspondingUseElement&&(l=l.correspondingUseElement),l.nodeType===3?l.parentNode:l}var Me=null,me=null,it=null;function dt(l){if(l=Bo(l)){if(typeof Me!="function")throw Error(t(280));var f=l.stateNode;f&&(f=Rh(f),Me(l.stateNode,l.type,f))}}function Bt(l){me?it?it.push(l):it=[l]:me=l}function Pt(){if(me){var l=me,f=it;if(it=me=null,dt(l),f)for(l=0;l<f.length;l++)dt(f[l])}}function sn(l,f){return l(f)}function gn(){}var Tn=!1;function jn(l,f,v){if(Tn)return l(f,v);Tn=!0;try{return sn(l,f,v)}finally{Tn=!1,(me!==null||it!==null)&&(gn(),Pt())}}function fn(l,f){var v=l.stateNode;if(v===null)return null;var M=Rh(v);if(M===null)return null;v=M[f];e:switch(f){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(M=!M.disabled)||(l=l.type,M=!(l==="button"||l==="input"||l==="select"||l==="textarea")),l=!M;break e;default:l=!1}if(l)return null;if(v&&typeof v!="function")throw Error(t(231,f,typeof v));return v}var yr=!1;if(s)try{var Fr={};Object.defineProperty(Fr,"passive",{get:function(){yr=!0}}),window.addEventListener("test",Fr,Fr),window.removeEventListener("test",Fr,Fr)}catch{yr=!1}function ao(l,f,v,M,R,k,W,ue,ve){var Ie=Array.prototype.slice.call(arguments,3);try{f.apply(v,Ie)}catch(nt){this.onError(nt)}}var Ba=!1,gi=null,Zr=!1,tn=null,Ws={onError:function(l){Ba=!0,gi=l}};function $l(l,f,v,M,R,k,W,ue,ve){Ba=!1,gi=null,ao.apply(Ws,arguments)}function V(l,f,v,M,R,k,W,ue,ve){if($l.apply(this,arguments),Ba){if(Ba){var Ie=gi;Ba=!1,gi=null}else throw Error(t(198));Zr||(Zr=!0,tn=Ie)}}function Y(l){var f=l,v=l;if(l.alternate)for(;f.return;)f=f.return;else{l=f;do f=l,(f.flags&4098)!==0&&(v=f.return),l=f.return;while(l)}return f.tag===3?v:null}function ge(l){if(l.tag===13){var f=l.memoizedState;if(f===null&&(l=l.alternate,l!==null&&(f=l.memoizedState)),f!==null)return f.dehydrated}return null}function j(l){if(Y(l)!==l)throw Error(t(188))}function ne(l){var f=l.alternate;if(!f){if(f=Y(l),f===null)throw Error(t(188));return f!==l?null:l}for(var v=l,M=f;;){var R=v.return;if(R===null)break;var k=R.alternate;if(k===null){if(M=R.return,M!==null){v=M;continue}break}if(R.child===k.child){for(k=R.child;k;){if(k===v)return j(R),l;if(k===M)return j(R),f;k=k.sibling}throw Error(t(188))}if(v.return!==M.return)v=R,M=k;else{for(var W=!1,ue=R.child;ue;){if(ue===v){W=!0,v=R,M=k;break}if(ue===M){W=!0,M=R,v=k;break}ue=ue.sibling}if(!W){for(ue=k.child;ue;){if(ue===v){W=!0,v=k,M=R;break}if(ue===M){W=!0,M=k,v=R;break}ue=ue.sibling}if(!W)throw Error(t(189))}}if(v.alternate!==M)throw Error(t(190))}if(v.tag!==3)throw Error(t(188));return v.stateNode.current===v?l:f}function oe(l){return l=ne(l),l!==null?de(l):null}function de(l){if(l.tag===5||l.tag===6)return l;for(l=l.child;l!==null;){var f=de(l);if(f!==null)return f;l=l.sibling}return null}var fe=e.unstable_scheduleCallback,Re=e.unstable_cancelCallback,Le=e.unstable_shouldYield,Fe=e.unstable_requestPaint,Ce=e.unstable_now,Mt=e.unstable_getCurrentPriorityLevel,Ze=e.unstable_ImmediatePriority,tt=e.unstable_UserBlockingPriority,Et=e.unstable_NormalPriority,Ft=e.unstable_LowPriority,jt=e.unstable_IdlePriority,Yt=null,pt=null;function ht(l){if(pt&&typeof pt.onCommitFiberRoot=="function")try{pt.onCommitFiberRoot(Yt,l,void 0,(l.current.flags&128)===128)}catch{}}var Xt=Math.clz32?Math.clz32:kn,Gt=Math.log,Kt=Math.LN2;function kn(l){return l>>>=0,l===0?32:31-(Gt(l)/Kt|0)|0}var Qn=64,Hn=4194304;function vn(l){switch(l&-l){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return l&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return l}}function ln(l,f){var v=l.pendingLanes;if(v===0)return 0;var M=0,R=l.suspendedLanes,k=l.pingedLanes,W=v&268435455;if(W!==0){var ue=W&~R;ue!==0?M=vn(ue):(k&=W,k!==0&&(M=vn(k)))}else W=v&~R,W!==0?M=vn(W):k!==0&&(M=vn(k));if(M===0)return 0;if(f!==0&&f!==M&&(f&R)===0&&(R=M&-M,k=f&-f,R>=k||R===16&&(k&4194240)!==0))return f;if((M&4)!==0&&(M|=v&16),f=l.entangledLanes,f!==0)for(l=l.entanglements,f&=M;0<f;)v=31-Xt(f),R=1<<v,M|=l[v],f&=~R;return M}function sr(l,f){switch(l){case 1:case 2:case 4:return f+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return f+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function on(l,f){for(var v=l.suspendedLanes,M=l.pingedLanes,R=l.expirationTimes,k=l.pendingLanes;0<k;){var W=31-Xt(k),ue=1<<W,ve=R[W];ve===-1?((ue&v)===0||(ue&M)!==0)&&(R[W]=sr(ue,f)):ve<=f&&(l.expiredLanes|=ue),k&=~ue}}function yn(l){return l=l.pendingLanes&-1073741825,l!==0?l:l&1073741824?1073741824:0}function Vn(){var l=Qn;return Qn<<=1,(Qn&4194240)===0&&(Qn=64),l}function Ni(l){for(var f=[],v=0;31>v;v++)f.push(l);return f}function Pr(l,f,v){l.pendingLanes|=f,f!==536870912&&(l.suspendedLanes=0,l.pingedLanes=0),l=l.eventTimes,f=31-Xt(f),l[f]=v}function oo(l,f){var v=l.pendingLanes&~f;l.pendingLanes=f,l.suspendedLanes=0,l.pingedLanes=0,l.expiredLanes&=f,l.mutableReadLanes&=f,l.entangledLanes&=f,f=l.entanglements;var M=l.eventTimes;for(l=l.expirationTimes;0<v;){var R=31-Xt(v),k=1<<R;f[R]=0,M[R]=-1,l[R]=-1,v&=~k}}function Xl(l,f){var v=l.entangledLanes|=f;for(l=l.entanglements;v;){var M=31-Xt(v),R=1<<M;R&f|l[M]&f&&(l[M]|=f),v&=~R}}var En=0;function Yl(l){return l&=-l,1<l?4<l?(l&268435455)!==0?16:536870912:4:1}var gc,Ap,Fv,Jf,Qf,qs=!1,eh=[],so=null,hn=null,Oo=null,$s=new Map,Kl=new Map,ds=[],sb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Rr(l,f){switch(l){case"focusin":case"focusout":so=null;break;case"dragenter":case"dragleave":hn=null;break;case"mouseover":case"mouseout":Oo=null;break;case"pointerover":case"pointerout":$s.delete(f.pointerId);break;case"gotpointercapture":case"lostpointercapture":Kl.delete(f.pointerId)}}function Xs(l,f,v,M,R,k){return l===null||l.nativeEvent!==k?(l={blockedOn:f,domEventName:v,eventSystemFlags:M,nativeEvent:k,targetContainers:[R]},f!==null&&(f=Bo(f),f!==null&&Ap(f)),l):(l.eventSystemFlags|=M,f=l.targetContainers,R!==null&&f.indexOf(R)===-1&&f.push(R),l)}function lb(l,f,v,M,R){switch(f){case"focusin":return so=Xs(so,l,f,v,M,R),!0;case"dragenter":return hn=Xs(hn,l,f,v,M,R),!0;case"mouseover":return Oo=Xs(Oo,l,f,v,M,R),!0;case"pointerover":var k=R.pointerId;return $s.set(k,Xs($s.get(k)||null,l,f,v,M,R)),!0;case"gotpointercapture":return k=R.pointerId,Kl.set(k,Xs(Kl.get(k)||null,l,f,v,M,R)),!0}return!1}function th(l){var f=_s(l.target);if(f!==null){var v=Y(f);if(v!==null){if(f=v.tag,f===13){if(f=ge(v),f!==null){l.blockedOn=f,Qf(l.priority,function(){Fv(v)});return}}else if(f===3&&v.stateNode.current.memoizedState.isDehydrated){l.blockedOn=v.tag===3?v.stateNode.containerInfo:null;return}}}l.blockedOn=null}function nh(l){if(l.blockedOn!==null)return!1;for(var f=l.targetContainers;0<f.length;){var v=ya(l.domEventName,l.eventSystemFlags,f[0],l.nativeEvent);if(v===null){v=l.nativeEvent;var M=new v.constructor(v.type,v);at=M,v.target.dispatchEvent(M),at=null}else return f=Bo(v),f!==null&&Ap(f),l.blockedOn=v,!1;f.shift()}return!0}function vc(l,f,v){nh(l)&&v.delete(f)}function lo(){qs=!1,so!==null&&nh(so)&&(so=null),hn!==null&&nh(hn)&&(hn=null),Oo!==null&&nh(Oo)&&(Oo=null),$s.forEach(vc),Kl.forEach(vc)}function yc(l,f){l.blockedOn===f&&(l.blockedOn=null,qs||(qs=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,lo)))}function xc(l){function f(R){return yc(R,l)}if(0<eh.length){yc(eh[0],l);for(var v=1;v<eh.length;v++){var M=eh[v];M.blockedOn===l&&(M.blockedOn=null)}}for(so!==null&&yc(so,l),hn!==null&&yc(hn,l),Oo!==null&&yc(Oo,l),$s.forEach(f),Kl.forEach(f),v=0;v<ds.length;v++)M=ds[v],M.blockedOn===l&&(M.blockedOn=null);for(;0<ds.length&&(v=ds[0],v.blockedOn===null);)th(v),v.blockedOn===null&&ds.shift()}var vi=T.ReactCurrentBatchConfig,va=!0;function rh(l,f,v,M){var R=En,k=vi.transition;vi.transition=null;try{En=1,ih(l,f,v,M)}finally{En=R,vi.transition=k}}function Tp(l,f,v,M){var R=En,k=vi.transition;vi.transition=null;try{En=4,ih(l,f,v,M)}finally{En=R,vi.transition=k}}function ih(l,f,v,M){if(va){var R=ya(l,f,v,M);if(R===null)Mh(l,f,M,ah,v),Rr(l,M);else if(lb(R,l,f,v,M))M.stopPropagation();else if(Rr(l,M),f&4&&-1<sb.indexOf(l)){for(;R!==null;){var k=Bo(R);if(k!==null&&gc(k),k=ya(l,f,v,M),k===null&&Mh(l,f,M,ah,v),k===R)break;R=k}R!==null&&M.stopPropagation()}else Mh(l,f,M,null,v)}}var ah=null;function ya(l,f,v,M){if(ah=null,l=vt(M),l=_s(l),l!==null)if(f=Y(l),f===null)l=null;else if(v=f.tag,v===13){if(l=ge(f),l!==null)return l;l=null}else if(v===3){if(f.stateNode.current.memoizedState.isDehydrated)return f.tag===3?f.stateNode.containerInfo:null;l=null}else f!==l&&(l=null);return ah=l,null}function Bv(l){switch(l){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Mt()){case Ze:return 1;case tt:return 4;case Et:case Ft:return 16;case jt:return 536870912;default:return 16}default:return 16}}var za=null,Cp=null,Li=null;function _c(){if(Li)return Li;var l,f=Cp,v=f.length,M,R="value"in za?za.value:za.textContent,k=R.length;for(l=0;l<v&&f[l]===R[l];l++);var W=v-l;for(M=1;M<=W&&f[v-M]===R[k-M];M++);return Li=R.slice(l,1<M?1-M:void 0)}function Ys(l){var f=l.keyCode;return"charCode"in l?(l=l.charCode,l===0&&f===13&&(l=13)):l=f,l===10&&(l=13),32<=l||l===13?l:0}function Io(){return!0}function oh(){return!1}function yi(l){function f(v,M,R,k,W){this._reactName=v,this._targetInst=R,this.type=M,this.nativeEvent=k,this.target=W,this.currentTarget=null;for(var ue in l)l.hasOwnProperty(ue)&&(v=l[ue],this[ue]=v?v(k):k[ue]);return this.isDefaultPrevented=(k.defaultPrevented!=null?k.defaultPrevented:k.returnValue===!1)?Io:oh,this.isPropagationStopped=oh,this}return z(f.prototype,{preventDefault:function(){this.defaultPrevented=!0;var v=this.nativeEvent;v&&(v.preventDefault?v.preventDefault():typeof v.returnValue!="unknown"&&(v.returnValue=!1),this.isDefaultPrevented=Io)},stopPropagation:function(){var v=this.nativeEvent;v&&(v.stopPropagation?v.stopPropagation():typeof v.cancelBubble!="unknown"&&(v.cancelBubble=!0),this.isPropagationStopped=Io)},persist:function(){},isPersistent:Io}),f}var Ks={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(l){return l.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},bc=yi(Ks),Zs=z({},Ks,{view:0,detail:0}),Zl=yi(Zs),ki,xa,_a,Jl=z({},Zs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ms,button:0,buttons:0,relatedTarget:function(l){return l.relatedTarget===void 0?l.fromElement===l.srcElement?l.toElement:l.fromElement:l.relatedTarget},movementX:function(l){return"movementX"in l?l.movementX:(l!==_a&&(_a&&l.type==="mousemove"?(ki=l.screenX-_a.screenX,xa=l.screenY-_a.screenY):xa=ki=0,_a=l),ki)},movementY:function(l){return"movementY"in l?l.movementY:xa}}),Pp=yi(Jl),No=z({},Jl,{dataTransfer:0}),ps=yi(No),sh=z({},Zs,{relatedTarget:0}),lh=yi(sh),uh=z({},Ks,{animationName:0,elapsedTime:0,pseudoElement:0}),zv=yi(uh),jv=z({},Ks,{clipboardData:function(l){return"clipboardData"in l?l.clipboardData:window.clipboardData}}),Rp=yi(jv),ch=z({},Ks,{data:0}),Op=yi(ch),Hv={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Vv={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ip={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ql(l){var f=this.nativeEvent;return f.getModifierState?f.getModifierState(l):(l=Ip[l])?!!f[l]:!1}function ms(){return Ql}var fh=z({},Zs,{key:function(l){if(l.key){var f=Hv[l.key]||l.key;if(f!=="Unidentified")return f}return l.type==="keypress"?(l=Ys(l),l===13?"Enter":String.fromCharCode(l)):l.type==="keydown"||l.type==="keyup"?Vv[l.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ms,charCode:function(l){return l.type==="keypress"?Ys(l):0},keyCode:function(l){return l.type==="keydown"||l.type==="keyup"?l.keyCode:0},which:function(l){return l.type==="keypress"?Ys(l):l.type==="keydown"||l.type==="keyup"?l.keyCode:0}}),hh=yi(fh),ba=z({},Jl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Qi=yi(ba),Js=z({},Zs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ms}),Lo=yi(Js),ko=z({},Ks,{propertyName:0,elapsedTime:0,pseudoElement:0}),Qs=yi(ko),Gv=z({},Jl,{deltaX:function(l){return"deltaX"in l?l.deltaX:"wheelDeltaX"in l?-l.wheelDeltaX:0},deltaY:function(l){return"deltaY"in l?l.deltaY:"wheelDeltaY"in l?-l.wheelDeltaY:"wheelDelta"in l?-l.wheelDelta:0},deltaZ:0,deltaMode:0}),Np=yi(Gv),Lp=[9,13,27,32],xi=s&&"CompositionEvent"in window,Jr=null;s&&"documentMode"in document&&(Jr=document.documentMode);var rr=s&&"TextEvent"in window&&!Jr,eu=s&&(!xi||Jr&&8<Jr&&11>=Jr),Sa=" ",kp=!1;function Dp(l,f){switch(l){case"keyup":return Lp.indexOf(f.keyCode)!==-1;case"keydown":return f.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function dh(l){return l=l.detail,typeof l=="object"&&"data"in l?l.data:null}var gs=!1;function Wv(l,f){switch(l){case"compositionend":return dh(f);case"keypress":return f.which!==32?null:(kp=!0,Sa);case"textInput":return l=f.data,l===Sa&&kp?null:l;default:return null}}function Sc(l,f){if(gs)return l==="compositionend"||!xi&&Dp(l,f)?(l=_c(),Li=Cp=za=null,gs=!1,l):null;switch(l){case"paste":return null;case"keypress":if(!(f.ctrlKey||f.altKey||f.metaKey)||f.ctrlKey&&f.altKey){if(f.char&&1<f.char.length)return f.char;if(f.which)return String.fromCharCode(f.which)}return null;case"compositionend":return eu&&f.locale!=="ko"?null:f.data;default:return null}}var tu={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ph(l){var f=l&&l.nodeName&&l.nodeName.toLowerCase();return f==="input"?!!tu[l.type]:f==="textarea"}function nu(l,f,v,M){Bt(M),f=Eh(f,"onChange"),0<f.length&&(v=new bc("onChange","change",null,v,M),l.push({event:v,listeners:f}))}var vs=null,ru=null;function qv(l){su(l,0)}function Do(l){var f=xr(l);if(K(f))return l}function $v(l,f){if(l==="change")return f}var iu=!1;if(s){var Di;if(s){var el="oninput"in document;if(!el){var tl=document.createElement("div");tl.setAttribute("oninput","return;"),el=typeof tl.oninput=="function"}Di=el}else Di=!1;iu=Di&&(!document.documentMode||9<document.documentMode)}function ja(){vs&&(vs.detachEvent("onpropertychange",mh),ru=vs=null)}function mh(l){if(l.propertyName==="value"&&Do(ru)){var f=[];nu(f,ru,l,vt(l)),jn(qv,f)}}function au(l,f,v){l==="focusin"?(ja(),vs=f,ru=v,vs.attachEvent("onpropertychange",mh)):l==="focusout"&&ja()}function Xv(l){if(l==="selectionchange"||l==="keyup"||l==="keydown")return Do(ru)}function Up(l,f){if(l==="click")return Do(f)}function lr(l,f){if(l==="input"||l==="change")return Do(f)}function gh(l,f){return l===f&&(l!==0||1/l===1/f)||l!==l&&f!==f}var ea=typeof Object.is=="function"?Object.is:gh;function nl(l,f){if(ea(l,f))return!0;if(typeof l!="object"||l===null||typeof f!="object"||f===null)return!1;var v=Object.keys(l),M=Object.keys(f);if(v.length!==M.length)return!1;for(M=0;M<v.length;M++){var R=v[M];if(!u.call(f,R)||!ea(l[R],f[R]))return!1}return!0}function wc(l){for(;l&&l.firstChild;)l=l.firstChild;return l}function ta(l,f){var v=wc(l);l=0;for(var M;v;){if(v.nodeType===3){if(M=l+v.textContent.length,l<=f&&M>=f)return{node:v,offset:f-l};l=M}e:{for(;v;){if(v.nextSibling){v=v.nextSibling;break e}v=v.parentNode}v=void 0}v=wc(v)}}function rl(l,f){return l&&f?l===f?!0:l&&l.nodeType===3?!1:f&&f.nodeType===3?rl(l,f.parentNode):"contains"in l?l.contains(f):l.compareDocumentPosition?!!(l.compareDocumentPosition(f)&16):!1:!1}function ur(){for(var l=window,f=je();f instanceof l.HTMLIFrameElement;){try{var v=typeof f.contentWindow.location.href=="string"}catch{v=!1}if(v)l=f.contentWindow;else break;f=je(l.document)}return f}function Br(l){var f=l&&l.nodeName&&l.nodeName.toLowerCase();return f&&(f==="input"&&(l.type==="text"||l.type==="search"||l.type==="tel"||l.type==="url"||l.type==="password")||f==="textarea"||l.contentEditable==="true")}function zr(l){var f=ur(),v=l.focusedElem,M=l.selectionRange;if(f!==v&&v&&v.ownerDocument&&rl(v.ownerDocument.documentElement,v)){if(M!==null&&Br(v)){if(f=M.start,l=M.end,l===void 0&&(l=f),"selectionStart"in v)v.selectionStart=f,v.selectionEnd=Math.min(l,v.value.length);else if(l=(f=v.ownerDocument||document)&&f.defaultView||window,l.getSelection){l=l.getSelection();var R=v.textContent.length,k=Math.min(M.start,R);M=M.end===void 0?k:Math.min(M.end,R),!l.extend&&k>M&&(R=M,M=k,k=R),R=ta(v,k);var W=ta(v,M);R&&W&&(l.rangeCount!==1||l.anchorNode!==R.node||l.anchorOffset!==R.offset||l.focusNode!==W.node||l.focusOffset!==W.offset)&&(f=f.createRange(),f.setStart(R.node,R.offset),l.removeAllRanges(),k>M?(l.addRange(f),l.extend(W.node,W.offset)):(f.setEnd(W.node,W.offset),l.addRange(f)))}}for(f=[],l=v;l=l.parentNode;)l.nodeType===1&&f.push({element:l,left:l.scrollLeft,top:l.scrollTop});for(typeof v.focus=="function"&&v.focus(),v=0;v<f.length;v++)l=f[v],l.element.scrollLeft=l.left,l.element.scrollTop=l.top}}var vh=s&&"documentMode"in document&&11>=document.documentMode,uo=null,il=null,Mc=null,jr=!1;function yh(l,f,v){var M=v.window===v?v.document:v.nodeType===9?v:v.ownerDocument;jr||uo==null||uo!==je(M)||(M=uo,"selectionStart"in M&&Br(M)?M={start:M.selectionStart,end:M.selectionEnd}:(M=(M.ownerDocument&&M.ownerDocument.defaultView||window).getSelection(),M={anchorNode:M.anchorNode,anchorOffset:M.anchorOffset,focusNode:M.focusNode,focusOffset:M.focusOffset}),Mc&&nl(Mc,M)||(Mc=M,M=Eh(il,"onSelect"),0<M.length&&(f=new bc("onSelect","select",null,f,v),l.push({event:f,listeners:M}),f.target=uo)))}function ou(l,f){var v={};return v[l.toLowerCase()]=f.toLowerCase(),v["Webkit"+l]="webkit"+f,v["Moz"+l]="moz"+f,v}var ys={animationend:ou("Animation","AnimationEnd"),animationiteration:ou("Animation","AnimationIteration"),animationstart:ou("Animation","AnimationStart"),transitionend:ou("Transition","TransitionEnd")},Ha={},Va={};s&&(Va=document.createElement("div").style,"AnimationEvent"in window||(delete ys.animationend.animation,delete ys.animationiteration.animation,delete ys.animationstart.animation),"TransitionEvent"in window||delete ys.transitionend.transition);function co(l){if(Ha[l])return Ha[l];if(!ys[l])return l;var f=ys[l],v;for(v in f)if(f.hasOwnProperty(v)&&v in Va)return Ha[l]=f[v];return l}var Ec=co("animationend"),Ac=co("animationiteration"),Fp=co("animationstart"),Bp=co("transitionend"),zp=new Map,jp="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Uo(l,f){zp.set(l,f),a(f,[l])}for(var xh=0;xh<jp.length;xh++){var Tc=jp[xh],Cc=Tc.toLowerCase(),Yv=Tc[0].toUpperCase()+Tc.slice(1);Uo(Cc,"on"+Yv)}Uo(Ec,"onAnimationEnd"),Uo(Ac,"onAnimationIteration"),Uo(Fp,"onAnimationStart"),Uo("dblclick","onDoubleClick"),Uo("focusin","onFocus"),Uo("focusout","onBlur"),Uo(Bp,"onTransitionEnd"),o("onMouseEnter",["mouseout","mouseover"]),o("onMouseLeave",["mouseout","mouseover"]),o("onPointerEnter",["pointerout","pointerover"]),o("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var xs="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),_h=new Set("cancel close invalid load scroll toggle".split(" ").concat(xs));function bh(l,f,v){var M=l.type||"unknown-event";l.currentTarget=v,V(M,f,void 0,l),l.currentTarget=null}function su(l,f){f=(f&4)!==0;for(var v=0;v<l.length;v++){var M=l[v],R=M.event;M=M.listeners;e:{var k=void 0;if(f)for(var W=M.length-1;0<=W;W--){var ue=M[W],ve=ue.instance,Ie=ue.currentTarget;if(ue=ue.listener,ve!==k&&R.isPropagationStopped())break e;bh(R,ue,Ie),k=ve}else for(W=0;W<M.length;W++){if(ue=M[W],ve=ue.instance,Ie=ue.currentTarget,ue=ue.listener,ve!==k&&R.isPropagationStopped())break e;bh(R,ue,Ie),k=ve}}}if(Zr)throw l=tn,Zr=!1,tn=null,l}function Yn(l,f){var v=f[sl];v===void 0&&(v=f[sl]=new Set);var M=l+"__bubble";v.has(M)||(wh(f,l,2,!1),v.add(M))}function Sh(l,f,v){var M=0;f&&(M|=4),wh(v,l,M,f)}var Pc="_reactListening"+Math.random().toString(36).slice(2);function lu(l){if(!l[Pc]){l[Pc]=!0,r.forEach(function(v){v!=="selectionchange"&&(_h.has(v)||Sh(v,!1,l),Sh(v,!0,l))});var f=l.nodeType===9?l:l.ownerDocument;f===null||f[Pc]||(f[Pc]=!0,Sh("selectionchange",!1,f))}}function wh(l,f,v,M){switch(Bv(f)){case 1:var R=rh;break;case 4:R=Tp;break;default:R=ih}v=R.bind(null,f,v,l),R=void 0,!yr||f!=="touchstart"&&f!=="touchmove"&&f!=="wheel"||(R=!0),M?R!==void 0?l.addEventListener(f,v,{capture:!0,passive:R}):l.addEventListener(f,v,!0):R!==void 0?l.addEventListener(f,v,{passive:R}):l.addEventListener(f,v,!1)}function Mh(l,f,v,M,R){var k=M;if((f&1)===0&&(f&2)===0&&M!==null)e:for(;;){if(M===null)return;var W=M.tag;if(W===3||W===4){var ue=M.stateNode.containerInfo;if(ue===R||ue.nodeType===8&&ue.parentNode===R)break;if(W===4)for(W=M.return;W!==null;){var ve=W.tag;if((ve===3||ve===4)&&(ve=W.stateNode.containerInfo,ve===R||ve.nodeType===8&&ve.parentNode===R))return;W=W.return}for(;ue!==null;){if(W=_s(ue),W===null)return;if(ve=W.tag,ve===5||ve===6){M=k=W;continue e}ue=ue.parentNode}}M=M.return}jn(function(){var Ie=k,nt=vt(v),rt=[];e:{var et=zp.get(l);if(et!==void 0){var At=bc,It=l;switch(l){case"keypress":if(Ys(v)===0)break e;case"keydown":case"keyup":At=hh;break;case"focusin":It="focus",At=lh;break;case"focusout":It="blur",At=lh;break;case"beforeblur":case"afterblur":At=lh;break;case"click":if(v.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":At=Pp;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":At=ps;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":At=Lo;break;case Ec:case Ac:case Fp:At=zv;break;case Bp:At=Qs;break;case"scroll":At=Zl;break;case"wheel":At=Np;break;case"copy":case"cut":case"paste":At=Rp;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":At=Qi}var kt=(f&4)!==0,Nr=!kt&&l==="scroll",Ee=kt?et!==null?et+"Capture":null:et;kt=[];for(var ye=Ie,Te;ye!==null;){Te=ye;var lt=Te.stateNode;if(Te.tag===5&&lt!==null&&(Te=lt,Ee!==null&&(lt=fn(ye,Ee),lt!=null&&kt.push(uu(ye,lt,Te)))),Nr)break;ye=ye.return}0<kt.length&&(et=new At(et,It,null,v,nt),rt.push({event:et,listeners:kt}))}}if((f&7)===0){e:{if(et=l==="mouseover"||l==="pointerover",At=l==="mouseout"||l==="pointerout",et&&v!==at&&(It=v.relatedTarget||v.fromElement)&&(_s(It)||It[na]))break e;if((At||et)&&(et=nt.window===nt?nt:(et=nt.ownerDocument)?et.defaultView||et.parentWindow:window,At?(It=v.relatedTarget||v.toElement,At=Ie,It=It?_s(It):null,It!==null&&(Nr=Y(It),It!==Nr||It.tag!==5&&It.tag!==6)&&(It=null)):(At=null,It=Ie),At!==It)){if(kt=Pp,lt="onMouseLeave",Ee="onMouseEnter",ye="mouse",(l==="pointerout"||l==="pointerover")&&(kt=Qi,lt="onPointerLeave",Ee="onPointerEnter",ye="pointer"),Nr=At==null?et:xr(At),Te=It==null?et:xr(It),et=new kt(lt,ye+"leave",At,v,nt),et.target=Nr,et.relatedTarget=Te,lt=null,_s(nt)===Ie&&(kt=new kt(Ee,ye+"enter",It,v,nt),kt.target=Te,kt.relatedTarget=Nr,lt=kt),Nr=lt,At&&It)t:{for(kt=At,Ee=It,ye=0,Te=kt;Te;Te=al(Te))ye++;for(Te=0,lt=Ee;lt;lt=al(lt))Te++;for(;0<ye-Te;)kt=al(kt),ye--;for(;0<Te-ye;)Ee=al(Ee),Te--;for(;ye--;){if(kt===Ee||Ee!==null&&kt===Ee.alternate)break t;kt=al(kt),Ee=al(Ee)}kt=null}else kt=null;At!==null&&Kv(rt,et,At,kt,!1),It!==null&&Nr!==null&&Kv(rt,Nr,It,kt,!0)}}e:{if(et=Ie?xr(Ie):window,At=et.nodeName&&et.nodeName.toLowerCase(),At==="select"||At==="input"&&et.type==="file")var Ut=$v;else if(ph(et))if(iu)Ut=lr;else{Ut=Xv;var Wt=au}else(At=et.nodeName)&&At.toLowerCase()==="input"&&(et.type==="checkbox"||et.type==="radio")&&(Ut=Up);if(Ut&&(Ut=Ut(l,Ie))){nu(rt,Ut,v,nt);break e}Wt&&Wt(l,et,Ie),l==="focusout"&&(Wt=et._wrapperState)&&Wt.controlled&&et.type==="number"&&J(et,"number",et.value)}switch(Wt=Ie?xr(Ie):window,l){case"focusin":(ph(Wt)||Wt.contentEditable==="true")&&(uo=Wt,il=Ie,Mc=null);break;case"focusout":Mc=il=uo=null;break;case"mousedown":jr=!0;break;case"contextmenu":case"mouseup":case"dragend":jr=!1,yh(rt,v,nt);break;case"selectionchange":if(vh)break;case"keydown":case"keyup":yh(rt,v,nt)}var qt;if(xi)e:{switch(l){case"compositionstart":var Qt="onCompositionStart";break e;case"compositionend":Qt="onCompositionEnd";break e;case"compositionupdate":Qt="onCompositionUpdate";break e}Qt=void 0}else gs?Dp(l,v)&&(Qt="onCompositionEnd"):l==="keydown"&&v.keyCode===229&&(Qt="onCompositionStart");Qt&&(eu&&v.locale!=="ko"&&(gs||Qt!=="onCompositionStart"?Qt==="onCompositionEnd"&&gs&&(qt=_c()):(za=nt,Cp="value"in za?za.value:za.textContent,gs=!0)),Wt=Eh(Ie,Qt),0<Wt.length&&(Qt=new Op(Qt,l,null,v,nt),rt.push({event:Qt,listeners:Wt}),qt?Qt.data=qt:(qt=dh(v),qt!==null&&(Qt.data=qt)))),(qt=rr?Wv(l,v):Sc(l,v))&&(Ie=Eh(Ie,"onBeforeInput"),0<Ie.length&&(nt=new Op("onBeforeInput","beforeinput",null,v,nt),rt.push({event:nt,listeners:Ie}),nt.data=qt))}su(rt,f)})}function uu(l,f,v){return{instance:l,listener:f,currentTarget:v}}function Eh(l,f){for(var v=f+"Capture",M=[];l!==null;){var R=l,k=R.stateNode;R.tag===5&&k!==null&&(R=k,k=fn(l,v),k!=null&&M.unshift(uu(l,k,R)),k=fn(l,f),k!=null&&M.push(uu(l,k,R))),l=l.return}return M}function al(l){if(l===null)return null;do l=l.return;while(l&&l.tag!==5);return l||null}function Kv(l,f,v,M,R){for(var k=f._reactName,W=[];v!==null&&v!==M;){var ue=v,ve=ue.alternate,Ie=ue.stateNode;if(ve!==null&&ve===M)break;ue.tag===5&&Ie!==null&&(ue=Ie,R?(ve=fn(v,k),ve!=null&&W.unshift(uu(v,ve,ue))):R||(ve=fn(v,k),ve!=null&&W.push(uu(v,ve,ue)))),v=v.return}W.length!==0&&l.push({event:f,listeners:W})}var ub=/\r\n?/g,Zv=/\u0000|\uFFFD/g;function Hp(l){return(typeof l=="string"?l:""+l).replace(ub,`
`).replace(Zv,"")}function Rc(l,f,v){if(f=Hp(f),Hp(l)!==f&&v)throw Error(t(425))}function Oc(){}var cu=null,Vp=null;function Gp(l,f){return l==="textarea"||l==="noscript"||typeof f.children=="string"||typeof f.children=="number"||typeof f.dangerouslySetInnerHTML=="object"&&f.dangerouslySetInnerHTML!==null&&f.dangerouslySetInnerHTML.__html!=null}var Wp=typeof setTimeout=="function"?setTimeout:void 0,qp=typeof clearTimeout=="function"?clearTimeout:void 0,Ah=typeof Promise=="function"?Promise:void 0,cb=typeof queueMicrotask=="function"?queueMicrotask:typeof Ah<"u"?function(l){return Ah.resolve(null).then(l).catch(Jv)}:Wp;function Jv(l){setTimeout(function(){throw l})}function Th(l,f){var v=f,M=0;do{var R=v.nextSibling;if(l.removeChild(v),R&&R.nodeType===8)if(v=R.data,v==="/$"){if(M===0){l.removeChild(R),xc(f);return}M--}else v!=="$"&&v!=="$?"&&v!=="$!"||M++;v=R}while(v);xc(f)}function Fo(l){for(;l!=null;l=l.nextSibling){var f=l.nodeType;if(f===1||f===3)break;if(f===8){if(f=l.data,f==="$"||f==="$!"||f==="$?")break;if(f==="/$")return null}}return l}function $p(l){l=l.previousSibling;for(var f=0;l;){if(l.nodeType===8){var v=l.data;if(v==="$"||v==="$!"||v==="$?"){if(f===0)return l;f--}else v==="/$"&&f++}l=l.previousSibling}return null}var ol=Math.random().toString(36).slice(2),Or="__reactFiber$"+ol,fu="__reactProps$"+ol,na="__reactContainer$"+ol,sl="__reactEvents$"+ol,Ch="__reactListeners$"+ol,Ph="__reactHandles$"+ol;function _s(l){var f=l[Or];if(f)return f;for(var v=l.parentNode;v;){if(f=v[na]||v[Or]){if(v=f.alternate,f.child!==null||v!==null&&v.child!==null)for(l=$p(l);l!==null;){if(v=l[Or])return v;l=$p(l)}return f}l=v,v=l.parentNode}return null}function Bo(l){return l=l[Or]||l[na],!l||l.tag!==5&&l.tag!==6&&l.tag!==13&&l.tag!==3?null:l}function xr(l){if(l.tag===5||l.tag===6)return l.stateNode;throw Error(t(33))}function Rh(l){return l[fu]||null}var Xp=[],Hr=-1;function mr(l){return{current:l}}function Kn(l){0>Hr||(l.current=Xp[Hr],Xp[Hr]=null,Hr--)}function Gn(l,f){Hr++,Xp[Hr]=l.current,l.current=f}var zo={},Qr=mr(zo),_i=mr(!1),jo=zo;function ll(l,f){var v=l.type.contextTypes;if(!v)return zo;var M=l.stateNode;if(M&&M.__reactInternalMemoizedUnmaskedChildContext===f)return M.__reactInternalMemoizedMaskedChildContext;var R={},k;for(k in v)R[k]=f[k];return M&&(l=l.stateNode,l.__reactInternalMemoizedUnmaskedChildContext=f,l.__reactInternalMemoizedMaskedChildContext=R),R}function li(l){return l=l.childContextTypes,l!=null}function Ic(){Kn(_i),Kn(Qr)}function Yp(l,f,v){if(Qr.current!==zo)throw Error(t(168));Gn(Qr,f),Gn(_i,v)}function Nc(l,f,v){var M=l.stateNode;if(f=f.childContextTypes,typeof M.getChildContext!="function")return v;M=M.getChildContext();for(var R in M)if(!(R in f))throw Error(t(108,He(l)||"Unknown",R));return z({},v,M)}function ul(l){return l=(l=l.stateNode)&&l.__reactInternalMemoizedMergedChildContext||zo,jo=Qr.current,Gn(Qr,l),Gn(_i,_i.current),!0}function Kp(l,f,v){var M=l.stateNode;if(!M)throw Error(t(169));v?(l=Nc(l,f,jo),M.__reactInternalMemoizedMergedChildContext=l,Kn(_i),Kn(Qr),Gn(Qr,l)):Kn(_i),Gn(_i,v)}var Ga=null,Lc=!1,Oh=!1;function kc(l){Ga===null?Ga=[l]:Ga.push(l)}function Qv(l){Lc=!0,kc(l)}function fo(){if(!Oh&&Ga!==null){Oh=!0;var l=0,f=En;try{var v=Ga;for(En=1;l<v.length;l++){var M=v[l];do M=M(!0);while(M!==null)}Ga=null,Lc=!1}catch(R){throw Ga!==null&&(Ga=Ga.slice(l+1)),fe(Ze,fo),R}finally{En=f,Oh=!1}}return null}var cl=[],Ui=0,Ih=null,Nh=0,bi=[],Vr=0,fl=null,ut=1,wa="";function Ho(l,f){cl[Ui++]=Nh,cl[Ui++]=Ih,Ih=l,Nh=f}function Zp(l,f,v){bi[Vr++]=ut,bi[Vr++]=wa,bi[Vr++]=fl,fl=l;var M=ut;l=wa;var R=32-Xt(M)-1;M&=~(1<<R),v+=1;var k=32-Xt(f)+R;if(30<k){var W=R-R%5;k=(M&(1<<W)-1).toString(32),M>>=W,R-=W,ut=1<<32-Xt(f)+R|v<<R|M,wa=k+l}else ut=1<<k|v<<R|M,wa=l}function Jp(l){l.return!==null&&(Ho(l,1),Zp(l,1,0))}function Vo(l){for(;l===Ih;)Ih=cl[--Ui],cl[Ui]=null,Nh=cl[--Ui],cl[Ui]=null;for(;l===fl;)fl=bi[--Vr],bi[Vr]=null,wa=bi[--Vr],bi[Vr]=null,ut=bi[--Vr],bi[Vr]=null}var ei=null,Si=null,er=!1,Ma=null;function Qp(l,f){var v=yo(5,null,null,0);v.elementType="DELETED",v.stateNode=f,v.return=l,f=l.deletions,f===null?(l.deletions=[v],l.flags|=16):f.push(v)}function em(l,f){switch(l.tag){case 5:var v=l.type;return f=f.nodeType!==1||v.toLowerCase()!==f.nodeName.toLowerCase()?null:f,f!==null?(l.stateNode=f,ei=l,Si=Fo(f.firstChild),!0):!1;case 6:return f=l.pendingProps===""||f.nodeType!==3?null:f,f!==null?(l.stateNode=f,ei=l,Si=null,!0):!1;case 13:return f=f.nodeType!==8?null:f,f!==null?(v=fl!==null?{id:ut,overflow:wa}:null,l.memoizedState={dehydrated:f,treeContext:v,retryLane:1073741824},v=yo(18,null,null,0),v.stateNode=f,v.return=l,l.child=v,ei=l,Si=null,!0):!1;default:return!1}}function Lh(l){return(l.mode&1)!==0&&(l.flags&128)===0}function kh(l){if(er){var f=Si;if(f){var v=f;if(!em(l,f)){if(Lh(l))throw Error(t(418));f=Fo(v.nextSibling);var M=ei;f&&em(l,f)?Qp(M,v):(l.flags=l.flags&-4097|2,er=!1,ei=l)}}else{if(Lh(l))throw Error(t(418));l.flags=l.flags&-4097|2,er=!1,ei=l}}}function Dh(l){for(l=l.return;l!==null&&l.tag!==5&&l.tag!==3&&l.tag!==13;)l=l.return;ei=l}function hu(l){if(l!==ei)return!1;if(!er)return Dh(l),er=!0,!1;var f;if((f=l.tag!==3)&&!(f=l.tag!==5)&&(f=l.type,f=f!=="head"&&f!=="body"&&!Gp(l.type,l.memoizedProps)),f&&(f=Si)){if(Lh(l))throw tm(),Error(t(418));for(;f;)Qp(l,f),f=Fo(f.nextSibling)}if(Dh(l),l.tag===13){if(l=l.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(t(317));e:{for(l=l.nextSibling,f=0;l;){if(l.nodeType===8){var v=l.data;if(v==="/$"){if(f===0){Si=Fo(l.nextSibling);break e}f--}else v!=="$"&&v!=="$!"&&v!=="$?"||f++}l=l.nextSibling}Si=null}}else Si=ei?Fo(l.stateNode.nextSibling):null;return!0}function tm(){for(var l=Si;l;)l=Fo(l.nextSibling)}function bs(){Si=ei=null,er=!1}function du(l){Ma===null?Ma=[l]:Ma.push(l)}var fb=T.ReactCurrentBatchConfig;function Wa(l,f){if(l&&l.defaultProps){f=z({},f),l=l.defaultProps;for(var v in l)f[v]===void 0&&(f[v]=l[v]);return f}return f}var Dc=mr(null),Uc=null,hl=null,Uh=null;function pu(){Uh=hl=Uc=null}function mu(l){var f=Dc.current;Kn(Dc),l._currentValue=f}function gu(l,f,v){for(;l!==null;){var M=l.alternate;if((l.childLanes&f)!==f?(l.childLanes|=f,M!==null&&(M.childLanes|=f)):M!==null&&(M.childLanes&f)!==f&&(M.childLanes|=f),l===v)break;l=l.return}}function Go(l,f){Uc=l,Uh=hl=null,l=l.dependencies,l!==null&&l.firstContext!==null&&((l.lanes&f)!==0&&(St=!0),l.firstContext=null)}function wi(l){var f=l._currentValue;if(Uh!==l)if(l={context:l,memoizedValue:f,next:null},hl===null){if(Uc===null)throw Error(t(308));hl=l,Uc.dependencies={lanes:0,firstContext:l}}else hl=hl.next=l;return f}var qa=null;function Fc(l){qa===null?qa=[l]:qa.push(l)}function Fh(l,f,v,M){var R=f.interleaved;return R===null?(v.next=v,Fc(f)):(v.next=R.next,R.next=v),f.interleaved=v,$a(l,M)}function $a(l,f){l.lanes|=f;var v=l.alternate;for(v!==null&&(v.lanes|=f),v=l,l=l.return;l!==null;)l.childLanes|=f,v=l.alternate,v!==null&&(v.childLanes|=f),v=l,l=l.return;return v.tag===3?v.stateNode:null}var Wo=!1;function Bc(l){l.updateQueue={baseState:l.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function e0(l,f){l=l.updateQueue,f.updateQueue===l&&(f.updateQueue={baseState:l.baseState,firstBaseUpdate:l.firstBaseUpdate,lastBaseUpdate:l.lastBaseUpdate,shared:l.shared,effects:l.effects})}function Ea(l,f){return{eventTime:l,lane:f,tag:0,payload:null,callback:null,next:null}}function ho(l,f,v){var M=l.updateQueue;if(M===null)return null;if(M=M.shared,(Cn&2)!==0){var R=M.pending;return R===null?f.next=f:(f.next=R.next,R.next=f),M.pending=f,$a(l,v)}return R=M.interleaved,R===null?(f.next=f,Fc(M)):(f.next=R.next,R.next=f),M.interleaved=f,$a(l,v)}function ir(l,f,v){if(f=f.updateQueue,f!==null&&(f=f.shared,(v&4194240)!==0)){var M=f.lanes;M&=l.pendingLanes,v|=M,f.lanes=v,Xl(l,v)}}function cn(l,f){var v=l.updateQueue,M=l.alternate;if(M!==null&&(M=M.updateQueue,v===M)){var R=null,k=null;if(v=v.firstBaseUpdate,v!==null){do{var W={eventTime:v.eventTime,lane:v.lane,tag:v.tag,payload:v.payload,callback:v.callback,next:null};k===null?R=k=W:k=k.next=W,v=v.next}while(v!==null);k===null?R=k=f:k=k.next=f}else R=k=f;v={baseState:M.baseState,firstBaseUpdate:R,lastBaseUpdate:k,shared:M.shared,effects:M.effects},l.updateQueue=v;return}l=v.lastBaseUpdate,l===null?v.firstBaseUpdate=f:l.next=f,v.lastBaseUpdate=f}function cr(l,f,v,M){var R=l.updateQueue;Wo=!1;var k=R.firstBaseUpdate,W=R.lastBaseUpdate,ue=R.shared.pending;if(ue!==null){R.shared.pending=null;var ve=ue,Ie=ve.next;ve.next=null,W===null?k=Ie:W.next=Ie,W=ve;var nt=l.alternate;nt!==null&&(nt=nt.updateQueue,ue=nt.lastBaseUpdate,ue!==W&&(ue===null?nt.firstBaseUpdate=Ie:ue.next=Ie,nt.lastBaseUpdate=ve))}if(k!==null){var rt=R.baseState;W=0,nt=Ie=ve=null,ue=k;do{var et=ue.lane,At=ue.eventTime;if((M&et)===et){nt!==null&&(nt=nt.next={eventTime:At,lane:0,tag:ue.tag,payload:ue.payload,callback:ue.callback,next:null});e:{var It=l,kt=ue;switch(et=f,At=v,kt.tag){case 1:if(It=kt.payload,typeof It=="function"){rt=It.call(At,rt,et);break e}rt=It;break e;case 3:It.flags=It.flags&-65537|128;case 0:if(It=kt.payload,et=typeof It=="function"?It.call(At,rt,et):It,et==null)break e;rt=z({},rt,et);break e;case 2:Wo=!0}}ue.callback!==null&&ue.lane!==0&&(l.flags|=64,et=R.effects,et===null?R.effects=[ue]:et.push(ue))}else At={eventTime:At,lane:et,tag:ue.tag,payload:ue.payload,callback:ue.callback,next:null},nt===null?(Ie=nt=At,ve=rt):nt=nt.next=At,W|=et;if(ue=ue.next,ue===null){if(ue=R.shared.pending,ue===null)break;et=ue,ue=et.next,et.next=null,R.lastBaseUpdate=et,R.shared.pending=null}}while(!0);if(nt===null&&(ve=rt),R.baseState=ve,R.firstBaseUpdate=Ie,R.lastBaseUpdate=nt,f=R.shared.interleaved,f!==null){R=f;do W|=R.lane,R=R.next;while(R!==f)}else k===null&&(R.shared.lanes=0);qc|=W,l.lanes=W,l.memoizedState=rt}}function _r(l,f,v){if(l=f.effects,f.effects=null,l!==null)for(f=0;f<l.length;f++){var M=l[f],R=M.callback;if(R!==null){if(M.callback=null,M=v,typeof R!="function")throw Error(t(191,R));R.call(M)}}}var Gr=new n.Component().refs;function Mi(l,f,v,M){f=l.memoizedState,v=v(M,f),v=v==null?f:z({},f,v),l.memoizedState=v,l.lanes===0&&(l.updateQueue.baseState=v)}var qo={isMounted:function(l){return(l=l._reactInternals)?Y(l)===l:!1},enqueueSetState:function(l,f,v){l=l._reactInternals;var M=oa(),R=Tu(l),k=Ea(M,R);k.payload=f,v!=null&&(k.callback=v),f=ho(l,k,R),f!==null&&(Ko(f,l,R,M),ir(f,l,R))},enqueueReplaceState:function(l,f,v){l=l._reactInternals;var M=oa(),R=Tu(l),k=Ea(M,R);k.tag=1,k.payload=f,v!=null&&(k.callback=v),f=ho(l,k,R),f!==null&&(Ko(f,l,R,M),ir(f,l,R))},enqueueForceUpdate:function(l,f){l=l._reactInternals;var v=oa(),M=Tu(l),R=Ea(v,M);R.tag=2,f!=null&&(R.callback=f),f=ho(l,R,M),f!==null&&(Ko(f,l,M,v),ir(f,l,M))}};function Er(l,f,v,M,R,k,W){return l=l.stateNode,typeof l.shouldComponentUpdate=="function"?l.shouldComponentUpdate(M,k,W):f.prototype&&f.prototype.isPureReactComponent?!nl(v,M)||!nl(R,k):!0}function vu(l,f,v){var M=!1,R=zo,k=f.contextType;return typeof k=="object"&&k!==null?k=wi(k):(R=li(f)?jo:Qr.current,M=f.contextTypes,k=(M=M!=null)?ll(l,R):zo),f=new f(v,k),l.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=qo,l.stateNode=f,f._reactInternals=l,M&&(l=l.stateNode,l.__reactInternalMemoizedUnmaskedChildContext=R,l.__reactInternalMemoizedMaskedChildContext=k),f}function dl(l,f,v,M){l=f.state,typeof f.componentWillReceiveProps=="function"&&f.componentWillReceiveProps(v,M),typeof f.UNSAFE_componentWillReceiveProps=="function"&&f.UNSAFE_componentWillReceiveProps(v,M),f.state!==l&&qo.enqueueReplaceState(f,f.state,null)}function yu(l,f,v,M){var R=l.stateNode;R.props=v,R.state=l.memoizedState,R.refs=Gr,Bc(l);var k=f.contextType;typeof k=="object"&&k!==null?R.context=wi(k):(k=li(f)?jo:Qr.current,R.context=ll(l,k)),R.state=l.memoizedState,k=f.getDerivedStateFromProps,typeof k=="function"&&(Mi(l,f,k,v),R.state=l.memoizedState),typeof f.getDerivedStateFromProps=="function"||typeof R.getSnapshotBeforeUpdate=="function"||typeof R.UNSAFE_componentWillMount!="function"&&typeof R.componentWillMount!="function"||(f=R.state,typeof R.componentWillMount=="function"&&R.componentWillMount(),typeof R.UNSAFE_componentWillMount=="function"&&R.UNSAFE_componentWillMount(),f!==R.state&&qo.enqueueReplaceState(R,R.state,null),cr(l,v,R,M),R.state=l.memoizedState),typeof R.componentDidMount=="function"&&(l.flags|=4194308)}function pl(l,f,v){if(l=v.ref,l!==null&&typeof l!="function"&&typeof l!="object"){if(v._owner){if(v=v._owner,v){if(v.tag!==1)throw Error(t(309));var M=v.stateNode}if(!M)throw Error(t(147,l));var R=M,k=""+l;return f!==null&&f.ref!==null&&typeof f.ref=="function"&&f.ref._stringRef===k?f.ref:(f=function(W){var ue=R.refs;ue===Gr&&(ue=R.refs={}),W===null?delete ue[k]:ue[k]=W},f._stringRef=k,f)}if(typeof l!="string")throw Error(t(284));if(!v._owner)throw Error(t(290,l))}return l}function Ss(l,f){throw l=Object.prototype.toString.call(f),Error(t(31,l==="[object Object]"?"object with keys {"+Object.keys(f).join(", ")+"}":l))}function Ei(l){var f=l._init;return f(l._payload)}function Bh(l){function f(Ee,ye){if(l){var Te=Ee.deletions;Te===null?(Ee.deletions=[ye],Ee.flags|=16):Te.push(ye)}}function v(Ee,ye){if(!l)return null;for(;ye!==null;)f(Ee,ye),ye=ye.sibling;return null}function M(Ee,ye){for(Ee=new Map;ye!==null;)ye.key!==null?Ee.set(ye.key,ye):Ee.set(ye.index,ye),ye=ye.sibling;return Ee}function R(Ee,ye){return Ee=Pu(Ee,ye),Ee.index=0,Ee.sibling=null,Ee}function k(Ee,ye,Te){return Ee.index=Te,l?(Te=Ee.alternate,Te!==null?(Te=Te.index,Te<ye?(Ee.flags|=2,ye):Te):(Ee.flags|=2,ye)):(Ee.flags|=1048576,ye)}function W(Ee){return l&&Ee.alternate===null&&(Ee.flags|=2),Ee}function ue(Ee,ye,Te,lt){return ye===null||ye.tag!==6?(ye=Rb(Te,Ee.mode,lt),ye.return=Ee,ye):(ye=R(ye,Te),ye.return=Ee,ye)}function ve(Ee,ye,Te,lt){var Ut=Te.type;return Ut===N?nt(Ee,ye,Te.props.children,lt,Te.key):ye!==null&&(ye.elementType===Ut||typeof Ut=="object"&&Ut!==null&&Ut.$$typeof===Z&&Ei(Ut)===ye.type)?(lt=R(ye,Te.props),lt.ref=pl(Ee,ye,Te),lt.return=Ee,lt):(lt=M0(Te.type,Te.key,Te.props,null,Ee.mode,lt),lt.ref=pl(Ee,ye,Te),lt.return=Ee,lt)}function Ie(Ee,ye,Te,lt){return ye===null||ye.tag!==4||ye.stateNode.containerInfo!==Te.containerInfo||ye.stateNode.implementation!==Te.implementation?(ye=Ob(Te,Ee.mode,lt),ye.return=Ee,ye):(ye=R(ye,Te.children||[]),ye.return=Ee,ye)}function nt(Ee,ye,Te,lt,Ut){return ye===null||ye.tag!==7?(ye=Kc(Te,Ee.mode,lt,Ut),ye.return=Ee,ye):(ye=R(ye,Te),ye.return=Ee,ye)}function rt(Ee,ye,Te){if(typeof ye=="string"&&ye!==""||typeof ye=="number")return ye=Rb(""+ye,Ee.mode,Te),ye.return=Ee,ye;if(typeof ye=="object"&&ye!==null){switch(ye.$$typeof){case P:return Te=M0(ye.type,ye.key,ye.props,null,Ee.mode,Te),Te.ref=pl(Ee,null,ye),Te.return=Ee,Te;case O:return ye=Ob(ye,Ee.mode,Te),ye.return=Ee,ye;case Z:var lt=ye._init;return rt(Ee,lt(ye._payload),Te)}if($(ye)||ae(ye))return ye=Kc(ye,Ee.mode,Te,null),ye.return=Ee,ye;Ss(Ee,ye)}return null}function et(Ee,ye,Te,lt){var Ut=ye!==null?ye.key:null;if(typeof Te=="string"&&Te!==""||typeof Te=="number")return Ut!==null?null:ue(Ee,ye,""+Te,lt);if(typeof Te=="object"&&Te!==null){switch(Te.$$typeof){case P:return Te.key===Ut?ve(Ee,ye,Te,lt):null;case O:return Te.key===Ut?Ie(Ee,ye,Te,lt):null;case Z:return Ut=Te._init,et(Ee,ye,Ut(Te._payload),lt)}if($(Te)||ae(Te))return Ut!==null?null:nt(Ee,ye,Te,lt,null);Ss(Ee,Te)}return null}function At(Ee,ye,Te,lt,Ut){if(typeof lt=="string"&&lt!==""||typeof lt=="number")return Ee=Ee.get(Te)||null,ue(ye,Ee,""+lt,Ut);if(typeof lt=="object"&&lt!==null){switch(lt.$$typeof){case P:return Ee=Ee.get(lt.key===null?Te:lt.key)||null,ve(ye,Ee,lt,Ut);case O:return Ee=Ee.get(lt.key===null?Te:lt.key)||null,Ie(ye,Ee,lt,Ut);case Z:var Wt=lt._init;return At(Ee,ye,Te,Wt(lt._payload),Ut)}if($(lt)||ae(lt))return Ee=Ee.get(Te)||null,nt(ye,Ee,lt,Ut,null);Ss(ye,lt)}return null}function It(Ee,ye,Te,lt){for(var Ut=null,Wt=null,qt=ye,Qt=ye=0,fi=null;qt!==null&&Qt<Te.length;Qt++){qt.index>Qt?(fi=qt,qt=null):fi=qt.sibling;var In=et(Ee,qt,Te[Qt],lt);if(In===null){qt===null&&(qt=fi);break}l&&qt&&In.alternate===null&&f(Ee,qt),ye=k(In,ye,Qt),Wt===null?Ut=In:Wt.sibling=In,Wt=In,qt=fi}if(Qt===Te.length)return v(Ee,qt),er&&Ho(Ee,Qt),Ut;if(qt===null){for(;Qt<Te.length;Qt++)qt=rt(Ee,Te[Qt],lt),qt!==null&&(ye=k(qt,ye,Qt),Wt===null?Ut=qt:Wt.sibling=qt,Wt=qt);return er&&Ho(Ee,Qt),Ut}for(qt=M(Ee,qt);Qt<Te.length;Qt++)fi=At(qt,Ee,Qt,Te[Qt],lt),fi!==null&&(l&&fi.alternate!==null&&qt.delete(fi.key===null?Qt:fi.key),ye=k(fi,ye,Qt),Wt===null?Ut=fi:Wt.sibling=fi,Wt=fi);return l&&qt.forEach(function(Ru){return f(Ee,Ru)}),er&&Ho(Ee,Qt),Ut}function kt(Ee,ye,Te,lt){var Ut=ae(Te);if(typeof Ut!="function")throw Error(t(150));if(Te=Ut.call(Te),Te==null)throw Error(t(151));for(var Wt=Ut=null,qt=ye,Qt=ye=0,fi=null,In=Te.next();qt!==null&&!In.done;Qt++,In=Te.next()){qt.index>Qt?(fi=qt,qt=null):fi=qt.sibling;var Ru=et(Ee,qt,In.value,lt);if(Ru===null){qt===null&&(qt=fi);break}l&&qt&&Ru.alternate===null&&f(Ee,qt),ye=k(Ru,ye,Qt),Wt===null?Ut=Ru:Wt.sibling=Ru,Wt=Ru,qt=fi}if(In.done)return v(Ee,qt),er&&Ho(Ee,Qt),Ut;if(qt===null){for(;!In.done;Qt++,In=Te.next())In=rt(Ee,In.value,lt),In!==null&&(ye=k(In,ye,Qt),Wt===null?Ut=In:Wt.sibling=In,Wt=In);return er&&Ho(Ee,Qt),Ut}for(qt=M(Ee,qt);!In.done;Qt++,In=Te.next())In=At(qt,Ee,Qt,In.value,lt),In!==null&&(l&&In.alternate!==null&&qt.delete(In.key===null?Qt:In.key),ye=k(In,ye,Qt),Wt===null?Ut=In:Wt.sibling=In,Wt=In);return l&&qt.forEach(function(lH){return f(Ee,lH)}),er&&Ho(Ee,Qt),Ut}function Nr(Ee,ye,Te,lt){if(typeof Te=="object"&&Te!==null&&Te.type===N&&Te.key===null&&(Te=Te.props.children),typeof Te=="object"&&Te!==null){switch(Te.$$typeof){case P:e:{for(var Ut=Te.key,Wt=ye;Wt!==null;){if(Wt.key===Ut){if(Ut=Te.type,Ut===N){if(Wt.tag===7){v(Ee,Wt.sibling),ye=R(Wt,Te.props.children),ye.return=Ee,Ee=ye;break e}}else if(Wt.elementType===Ut||typeof Ut=="object"&&Ut!==null&&Ut.$$typeof===Z&&Ei(Ut)===Wt.type){v(Ee,Wt.sibling),ye=R(Wt,Te.props),ye.ref=pl(Ee,Wt,Te),ye.return=Ee,Ee=ye;break e}v(Ee,Wt);break}else f(Ee,Wt);Wt=Wt.sibling}Te.type===N?(ye=Kc(Te.props.children,Ee.mode,lt,Te.key),ye.return=Ee,Ee=ye):(lt=M0(Te.type,Te.key,Te.props,null,Ee.mode,lt),lt.ref=pl(Ee,ye,Te),lt.return=Ee,Ee=lt)}return W(Ee);case O:e:{for(Wt=Te.key;ye!==null;){if(ye.key===Wt)if(ye.tag===4&&ye.stateNode.containerInfo===Te.containerInfo&&ye.stateNode.implementation===Te.implementation){v(Ee,ye.sibling),ye=R(ye,Te.children||[]),ye.return=Ee,Ee=ye;break e}else{v(Ee,ye);break}else f(Ee,ye);ye=ye.sibling}ye=Ob(Te,Ee.mode,lt),ye.return=Ee,Ee=ye}return W(Ee);case Z:return Wt=Te._init,Nr(Ee,ye,Wt(Te._payload),lt)}if($(Te))return It(Ee,ye,Te,lt);if(ae(Te))return kt(Ee,ye,Te,lt);Ss(Ee,Te)}return typeof Te=="string"&&Te!==""||typeof Te=="number"?(Te=""+Te,ye!==null&&ye.tag===6?(v(Ee,ye.sibling),ye=R(ye,Te),ye.return=Ee,Ee=ye):(v(Ee,ye),ye=Rb(Te,Ee.mode,lt),ye.return=Ee,Ee=ye),W(Ee)):v(Ee,ye)}return Nr}var ws=Bh(!0),ml=Bh(!1),Ms={},Aa=mr(Ms),Ta=mr(Ms),Es=mr(Ms);function Fi(l){if(l===Ms)throw Error(t(174));return l}function xu(l,f){switch(Gn(Es,f),Gn(Ta,l),Gn(Aa,Ms),l=f.nodeType,l){case 9:case 11:f=(f=f.documentElement)?f.namespaceURI:yt(null,"");break;default:l=l===8?f.parentNode:f,f=l.namespaceURI||null,l=l.tagName,f=yt(f,l)}Kn(Aa),Gn(Aa,f)}function po(){Kn(Aa),Kn(Ta),Kn(Es)}function zh(l){Fi(Es.current);var f=Fi(Aa.current),v=yt(f,l.type);f!==v&&(Gn(Ta,l),Gn(Aa,v))}function _u(l){Ta.current===l&&(Kn(Aa),Kn(Ta))}var Zn=mr(0);function Wr(l){for(var f=l;f!==null;){if(f.tag===13){var v=f.memoizedState;if(v!==null&&(v=v.dehydrated,v===null||v.data==="$?"||v.data==="$!"))return f}else if(f.tag===19&&f.memoizedProps.revealOrder!==void 0){if((f.flags&128)!==0)return f}else if(f.child!==null){f.child.return=f,f=f.child;continue}if(f===l)break;for(;f.sibling===null;){if(f.return===null||f.return===l)return null;f=f.return}f.sibling.return=f.return,f=f.sibling}return null}var mo=[];function Bi(){for(var l=0;l<mo.length;l++)mo[l]._workInProgressVersionPrimary=null;mo.length=0}var gl=T.ReactCurrentDispatcher,ui=T.ReactCurrentBatchConfig,As=0,tr=null,br=null,qr=null,Xa=!1,bu=!1,Su=0,nm=0;function gr(){throw Error(t(321))}function jh(l,f){if(f===null)return!1;for(var v=0;v<f.length&&v<l.length;v++)if(!ea(l[v],f[v]))return!1;return!0}function Hh(l,f,v,M,R,k){if(As=k,tr=f,f.memoizedState=null,f.updateQueue=null,f.lanes=0,gl.current=l===null||l.memoizedState===null?m:w,l=v(M,R),bu){k=0;do{if(bu=!1,Su=0,25<=k)throw Error(t(301));k+=1,qr=br=null,f.updateQueue=null,gl.current=C,l=v(M,R)}while(bu)}if(gl.current=p,f=br!==null&&br.next!==null,As=0,qr=br=tr=null,Xa=!1,f)throw Error(t(300));return l}function zc(){var l=Su!==0;return Su=0,l}function ra(){var l={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return qr===null?tr.memoizedState=qr=l:qr=qr.next=l,qr}function Ca(){if(br===null){var l=tr.alternate;l=l!==null?l.memoizedState:null}else l=br.next;var f=qr===null?tr.memoizedState:qr.next;if(f!==null)qr=f,br=l;else{if(l===null)throw Error(t(310));br=l,l={memoizedState:br.memoizedState,baseState:br.baseState,baseQueue:br.baseQueue,queue:br.queue,next:null},qr===null?tr.memoizedState=qr=l:qr=qr.next=l}return qr}function jc(l,f){return typeof f=="function"?f(l):f}function Vh(l){var f=Ca(),v=f.queue;if(v===null)throw Error(t(311));v.lastRenderedReducer=l;var M=br,R=M.baseQueue,k=v.pending;if(k!==null){if(R!==null){var W=R.next;R.next=k.next,k.next=W}M.baseQueue=R=k,v.pending=null}if(R!==null){k=R.next,M=M.baseState;var ue=W=null,ve=null,Ie=k;do{var nt=Ie.lane;if((As&nt)===nt)ve!==null&&(ve=ve.next={lane:0,action:Ie.action,hasEagerState:Ie.hasEagerState,eagerState:Ie.eagerState,next:null}),M=Ie.hasEagerState?Ie.eagerState:l(M,Ie.action);else{var rt={lane:nt,action:Ie.action,hasEagerState:Ie.hasEagerState,eagerState:Ie.eagerState,next:null};ve===null?(ue=ve=rt,W=M):ve=ve.next=rt,tr.lanes|=nt,qc|=nt}Ie=Ie.next}while(Ie!==null&&Ie!==k);ve===null?W=M:ve.next=ue,ea(M,f.memoizedState)||(St=!0),f.memoizedState=M,f.baseState=W,f.baseQueue=ve,v.lastRenderedState=M}if(l=v.interleaved,l!==null){R=l;do k=R.lane,tr.lanes|=k,qc|=k,R=R.next;while(R!==l)}else R===null&&(v.lanes=0);return[f.memoizedState,v.dispatch]}function Gh(l){var f=Ca(),v=f.queue;if(v===null)throw Error(t(311));v.lastRenderedReducer=l;var M=v.dispatch,R=v.pending,k=f.memoizedState;if(R!==null){v.pending=null;var W=R=R.next;do k=l(k,W.action),W=W.next;while(W!==R);ea(k,f.memoizedState)||(St=!0),f.memoizedState=k,f.baseQueue===null&&(f.baseState=k),v.lastRenderedState=k}return[k,M]}function Ts(){}function t0(l,f){var v=tr,M=Ca(),R=f(),k=!ea(M.memoizedState,R);if(k&&(M.memoizedState=R,St=!0),M=M.queue,Gc(Ai.bind(null,v,M,l),[l]),M.getSnapshot!==f||k||qr!==null&&qr.memoizedState.tag&1){if(v.flags|=2048,Hc(9,rm.bind(null,v,M,R,f),void 0,null),ci===null)throw Error(t(349));(As&30)!==0||Cs(v,f,R)}return R}function Cs(l,f,v){l.flags|=16384,l={getSnapshot:f,value:v},f=tr.updateQueue,f===null?(f={lastEffect:null,stores:null},tr.updateQueue=f,f.stores=[l]):(v=f.stores,v===null?f.stores=[l]:v.push(l))}function rm(l,f,v,M){f.value=v,f.getSnapshot=M,n0(f)&&im(l)}function Ai(l,f,v){return v(function(){n0(f)&&im(l)})}function n0(l){var f=l.getSnapshot;l=l.value;try{var v=f();return!ea(l,v)}catch{return!0}}function im(l){var f=$a(l,1);f!==null&&Ko(f,l,1,-1)}function r0(l){var f=ra();return typeof l=="function"&&(l=l()),f.memoizedState=f.baseState=l,l={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:jc,lastRenderedState:l},f.queue=l,l=l.dispatch=l0.bind(null,tr,l),[f.memoizedState,l]}function Hc(l,f,v,M){return l={tag:l,create:f,destroy:v,deps:M,next:null},f=tr.updateQueue,f===null?(f={lastEffect:null,stores:null},tr.updateQueue=f,f.lastEffect=l.next=l):(v=f.lastEffect,v===null?f.lastEffect=l.next=l:(M=v.next,v.next=l,l.next=M,f.lastEffect=l)),l}function am(){return Ca().memoizedState}function Vc(l,f,v,M){var R=ra();tr.flags|=l,R.memoizedState=Hc(1|f,v,void 0,M===void 0?null:M)}function Wh(l,f,v,M){var R=Ca();M=M===void 0?null:M;var k=void 0;if(br!==null){var W=br.memoizedState;if(k=W.destroy,M!==null&&jh(M,W.deps)){R.memoizedState=Hc(f,v,k,M);return}}tr.flags|=l,R.memoizedState=Hc(1|f,v,k,M)}function ia(l,f){return Vc(8390656,8,l,f)}function Gc(l,f){return Wh(2048,8,l,f)}function i0(l,f){return Wh(4,2,l,f)}function $o(l,f){return Wh(4,4,l,f)}function Wc(l,f){if(typeof f=="function")return l=l(),f(l),function(){f(null)};if(f!=null)return l=l(),f.current=l,function(){f.current=null}}function Ps(l,f,v){return v=v!=null?v.concat([l]):null,Wh(4,4,Wc.bind(null,f,l),v)}function wu(){}function qh(l,f){var v=Ca();f=f===void 0?null:f;var M=v.memoizedState;return M!==null&&f!==null&&jh(f,M[1])?M[0]:(v.memoizedState=[l,f],l)}function $h(l,f){var v=Ca();f=f===void 0?null:f;var M=v.memoizedState;return M!==null&&f!==null&&jh(f,M[1])?M[0]:(l=l(),v.memoizedState=[l,f],l)}function a0(l,f,v){return(As&21)===0?(l.baseState&&(l.baseState=!1,St=!0),l.memoizedState=v):(ea(v,f)||(v=Vn(),tr.lanes|=v,qc|=v,l.baseState=!0),f)}function o0(l,f){var v=En;En=v!==0&&4>v?v:4,l(!0);var M=ui.transition;ui.transition={};try{l(!1),f()}finally{En=v,ui.transition=M}}function om(){return Ca().memoizedState}function s0(l,f,v){var M=Tu(l);if(v={lane:M,action:v,hasEagerState:!1,eagerState:null,next:null},Xh(l))u0(f,v);else if(v=Fh(l,f,v,M),v!==null){var R=oa();Ko(v,l,M,R),c0(v,f,M)}}function l0(l,f,v){var M=Tu(l),R={lane:M,action:v,hasEagerState:!1,eagerState:null,next:null};if(Xh(l))u0(f,R);else{var k=l.alternate;if(l.lanes===0&&(k===null||k.lanes===0)&&(k=f.lastRenderedReducer,k!==null))try{var W=f.lastRenderedState,ue=k(W,v);if(R.hasEagerState=!0,R.eagerState=ue,ea(ue,W)){var ve=f.interleaved;ve===null?(R.next=R,Fc(f)):(R.next=ve.next,ve.next=R),f.interleaved=R;return}}catch{}finally{}v=Fh(l,f,R,M),v!==null&&(R=oa(),Ko(v,l,M,R),c0(v,f,M))}}function Xh(l){var f=l.alternate;return l===tr||f!==null&&f===tr}function u0(l,f){bu=Xa=!0;var v=l.pending;v===null?f.next=f:(f.next=v.next,v.next=f),l.pending=f}function c0(l,f,v){if((v&4194240)!==0){var M=f.lanes;M&=l.pendingLanes,v|=M,f.lanes=v,Xl(l,v)}}var p={readContext:wi,useCallback:gr,useContext:gr,useEffect:gr,useImperativeHandle:gr,useInsertionEffect:gr,useLayoutEffect:gr,useMemo:gr,useReducer:gr,useRef:gr,useState:gr,useDebugValue:gr,useDeferredValue:gr,useTransition:gr,useMutableSource:gr,useSyncExternalStore:gr,useId:gr,unstable_isNewReconciler:!1},m={readContext:wi,useCallback:function(l,f){return ra().memoizedState=[l,f===void 0?null:f],l},useContext:wi,useEffect:ia,useImperativeHandle:function(l,f,v){return v=v!=null?v.concat([l]):null,Vc(4194308,4,Wc.bind(null,f,l),v)},useLayoutEffect:function(l,f){return Vc(4194308,4,l,f)},useInsertionEffect:function(l,f){return Vc(4,2,l,f)},useMemo:function(l,f){var v=ra();return f=f===void 0?null:f,l=l(),v.memoizedState=[l,f],l},useReducer:function(l,f,v){var M=ra();return f=v!==void 0?v(f):f,M.memoizedState=M.baseState=f,l={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:l,lastRenderedState:f},M.queue=l,l=l.dispatch=s0.bind(null,tr,l),[M.memoizedState,l]},useRef:function(l){var f=ra();return l={current:l},f.memoizedState=l},useState:r0,useDebugValue:wu,useDeferredValue:function(l){return ra().memoizedState=l},useTransition:function(){var l=r0(!1),f=l[0];return l=o0.bind(null,l[1]),ra().memoizedState=l,[f,l]},useMutableSource:function(){},useSyncExternalStore:function(l,f,v){var M=tr,R=ra();if(er){if(v===void 0)throw Error(t(407));v=v()}else{if(v=f(),ci===null)throw Error(t(349));(As&30)!==0||Cs(M,f,v)}R.memoizedState=v;var k={value:v,getSnapshot:f};return R.queue=k,ia(Ai.bind(null,M,k,l),[l]),M.flags|=2048,Hc(9,rm.bind(null,M,k,v,f),void 0,null),v},useId:function(){var l=ra(),f=ci.identifierPrefix;if(er){var v=wa,M=ut;v=(M&~(1<<32-Xt(M)-1)).toString(32)+v,f=":"+f+"R"+v,v=Su++,0<v&&(f+="H"+v.toString(32)),f+=":"}else v=nm++,f=":"+f+"r"+v.toString(32)+":";return l.memoizedState=f},unstable_isNewReconciler:!1},w={readContext:wi,useCallback:qh,useContext:wi,useEffect:Gc,useImperativeHandle:Ps,useInsertionEffect:i0,useLayoutEffect:$o,useMemo:$h,useReducer:Vh,useRef:am,useState:function(){return Vh(jc)},useDebugValue:wu,useDeferredValue:function(l){var f=Ca();return a0(f,br.memoizedState,l)},useTransition:function(){var l=Vh(jc)[0],f=Ca().memoizedState;return[l,f]},useMutableSource:Ts,useSyncExternalStore:t0,useId:om,unstable_isNewReconciler:!1},C={readContext:wi,useCallback:qh,useContext:wi,useEffect:Gc,useImperativeHandle:Ps,useInsertionEffect:i0,useLayoutEffect:$o,useMemo:$h,useReducer:Gh,useRef:am,useState:function(){return Gh(jc)},useDebugValue:wu,useDeferredValue:function(l){var f=Ca();return br===null?f.memoizedState=l:a0(f,br.memoizedState,l)},useTransition:function(){var l=Gh(jc)[0],f=Ca().memoizedState;return[l,f]},useMutableSource:Ts,useSyncExternalStore:t0,useId:om,unstable_isNewReconciler:!1};function I(l,f){try{var v="",M=f;do v+=Oe(M),M=M.return;while(M);var R=v}catch(k){R=`
Error generating stack: `+k.message+`
`+k.stack}return{value:l,source:f,stack:R,digest:null}}function B(l,f,v){return{value:l,source:null,stack:v??null,digest:f??null}}function se(l,f){try{console.error(f.value)}catch(v){setTimeout(function(){throw v})}}var xe=typeof WeakMap=="function"?WeakMap:Map;function Be(l,f,v){v=Ea(-1,v),v.tag=3,v.payload={element:null};var M=f.value;return v.callback=function(){y0||(y0=!0,Sb=M),se(l,f)},v}function ot(l,f,v){v=Ea(-1,v),v.tag=3;var M=l.type.getDerivedStateFromError;if(typeof M=="function"){var R=f.value;v.payload=function(){return M(R)},v.callback=function(){se(l,f)}}var k=l.stateNode;return k!==null&&typeof k.componentDidCatch=="function"&&(v.callback=function(){se(l,f),typeof M!="function"&&(Eu===null?Eu=new Set([this]):Eu.add(this));var W=f.stack;this.componentDidCatch(f.value,{componentStack:W!==null?W:""})}),v}function Ct(l,f,v){var M=l.pingCache;if(M===null){M=l.pingCache=new xe;var R=new Set;M.set(f,R)}else R=M.get(f),R===void 0&&(R=new Set,M.set(f,R));R.has(v)||(R.add(v),l=Zj.bind(null,l,f,v),f.then(l,l))}function nn(l){do{var f;if((f=l.tag===13)&&(f=l.memoizedState,f=f!==null?f.dehydrated!==null:!0),f)return l;l=l.return}while(l!==null);return null}function Ht(l,f,v,M,R){return(l.mode&1)===0?(l===f?l.flags|=65536:(l.flags|=128,v.flags|=131072,v.flags&=-52805,v.tag===1&&(v.alternate===null?v.tag=17:(f=Ea(-1,1),f.tag=2,ho(v,f,1))),v.lanes|=1),l):(l.flags|=65536,l.lanes=R,l)}var Wn=T.ReactCurrentOwner,St=!1;function On(l,f,v,M){f.child=l===null?ml(f,null,v,M):ws(f,l.child,v,M)}function aa(l,f,v,M,R){v=v.render;var k=f.ref;return Go(f,R),M=Hh(l,f,v,M,k,R),v=zc(),l!==null&&!St?(f.updateQueue=l.updateQueue,f.flags&=-2053,l.lanes&=~R,vl(l,f,R)):(er&&v&&Jp(f),f.flags|=1,On(l,f,M,R),f.child)}function Pe(l,f,v,M,R){if(l===null){var k=v.type;return typeof k=="function"&&!Pb(k)&&k.defaultProps===void 0&&v.compare===null&&v.defaultProps===void 0?(f.tag=15,f.type=k,Se(l,f,k,M,R)):(l=M0(v.type,null,M,f,f.mode,R),l.ref=f.ref,l.return=f,f.child=l)}if(k=l.child,(l.lanes&R)===0){var W=k.memoizedProps;if(v=v.compare,v=v!==null?v:nl,v(W,M)&&l.ref===f.ref)return vl(l,f,R)}return f.flags|=1,l=Pu(k,M),l.ref=f.ref,l.return=f,f.child=l}function Se(l,f,v,M,R){if(l!==null){var k=l.memoizedProps;if(nl(k,M)&&l.ref===f.ref)if(St=!1,f.pendingProps=M=k,(l.lanes&R)!==0)(l.flags&131072)!==0&&(St=!0);else return f.lanes=l.lanes,vl(l,f,R)}return Lt(l,f,v,M,R)}function De(l,f,v){var M=f.pendingProps,R=M.children,k=l!==null?l.memoizedState:null;if(M.mode==="hidden")if((f.mode&1)===0)f.memoizedState={baseLanes:0,cachePool:null,transitions:null},Gn(Kh,Ya),Ya|=v;else{if((v&1073741824)===0)return l=k!==null?k.baseLanes|v:v,f.lanes=f.childLanes=1073741824,f.memoizedState={baseLanes:l,cachePool:null,transitions:null},f.updateQueue=null,Gn(Kh,Ya),Ya|=l,null;f.memoizedState={baseLanes:0,cachePool:null,transitions:null},M=k!==null?k.baseLanes:v,Gn(Kh,Ya),Ya|=M}else k!==null?(M=k.baseLanes|v,f.memoizedState=null):M=v,Gn(Kh,Ya),Ya|=M;return On(l,f,R,v),f.child}function xt(l,f){var v=f.ref;(l===null&&v!==null||l!==null&&l.ref!==v)&&(f.flags|=512,f.flags|=2097152)}function Lt(l,f,v,M,R){var k=li(v)?jo:Qr.current;return k=ll(f,k),Go(f,R),v=Hh(l,f,v,M,k,R),M=zc(),l!==null&&!St?(f.updateQueue=l.updateQueue,f.flags&=-2053,l.lanes&=~R,vl(l,f,R)):(er&&M&&Jp(f),f.flags|=1,On(l,f,v,R),f.child)}function un(l,f,v,M,R){if(li(v)){var k=!0;ul(f)}else k=!1;if(Go(f,R),f.stateNode===null)d0(l,f),vu(f,v,M),yu(f,v,M,R),M=!0;else if(l===null){var W=f.stateNode,ue=f.memoizedProps;W.props=ue;var ve=W.context,Ie=v.contextType;typeof Ie=="object"&&Ie!==null?Ie=wi(Ie):(Ie=li(v)?jo:Qr.current,Ie=ll(f,Ie));var nt=v.getDerivedStateFromProps,rt=typeof nt=="function"||typeof W.getSnapshotBeforeUpdate=="function";rt||typeof W.UNSAFE_componentWillReceiveProps!="function"&&typeof W.componentWillReceiveProps!="function"||(ue!==M||ve!==Ie)&&dl(f,W,M,Ie),Wo=!1;var et=f.memoizedState;W.state=et,cr(f,M,W,R),ve=f.memoizedState,ue!==M||et!==ve||_i.current||Wo?(typeof nt=="function"&&(Mi(f,v,nt,M),ve=f.memoizedState),(ue=Wo||Er(f,v,ue,M,et,ve,Ie))?(rt||typeof W.UNSAFE_componentWillMount!="function"&&typeof W.componentWillMount!="function"||(typeof W.componentWillMount=="function"&&W.componentWillMount(),typeof W.UNSAFE_componentWillMount=="function"&&W.UNSAFE_componentWillMount()),typeof W.componentDidMount=="function"&&(f.flags|=4194308)):(typeof W.componentDidMount=="function"&&(f.flags|=4194308),f.memoizedProps=M,f.memoizedState=ve),W.props=M,W.state=ve,W.context=Ie,M=ue):(typeof W.componentDidMount=="function"&&(f.flags|=4194308),M=!1)}else{W=f.stateNode,e0(l,f),ue=f.memoizedProps,Ie=f.type===f.elementType?ue:Wa(f.type,ue),W.props=Ie,rt=f.pendingProps,et=W.context,ve=v.contextType,typeof ve=="object"&&ve!==null?ve=wi(ve):(ve=li(v)?jo:Qr.current,ve=ll(f,ve));var At=v.getDerivedStateFromProps;(nt=typeof At=="function"||typeof W.getSnapshotBeforeUpdate=="function")||typeof W.UNSAFE_componentWillReceiveProps!="function"&&typeof W.componentWillReceiveProps!="function"||(ue!==rt||et!==ve)&&dl(f,W,M,ve),Wo=!1,et=f.memoizedState,W.state=et,cr(f,M,W,R);var It=f.memoizedState;ue!==rt||et!==It||_i.current||Wo?(typeof At=="function"&&(Mi(f,v,At,M),It=f.memoizedState),(Ie=Wo||Er(f,v,Ie,M,et,It,ve)||!1)?(nt||typeof W.UNSAFE_componentWillUpdate!="function"&&typeof W.componentWillUpdate!="function"||(typeof W.componentWillUpdate=="function"&&W.componentWillUpdate(M,It,ve),typeof W.UNSAFE_componentWillUpdate=="function"&&W.UNSAFE_componentWillUpdate(M,It,ve)),typeof W.componentDidUpdate=="function"&&(f.flags|=4),typeof W.getSnapshotBeforeUpdate=="function"&&(f.flags|=1024)):(typeof W.componentDidUpdate!="function"||ue===l.memoizedProps&&et===l.memoizedState||(f.flags|=4),typeof W.getSnapshotBeforeUpdate!="function"||ue===l.memoizedProps&&et===l.memoizedState||(f.flags|=1024),f.memoizedProps=M,f.memoizedState=It),W.props=M,W.state=It,W.context=ve,M=Ie):(typeof W.componentDidUpdate!="function"||ue===l.memoizedProps&&et===l.memoizedState||(f.flags|=4),typeof W.getSnapshotBeforeUpdate!="function"||ue===l.memoizedProps&&et===l.memoizedState||(f.flags|=1024),M=!1)}return Jt(l,f,v,M,k,R)}function Jt(l,f,v,M,R,k){xt(l,f);var W=(f.flags&128)!==0;if(!M&&!W)return R&&Kp(f,v,!1),vl(l,f,k);M=f.stateNode,Wn.current=f;var ue=W&&typeof v.getDerivedStateFromError!="function"?null:M.render();return f.flags|=1,l!==null&&W?(f.child=ws(f,l.child,null,k),f.child=ws(f,null,ue,k)):On(l,f,ue,k),f.memoizedState=M.state,R&&Kp(f,v,!0),f.child}function Mn(l){var f=l.stateNode;f.pendingContext?Yp(l,f.pendingContext,f.pendingContext!==f.context):f.context&&Yp(l,f.context,!1),xu(l,f.containerInfo)}function Ir(l,f,v,M,R){return bs(),du(R),f.flags|=256,On(l,f,v,M),f.child}var wn={dehydrated:null,treeContext:null,retryLane:0};function go(l){return{baseLanes:l,cachePool:null,transitions:null}}function f0(l,f,v){var M=f.pendingProps,R=Zn.current,k=!1,W=(f.flags&128)!==0,ue;if((ue=W)||(ue=l!==null&&l.memoizedState===null?!1:(R&2)!==0),ue?(k=!0,f.flags&=-129):(l===null||l.memoizedState!==null)&&(R|=1),Gn(Zn,R&1),l===null)return kh(f),l=f.memoizedState,l!==null&&(l=l.dehydrated,l!==null)?((f.mode&1)===0?f.lanes=1:l.data==="$!"?f.lanes=8:f.lanes=1073741824,null):(W=M.children,l=M.fallback,k?(M=f.mode,k=f.child,W={mode:"hidden",children:W},(M&1)===0&&k!==null?(k.childLanes=0,k.pendingProps=W):k=E0(W,M,0,null),l=Kc(l,M,v,null),k.return=f,l.return=f,k.sibling=l,f.child=k,f.child.memoizedState=go(v),f.memoizedState=wn,l):hb(f,W));if(R=l.memoizedState,R!==null&&(ue=R.dehydrated,ue!==null))return Bj(l,f,W,M,ue,R,v);if(k){k=M.fallback,W=f.mode,R=l.child,ue=R.sibling;var ve={mode:"hidden",children:M.children};return(W&1)===0&&f.child!==R?(M=f.child,M.childLanes=0,M.pendingProps=ve,f.deletions=null):(M=Pu(R,ve),M.subtreeFlags=R.subtreeFlags&14680064),ue!==null?k=Pu(ue,k):(k=Kc(k,W,v,null),k.flags|=2),k.return=f,M.return=f,M.sibling=k,f.child=M,M=k,k=f.child,W=l.child.memoizedState,W=W===null?go(v):{baseLanes:W.baseLanes|v,cachePool:null,transitions:W.transitions},k.memoizedState=W,k.childLanes=l.childLanes&~v,f.memoizedState=wn,M}return k=l.child,l=k.sibling,M=Pu(k,{mode:"visible",children:M.children}),(f.mode&1)===0&&(M.lanes=v),M.return=f,M.sibling=null,l!==null&&(v=f.deletions,v===null?(f.deletions=[l],f.flags|=16):v.push(l)),f.child=M,f.memoizedState=null,M}function hb(l,f){return f=E0({mode:"visible",children:f},l.mode,0,null),f.return=l,l.child=f}function h0(l,f,v,M){return M!==null&&du(M),ws(f,l.child,null,v),l=hb(f,f.pendingProps.children),l.flags|=2,f.memoizedState=null,l}function Bj(l,f,v,M,R,k,W){if(v)return f.flags&256?(f.flags&=-257,M=B(Error(t(422))),h0(l,f,W,M)):f.memoizedState!==null?(f.child=l.child,f.flags|=128,null):(k=M.fallback,R=f.mode,M=E0({mode:"visible",children:M.children},R,0,null),k=Kc(k,R,W,null),k.flags|=2,M.return=f,k.return=f,M.sibling=k,f.child=M,(f.mode&1)!==0&&ws(f,l.child,null,W),f.child.memoizedState=go(W),f.memoizedState=wn,k);if((f.mode&1)===0)return h0(l,f,W,null);if(R.data==="$!"){if(M=R.nextSibling&&R.nextSibling.dataset,M)var ue=M.dgst;return M=ue,k=Error(t(419)),M=B(k,M,void 0),h0(l,f,W,M)}if(ue=(W&l.childLanes)!==0,St||ue){if(M=ci,M!==null){switch(W&-W){case 4:R=2;break;case 16:R=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:R=32;break;case 536870912:R=268435456;break;default:R=0}R=(R&(M.suspendedLanes|W))!==0?0:R,R!==0&&R!==k.retryLane&&(k.retryLane=R,$a(l,R),Ko(M,l,R,-1))}return Cb(),M=B(Error(t(421))),h0(l,f,W,M)}return R.data==="$?"?(f.flags|=128,f.child=l.child,f=Jj.bind(null,l),R._reactRetry=f,null):(l=k.treeContext,Si=Fo(R.nextSibling),ei=f,er=!0,Ma=null,l!==null&&(bi[Vr++]=ut,bi[Vr++]=wa,bi[Vr++]=fl,ut=l.id,wa=l.overflow,fl=f),f=hb(f,M.children),f.flags|=4096,f)}function o2(l,f,v){l.lanes|=f;var M=l.alternate;M!==null&&(M.lanes|=f),gu(l.return,f,v)}function db(l,f,v,M,R){var k=l.memoizedState;k===null?l.memoizedState={isBackwards:f,rendering:null,renderingStartTime:0,last:M,tail:v,tailMode:R}:(k.isBackwards=f,k.rendering=null,k.renderingStartTime=0,k.last=M,k.tail=v,k.tailMode=R)}function s2(l,f,v){var M=f.pendingProps,R=M.revealOrder,k=M.tail;if(On(l,f,M.children,v),M=Zn.current,(M&2)!==0)M=M&1|2,f.flags|=128;else{if(l!==null&&(l.flags&128)!==0)e:for(l=f.child;l!==null;){if(l.tag===13)l.memoizedState!==null&&o2(l,v,f);else if(l.tag===19)o2(l,v,f);else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===f)break e;for(;l.sibling===null;){if(l.return===null||l.return===f)break e;l=l.return}l.sibling.return=l.return,l=l.sibling}M&=1}if(Gn(Zn,M),(f.mode&1)===0)f.memoizedState=null;else switch(R){case"forwards":for(v=f.child,R=null;v!==null;)l=v.alternate,l!==null&&Wr(l)===null&&(R=v),v=v.sibling;v=R,v===null?(R=f.child,f.child=null):(R=v.sibling,v.sibling=null),db(f,!1,R,v,k);break;case"backwards":for(v=null,R=f.child,f.child=null;R!==null;){if(l=R.alternate,l!==null&&Wr(l)===null){f.child=R;break}l=R.sibling,R.sibling=v,v=R,R=l}db(f,!0,v,null,k);break;case"together":db(f,!1,null,null,void 0);break;default:f.memoizedState=null}return f.child}function d0(l,f){(f.mode&1)===0&&l!==null&&(l.alternate=null,f.alternate=null,f.flags|=2)}function vl(l,f,v){if(l!==null&&(f.dependencies=l.dependencies),qc|=f.lanes,(v&f.childLanes)===0)return null;if(l!==null&&f.child!==l.child)throw Error(t(153));if(f.child!==null){for(l=f.child,v=Pu(l,l.pendingProps),f.child=v,v.return=f;l.sibling!==null;)l=l.sibling,v=v.sibling=Pu(l,l.pendingProps),v.return=f;v.sibling=null}return f.child}function zj(l,f,v){switch(f.tag){case 3:Mn(f),bs();break;case 5:zh(f);break;case 1:li(f.type)&&ul(f);break;case 4:xu(f,f.stateNode.containerInfo);break;case 10:var M=f.type._context,R=f.memoizedProps.value;Gn(Dc,M._currentValue),M._currentValue=R;break;case 13:if(M=f.memoizedState,M!==null)return M.dehydrated!==null?(Gn(Zn,Zn.current&1),f.flags|=128,null):(v&f.child.childLanes)!==0?f0(l,f,v):(Gn(Zn,Zn.current&1),l=vl(l,f,v),l!==null?l.sibling:null);Gn(Zn,Zn.current&1);break;case 19:if(M=(v&f.childLanes)!==0,(l.flags&128)!==0){if(M)return s2(l,f,v);f.flags|=128}if(R=f.memoizedState,R!==null&&(R.rendering=null,R.tail=null,R.lastEffect=null),Gn(Zn,Zn.current),M)break;return null;case 22:case 23:return f.lanes=0,De(l,f,v)}return vl(l,f,v)}var l2,pb,u2,c2;l2=function(l,f){for(var v=f.child;v!==null;){if(v.tag===5||v.tag===6)l.appendChild(v.stateNode);else if(v.tag!==4&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===f)break;for(;v.sibling===null;){if(v.return===null||v.return===f)return;v=v.return}v.sibling.return=v.return,v=v.sibling}},pb=function(){},u2=function(l,f,v,M){var R=l.memoizedProps;if(R!==M){l=f.stateNode,Fi(Aa.current);var k=null;switch(v){case"input":R=Ae(l,R),M=Ae(l,M),k=[];break;case"select":R=z({},R,{value:void 0}),M=z({},M,{value:void 0}),k=[];break;case"textarea":R=Xe(l,R),M=Xe(l,M),k=[];break;default:typeof R.onClick!="function"&&typeof M.onClick=="function"&&(l.onclick=Oc)}pe(v,M);var W;v=null;for(Ie in R)if(!M.hasOwnProperty(Ie)&&R.hasOwnProperty(Ie)&&R[Ie]!=null)if(Ie==="style"){var ue=R[Ie];for(W in ue)ue.hasOwnProperty(W)&&(v||(v={}),v[W]="")}else Ie!=="dangerouslySetInnerHTML"&&Ie!=="children"&&Ie!=="suppressContentEditableWarning"&&Ie!=="suppressHydrationWarning"&&Ie!=="autoFocus"&&(i.hasOwnProperty(Ie)?k||(k=[]):(k=k||[]).push(Ie,null));for(Ie in M){var ve=M[Ie];if(ue=R!=null?R[Ie]:void 0,M.hasOwnProperty(Ie)&&ve!==ue&&(ve!=null||ue!=null))if(Ie==="style")if(ue){for(W in ue)!ue.hasOwnProperty(W)||ve&&ve.hasOwnProperty(W)||(v||(v={}),v[W]="");for(W in ve)ve.hasOwnProperty(W)&&ue[W]!==ve[W]&&(v||(v={}),v[W]=ve[W])}else v||(k||(k=[]),k.push(Ie,v)),v=ve;else Ie==="dangerouslySetInnerHTML"?(ve=ve?ve.__html:void 0,ue=ue?ue.__html:void 0,ve!=null&&ue!==ve&&(k=k||[]).push(Ie,ve)):Ie==="children"?typeof ve!="string"&&typeof ve!="number"||(k=k||[]).push(Ie,""+ve):Ie!=="suppressContentEditableWarning"&&Ie!=="suppressHydrationWarning"&&(i.hasOwnProperty(Ie)?(ve!=null&&Ie==="onScroll"&&Yn("scroll",l),k||ue===ve||(k=[])):(k=k||[]).push(Ie,ve))}v&&(k=k||[]).push("style",v);var Ie=k;(f.updateQueue=Ie)&&(f.flags|=4)}},c2=function(l,f,v,M){v!==M&&(f.flags|=4)};function sm(l,f){if(!er)switch(l.tailMode){case"hidden":f=l.tail;for(var v=null;f!==null;)f.alternate!==null&&(v=f),f=f.sibling;v===null?l.tail=null:v.sibling=null;break;case"collapsed":v=l.tail;for(var M=null;v!==null;)v.alternate!==null&&(M=v),v=v.sibling;M===null?f||l.tail===null?l.tail=null:l.tail.sibling=null:M.sibling=null}}function zi(l){var f=l.alternate!==null&&l.alternate.child===l.child,v=0,M=0;if(f)for(var R=l.child;R!==null;)v|=R.lanes|R.childLanes,M|=R.subtreeFlags&14680064,M|=R.flags&14680064,R.return=l,R=R.sibling;else for(R=l.child;R!==null;)v|=R.lanes|R.childLanes,M|=R.subtreeFlags,M|=R.flags,R.return=l,R=R.sibling;return l.subtreeFlags|=M,l.childLanes=v,f}function jj(l,f,v){var M=f.pendingProps;switch(Vo(f),f.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return zi(f),null;case 1:return li(f.type)&&Ic(),zi(f),null;case 3:return M=f.stateNode,po(),Kn(_i),Kn(Qr),Bi(),M.pendingContext&&(M.context=M.pendingContext,M.pendingContext=null),(l===null||l.child===null)&&(hu(f)?f.flags|=4:l===null||l.memoizedState.isDehydrated&&(f.flags&256)===0||(f.flags|=1024,Ma!==null&&(Eb(Ma),Ma=null))),pb(l,f),zi(f),null;case 5:_u(f);var R=Fi(Es.current);if(v=f.type,l!==null&&f.stateNode!=null)u2(l,f,v,M,R),l.ref!==f.ref&&(f.flags|=512,f.flags|=2097152);else{if(!M){if(f.stateNode===null)throw Error(t(166));return zi(f),null}if(l=Fi(Aa.current),hu(f)){M=f.stateNode,v=f.type;var k=f.memoizedProps;switch(M[Or]=f,M[fu]=k,l=(f.mode&1)!==0,v){case"dialog":Yn("cancel",M),Yn("close",M);break;case"iframe":case"object":case"embed":Yn("load",M);break;case"video":case"audio":for(R=0;R<xs.length;R++)Yn(xs[R],M);break;case"source":Yn("error",M);break;case"img":case"image":case"link":Yn("error",M),Yn("load",M);break;case"details":Yn("toggle",M);break;case"input":We(M,k),Yn("invalid",M);break;case"select":M._wrapperState={wasMultiple:!!k.multiple},Yn("invalid",M);break;case"textarea":$e(M,k),Yn("invalid",M)}pe(v,k),R=null;for(var W in k)if(k.hasOwnProperty(W)){var ue=k[W];W==="children"?typeof ue=="string"?M.textContent!==ue&&(k.suppressHydrationWarning!==!0&&Rc(M.textContent,ue,l),R=["children",ue]):typeof ue=="number"&&M.textContent!==""+ue&&(k.suppressHydrationWarning!==!0&&Rc(M.textContent,ue,l),R=["children",""+ue]):i.hasOwnProperty(W)&&ue!=null&&W==="onScroll"&&Yn("scroll",M)}switch(v){case"input":Qe(M),st(M,k,!0);break;case"textarea":Qe(M),Tt(M);break;case"select":case"option":break;default:typeof k.onClick=="function"&&(M.onclick=Oc)}M=R,f.updateQueue=M,M!==null&&(f.flags|=4)}else{W=R.nodeType===9?R:R.ownerDocument,l==="http://www.w3.org/1999/xhtml"&&(l=ft(v)),l==="http://www.w3.org/1999/xhtml"?v==="script"?(l=W.createElement("div"),l.innerHTML="<script><\/script>",l=l.removeChild(l.firstChild)):typeof M.is=="string"?l=W.createElement(v,{is:M.is}):(l=W.createElement(v),v==="select"&&(W=l,M.multiple?W.multiple=!0:M.size&&(W.size=M.size))):l=W.createElementNS(l,v),l[Or]=f,l[fu]=M,l2(l,f,!1,!1),f.stateNode=l;e:{switch(W=ze(v,M),v){case"dialog":Yn("cancel",l),Yn("close",l),R=M;break;case"iframe":case"object":case"embed":Yn("load",l),R=M;break;case"video":case"audio":for(R=0;R<xs.length;R++)Yn(xs[R],l);R=M;break;case"source":Yn("error",l),R=M;break;case"img":case"image":case"link":Yn("error",l),Yn("load",l),R=M;break;case"details":Yn("toggle",l),R=M;break;case"input":We(l,M),R=Ae(l,M),Yn("invalid",l);break;case"option":R=M;break;case"select":l._wrapperState={wasMultiple:!!M.multiple},R=z({},M,{value:void 0}),Yn("invalid",l);break;case"textarea":$e(l,M),R=Xe(l,M),Yn("invalid",l);break;default:R=M}pe(v,R),ue=R;for(k in ue)if(ue.hasOwnProperty(k)){var ve=ue[k];k==="style"?_t(l,ve):k==="dangerouslySetInnerHTML"?(ve=ve?ve.__html:void 0,ve!=null&&Vt(l,ve)):k==="children"?typeof ve=="string"?(v!=="textarea"||ve!=="")&&Ke(l,ve):typeof ve=="number"&&Ke(l,""+ve):k!=="suppressContentEditableWarning"&&k!=="suppressHydrationWarning"&&k!=="autoFocus"&&(i.hasOwnProperty(k)?ve!=null&&k==="onScroll"&&Yn("scroll",l):ve!=null&&A(l,k,ve,W))}switch(v){case"input":Qe(l),st(l,M,!1);break;case"textarea":Qe(l),Tt(l);break;case"option":M.value!=null&&l.setAttribute("value",""+Je(M.value));break;case"select":l.multiple=!!M.multiple,k=M.value,k!=null?we(l,!!M.multiple,k,!1):M.defaultValue!=null&&we(l,!!M.multiple,M.defaultValue,!0);break;default:typeof R.onClick=="function"&&(l.onclick=Oc)}switch(v){case"button":case"input":case"select":case"textarea":M=!!M.autoFocus;break e;case"img":M=!0;break e;default:M=!1}}M&&(f.flags|=4)}f.ref!==null&&(f.flags|=512,f.flags|=2097152)}return zi(f),null;case 6:if(l&&f.stateNode!=null)c2(l,f,l.memoizedProps,M);else{if(typeof M!="string"&&f.stateNode===null)throw Error(t(166));if(v=Fi(Es.current),Fi(Aa.current),hu(f)){if(M=f.stateNode,v=f.memoizedProps,M[Or]=f,(k=M.nodeValue!==v)&&(l=ei,l!==null))switch(l.tag){case 3:Rc(M.nodeValue,v,(l.mode&1)!==0);break;case 5:l.memoizedProps.suppressHydrationWarning!==!0&&Rc(M.nodeValue,v,(l.mode&1)!==0)}k&&(f.flags|=4)}else M=(v.nodeType===9?v:v.ownerDocument).createTextNode(M),M[Or]=f,f.stateNode=M}return zi(f),null;case 13:if(Kn(Zn),M=f.memoizedState,l===null||l.memoizedState!==null&&l.memoizedState.dehydrated!==null){if(er&&Si!==null&&(f.mode&1)!==0&&(f.flags&128)===0)tm(),bs(),f.flags|=98560,k=!1;else if(k=hu(f),M!==null&&M.dehydrated!==null){if(l===null){if(!k)throw Error(t(318));if(k=f.memoizedState,k=k!==null?k.dehydrated:null,!k)throw Error(t(317));k[Or]=f}else bs(),(f.flags&128)===0&&(f.memoizedState=null),f.flags|=4;zi(f),k=!1}else Ma!==null&&(Eb(Ma),Ma=null),k=!0;if(!k)return f.flags&65536?f:null}return(f.flags&128)!==0?(f.lanes=v,f):(M=M!==null,M!==(l!==null&&l.memoizedState!==null)&&M&&(f.child.flags|=8192,(f.mode&1)!==0&&(l===null||(Zn.current&1)!==0?ti===0&&(ti=3):Cb())),f.updateQueue!==null&&(f.flags|=4),zi(f),null);case 4:return po(),pb(l,f),l===null&&lu(f.stateNode.containerInfo),zi(f),null;case 10:return mu(f.type._context),zi(f),null;case 17:return li(f.type)&&Ic(),zi(f),null;case 19:if(Kn(Zn),k=f.memoizedState,k===null)return zi(f),null;if(M=(f.flags&128)!==0,W=k.rendering,W===null)if(M)sm(k,!1);else{if(ti!==0||l!==null&&(l.flags&128)!==0)for(l=f.child;l!==null;){if(W=Wr(l),W!==null){for(f.flags|=128,sm(k,!1),M=W.updateQueue,M!==null&&(f.updateQueue=M,f.flags|=4),f.subtreeFlags=0,M=v,v=f.child;v!==null;)k=v,l=M,k.flags&=14680066,W=k.alternate,W===null?(k.childLanes=0,k.lanes=l,k.child=null,k.subtreeFlags=0,k.memoizedProps=null,k.memoizedState=null,k.updateQueue=null,k.dependencies=null,k.stateNode=null):(k.childLanes=W.childLanes,k.lanes=W.lanes,k.child=W.child,k.subtreeFlags=0,k.deletions=null,k.memoizedProps=W.memoizedProps,k.memoizedState=W.memoizedState,k.updateQueue=W.updateQueue,k.type=W.type,l=W.dependencies,k.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext}),v=v.sibling;return Gn(Zn,Zn.current&1|2),f.child}l=l.sibling}k.tail!==null&&Ce()>Zh&&(f.flags|=128,M=!0,sm(k,!1),f.lanes=4194304)}else{if(!M)if(l=Wr(W),l!==null){if(f.flags|=128,M=!0,v=l.updateQueue,v!==null&&(f.updateQueue=v,f.flags|=4),sm(k,!0),k.tail===null&&k.tailMode==="hidden"&&!W.alternate&&!er)return zi(f),null}else 2*Ce()-k.renderingStartTime>Zh&&v!==1073741824&&(f.flags|=128,M=!0,sm(k,!1),f.lanes=4194304);k.isBackwards?(W.sibling=f.child,f.child=W):(v=k.last,v!==null?v.sibling=W:f.child=W,k.last=W)}return k.tail!==null?(f=k.tail,k.rendering=f,k.tail=f.sibling,k.renderingStartTime=Ce(),f.sibling=null,v=Zn.current,Gn(Zn,M?v&1|2:v&1),f):(zi(f),null);case 22:case 23:return Tb(),M=f.memoizedState!==null,l!==null&&l.memoizedState!==null!==M&&(f.flags|=8192),M&&(f.mode&1)!==0?(Ya&1073741824)!==0&&(zi(f),f.subtreeFlags&6&&(f.flags|=8192)):zi(f),null;case 24:return null;case 25:return null}throw Error(t(156,f.tag))}function Hj(l,f){switch(Vo(f),f.tag){case 1:return li(f.type)&&Ic(),l=f.flags,l&65536?(f.flags=l&-65537|128,f):null;case 3:return po(),Kn(_i),Kn(Qr),Bi(),l=f.flags,(l&65536)!==0&&(l&128)===0?(f.flags=l&-65537|128,f):null;case 5:return _u(f),null;case 13:if(Kn(Zn),l=f.memoizedState,l!==null&&l.dehydrated!==null){if(f.alternate===null)throw Error(t(340));bs()}return l=f.flags,l&65536?(f.flags=l&-65537|128,f):null;case 19:return Kn(Zn),null;case 4:return po(),null;case 10:return mu(f.type._context),null;case 22:case 23:return Tb(),null;case 24:return null;default:return null}}var p0=!1,ji=!1,Vj=typeof WeakSet=="function"?WeakSet:Set,Rt=null;function Yh(l,f){var v=l.ref;if(v!==null)if(typeof v=="function")try{v(null)}catch(M){Ar(l,f,M)}else v.current=null}function mb(l,f,v){try{v()}catch(M){Ar(l,f,M)}}var f2=!1;function Gj(l,f){if(cu=va,l=ur(),Br(l)){if("selectionStart"in l)var v={start:l.selectionStart,end:l.selectionEnd};else e:{v=(v=l.ownerDocument)&&v.defaultView||window;var M=v.getSelection&&v.getSelection();if(M&&M.rangeCount!==0){v=M.anchorNode;var R=M.anchorOffset,k=M.focusNode;M=M.focusOffset;try{v.nodeType,k.nodeType}catch{v=null;break e}var W=0,ue=-1,ve=-1,Ie=0,nt=0,rt=l,et=null;t:for(;;){for(var At;rt!==v||R!==0&&rt.nodeType!==3||(ue=W+R),rt!==k||M!==0&&rt.nodeType!==3||(ve=W+M),rt.nodeType===3&&(W+=rt.nodeValue.length),(At=rt.firstChild)!==null;)et=rt,rt=At;for(;;){if(rt===l)break t;if(et===v&&++Ie===R&&(ue=W),et===k&&++nt===M&&(ve=W),(At=rt.nextSibling)!==null)break;rt=et,et=rt.parentNode}rt=At}v=ue===-1||ve===-1?null:{start:ue,end:ve}}else v=null}v=v||{start:0,end:0}}else v=null;for(Vp={focusedElem:l,selectionRange:v},va=!1,Rt=f;Rt!==null;)if(f=Rt,l=f.child,(f.subtreeFlags&1028)!==0&&l!==null)l.return=f,Rt=l;else for(;Rt!==null;){f=Rt;try{var It=f.alternate;if((f.flags&1024)!==0)switch(f.tag){case 0:case 11:case 15:break;case 1:if(It!==null){var kt=It.memoizedProps,Nr=It.memoizedState,Ee=f.stateNode,ye=Ee.getSnapshotBeforeUpdate(f.elementType===f.type?kt:Wa(f.type,kt),Nr);Ee.__reactInternalSnapshotBeforeUpdate=ye}break;case 3:var Te=f.stateNode.containerInfo;Te.nodeType===1?Te.textContent="":Te.nodeType===9&&Te.documentElement&&Te.removeChild(Te.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(lt){Ar(f,f.return,lt)}if(l=f.sibling,l!==null){l.return=f.return,Rt=l;break}Rt=f.return}return It=f2,f2=!1,It}function lm(l,f,v){var M=f.updateQueue;if(M=M!==null?M.lastEffect:null,M!==null){var R=M=M.next;do{if((R.tag&l)===l){var k=R.destroy;R.destroy=void 0,k!==void 0&&mb(f,v,k)}R=R.next}while(R!==M)}}function m0(l,f){if(f=f.updateQueue,f=f!==null?f.lastEffect:null,f!==null){var v=f=f.next;do{if((v.tag&l)===l){var M=v.create;v.destroy=M()}v=v.next}while(v!==f)}}function gb(l){var f=l.ref;if(f!==null){var v=l.stateNode;switch(l.tag){case 5:l=v;break;default:l=v}typeof f=="function"?f(l):f.current=l}}function h2(l){var f=l.alternate;f!==null&&(l.alternate=null,h2(f)),l.child=null,l.deletions=null,l.sibling=null,l.tag===5&&(f=l.stateNode,f!==null&&(delete f[Or],delete f[fu],delete f[sl],delete f[Ch],delete f[Ph])),l.stateNode=null,l.return=null,l.dependencies=null,l.memoizedProps=null,l.memoizedState=null,l.pendingProps=null,l.stateNode=null,l.updateQueue=null}function d2(l){return l.tag===5||l.tag===3||l.tag===4}function p2(l){e:for(;;){for(;l.sibling===null;){if(l.return===null||d2(l.return))return null;l=l.return}for(l.sibling.return=l.return,l=l.sibling;l.tag!==5&&l.tag!==6&&l.tag!==18;){if(l.flags&2||l.child===null||l.tag===4)continue e;l.child.return=l,l=l.child}if(!(l.flags&2))return l.stateNode}}function vb(l,f,v){var M=l.tag;if(M===5||M===6)l=l.stateNode,f?v.nodeType===8?v.parentNode.insertBefore(l,f):v.insertBefore(l,f):(v.nodeType===8?(f=v.parentNode,f.insertBefore(l,v)):(f=v,f.appendChild(l)),v=v._reactRootContainer,v!=null||f.onclick!==null||(f.onclick=Oc));else if(M!==4&&(l=l.child,l!==null))for(vb(l,f,v),l=l.sibling;l!==null;)vb(l,f,v),l=l.sibling}function yb(l,f,v){var M=l.tag;if(M===5||M===6)l=l.stateNode,f?v.insertBefore(l,f):v.appendChild(l);else if(M!==4&&(l=l.child,l!==null))for(yb(l,f,v),l=l.sibling;l!==null;)yb(l,f,v),l=l.sibling}var Ti=null,Xo=!1;function Mu(l,f,v){for(v=v.child;v!==null;)m2(l,f,v),v=v.sibling}function m2(l,f,v){if(pt&&typeof pt.onCommitFiberUnmount=="function")try{pt.onCommitFiberUnmount(Yt,v)}catch{}switch(v.tag){case 5:ji||Yh(v,f);case 6:var M=Ti,R=Xo;Ti=null,Mu(l,f,v),Ti=M,Xo=R,Ti!==null&&(Xo?(l=Ti,v=v.stateNode,l.nodeType===8?l.parentNode.removeChild(v):l.removeChild(v)):Ti.removeChild(v.stateNode));break;case 18:Ti!==null&&(Xo?(l=Ti,v=v.stateNode,l.nodeType===8?Th(l.parentNode,v):l.nodeType===1&&Th(l,v),xc(l)):Th(Ti,v.stateNode));break;case 4:M=Ti,R=Xo,Ti=v.stateNode.containerInfo,Xo=!0,Mu(l,f,v),Ti=M,Xo=R;break;case 0:case 11:case 14:case 15:if(!ji&&(M=v.updateQueue,M!==null&&(M=M.lastEffect,M!==null))){R=M=M.next;do{var k=R,W=k.destroy;k=k.tag,W!==void 0&&((k&2)!==0||(k&4)!==0)&&mb(v,f,W),R=R.next}while(R!==M)}Mu(l,f,v);break;case 1:if(!ji&&(Yh(v,f),M=v.stateNode,typeof M.componentWillUnmount=="function"))try{M.props=v.memoizedProps,M.state=v.memoizedState,M.componentWillUnmount()}catch(ue){Ar(v,f,ue)}Mu(l,f,v);break;case 21:Mu(l,f,v);break;case 22:v.mode&1?(ji=(M=ji)||v.memoizedState!==null,Mu(l,f,v),ji=M):Mu(l,f,v);break;default:Mu(l,f,v)}}function g2(l){var f=l.updateQueue;if(f!==null){l.updateQueue=null;var v=l.stateNode;v===null&&(v=l.stateNode=new Vj),f.forEach(function(M){var R=Qj.bind(null,l,M);v.has(M)||(v.add(M),M.then(R,R))})}}function Yo(l,f){var v=f.deletions;if(v!==null)for(var M=0;M<v.length;M++){var R=v[M];try{var k=l,W=f,ue=W;e:for(;ue!==null;){switch(ue.tag){case 5:Ti=ue.stateNode,Xo=!1;break e;case 3:Ti=ue.stateNode.containerInfo,Xo=!0;break e;case 4:Ti=ue.stateNode.containerInfo,Xo=!0;break e}ue=ue.return}if(Ti===null)throw Error(t(160));m2(k,W,R),Ti=null,Xo=!1;var ve=R.alternate;ve!==null&&(ve.return=null),R.return=null}catch(Ie){Ar(R,f,Ie)}}if(f.subtreeFlags&12854)for(f=f.child;f!==null;)v2(f,l),f=f.sibling}function v2(l,f){var v=l.alternate,M=l.flags;switch(l.tag){case 0:case 11:case 14:case 15:if(Yo(f,l),Rs(l),M&4){try{lm(3,l,l.return),m0(3,l)}catch(kt){Ar(l,l.return,kt)}try{lm(5,l,l.return)}catch(kt){Ar(l,l.return,kt)}}break;case 1:Yo(f,l),Rs(l),M&512&&v!==null&&Yh(v,v.return);break;case 5:if(Yo(f,l),Rs(l),M&512&&v!==null&&Yh(v,v.return),l.flags&32){var R=l.stateNode;try{Ke(R,"")}catch(kt){Ar(l,l.return,kt)}}if(M&4&&(R=l.stateNode,R!=null)){var k=l.memoizedProps,W=v!==null?v.memoizedProps:k,ue=l.type,ve=l.updateQueue;if(l.updateQueue=null,ve!==null)try{ue==="input"&&k.type==="radio"&&k.name!=null&&Ne(R,k),ze(ue,W);var Ie=ze(ue,k);for(W=0;W<ve.length;W+=2){var nt=ve[W],rt=ve[W+1];nt==="style"?_t(R,rt):nt==="dangerouslySetInnerHTML"?Vt(R,rt):nt==="children"?Ke(R,rt):A(R,nt,rt,Ie)}switch(ue){case"input":gt(R,k);break;case"textarea":Ge(R,k);break;case"select":var et=R._wrapperState.wasMultiple;R._wrapperState.wasMultiple=!!k.multiple;var At=k.value;At!=null?we(R,!!k.multiple,At,!1):et!==!!k.multiple&&(k.defaultValue!=null?we(R,!!k.multiple,k.defaultValue,!0):we(R,!!k.multiple,k.multiple?[]:"",!1))}R[fu]=k}catch(kt){Ar(l,l.return,kt)}}break;case 6:if(Yo(f,l),Rs(l),M&4){if(l.stateNode===null)throw Error(t(162));R=l.stateNode,k=l.memoizedProps;try{R.nodeValue=k}catch(kt){Ar(l,l.return,kt)}}break;case 3:if(Yo(f,l),Rs(l),M&4&&v!==null&&v.memoizedState.isDehydrated)try{xc(f.containerInfo)}catch(kt){Ar(l,l.return,kt)}break;case 4:Yo(f,l),Rs(l);break;case 13:Yo(f,l),Rs(l),R=l.child,R.flags&8192&&(k=R.memoizedState!==null,R.stateNode.isHidden=k,!k||R.alternate!==null&&R.alternate.memoizedState!==null||(bb=Ce())),M&4&&g2(l);break;case 22:if(nt=v!==null&&v.memoizedState!==null,l.mode&1?(ji=(Ie=ji)||nt,Yo(f,l),ji=Ie):Yo(f,l),Rs(l),M&8192){if(Ie=l.memoizedState!==null,(l.stateNode.isHidden=Ie)&&!nt&&(l.mode&1)!==0)for(Rt=l,nt=l.child;nt!==null;){for(rt=Rt=nt;Rt!==null;){switch(et=Rt,At=et.child,et.tag){case 0:case 11:case 14:case 15:lm(4,et,et.return);break;case 1:Yh(et,et.return);var It=et.stateNode;if(typeof It.componentWillUnmount=="function"){M=et,v=et.return;try{f=M,It.props=f.memoizedProps,It.state=f.memoizedState,It.componentWillUnmount()}catch(kt){Ar(M,v,kt)}}break;case 5:Yh(et,et.return);break;case 22:if(et.memoizedState!==null){_2(rt);continue}}At!==null?(At.return=et,Rt=At):_2(rt)}nt=nt.sibling}e:for(nt=null,rt=l;;){if(rt.tag===5){if(nt===null){nt=rt;try{R=rt.stateNode,Ie?(k=R.style,typeof k.setProperty=="function"?k.setProperty("display","none","important"):k.display="none"):(ue=rt.stateNode,ve=rt.memoizedProps.style,W=ve!=null&&ve.hasOwnProperty("display")?ve.display:null,ue.style.display=zt("display",W))}catch(kt){Ar(l,l.return,kt)}}}else if(rt.tag===6){if(nt===null)try{rt.stateNode.nodeValue=Ie?"":rt.memoizedProps}catch(kt){Ar(l,l.return,kt)}}else if((rt.tag!==22&&rt.tag!==23||rt.memoizedState===null||rt===l)&&rt.child!==null){rt.child.return=rt,rt=rt.child;continue}if(rt===l)break e;for(;rt.sibling===null;){if(rt.return===null||rt.return===l)break e;nt===rt&&(nt=null),rt=rt.return}nt===rt&&(nt=null),rt.sibling.return=rt.return,rt=rt.sibling}}break;case 19:Yo(f,l),Rs(l),M&4&&g2(l);break;case 21:break;default:Yo(f,l),Rs(l)}}function Rs(l){var f=l.flags;if(f&2){try{e:{for(var v=l.return;v!==null;){if(d2(v)){var M=v;break e}v=v.return}throw Error(t(160))}switch(M.tag){case 5:var R=M.stateNode;M.flags&32&&(Ke(R,""),M.flags&=-33);var k=p2(l);yb(l,k,R);break;case 3:case 4:var W=M.stateNode.containerInfo,ue=p2(l);vb(l,ue,W);break;default:throw Error(t(161))}}catch(ve){Ar(l,l.return,ve)}l.flags&=-3}f&4096&&(l.flags&=-4097)}function Wj(l,f,v){Rt=l,y2(l)}function y2(l,f,v){for(var M=(l.mode&1)!==0;Rt!==null;){var R=Rt,k=R.child;if(R.tag===22&&M){var W=R.memoizedState!==null||p0;if(!W){var ue=R.alternate,ve=ue!==null&&ue.memoizedState!==null||ji;ue=p0;var Ie=ji;if(p0=W,(ji=ve)&&!Ie)for(Rt=R;Rt!==null;)W=Rt,ve=W.child,W.tag===22&&W.memoizedState!==null?b2(R):ve!==null?(ve.return=W,Rt=ve):b2(R);for(;k!==null;)Rt=k,y2(k),k=k.sibling;Rt=R,p0=ue,ji=Ie}x2(l)}else(R.subtreeFlags&8772)!==0&&k!==null?(k.return=R,Rt=k):x2(l)}}function x2(l){for(;Rt!==null;){var f=Rt;if((f.flags&8772)!==0){var v=f.alternate;try{if((f.flags&8772)!==0)switch(f.tag){case 0:case 11:case 15:ji||m0(5,f);break;case 1:var M=f.stateNode;if(f.flags&4&&!ji)if(v===null)M.componentDidMount();else{var R=f.elementType===f.type?v.memoizedProps:Wa(f.type,v.memoizedProps);M.componentDidUpdate(R,v.memoizedState,M.__reactInternalSnapshotBeforeUpdate)}var k=f.updateQueue;k!==null&&_r(f,k,M);break;case 3:var W=f.updateQueue;if(W!==null){if(v=null,f.child!==null)switch(f.child.tag){case 5:v=f.child.stateNode;break;case 1:v=f.child.stateNode}_r(f,W,v)}break;case 5:var ue=f.stateNode;if(v===null&&f.flags&4){v=ue;var ve=f.memoizedProps;switch(f.type){case"button":case"input":case"select":case"textarea":ve.autoFocus&&v.focus();break;case"img":ve.src&&(v.src=ve.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(f.memoizedState===null){var Ie=f.alternate;if(Ie!==null){var nt=Ie.memoizedState;if(nt!==null){var rt=nt.dehydrated;rt!==null&&xc(rt)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}ji||f.flags&512&&gb(f)}catch(et){Ar(f,f.return,et)}}if(f===l){Rt=null;break}if(v=f.sibling,v!==null){v.return=f.return,Rt=v;break}Rt=f.return}}function _2(l){for(;Rt!==null;){var f=Rt;if(f===l){Rt=null;break}var v=f.sibling;if(v!==null){v.return=f.return,Rt=v;break}Rt=f.return}}function b2(l){for(;Rt!==null;){var f=Rt;try{switch(f.tag){case 0:case 11:case 15:var v=f.return;try{m0(4,f)}catch(ve){Ar(f,v,ve)}break;case 1:var M=f.stateNode;if(typeof M.componentDidMount=="function"){var R=f.return;try{M.componentDidMount()}catch(ve){Ar(f,R,ve)}}var k=f.return;try{gb(f)}catch(ve){Ar(f,k,ve)}break;case 5:var W=f.return;try{gb(f)}catch(ve){Ar(f,W,ve)}}}catch(ve){Ar(f,f.return,ve)}if(f===l){Rt=null;break}var ue=f.sibling;if(ue!==null){ue.return=f.return,Rt=ue;break}Rt=f.return}}var qj=Math.ceil,g0=T.ReactCurrentDispatcher,xb=T.ReactCurrentOwner,vo=T.ReactCurrentBatchConfig,Cn=0,ci=null,$r=null,Ci=0,Ya=0,Kh=mr(0),ti=0,um=null,qc=0,v0=0,_b=0,cm=null,Pa=null,bb=0,Zh=1/0,yl=null,y0=!1,Sb=null,Eu=null,x0=!1,Au=null,_0=0,fm=0,wb=null,b0=-1,S0=0;function oa(){return(Cn&6)!==0?Ce():b0!==-1?b0:b0=Ce()}function Tu(l){return(l.mode&1)===0?1:(Cn&2)!==0&&Ci!==0?Ci&-Ci:fb.transition!==null?(S0===0&&(S0=Vn()),S0):(l=En,l!==0||(l=window.event,l=l===void 0?16:Bv(l.type)),l)}function Ko(l,f,v,M){if(50<fm)throw fm=0,wb=null,Error(t(185));Pr(l,v,M),((Cn&2)===0||l!==ci)&&(l===ci&&((Cn&2)===0&&(v0|=v),ti===4&&Cu(l,Ci)),Ra(l,M),v===1&&Cn===0&&(f.mode&1)===0&&(Zh=Ce()+500,Lc&&fo()))}function Ra(l,f){var v=l.callbackNode;on(l,f);var M=ln(l,l===ci?Ci:0);if(M===0)v!==null&&Re(v),l.callbackNode=null,l.callbackPriority=0;else if(f=M&-M,l.callbackPriority!==f){if(v!=null&&Re(v),f===1)l.tag===0?Qv(w2.bind(null,l)):kc(w2.bind(null,l)),cb(function(){(Cn&6)===0&&fo()}),v=null;else{switch(Yl(M)){case 1:v=Ze;break;case 4:v=tt;break;case 16:v=Et;break;case 536870912:v=jt;break;default:v=Et}v=O2(v,S2.bind(null,l))}l.callbackPriority=f,l.callbackNode=v}}function S2(l,f){if(b0=-1,S0=0,(Cn&6)!==0)throw Error(t(327));var v=l.callbackNode;if(Jh()&&l.callbackNode!==v)return null;var M=ln(l,l===ci?Ci:0);if(M===0)return null;if((M&30)!==0||(M&l.expiredLanes)!==0||f)f=w0(l,M);else{f=M;var R=Cn;Cn|=2;var k=E2();(ci!==l||Ci!==f)&&(yl=null,Zh=Ce()+500,Xc(l,f));do try{Yj();break}catch(ue){M2(l,ue)}while(!0);pu(),g0.current=k,Cn=R,$r!==null?f=0:(ci=null,Ci=0,f=ti)}if(f!==0){if(f===2&&(R=yn(l),R!==0&&(M=R,f=Mb(l,R))),f===1)throw v=um,Xc(l,0),Cu(l,M),Ra(l,Ce()),v;if(f===6)Cu(l,M);else{if(R=l.current.alternate,(M&30)===0&&!$j(R)&&(f=w0(l,M),f===2&&(k=yn(l),k!==0&&(M=k,f=Mb(l,k))),f===1))throw v=um,Xc(l,0),Cu(l,M),Ra(l,Ce()),v;switch(l.finishedWork=R,l.finishedLanes=M,f){case 0:case 1:throw Error(t(345));case 2:Yc(l,Pa,yl);break;case 3:if(Cu(l,M),(M&130023424)===M&&(f=bb+500-Ce(),10<f)){if(ln(l,0)!==0)break;if(R=l.suspendedLanes,(R&M)!==M){oa(),l.pingedLanes|=l.suspendedLanes&R;break}l.timeoutHandle=Wp(Yc.bind(null,l,Pa,yl),f);break}Yc(l,Pa,yl);break;case 4:if(Cu(l,M),(M&4194240)===M)break;for(f=l.eventTimes,R=-1;0<M;){var W=31-Xt(M);k=1<<W,W=f[W],W>R&&(R=W),M&=~k}if(M=R,M=Ce()-M,M=(120>M?120:480>M?480:1080>M?1080:1920>M?1920:3e3>M?3e3:4320>M?4320:1960*qj(M/1960))-M,10<M){l.timeoutHandle=Wp(Yc.bind(null,l,Pa,yl),M);break}Yc(l,Pa,yl);break;case 5:Yc(l,Pa,yl);break;default:throw Error(t(329))}}}return Ra(l,Ce()),l.callbackNode===v?S2.bind(null,l):null}function Mb(l,f){var v=cm;return l.current.memoizedState.isDehydrated&&(Xc(l,f).flags|=256),l=w0(l,f),l!==2&&(f=Pa,Pa=v,f!==null&&Eb(f)),l}function Eb(l){Pa===null?Pa=l:Pa.push.apply(Pa,l)}function $j(l){for(var f=l;;){if(f.flags&16384){var v=f.updateQueue;if(v!==null&&(v=v.stores,v!==null))for(var M=0;M<v.length;M++){var R=v[M],k=R.getSnapshot;R=R.value;try{if(!ea(k(),R))return!1}catch{return!1}}}if(v=f.child,f.subtreeFlags&16384&&v!==null)v.return=f,f=v;else{if(f===l)break;for(;f.sibling===null;){if(f.return===null||f.return===l)return!0;f=f.return}f.sibling.return=f.return,f=f.sibling}}return!0}function Cu(l,f){for(f&=~_b,f&=~v0,l.suspendedLanes|=f,l.pingedLanes&=~f,l=l.expirationTimes;0<f;){var v=31-Xt(f),M=1<<v;l[v]=-1,f&=~M}}function w2(l){if((Cn&6)!==0)throw Error(t(327));Jh();var f=ln(l,0);if((f&1)===0)return Ra(l,Ce()),null;var v=w0(l,f);if(l.tag!==0&&v===2){var M=yn(l);M!==0&&(f=M,v=Mb(l,M))}if(v===1)throw v=um,Xc(l,0),Cu(l,f),Ra(l,Ce()),v;if(v===6)throw Error(t(345));return l.finishedWork=l.current.alternate,l.finishedLanes=f,Yc(l,Pa,yl),Ra(l,Ce()),null}function Ab(l,f){var v=Cn;Cn|=1;try{return l(f)}finally{Cn=v,Cn===0&&(Zh=Ce()+500,Lc&&fo())}}function $c(l){Au!==null&&Au.tag===0&&(Cn&6)===0&&Jh();var f=Cn;Cn|=1;var v=vo.transition,M=En;try{if(vo.transition=null,En=1,l)return l()}finally{En=M,vo.transition=v,Cn=f,(Cn&6)===0&&fo()}}function Tb(){Ya=Kh.current,Kn(Kh)}function Xc(l,f){l.finishedWork=null,l.finishedLanes=0;var v=l.timeoutHandle;if(v!==-1&&(l.timeoutHandle=-1,qp(v)),$r!==null)for(v=$r.return;v!==null;){var M=v;switch(Vo(M),M.tag){case 1:M=M.type.childContextTypes,M!=null&&Ic();break;case 3:po(),Kn(_i),Kn(Qr),Bi();break;case 5:_u(M);break;case 4:po();break;case 13:Kn(Zn);break;case 19:Kn(Zn);break;case 10:mu(M.type._context);break;case 22:case 23:Tb()}v=v.return}if(ci=l,$r=l=Pu(l.current,null),Ci=Ya=f,ti=0,um=null,_b=v0=qc=0,Pa=cm=null,qa!==null){for(f=0;f<qa.length;f++)if(v=qa[f],M=v.interleaved,M!==null){v.interleaved=null;var R=M.next,k=v.pending;if(k!==null){var W=k.next;k.next=R,M.next=W}v.pending=M}qa=null}return l}function M2(l,f){do{var v=$r;try{if(pu(),gl.current=p,Xa){for(var M=tr.memoizedState;M!==null;){var R=M.queue;R!==null&&(R.pending=null),M=M.next}Xa=!1}if(As=0,qr=br=tr=null,bu=!1,Su=0,xb.current=null,v===null||v.return===null){ti=1,um=f,$r=null;break}e:{var k=l,W=v.return,ue=v,ve=f;if(f=Ci,ue.flags|=32768,ve!==null&&typeof ve=="object"&&typeof ve.then=="function"){var Ie=ve,nt=ue,rt=nt.tag;if((nt.mode&1)===0&&(rt===0||rt===11||rt===15)){var et=nt.alternate;et?(nt.updateQueue=et.updateQueue,nt.memoizedState=et.memoizedState,nt.lanes=et.lanes):(nt.updateQueue=null,nt.memoizedState=null)}var At=nn(W);if(At!==null){At.flags&=-257,Ht(At,W,ue,k,f),At.mode&1&&Ct(k,Ie,f),f=At,ve=Ie;var It=f.updateQueue;if(It===null){var kt=new Set;kt.add(ve),f.updateQueue=kt}else It.add(ve);break e}else{if((f&1)===0){Ct(k,Ie,f),Cb();break e}ve=Error(t(426))}}else if(er&&ue.mode&1){var Nr=nn(W);if(Nr!==null){(Nr.flags&65536)===0&&(Nr.flags|=256),Ht(Nr,W,ue,k,f),du(I(ve,ue));break e}}k=ve=I(ve,ue),ti!==4&&(ti=2),cm===null?cm=[k]:cm.push(k),k=W;do{switch(k.tag){case 3:k.flags|=65536,f&=-f,k.lanes|=f;var Ee=Be(k,ve,f);cn(k,Ee);break e;case 1:ue=ve;var ye=k.type,Te=k.stateNode;if((k.flags&128)===0&&(typeof ye.getDerivedStateFromError=="function"||Te!==null&&typeof Te.componentDidCatch=="function"&&(Eu===null||!Eu.has(Te)))){k.flags|=65536,f&=-f,k.lanes|=f;var lt=ot(k,ue,f);cn(k,lt);break e}}k=k.return}while(k!==null)}T2(v)}catch(Ut){f=Ut,$r===v&&v!==null&&($r=v=v.return);continue}break}while(!0)}function E2(){var l=g0.current;return g0.current=p,l===null?p:l}function Cb(){(ti===0||ti===3||ti===2)&&(ti=4),ci===null||(qc&268435455)===0&&(v0&268435455)===0||Cu(ci,Ci)}function w0(l,f){var v=Cn;Cn|=2;var M=E2();(ci!==l||Ci!==f)&&(yl=null,Xc(l,f));do try{Xj();break}catch(R){M2(l,R)}while(!0);if(pu(),Cn=v,g0.current=M,$r!==null)throw Error(t(261));return ci=null,Ci=0,ti}function Xj(){for(;$r!==null;)A2($r)}function Yj(){for(;$r!==null&&!Le();)A2($r)}function A2(l){var f=R2(l.alternate,l,Ya);l.memoizedProps=l.pendingProps,f===null?T2(l):$r=f,xb.current=null}function T2(l){var f=l;do{var v=f.alternate;if(l=f.return,(f.flags&32768)===0){if(v=jj(v,f,Ya),v!==null){$r=v;return}}else{if(v=Hj(v,f),v!==null){v.flags&=32767,$r=v;return}if(l!==null)l.flags|=32768,l.subtreeFlags=0,l.deletions=null;else{ti=6,$r=null;return}}if(f=f.sibling,f!==null){$r=f;return}$r=f=l}while(f!==null);ti===0&&(ti=5)}function Yc(l,f,v){var M=En,R=vo.transition;try{vo.transition=null,En=1,Kj(l,f,v,M)}finally{vo.transition=R,En=M}return null}function Kj(l,f,v,M){do Jh();while(Au!==null);if((Cn&6)!==0)throw Error(t(327));v=l.finishedWork;var R=l.finishedLanes;if(v===null)return null;if(l.finishedWork=null,l.finishedLanes=0,v===l.current)throw Error(t(177));l.callbackNode=null,l.callbackPriority=0;var k=v.lanes|v.childLanes;if(oo(l,k),l===ci&&($r=ci=null,Ci=0),(v.subtreeFlags&2064)===0&&(v.flags&2064)===0||x0||(x0=!0,O2(Et,function(){return Jh(),null})),k=(v.flags&15990)!==0,(v.subtreeFlags&15990)!==0||k){k=vo.transition,vo.transition=null;var W=En;En=1;var ue=Cn;Cn|=4,xb.current=null,Gj(l,v),v2(v,l),zr(Vp),va=!!cu,Vp=cu=null,l.current=v,Wj(v),Fe(),Cn=ue,En=W,vo.transition=k}else l.current=v;if(x0&&(x0=!1,Au=l,_0=R),k=l.pendingLanes,k===0&&(Eu=null),ht(v.stateNode),Ra(l,Ce()),f!==null)for(M=l.onRecoverableError,v=0;v<f.length;v++)R=f[v],M(R.value,{componentStack:R.stack,digest:R.digest});if(y0)throw y0=!1,l=Sb,Sb=null,l;return(_0&1)!==0&&l.tag!==0&&Jh(),k=l.pendingLanes,(k&1)!==0?l===wb?fm++:(fm=0,wb=l):fm=0,fo(),null}function Jh(){if(Au!==null){var l=Yl(_0),f=vo.transition,v=En;try{if(vo.transition=null,En=16>l?16:l,Au===null)var M=!1;else{if(l=Au,Au=null,_0=0,(Cn&6)!==0)throw Error(t(331));var R=Cn;for(Cn|=4,Rt=l.current;Rt!==null;){var k=Rt,W=k.child;if((Rt.flags&16)!==0){var ue=k.deletions;if(ue!==null){for(var ve=0;ve<ue.length;ve++){var Ie=ue[ve];for(Rt=Ie;Rt!==null;){var nt=Rt;switch(nt.tag){case 0:case 11:case 15:lm(8,nt,k)}var rt=nt.child;if(rt!==null)rt.return=nt,Rt=rt;else for(;Rt!==null;){nt=Rt;var et=nt.sibling,At=nt.return;if(h2(nt),nt===Ie){Rt=null;break}if(et!==null){et.return=At,Rt=et;break}Rt=At}}}var It=k.alternate;if(It!==null){var kt=It.child;if(kt!==null){It.child=null;do{var Nr=kt.sibling;kt.sibling=null,kt=Nr}while(kt!==null)}}Rt=k}}if((k.subtreeFlags&2064)!==0&&W!==null)W.return=k,Rt=W;else e:for(;Rt!==null;){if(k=Rt,(k.flags&2048)!==0)switch(k.tag){case 0:case 11:case 15:lm(9,k,k.return)}var Ee=k.sibling;if(Ee!==null){Ee.return=k.return,Rt=Ee;break e}Rt=k.return}}var ye=l.current;for(Rt=ye;Rt!==null;){W=Rt;var Te=W.child;if((W.subtreeFlags&2064)!==0&&Te!==null)Te.return=W,Rt=Te;else e:for(W=ye;Rt!==null;){if(ue=Rt,(ue.flags&2048)!==0)try{switch(ue.tag){case 0:case 11:case 15:m0(9,ue)}}catch(Ut){Ar(ue,ue.return,Ut)}if(ue===W){Rt=null;break e}var lt=ue.sibling;if(lt!==null){lt.return=ue.return,Rt=lt;break e}Rt=ue.return}}if(Cn=R,fo(),pt&&typeof pt.onPostCommitFiberRoot=="function")try{pt.onPostCommitFiberRoot(Yt,l)}catch{}M=!0}return M}finally{En=v,vo.transition=f}}return!1}function C2(l,f,v){f=I(v,f),f=Be(l,f,1),l=ho(l,f,1),f=oa(),l!==null&&(Pr(l,1,f),Ra(l,f))}function Ar(l,f,v){if(l.tag===3)C2(l,l,v);else for(;f!==null;){if(f.tag===3){C2(f,l,v);break}else if(f.tag===1){var M=f.stateNode;if(typeof f.type.getDerivedStateFromError=="function"||typeof M.componentDidCatch=="function"&&(Eu===null||!Eu.has(M))){l=I(v,l),l=ot(f,l,1),f=ho(f,l,1),l=oa(),f!==null&&(Pr(f,1,l),Ra(f,l));break}}f=f.return}}function Zj(l,f,v){var M=l.pingCache;M!==null&&M.delete(f),f=oa(),l.pingedLanes|=l.suspendedLanes&v,ci===l&&(Ci&v)===v&&(ti===4||ti===3&&(Ci&130023424)===Ci&&500>Ce()-bb?Xc(l,0):_b|=v),Ra(l,f)}function P2(l,f){f===0&&((l.mode&1)===0?f=1:(f=Hn,Hn<<=1,(Hn&130023424)===0&&(Hn=4194304)));var v=oa();l=$a(l,f),l!==null&&(Pr(l,f,v),Ra(l,v))}function Jj(l){var f=l.memoizedState,v=0;f!==null&&(v=f.retryLane),P2(l,v)}function Qj(l,f){var v=0;switch(l.tag){case 13:var M=l.stateNode,R=l.memoizedState;R!==null&&(v=R.retryLane);break;case 19:M=l.stateNode;break;default:throw Error(t(314))}M!==null&&M.delete(f),P2(l,v)}var R2;R2=function(l,f,v){if(l!==null)if(l.memoizedProps!==f.pendingProps||_i.current)St=!0;else{if((l.lanes&v)===0&&(f.flags&128)===0)return St=!1,zj(l,f,v);St=(l.flags&131072)!==0}else St=!1,er&&(f.flags&1048576)!==0&&Zp(f,Nh,f.index);switch(f.lanes=0,f.tag){case 2:var M=f.type;d0(l,f),l=f.pendingProps;var R=ll(f,Qr.current);Go(f,v),R=Hh(null,f,M,l,R,v);var k=zc();return f.flags|=1,typeof R=="object"&&R!==null&&typeof R.render=="function"&&R.$$typeof===void 0?(f.tag=1,f.memoizedState=null,f.updateQueue=null,li(M)?(k=!0,ul(f)):k=!1,f.memoizedState=R.state!==null&&R.state!==void 0?R.state:null,Bc(f),R.updater=qo,f.stateNode=R,R._reactInternals=f,yu(f,M,l,v),f=Jt(null,f,M,!0,k,v)):(f.tag=0,er&&k&&Jp(f),On(null,f,R,v),f=f.child),f;case 16:M=f.elementType;e:{switch(d0(l,f),l=f.pendingProps,R=M._init,M=R(M._payload),f.type=M,R=f.tag=tH(M),l=Wa(M,l),R){case 0:f=Lt(null,f,M,l,v);break e;case 1:f=un(null,f,M,l,v);break e;case 11:f=aa(null,f,M,l,v);break e;case 14:f=Pe(null,f,M,Wa(M.type,l),v);break e}throw Error(t(306,M,""))}return f;case 0:return M=f.type,R=f.pendingProps,R=f.elementType===M?R:Wa(M,R),Lt(l,f,M,R,v);case 1:return M=f.type,R=f.pendingProps,R=f.elementType===M?R:Wa(M,R),un(l,f,M,R,v);case 3:e:{if(Mn(f),l===null)throw Error(t(387));M=f.pendingProps,k=f.memoizedState,R=k.element,e0(l,f),cr(f,M,null,v);var W=f.memoizedState;if(M=W.element,k.isDehydrated)if(k={element:M,isDehydrated:!1,cache:W.cache,pendingSuspenseBoundaries:W.pendingSuspenseBoundaries,transitions:W.transitions},f.updateQueue.baseState=k,f.memoizedState=k,f.flags&256){R=I(Error(t(423)),f),f=Ir(l,f,M,v,R);break e}else if(M!==R){R=I(Error(t(424)),f),f=Ir(l,f,M,v,R);break e}else for(Si=Fo(f.stateNode.containerInfo.firstChild),ei=f,er=!0,Ma=null,v=ml(f,null,M,v),f.child=v;v;)v.flags=v.flags&-3|4096,v=v.sibling;else{if(bs(),M===R){f=vl(l,f,v);break e}On(l,f,M,v)}f=f.child}return f;case 5:return zh(f),l===null&&kh(f),M=f.type,R=f.pendingProps,k=l!==null?l.memoizedProps:null,W=R.children,Gp(M,R)?W=null:k!==null&&Gp(M,k)&&(f.flags|=32),xt(l,f),On(l,f,W,v),f.child;case 6:return l===null&&kh(f),null;case 13:return f0(l,f,v);case 4:return xu(f,f.stateNode.containerInfo),M=f.pendingProps,l===null?f.child=ws(f,null,M,v):On(l,f,M,v),f.child;case 11:return M=f.type,R=f.pendingProps,R=f.elementType===M?R:Wa(M,R),aa(l,f,M,R,v);case 7:return On(l,f,f.pendingProps,v),f.child;case 8:return On(l,f,f.pendingProps.children,v),f.child;case 12:return On(l,f,f.pendingProps.children,v),f.child;case 10:e:{if(M=f.type._context,R=f.pendingProps,k=f.memoizedProps,W=R.value,Gn(Dc,M._currentValue),M._currentValue=W,k!==null)if(ea(k.value,W)){if(k.children===R.children&&!_i.current){f=vl(l,f,v);break e}}else for(k=f.child,k!==null&&(k.return=f);k!==null;){var ue=k.dependencies;if(ue!==null){W=k.child;for(var ve=ue.firstContext;ve!==null;){if(ve.context===M){if(k.tag===1){ve=Ea(-1,v&-v),ve.tag=2;var Ie=k.updateQueue;if(Ie!==null){Ie=Ie.shared;var nt=Ie.pending;nt===null?ve.next=ve:(ve.next=nt.next,nt.next=ve),Ie.pending=ve}}k.lanes|=v,ve=k.alternate,ve!==null&&(ve.lanes|=v),gu(k.return,v,f),ue.lanes|=v;break}ve=ve.next}}else if(k.tag===10)W=k.type===f.type?null:k.child;else if(k.tag===18){if(W=k.return,W===null)throw Error(t(341));W.lanes|=v,ue=W.alternate,ue!==null&&(ue.lanes|=v),gu(W,v,f),W=k.sibling}else W=k.child;if(W!==null)W.return=k;else for(W=k;W!==null;){if(W===f){W=null;break}if(k=W.sibling,k!==null){k.return=W.return,W=k;break}W=W.return}k=W}On(l,f,R.children,v),f=f.child}return f;case 9:return R=f.type,M=f.pendingProps.children,Go(f,v),R=wi(R),M=M(R),f.flags|=1,On(l,f,M,v),f.child;case 14:return M=f.type,R=Wa(M,f.pendingProps),R=Wa(M.type,R),Pe(l,f,M,R,v);case 15:return Se(l,f,f.type,f.pendingProps,v);case 17:return M=f.type,R=f.pendingProps,R=f.elementType===M?R:Wa(M,R),d0(l,f),f.tag=1,li(M)?(l=!0,ul(f)):l=!1,Go(f,v),vu(f,M,R),yu(f,M,R,v),Jt(null,f,M,!0,l,v);case 19:return s2(l,f,v);case 22:return De(l,f,v)}throw Error(t(156,f.tag))};function O2(l,f){return fe(l,f)}function eH(l,f,v,M){this.tag=l,this.key=v,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=f,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=M,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function yo(l,f,v,M){return new eH(l,f,v,M)}function Pb(l){return l=l.prototype,!(!l||!l.isReactComponent)}function tH(l){if(typeof l=="function")return Pb(l)?1:0;if(l!=null){if(l=l.$$typeof,l===q)return 11;if(l===te)return 14}return 2}function Pu(l,f){var v=l.alternate;return v===null?(v=yo(l.tag,f,l.key,l.mode),v.elementType=l.elementType,v.type=l.type,v.stateNode=l.stateNode,v.alternate=l,l.alternate=v):(v.pendingProps=f,v.type=l.type,v.flags=0,v.subtreeFlags=0,v.deletions=null),v.flags=l.flags&14680064,v.childLanes=l.childLanes,v.lanes=l.lanes,v.child=l.child,v.memoizedProps=l.memoizedProps,v.memoizedState=l.memoizedState,v.updateQueue=l.updateQueue,f=l.dependencies,v.dependencies=f===null?null:{lanes:f.lanes,firstContext:f.firstContext},v.sibling=l.sibling,v.index=l.index,v.ref=l.ref,v}function M0(l,f,v,M,R,k){var W=2;if(M=l,typeof l=="function")Pb(l)&&(W=1);else if(typeof l=="string")W=5;else e:switch(l){case N:return Kc(v.children,R,k,f);case F:W=8,R|=8;break;case D:return l=yo(12,v,f,R|2),l.elementType=D,l.lanes=k,l;case Q:return l=yo(13,v,f,R),l.elementType=Q,l.lanes=k,l;case H:return l=yo(19,v,f,R),l.elementType=H,l.lanes=k,l;case he:return E0(v,R,k,f);default:if(typeof l=="object"&&l!==null)switch(l.$$typeof){case U:W=10;break e;case G:W=9;break e;case q:W=11;break e;case te:W=14;break e;case Z:W=16,M=null;break e}throw Error(t(130,l==null?l:typeof l,""))}return f=yo(W,v,f,R),f.elementType=l,f.type=M,f.lanes=k,f}function Kc(l,f,v,M){return l=yo(7,l,M,f),l.lanes=v,l}function E0(l,f,v,M){return l=yo(22,l,M,f),l.elementType=he,l.lanes=v,l.stateNode={isHidden:!1},l}function Rb(l,f,v){return l=yo(6,l,null,f),l.lanes=v,l}function Ob(l,f,v){return f=yo(4,l.children!==null?l.children:[],l.key,f),f.lanes=v,f.stateNode={containerInfo:l.containerInfo,pendingChildren:null,implementation:l.implementation},f}function nH(l,f,v,M,R){this.tag=f,this.containerInfo=l,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ni(0),this.expirationTimes=Ni(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ni(0),this.identifierPrefix=M,this.onRecoverableError=R,this.mutableSourceEagerHydrationData=null}function Ib(l,f,v,M,R,k,W,ue,ve){return l=new nH(l,f,v,ue,ve),f===1?(f=1,k===!0&&(f|=8)):f=0,k=yo(3,null,null,f),l.current=k,k.stateNode=l,k.memoizedState={element:M,isDehydrated:v,cache:null,transitions:null,pendingSuspenseBoundaries:null},Bc(k),l}function rH(l,f,v){var M=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:O,key:M==null?null:""+M,children:l,containerInfo:f,implementation:v}}function I2(l){if(!l)return zo;l=l._reactInternals;e:{if(Y(l)!==l||l.tag!==1)throw Error(t(170));var f=l;do{switch(f.tag){case 3:f=f.stateNode.context;break e;case 1:if(li(f.type)){f=f.stateNode.__reactInternalMemoizedMergedChildContext;break e}}f=f.return}while(f!==null);throw Error(t(171))}if(l.tag===1){var v=l.type;if(li(v))return Nc(l,v,f)}return f}function N2(l,f,v,M,R,k,W,ue,ve){return l=Ib(v,M,!0,l,R,k,W,ue,ve),l.context=I2(null),v=l.current,M=oa(),R=Tu(v),k=Ea(M,R),k.callback=f??null,ho(v,k,R),l.current.lanes=R,Pr(l,R,M),Ra(l,M),l}function A0(l,f,v,M){var R=f.current,k=oa(),W=Tu(R);return v=I2(v),f.context===null?f.context=v:f.pendingContext=v,f=Ea(k,W),f.payload={element:l},M=M===void 0?null:M,M!==null&&(f.callback=M),l=ho(R,f,W),l!==null&&(Ko(l,R,W,k),ir(l,R,W)),W}function T0(l){if(l=l.current,!l.child)return null;switch(l.child.tag){case 5:return l.child.stateNode;default:return l.child.stateNode}}function L2(l,f){if(l=l.memoizedState,l!==null&&l.dehydrated!==null){var v=l.retryLane;l.retryLane=v!==0&&v<f?v:f}}function Nb(l,f){L2(l,f),(l=l.alternate)&&L2(l,f)}function iH(){return null}var k2=typeof reportError=="function"?reportError:function(l){console.error(l)};function Lb(l){this._internalRoot=l}C0.prototype.render=Lb.prototype.render=function(l){var f=this._internalRoot;if(f===null)throw Error(t(409));A0(l,f,null,null)},C0.prototype.unmount=Lb.prototype.unmount=function(){var l=this._internalRoot;if(l!==null){this._internalRoot=null;var f=l.containerInfo;$c(function(){A0(null,l,null,null)}),f[na]=null}};function C0(l){this._internalRoot=l}C0.prototype.unstable_scheduleHydration=function(l){if(l){var f=Jf();l={blockedOn:null,target:l,priority:f};for(var v=0;v<ds.length&&f!==0&&f<ds[v].priority;v++);ds.splice(v,0,l),v===0&&th(l)}};function kb(l){return!(!l||l.nodeType!==1&&l.nodeType!==9&&l.nodeType!==11)}function P0(l){return!(!l||l.nodeType!==1&&l.nodeType!==9&&l.nodeType!==11&&(l.nodeType!==8||l.nodeValue!==" react-mount-point-unstable "))}function D2(){}function aH(l,f,v,M,R){if(R){if(typeof M=="function"){var k=M;M=function(){var Ie=T0(W);k.call(Ie)}}var W=N2(f,M,l,0,null,!1,!1,"",D2);return l._reactRootContainer=W,l[na]=W.current,lu(l.nodeType===8?l.parentNode:l),$c(),W}for(;R=l.lastChild;)l.removeChild(R);if(typeof M=="function"){var ue=M;M=function(){var Ie=T0(ve);ue.call(Ie)}}var ve=Ib(l,0,!1,null,null,!1,!1,"",D2);return l._reactRootContainer=ve,l[na]=ve.current,lu(l.nodeType===8?l.parentNode:l),$c(function(){A0(f,ve,v,M)}),ve}function R0(l,f,v,M,R){var k=v._reactRootContainer;if(k){var W=k;if(typeof R=="function"){var ue=R;R=function(){var ve=T0(W);ue.call(ve)}}A0(f,W,l,R)}else W=aH(v,f,l,R,M);return T0(W)}gc=function(l){switch(l.tag){case 3:var f=l.stateNode;if(f.current.memoizedState.isDehydrated){var v=vn(f.pendingLanes);v!==0&&(Xl(f,v|1),Ra(f,Ce()),(Cn&6)===0&&(Zh=Ce()+500,fo()))}break;case 13:$c(function(){var M=$a(l,1);if(M!==null){var R=oa();Ko(M,l,1,R)}}),Nb(l,1)}},Ap=function(l){if(l.tag===13){var f=$a(l,134217728);if(f!==null){var v=oa();Ko(f,l,134217728,v)}Nb(l,134217728)}},Fv=function(l){if(l.tag===13){var f=Tu(l),v=$a(l,f);if(v!==null){var M=oa();Ko(v,l,f,M)}Nb(l,f)}},Jf=function(){return En},Qf=function(l,f){var v=En;try{return En=l,f()}finally{En=v}},Me=function(l,f,v){switch(f){case"input":if(gt(l,v),f=v.name,v.type==="radio"&&f!=null){for(v=l;v.parentNode;)v=v.parentNode;for(v=v.querySelectorAll("input[name="+JSON.stringify(""+f)+'][type="radio"]'),f=0;f<v.length;f++){var M=v[f];if(M!==l&&M.form===l.form){var R=Rh(M);if(!R)throw Error(t(90));K(M),gt(M,R)}}}break;case"textarea":Ge(l,v);break;case"select":f=v.value,f!=null&&we(l,!!v.multiple,f,!1)}},sn=Ab,gn=$c;var oH={usingClientEntryPoint:!1,Events:[Bo,xr,Rh,Bt,Pt,Ab]},hm={findFiberByHostInstance:_s,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},sH={bundleType:hm.bundleType,version:hm.version,rendererPackageName:hm.rendererPackageName,rendererConfig:hm.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:T.ReactCurrentDispatcher,findHostInstanceByFiber:function(l){return l=oe(l),l===null?null:l.stateNode},findFiberByHostInstance:hm.findFiberByHostInstance||iH,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var O0=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!O0.isDisabled&&O0.supportsFiber)try{Yt=O0.inject(sH),pt=O0}catch{}}return Oa.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=oH,Oa.createPortal=function(l,f){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!kb(f))throw Error(t(200));return rH(l,f,null,v)},Oa.createRoot=function(l,f){if(!kb(l))throw Error(t(299));var v=!1,M="",R=k2;return f!=null&&(f.unstable_strictMode===!0&&(v=!0),f.identifierPrefix!==void 0&&(M=f.identifierPrefix),f.onRecoverableError!==void 0&&(R=f.onRecoverableError)),f=Ib(l,1,!1,null,null,v,!1,M,R),l[na]=f.current,lu(l.nodeType===8?l.parentNode:l),new Lb(f)},Oa.findDOMNode=function(l){if(l==null)return null;if(l.nodeType===1)return l;var f=l._reactInternals;if(f===void 0)throw typeof l.render=="function"?Error(t(188)):(l=Object.keys(l).join(","),Error(t(268,l)));return l=oe(f),l=l===null?null:l.stateNode,l},Oa.flushSync=function(l){return $c(l)},Oa.hydrate=function(l,f,v){if(!P0(f))throw Error(t(200));return R0(null,l,f,!0,v)},Oa.hydrateRoot=function(l,f,v){if(!kb(l))throw Error(t(405));var M=v!=null&&v.hydratedSources||null,R=!1,k="",W=k2;if(v!=null&&(v.unstable_strictMode===!0&&(R=!0),v.identifierPrefix!==void 0&&(k=v.identifierPrefix),v.onRecoverableError!==void 0&&(W=v.onRecoverableError)),f=N2(f,null,l,1,v??null,R,!1,k,W),l[na]=f.current,lu(l),M)for(l=0;l<M.length;l++)v=M[l],R=v._getVersion,R=R(v._source),f.mutableSourceEagerHydrationData==null?f.mutableSourceEagerHydrationData=[v,R]:f.mutableSourceEagerHydrationData.push(v,R);return new C0(f)},Oa.render=function(l,f,v){if(!P0(f))throw Error(t(200));return R0(null,l,f,!1,v)},Oa.unmountComponentAtNode=function(l){if(!P0(l))throw Error(t(40));return l._reactRootContainer?($c(function(){R0(null,null,l,!1,function(){l._reactRootContainer=null,l[na]=null})}),!0):!1},Oa.unstable_batchedUpdates=Ab,Oa.unstable_renderSubtreeIntoContainer=function(l,f,v,M){if(!P0(v))throw Error(t(200));if(l==null||l._reactInternals===void 0)throw Error(t(38));return R0(l,f,v,!1,M)},Oa.version="18.2.0-next-9e3b772b8-20220608",Oa}var G2;function jU(){if(G2)return Fb.exports;G2=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Fb.exports=gH(),Fb.exports}var W2;function vH(){if(W2)return N0;W2=1;var n=jU();return N0.createRoot=n.createRoot,N0.hydrateRoot=n.hydrateRoot,N0}var yH=vH();const xH=Xn(yH);jU();/**
 * @remix-run/router v1.15.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function rg(){return rg=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},rg.apply(this,arguments)}var Gu;(function(n){n.Pop="POP",n.Push="PUSH",n.Replace="REPLACE"})(Gu||(Gu={}));const q2="popstate";function _H(n){n===void 0&&(n={});function e(i,a){let{pathname:o="/",search:s="",hash:u=""}=zf(i.location.hash.substr(1));return!o.startsWith("/")&&!o.startsWith(".")&&(o="/"+o),GE("",{pathname:o,search:s,hash:u},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function t(i,a){let o=i.document.querySelector("base"),s="";if(o&&o.getAttribute("href")){let u=i.location.href,c=u.indexOf("#");s=c===-1?u:u.slice(0,c)}return s+"#"+(typeof a=="string"?a:nx(a))}function r(i,a){JT(i.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(a)+")")}return SH(e,t,r,n)}function Yr(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function JT(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function bH(){return Math.random().toString(36).substr(2,8)}function $2(n,e){return{usr:n.state,key:n.key,idx:e}}function GE(n,e,t,r){return t===void 0&&(t=null),rg({pathname:typeof n=="string"?n:n.pathname,search:"",hash:""},typeof e=="string"?zf(e):e,{state:t,key:e&&e.key||r||bH()})}function nx(n){let{pathname:e="/",search:t="",hash:r=""}=n;return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function zf(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substr(t),n=n.substr(0,t));let r=n.indexOf("?");r>=0&&(e.search=n.substr(r),n=n.substr(0,r)),n&&(e.pathname=n)}return e}function SH(n,e,t,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:a=!1}=r,o=i.history,s=Gu.Pop,u=null,c=h();c==null&&(c=0,o.replaceState(rg({},o.state,{idx:c}),""));function h(){return(o.state||{idx:null}).idx}function d(){s=Gu.Pop;let x=h(),_=x==null?null:x-c;c=x,u&&u({action:s,location:S.location,delta:_})}function g(x,_){s=Gu.Push;let E=GE(S.location,x,_);t&&t(E,x),c=h()+1;let A=$2(E,c),T=S.createHref(E);try{o.pushState(A,"",T)}catch(P){if(P instanceof DOMException&&P.name==="DataCloneError")throw P;i.location.assign(T)}a&&u&&u({action:s,location:S.location,delta:1})}function y(x,_){s=Gu.Replace;let E=GE(S.location,x,_);t&&t(E,x),c=h();let A=$2(E,c),T=S.createHref(E);o.replaceState(A,"",T),a&&u&&u({action:s,location:S.location,delta:0})}function b(x){let _=i.location.origin!=="null"?i.location.origin:i.location.href,E=typeof x=="string"?x:nx(x);return E=E.replace(/ $/,"%20"),Yr(_,"No window.location.(origin|href) available to create URL for href: "+E),new URL(E,_)}let S={get action(){return s},get location(){return n(i,o)},listen(x){if(u)throw new Error("A history only accepts one active listener");return i.addEventListener(q2,d),u=x,()=>{i.removeEventListener(q2,d),u=null}},createHref(x){return e(i,x)},createURL:b,encodeLocation(x){let _=b(x);return{pathname:_.pathname,search:_.search,hash:_.hash}},push:g,replace:y,go(x){return o.go(x)}};return S}var X2;(function(n){n.data="data",n.deferred="deferred",n.redirect="redirect",n.error="error"})(X2||(X2={}));function wH(n,e,t){t===void 0&&(t="/");let r=typeof e=="string"?zf(e):e,i=QT(r.pathname||"/",t);if(i==null)return null;let a=HU(n);MH(a);let o=null;for(let s=0;o==null&&s<a.length;++s){let u=DH(i);o=NH(a[s],u)}return o}function HU(n,e,t,r){e===void 0&&(e=[]),t===void 0&&(t=[]),r===void 0&&(r="");let i=(a,o,s)=>{let u={relativePath:s===void 0?a.path||"":s,caseSensitive:a.caseSensitive===!0,childrenIndex:o,route:a};u.relativePath.startsWith("/")&&(Yr(u.relativePath.startsWith(r),'Absolute route path "'+u.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),u.relativePath=u.relativePath.slice(r.length));let c=Xu([r,u.relativePath]),h=t.concat(u);a.children&&a.children.length>0&&(Yr(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),HU(a.children,e,h,c)),!(a.path==null&&!a.index)&&e.push({path:c,score:OH(c,a.index),routesMeta:h})};return n.forEach((a,o)=>{var s;if(a.path===""||!((s=a.path)!=null&&s.includes("?")))i(a,o);else for(let u of VU(a.path))i(a,o,u)}),e}function VU(n){let e=n.split("/");if(e.length===0)return[];let[t,...r]=e,i=t.endsWith("?"),a=t.replace(/\?$/,"");if(r.length===0)return i?[a,""]:[a];let o=VU(r.join("/")),s=[];return s.push(...o.map(u=>u===""?a:[a,u].join("/"))),i&&s.push(...o),s.map(u=>n.startsWith("/")&&u===""?"/":u)}function MH(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:IH(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}const EH=/^:[\w-]+$/,AH=3,TH=2,CH=1,PH=10,RH=-2,Y2=n=>n==="*";function OH(n,e){let t=n.split("/"),r=t.length;return t.some(Y2)&&(r+=RH),e&&(r+=TH),t.filter(i=>!Y2(i)).reduce((i,a)=>i+(EH.test(a)?AH:a===""?CH:PH),r)}function IH(n,e){return n.length===e.length&&n.slice(0,-1).every((r,i)=>r===e[i])?n[n.length-1]-e[e.length-1]:0}function NH(n,e){let{routesMeta:t}=n,r={},i="/",a=[];for(let o=0;o<t.length;++o){let s=t[o],u=o===t.length-1,c=i==="/"?e:e.slice(i.length)||"/",h=LH({path:s.relativePath,caseSensitive:s.caseSensitive,end:u},c);if(!h)return null;Object.assign(r,h.params);let d=s.route;a.push({params:r,pathname:Xu([i,h.pathname]),pathnameBase:zH(Xu([i,h.pathnameBase])),route:d}),h.pathnameBase!=="/"&&(i=Xu([i,h.pathnameBase]))}return a}function LH(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=kH(n.path,n.caseSensitive,n.end),i=e.match(t);if(!i)return null;let a=i[0],o=a.replace(/(.)\/+$/,"$1"),s=i.slice(1);return{params:r.reduce((c,h,d)=>{let{paramName:g,isOptional:y}=h;if(g==="*"){let S=s[d]||"";o=a.slice(0,a.length-S.length).replace(/(.)\/+$/,"$1")}const b=s[d];return y&&!b?c[g]=void 0:c[g]=(b||"").replace(/%2F/g,"/"),c},{}),pathname:a,pathnameBase:o,pattern:n}}function kH(n,e,t){e===void 0&&(e=!1),t===void 0&&(t=!0),JT(n==="*"||!n.endsWith("*")||n.endsWith("/*"),'Route path "'+n+'" will be treated as if it were '+('"'+n.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+n.replace(/\*$/,"/*")+'".'));let r=[],i="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,s,u)=>(r.push({paramName:s,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(r.push({paramName:"*"}),i+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?i+="\\/*$":n!==""&&n!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function DH(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return JT(!1,'The URL path "'+n+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),n}}function QT(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&r!=="/"?null:n.slice(t)||"/"}function UH(n,e){e===void 0&&(e="/");let{pathname:t,search:r="",hash:i=""}=typeof n=="string"?zf(n):n;return{pathname:t?t.startsWith("/")?t:FH(t,e):e,search:jH(r),hash:HH(i)}}function FH(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(i=>{i===".."?t.length>1&&t.pop():i!=="."&&t.push(i)}),t.length>1?t.join("/"):"/"}function jb(n,e,t,r){return"Cannot include a '"+n+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+t+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function BH(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function GU(n,e){let t=BH(n);return e?t.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):t.map(r=>r.pathnameBase)}function WU(n,e,t,r){r===void 0&&(r=!1);let i;typeof n=="string"?i=zf(n):(i=rg({},n),Yr(!i.pathname||!i.pathname.includes("?"),jb("?","pathname","search",i)),Yr(!i.pathname||!i.pathname.includes("#"),jb("#","pathname","hash",i)),Yr(!i.search||!i.search.includes("#"),jb("#","search","hash",i)));let a=n===""||i.pathname==="",o=a?"/":i.pathname,s;if(o==null)s=t;else{let d=e.length-1;if(!r&&o.startsWith("..")){let g=o.split("/");for(;g[0]==="..";)g.shift(),d-=1;i.pathname=g.join("/")}s=d>=0?e[d]:"/"}let u=UH(i,s),c=o&&o!=="/"&&o.endsWith("/"),h=(a||o===".")&&t.endsWith("/");return!u.pathname.endsWith("/")&&(c||h)&&(u.pathname+="/"),u}const Xu=n=>n.join("/").replace(/\/\/+/g,"/"),zH=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),jH=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,HH=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function VH(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}const qU=["post","put","patch","delete"];new Set(qU);const GH=["get",...qU];new Set(GH);/**
 * React Router v6.22.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ig(){return ig=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},ig.apply(this,arguments)}const eC=ee.createContext(null),WH=ee.createContext(null),jf=ee.createContext(null),i_=ee.createContext(null),ac=ee.createContext({outlet:null,matches:[],isDataRoute:!1}),$U=ee.createContext(null);function qH(n,e){let{relative:t}=e===void 0?{}:e;hv()||Yr(!1);let{basename:r,navigator:i}=ee.useContext(jf),{hash:a,pathname:o,search:s}=KU(n,{relative:t}),u=o;return r!=="/"&&(u=o==="/"?r:Xu([r,o])),i.createHref({pathname:u,search:s,hash:a})}function hv(){return ee.useContext(i_)!=null}function cp(){return hv()||Yr(!1),ee.useContext(i_).location}function XU(n){ee.useContext(jf).static||ee.useLayoutEffect(n)}function YU(){let{isDataRoute:n}=ee.useContext(ac);return n?o8():$H()}function $H(){hv()||Yr(!1);let n=ee.useContext(eC),{basename:e,future:t,navigator:r}=ee.useContext(jf),{matches:i}=ee.useContext(ac),{pathname:a}=cp(),o=JSON.stringify(GU(i,t.v7_relativeSplatPath)),s=ee.useRef(!1);return XU(()=>{s.current=!0}),ee.useCallback(function(c,h){if(h===void 0&&(h={}),!s.current)return;if(typeof c=="number"){r.go(c);return}let d=WU(c,JSON.parse(o),a,h.relative==="path");n==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:Xu([e,d.pathname])),(h.replace?r.replace:r.push)(d,h.state,h)},[e,r,o,a,n])}function XH(){let{matches:n}=ee.useContext(ac),e=n[n.length-1];return e?e.params:{}}function KU(n,e){let{relative:t}=e===void 0?{}:e,{future:r}=ee.useContext(jf),{matches:i}=ee.useContext(ac),{pathname:a}=cp(),o=JSON.stringify(GU(i,r.v7_relativeSplatPath));return ee.useMemo(()=>WU(n,JSON.parse(o),a,t==="path"),[n,o,a,t])}function YH(n,e){return KH(n,e)}function KH(n,e,t,r){hv()||Yr(!1);let{navigator:i}=ee.useContext(jf),{matches:a}=ee.useContext(ac),o=a[a.length-1],s=o?o.params:{};o&&o.pathname;let u=o?o.pathnameBase:"/";o&&o.route;let c=cp(),h;if(e){var d;let x=typeof e=="string"?zf(e):e;u==="/"||(d=x.pathname)!=null&&d.startsWith(u)||Yr(!1),h=x}else h=c;let g=h.pathname||"/",y=g;if(u!=="/"){let x=u.replace(/^\//,"").split("/");y="/"+g.replace(/^\//,"").split("/").slice(x.length).join("/")}let b=wH(n,{pathname:y}),S=t8(b&&b.map(x=>Object.assign({},x,{params:Object.assign({},s,x.params),pathname:Xu([u,i.encodeLocation?i.encodeLocation(x.pathname).pathname:x.pathname]),pathnameBase:x.pathnameBase==="/"?u:Xu([u,i.encodeLocation?i.encodeLocation(x.pathnameBase).pathname:x.pathnameBase])})),a,t,r);return e&&S?ee.createElement(i_.Provider,{value:{location:ig({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:Gu.Pop}},S):S}function ZH(){let n=a8(),e=VH(n)?n.status+" "+n.statusText:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return ee.createElement(ee.Fragment,null,ee.createElement("h2",null,"Unexpected Application Error!"),ee.createElement("h3",{style:{fontStyle:"italic"}},e),t?ee.createElement("pre",{style:i},t):null,null)}const JH=ee.createElement(ZH,null);class QH extends ee.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?ee.createElement(ac.Provider,{value:this.props.routeContext},ee.createElement($U.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function e8(n){let{routeContext:e,match:t,children:r}=n,i=ee.useContext(eC);return i&&i.static&&i.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=t.route.id),ee.createElement(ac.Provider,{value:e},r)}function t8(n,e,t,r){var i;if(e===void 0&&(e=[]),t===void 0&&(t=null),r===void 0&&(r=null),n==null){var a;if((a=t)!=null&&a.errors)n=t.matches;else return null}let o=n,s=(i=t)==null?void 0:i.errors;if(s!=null){let h=o.findIndex(d=>d.route.id&&(s==null?void 0:s[d.route.id]));h>=0||Yr(!1),o=o.slice(0,Math.min(o.length,h+1))}let u=!1,c=-1;if(t&&r&&r.v7_partialHydration)for(let h=0;h<o.length;h++){let d=o[h];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(c=h),d.route.id){let{loaderData:g,errors:y}=t,b=d.route.loader&&g[d.route.id]===void 0&&(!y||y[d.route.id]===void 0);if(d.route.lazy||b){u=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((h,d,g)=>{let y,b=!1,S=null,x=null;t&&(y=s&&d.route.id?s[d.route.id]:void 0,S=d.route.errorElement||JH,u&&(c<0&&g===0?(s8("route-fallback"),b=!0,x=null):c===g&&(b=!0,x=d.route.hydrateFallbackElement||null)));let _=e.concat(o.slice(0,g+1)),E=()=>{let A;return y?A=S:b?A=x:d.route.Component?A=ee.createElement(d.route.Component,null):d.route.element?A=d.route.element:A=h,ee.createElement(e8,{match:d,routeContext:{outlet:h,matches:_,isDataRoute:t!=null},children:A})};return t&&(d.route.ErrorBoundary||d.route.errorElement||g===0)?ee.createElement(QH,{location:t.location,revalidation:t.revalidation,component:S,error:y,children:E(),routeContext:{outlet:null,matches:_,isDataRoute:!0}}):E()},null)}var ZU=(function(n){return n.UseBlocker="useBlocker",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n})(ZU||{}),JU=(function(n){return n.UseBlocker="useBlocker",n.UseLoaderData="useLoaderData",n.UseActionData="useActionData",n.UseRouteError="useRouteError",n.UseNavigation="useNavigation",n.UseRouteLoaderData="useRouteLoaderData",n.UseMatches="useMatches",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n.UseRouteId="useRouteId",n})(JU||{});function n8(n){let e=ee.useContext(eC);return e||Yr(!1),e}function r8(n){let e=ee.useContext(WH);return e||Yr(!1),e}function i8(n){let e=ee.useContext(ac);return e||Yr(!1),e}function QU(n){let e=i8(),t=e.matches[e.matches.length-1];return t.route.id||Yr(!1),t.route.id}function a8(){var n;let e=ee.useContext($U),t=r8(),r=QU();return e!==void 0?e:(n=t.errors)==null?void 0:n[r]}function o8(){let{router:n}=n8(ZU.UseNavigateStable),e=QU(JU.UseNavigateStable),t=ee.useRef(!1);return XU(()=>{t.current=!0}),ee.useCallback(function(i,a){a===void 0&&(a={}),t.current&&(typeof i=="number"?n.navigate(i):n.navigate(i,ig({fromRouteId:e},a)))},[n,e])}const K2={};function s8(n,e,t){K2[n]||(K2[n]=!0)}function Ed(n){Yr(!1)}function l8(n){let{basename:e="/",children:t=null,location:r,navigationType:i=Gu.Pop,navigator:a,static:o=!1,future:s}=n;hv()&&Yr(!1);let u=e.replace(/^\/*/,"/"),c=ee.useMemo(()=>({basename:u,navigator:a,static:o,future:ig({v7_relativeSplatPath:!1},s)}),[u,s,a,o]);typeof r=="string"&&(r=zf(r));let{pathname:h="/",search:d="",hash:g="",state:y=null,key:b="default"}=r,S=ee.useMemo(()=>{let x=QT(h,u);return x==null?null:{location:{pathname:x,search:d,hash:g,state:y,key:b},navigationType:i}},[u,h,d,g,y,b,i]);return S==null?null:ee.createElement(jf.Provider,{value:c},ee.createElement(i_.Provider,{children:t,value:S}))}function u8(n){let{children:e,location:t}=n;return YH(WE(e),t)}new Promise(()=>{});function WE(n,e){e===void 0&&(e=[]);let t=[];return ee.Children.forEach(n,(r,i)=>{if(!ee.isValidElement(r))return;let a=[...e,i];if(r.type===ee.Fragment){t.push.apply(t,WE(r.props.children,a));return}r.type!==Ed&&Yr(!1),!r.props.index||!r.props.children||Yr(!1);let o={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=WE(r.props.children,a)),t.push(o)}),t}/**
 * React Router DOM v6.22.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function qE(){return qE=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},qE.apply(this,arguments)}function c8(n,e){if(n==null)return{};var t={},r=Object.keys(n),i,a;for(a=0;a<r.length;a++)i=r[a],!(e.indexOf(i)>=0)&&(t[i]=n[i]);return t}function f8(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function h8(n,e){return n.button===0&&(!e||e==="_self")&&!f8(n)}const d8=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],p8="6";try{window.__reactRouterVersion=p8}catch{}const m8="startTransition",Z2=dH[m8];function g8(n){let{basename:e,children:t,future:r,window:i}=n,a=ee.useRef();a.current==null&&(a.current=_H({window:i,v5Compat:!0}));let o=a.current,[s,u]=ee.useState({action:o.action,location:o.location}),{v7_startTransition:c}=r||{},h=ee.useCallback(d=>{c&&Z2?Z2(()=>u(d)):u(d)},[u,c]);return ee.useLayoutEffect(()=>o.listen(h),[o,h]),ee.createElement(l8,{basename:e,children:t,location:s.location,navigationType:s.action,navigator:o,future:r})}const v8=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",y8=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ca=ee.forwardRef(function(e,t){let{onClick:r,relative:i,reloadDocument:a,replace:o,state:s,target:u,to:c,preventScrollReset:h,unstable_viewTransition:d}=e,g=c8(e,d8),{basename:y}=ee.useContext(jf),b,S=!1;if(typeof c=="string"&&y8.test(c)&&(b=c,v8))try{let A=new URL(window.location.href),T=c.startsWith("//")?new URL(A.protocol+c):new URL(c),P=QT(T.pathname,y);T.origin===A.origin&&P!=null?c=P+T.search+T.hash:S=!0}catch{}let x=qH(c,{relative:i}),_=x8(c,{replace:o,state:s,target:u,preventScrollReset:h,relative:i,unstable_viewTransition:d});function E(A){r&&r(A),A.defaultPrevented||_(A)}return ee.createElement("a",qE({},g,{href:b||x,onClick:S||a?r:E,ref:t,target:u}))});var J2;(function(n){n.UseScrollRestoration="useScrollRestoration",n.UseSubmit="useSubmit",n.UseSubmitFetcher="useSubmitFetcher",n.UseFetcher="useFetcher",n.useViewTransitionState="useViewTransitionState"})(J2||(J2={}));var Q2;(function(n){n.UseFetcher="useFetcher",n.UseFetchers="useFetchers",n.UseScrollRestoration="useScrollRestoration"})(Q2||(Q2={}));function x8(n,e){let{target:t,replace:r,state:i,preventScrollReset:a,relative:o,unstable_viewTransition:s}=e===void 0?{}:e,u=YU(),c=cp(),h=KU(n,{relative:o});return ee.useCallback(d=>{if(h8(d,t)){d.preventDefault();let g=r!==void 0?r:nx(c)===nx(h);u(n,{replace:g,state:i,preventScrollReset:a,relative:o,unstable_viewTransition:s})}},[c,u,h,r,i,t,n,a,o,s])}const eF=ee.createContext(void 0),_8=({children:n})=>{const[e,t]=ee.useState(!0),[r,i]=ee.useState([]),[a,o]=ee.useState(!1);ee.useEffect(()=>{e?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},[e]);const s=()=>t(!e),u=(d,g,y)=>{i(b=>{const S=b.find(x=>x.id===d.id&&x.selectedSize===g&&x.selectedColor===y);return S?b.map(x=>x===S?{...x,quantity:x.quantity+1}:x):[...b,{...d,quantity:1,selectedSize:g,selectedColor:y}]}),o(!0)},c=d=>{i(g=>g.filter(y=>y.id!==d))},h=r.reduce((d,g)=>d+g.price*g.quantity,0);return L.jsx(eF.Provider,{value:{isDarkMode:e,toggleTheme:s,cart:r,addToCart:u,removeFromCart:c,cartIsOpen:a,setCartIsOpen:o,cartTotal:h},children:n})},tC=()=>{const n=ee.useContext(eF);if(!n)throw new Error("useApp must be used within AppProvider");return n};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var b8={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S8=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),zn=(n,e)=>{const t=ee.forwardRef(({color:r="currentColor",size:i=24,strokeWidth:a=2,absoluteStrokeWidth:o,className:s="",children:u,...c},h)=>ee.createElement("svg",{ref:h,...b8,width:i,height:i,stroke:r,strokeWidth:o?Number(a)*24/Number(i):a,className:["lucide",`lucide-${S8(n)}`,s].join(" "),...c},[...e.map(([d,g])=>ee.createElement(d,g)),...Array.isArray(u)?u:[u]]));return t.displayName=`${n}`,t};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w8=zn("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M8=zn("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rx=zn("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E8=zn("Box",[["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A8=zn("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hb=zn("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tF=zn("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T8=zn("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C8=zn("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P8=zn("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R8=zn("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O8=zn("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I8=zn("Microscope",[["path",{d:"M6 18h8",key:"1borvv"}],["path",{d:"M3 22h18",key:"8prr45"}],["path",{d:"M14 22a7 7 0 1 0 0-14h-1",key:"1jwaiy"}],["path",{d:"M9 14h2",key:"197e7h"}],["path",{d:"M9 12a2 2 0 0 1-2-2V6h6v4a2 2 0 0 1-2 2Z",key:"1bmzmy"}],["path",{d:"M12 6V3a1 1 0 0 0-1-1H9a1 1 0 0 0-1 1v3",key:"1drr47"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N8=zn("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L8=zn("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k8=zn("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D8=zn("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U8=zn("Ruler",[["path",{d:"M21.3 15.3a2.4 2.4 0 0 1 0 3.4l-2.6 2.6a2.4 2.4 0 0 1-3.4 0L2.7 8.7a2.41 2.41 0 0 1 0-3.4l2.6-2.6a2.41 2.41 0 0 1 3.4 0Z",key:"icamh8"}],["path",{d:"m14.5 12.5 2-2",key:"inckbg"}],["path",{d:"m11.5 9.5 2-2",key:"fmmyf7"}],["path",{d:"m8.5 6.5 2-2",key:"vc6u1g"}],["path",{d:"m17.5 15.5 2-2",key:"wo5hmg"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nF=zn("Scan",[["path",{d:"M3 7V5a2 2 0 0 1 2-2h2",key:"aa7l1z"}],["path",{d:"M17 3h2a2 2 0 0 1 2 2v2",key:"4qcy5o"}],["path",{d:"M21 17v2a2 2 0 0 1-2 2h-2",key:"6vwrx8"}],["path",{d:"M7 21H5a2 2 0 0 1-2-2v-2",key:"ioqczr"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F8=zn("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B8=zn("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L0=zn("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eR=zn("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z8=zn("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j8=zn("Truck",[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H8=zn("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V8=zn("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G8=zn("Wind",[["path",{d:"M17.7 7.7a2.5 2.5 0 1 1 1.8 4.3H2",key:"1k4u03"}],["path",{d:"M9.6 4.6A2 2 0 1 1 11 8H2",key:"b7d0fd"}],["path",{d:"M12.6 19.4A2 2 0 1 0 14 16H2",key:"1p5cb3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wy=zn("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W8=zn("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]),q8=({children:n})=>{const{isDarkMode:e,toggleTheme:t,cart:r,cartIsOpen:i,setCartIsOpen:a,removeFromCart:o,cartTotal:s}=tC(),[u,c]=ee.useState(!1),[h,d]=ee.useState(!1),[g,y]=ee.useState(!1),[b,S]=ee.useState(!1),x=cp();ee.useEffect(()=>{const A=()=>{const T=window.scrollY>50;c(T)};return window.addEventListener("scroll",A),()=>window.removeEventListener("scroll",A)},[]),ee.useEffect(()=>{d(!1),a(!1),y(!1),window.scrollTo(0,0)},[x.pathname,a]);const _=u?`fixed top-6 left-6 z-50 transition-all duration-500 ease-[cubic-bezier(0.25,1,0.5,1)] ${b?"w-auto pr-8 bg-white/95 dark:bg-concrete-950/95 shadow-2xl backdrop-blur-md border border-concrete-200 dark:border-concrete-800 rounded-full":"w-16 h-16 bg-transparent delay-300"}`:"fixed top-0 w-full z-50 transition-all duration-500 bg-transparent border-b border-transparent py-4",E=u?`w-16 h-16 flex items-center justify-center bg-amber-500 shadow-xl transition-all duration-500 rounded-full ${b?"rotate-90 scale-90":"rotate-0 scale-100"}`:"w-12 h-12 flex items-center justify-center bg-amber-500 transition-all duration-500 rounded-full";return L.jsxs("div",{className:"min-h-screen flex flex-col font-sans transition-colors duration-300",children:[L.jsx("div",{className:`fixed top-0 w-full bg-amber-500 text-black text-[9px] font-mono font-bold uppercase py-1 overflow-hidden z-[40] transition-transform duration-500 ${u?"-translate-y-full":"translate-y-0"}`,children:L.jsxs("div",{className:"animate-marquee whitespace-nowrap flex gap-8",children:[L.jsx("span",{children:"System v2.1 Online"}),L.jsx("span",{children:"///"}),L.jsxs("span",{children:["Free Shipping ",">"," 500K"]}),L.jsx("span",{children:"///"}),L.jsx("span",{children:"30-Day Returns"}),L.jsx("span",{children:"///"}),L.jsx("span",{children:"Engineered in Vietnam"})]})}),L.jsx("div",{className:_,onMouseEnter:()=>S(!0),onMouseLeave:()=>S(!1),children:L.jsxs("div",{className:`flex items-center ${u?"":"max-w-[1920px] mx-auto px-4 sm:px-8 justify-between"}`,children:[L.jsxs("div",{className:"flex items-center",children:[L.jsx(ca,{to:"/",className:"group/logo relative z-50",children:L.jsxs("div",{className:E,children:[L.jsx("span",{className:"font-display font-bold text-black text-xl relative z-10 transition-transform duration-500",children:"El."}),L.jsx("div",{className:"absolute inset-0 rounded-full border border-black/20 dark:border-white/20 animate-spin-slow"}),L.jsx("div",{className:"absolute inset-0 rounded-full animate-orbit pointer-events-none",children:L.jsx("div",{className:"w-1.5 h-1.5 bg-black dark:bg-white rounded-full"})}),L.jsx("div",{className:"absolute inset-0 rounded-full animate-orbit-reverse pointer-events-none",children:L.jsx("div",{className:"w-1 h-1 bg-white dark:bg-black rounded-full translate-x-3"})})]})}),u?L.jsx("div",{className:"flex items-center overflow-hidden h-16",children:L.jsxs("div",{className:`flex items-center gap-6 ml-4 transition-all duration-500 ${b?"opacity-100 translate-x-0 blur-0":"opacity-0 -translate-x-full blur-sm pointer-events-none"}`,children:[L.jsx(ca,{to:"/shop",className:"font-mono text-xs font-bold tracking-widest uppercase hover:text-amber-500 transition-colors whitespace-nowrap delay-[50ms]",children:"Sn Phm"}),L.jsx(ca,{to:"/about",className:"font-mono text-xs font-bold tracking-widest uppercase hover:text-amber-500 transition-colors whitespace-nowrap delay-[100ms]",children:"Phng Lab"}),L.jsx("button",{onClick:()=>y(!0),className:"font-mono text-xs font-bold tracking-widest uppercase hover:text-amber-500 transition-colors whitespace-nowrap delay-[150ms]",children:"Ti khon"}),L.jsx("div",{className:"w-[1px] h-4 bg-concrete-300 dark:bg-concrete-700 mx-2"}),L.jsx("button",{onClick:t,className:"hover:text-amber-500",children:L.jsx(eR,{size:16})}),L.jsxs("button",{onClick:()=>a(!0),className:"hover:text-amber-500 relative",children:[L.jsx(L0,{size:16}),r.length>0&&L.jsx("span",{className:"absolute -top-1 -right-1 w-1.5 h-1.5 bg-amber-500 rounded-full animate-pulse"})]})]})}):L.jsxs("div",{className:"hidden md:flex items-center gap-12 ml-12",children:[L.jsx(ca,{to:"/shop",className:"font-mono text-xs font-bold tracking-widest uppercase hover:text-amber-500 transition-colors whitespace-nowrap",children:"Sn Phm"}),L.jsx(ca,{to:"/about",className:"font-mono text-xs font-bold tracking-widest uppercase hover:text-amber-500 transition-colors whitespace-nowrap",children:"Phng Lab"}),L.jsx("button",{onClick:()=>y(!0),className:"font-mono text-xs font-bold tracking-widest uppercase hover:text-amber-500 transition-colors whitespace-nowrap",children:"Ti khon"})]})]}),!u&&L.jsxs("div",{className:"flex items-center gap-6",children:[L.jsx("button",{onClick:t,className:"hover:text-amber-500 transition-colors",children:e?L.jsx(eR,{size:20,strokeWidth:1.5}):L.jsx(N8,{size:20,strokeWidth:1.5})}),L.jsx("button",{onClick:()=>y(!0),className:"hidden sm:block hover:text-amber-500 transition-colors",children:L.jsx(H8,{size:20,strokeWidth:1.5})}),L.jsxs("button",{onClick:()=>a(!0),className:"relative hover:text-amber-500 transition-colors",children:[L.jsx(L0,{size:20,strokeWidth:1.5}),r.length>0&&L.jsx("span",{className:"absolute -top-1 -right-1 w-4 h-4 bg-amber-500 text-black text-[9px] font-bold font-mono flex items-center justify-center rounded-sm",children:r.length})]}),L.jsx("button",{className:"md:hidden",onClick:()=>d(!0),children:L.jsx(O8,{size:24,strokeWidth:1.5})})]})]})}),u&&!b&&L.jsxs("button",{onClick:()=>a(!0),className:"fixed top-6 right-6 z-40 w-12 h-12 bg-white dark:bg-concrete-900 border border-concrete-200 dark:border-concrete-800 rounded-full flex items-center justify-center shadow-lg hover:border-amber-500 transition-colors animate-bounce-in",children:[L.jsx(L0,{size:20}),r.length>0&&L.jsx("span",{className:"absolute top-0 right-0 w-4 h-4 bg-amber-500 text-black text-[9px] font-bold rounded-full flex items-center justify-center",children:r.length})]}),L.jsx("main",{className:"flex-grow pt-0 w-full overflow-x-hidden",children:n}),L.jsx("footer",{className:"bg-concrete-50 dark:bg-concrete-950 border-t border-concrete-200 dark:border-concrete-800 pt-20 pb-10",children:L.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[L.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-12 mb-12",children:[L.jsxs("div",{className:"space-y-4",children:[L.jsxs("div",{className:"flex items-center gap-2",children:[L.jsx("div",{className:"w-4 h-4 bg-amber-500"}),L.jsx("div",{className:"font-display font-black text-2xl text-black dark:text-white",children:"ELEMENTA"})]}),L.jsxs("p",{className:"font-mono text-xs text-concrete-500",children:["Engineered in Vietnam.",L.jsx("br",{}),"Swiss-Tech Minimalism.",L.jsx("br",{}),"ISO Production Ready."]})]}),L.jsxs("div",{children:[L.jsx("h4",{className:"font-bold text-black dark:text-white mb-4 font-mono text-xs uppercase",children:"Khm Ph"}),L.jsxs("ul",{className:"space-y-2 text-sm text-concrete-600 dark:text-concrete-400 font-mono",children:[L.jsx("li",{children:L.jsx(ca,{to:"/shop",className:"hover:text-amber-500",children:"Tt c sn phm"})}),L.jsx("li",{children:L.jsx(ca,{to:"/shop?element=Ba",className:"hover:text-amber-500",children:"Dng Base"})}),L.jsx("li",{children:L.jsx(ca,{to:"/shop?element=Sc",className:"hover:text-amber-500",children:"Dng Scholar"})})]})]}),L.jsxs("div",{children:[L.jsx("h4",{className:"font-bold text-black dark:text-white mb-4 font-mono text-xs uppercase",children:"H Tr"}),L.jsxs("ul",{className:"space-y-2 text-sm text-concrete-600 dark:text-concrete-400 font-mono",children:[L.jsx("li",{children:L.jsx("a",{href:"#",className:"hover:text-amber-500",children:"Chnh sch i tr"})}),L.jsx("li",{children:L.jsx("a",{href:"#",className:"hover:text-amber-500",children:"Hng dn chn size"})}),L.jsx("li",{children:L.jsx("a",{href:"#",className:"hover:text-amber-500",children:"Cu hi thng gp"})})]})]}),L.jsxs("div",{children:[L.jsx("h4",{className:"font-bold text-black dark:text-white mb-4 font-mono text-xs uppercase",children:"Kt Ni"}),L.jsxs("div",{className:"flex gap-2",children:[L.jsx("input",{type:"email",placeholder:"Email nhn tin",className:"bg-concrete-100 dark:bg-concrete-900 border border-concrete-300 dark:border-concrete-700 px-3 py-2 text-xs font-mono w-full focus:outline-none focus:border-amber-500 text-black dark:text-white"}),L.jsx("button",{className:"bg-amber-500 text-black px-3 font-bold hover:bg-amber-400",children:L.jsx(rx,{size:14})})]})]})]}),L.jsxs("div",{className:"pt-8 border-t border-concrete-200 dark:border-concrete-800 flex flex-col md:flex-row justify-between items-center gap-4",children:[L.jsx("p",{className:"text-[10px] font-mono text-concrete-500 uppercase",children:" 2026 Elementa Corp. All Rights Reserved."}),L.jsxs("div",{className:"flex gap-4",children:[L.jsx("div",{className:"w-8 h-5 bg-concrete-200 dark:bg-concrete-800 rounded-sm"}),L.jsx("div",{className:"w-8 h-5 bg-concrete-200 dark:bg-concrete-800 rounded-sm"})]})]})]})}),L.jsx("div",{className:`fixed inset-0 z-[60] bg-black/60 backdrop-blur-sm transition-opacity duration-300 ${i?"opacity-100 pointer-events-auto":"opacity-0 pointer-events-none"}`,onClick:()=>a(!1),children:L.jsxs("div",{className:`absolute top-0 right-0 h-full w-full max-w-md bg-white dark:bg-concrete-950 shadow-2xl transform transition-transform duration-500 cubic-bezier(0.16, 1, 0.3, 1) flex flex-col border-l border-concrete-200 dark:border-concrete-800 ${i?"translate-x-0":"translate-x-full"}`,onClick:A=>A.stopPropagation(),children:[L.jsxs("div",{className:"p-6 border-b border-concrete-200 dark:border-concrete-800 flex justify-between items-center bg-concrete-50 dark:bg-concrete-900",children:[L.jsxs("h2",{className:"font-mono font-bold text-sm tracking-widest uppercase text-black dark:text-white",children:["Gi Hng (",r.length,")"]}),L.jsx("button",{onClick:()=>a(!1),className:"text-black dark:text-white hover:text-amber-500",children:L.jsx(Wy,{size:20})})]}),L.jsx("div",{className:"flex-1 overflow-y-auto p-6 space-y-6 bg-white dark:bg-concrete-950",children:r.length===0?L.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-concrete-400 font-mono space-y-4",children:[L.jsx(L0,{size:48,strokeWidth:1,className:"opacity-20 text-black dark:text-white"}),L.jsx("p",{className:"text-xs",children:"CHA C SN PHM"}),L.jsx("button",{onClick:()=>a(!1),className:"text-amber-500 underline text-xs",children:"TIP TC MUA SM"})]}):r.map((A,T)=>L.jsxs("div",{className:"flex gap-4",children:[L.jsx("div",{className:"w-20 h-24 bg-concrete-100 dark:bg-concrete-800",children:L.jsx("img",{src:A.image,alt:A.name,className:"w-full h-full object-cover"})}),L.jsxs("div",{className:"flex-1",children:[L.jsxs("div",{className:"flex justify-between items-start",children:[L.jsx("h3",{className:"font-display font-bold text-sm text-black dark:text-white uppercase",children:A.name}),L.jsx("button",{onClick:()=>o(A.id),className:"text-concrete-400 hover:text-red-500",children:L.jsx(z8,{size:14})})]}),L.jsxs("p",{className:"font-mono text-[10px] text-amber-500 mb-1",children:["[",A.element,"] SERIES"]}),L.jsxs("p",{className:"font-mono text-[10px] text-concrete-500",children:["Size: ",A.selectedSize," | Mu: ",A.selectedColor]}),L.jsxs("div",{className:"flex justify-between items-center mt-4",children:[L.jsxs("span",{className:"font-mono text-xs text-black dark:text-white",children:["x",A.quantity]}),L.jsxs("span",{className:"font-mono font-bold text-sm text-black dark:text-white",children:["",(A.price*A.quantity).toLocaleString()]})]})]})]},`${A.id}-${T}`))}),L.jsxs("div",{className:"p-6 border-t border-concrete-200 dark:border-concrete-800 bg-concrete-50 dark:bg-concrete-900",children:[L.jsxs("div",{className:"flex justify-between items-center mb-6",children:[L.jsx("span",{className:"font-mono text-xs font-bold text-concrete-500 uppercase",children:"Tng cng"}),L.jsxs("span",{className:"font-display font-bold text-xl text-amber-500",children:["",s.toLocaleString()]})]}),L.jsxs("button",{className:"w-full bg-black dark:bg-white text-white dark:text-black hover:bg-amber-500 dark:hover:bg-amber-500 hover:text-black transition-all py-4 font-mono font-bold uppercase tracking-widest text-xs flex justify-center items-center gap-2",children:["Thanh Ton Ngay ",L.jsx(rx,{size:14})]})]})]})}),g&&L.jsx("div",{className:"fixed inset-0 z-[70] bg-black/80 backdrop-blur-md flex items-center justify-center p-4",onClick:()=>y(!1),children:L.jsxs("div",{className:"w-full max-w-md bg-white dark:bg-concrete-950 border border-concrete-200 dark:border-concrete-800 p-8 shadow-2xl relative",onClick:A=>A.stopPropagation(),children:[L.jsx("button",{onClick:()=>y(!1),className:"absolute top-4 right-4 text-concrete-500 hover:text-black dark:hover:text-white",children:L.jsx(Wy,{size:20})}),L.jsxs("div",{className:"mb-8",children:[L.jsx("h2",{className:"font-display font-black text-3xl uppercase text-black dark:text-white mb-2",children:"ng Nhp"}),L.jsx("p",{className:"font-mono text-xs text-concrete-500",children:"Truy cp vo h thng d liu khch hng."})]}),L.jsxs("div",{className:"space-y-4",children:[L.jsx("input",{type:"email",placeholder:"EMAIL",className:"w-full bg-concrete-100 dark:bg-concrete-900 border border-concrete-300 dark:border-concrete-700 p-3 font-mono text-sm focus:border-amber-500 outline-none text-black dark:text-white"}),L.jsx("input",{type:"password",placeholder:"PASSWORD",className:"w-full bg-concrete-100 dark:bg-concrete-900 border border-concrete-300 dark:border-concrete-700 p-3 font-mono text-sm focus:border-amber-500 outline-none text-black dark:text-white"}),L.jsx("button",{className:"w-full bg-black dark:bg-white text-white dark:text-black hover:bg-amber-500 dark:hover:bg-amber-500 py-3 font-mono font-bold uppercase transition-colors",children:"Truy Cp"})]})]})}),L.jsxs("div",{className:`fixed inset-0 z-[55] bg-white dark:bg-concrete-950 transition-transform duration-300 md:hidden flex flex-col ${h?"translate-x-0":"-translate-x-full"}`,children:[L.jsxs("div",{className:"p-6 flex justify-between items-center border-b border-concrete-200 dark:border-concrete-800",children:[L.jsx("span",{className:"font-display font-bold text-xl text-black dark:text-white",children:"MENU"}),L.jsx("button",{onClick:()=>d(!1),className:"text-black dark:text-white",children:L.jsx(Wy,{})})]}),L.jsxs("div",{className:"p-8 flex flex-col gap-6",children:[L.jsx(ca,{to:"/",onClick:()=>d(!1),className:"text-2xl font-display font-bold text-black dark:text-white",children:"TRANG CH"}),L.jsx(ca,{to:"/shop",onClick:()=>d(!1),className:"text-2xl font-display font-bold text-black dark:text-white",children:"CA HNG"}),L.jsx("button",{onClick:()=>{d(!1),y(!0)},className:"text-left text-2xl font-display font-bold text-black dark:text-white",children:"NG NHP"})]})]})]})},ix={Ba:{code:"Ba",name:"Base",full:"Ct Li Hng Ngy",color:"text-gray-400",desc:"Nn tng thit yu.",image:"https://images.unsplash.com/photo-1576566588028-4147f3842f27?q=80&w=1964&auto=format&fit=crop"},Sc:{code:"Sc",name:"Scholar",full:"Hc Thut / Cng S",color:"text-blue-400",desc:"S tp trung ti a.",image:"https://images.unsplash.com/photo-1489987707025-afc232f7ea0f?q=80&w=2070&auto=format&fit=crop"},Ki:{code:"Ki",name:"Kinetic",full:"Vn ng / Hiu Sut",color:"text-red-400",desc:"Kh ng hc.",image:"https://images.unsplash.com/photo-1534438327276-14e5300c3a48?q=80&w=2070&auto=format&fit=crop"},Hm:{code:"Hm",name:"Home",full:"Phc Hi / Ti Gia",color:"text-green-400",desc:"Trng thi khng trng lc.",image:"https://images.unsplash.com/photo-1513201099705-a9746e1e201f?q=80&w=1974&auto=format&fit=crop"}},nC=[{id:"1",name:"o Thun The Lab [Ba]",price:289e3,element:"Ba",category:"o Thun",image:"https://images.unsplash.com/photo-1618517351616-38fb9c5210c6?q=80&w=1887&auto=format&fit=crop",description:"Chic o gip hng ngy (The Daily Armor). Cu trc vng chi, che khuyt im. Phom Boxy Fit hin i, ph hp vi th trng ngi Vit.",techSpecs:{fabric:"100% Compact Cotton 2-Way",weight:"260 GSM (Dy dn)",weave:"Dt trn (Plain Weave)",origin:"Vietnam Lab A1"},inStock:!0,isNew:!0},{id:"2",name:"Polo n Hidden [Sc]",price:349e3,element:"Sc",category:"Polo",image:"https://images.unsplash.com/photo-1594938298603-c8148c47e356?q=80&w=1887&auto=format&fit=crop",description:"nh ngha li ng phc. Np n tinh t (Hidden Placket). C s mi p keo ng form 90 , mang li v lch s ni cng s.",techSpecs:{fabric:"CVC Pique (C su 65/35)",weight:"220 GSM",weave:"T ong (Honeycomb)",origin:"Vietnam Lab B2"},inStock:!0},{id:"3",name:"Tank Top Velocity [Ki]",price:25e4,element:"Ki",category:" Th Thao",image:"https://images.unsplash.com/photo-1583467875263-d50dec37a885?q=80&w=1887&auto=format&fit=crop",description:"Kh ng hc (Aero-Dynamic). Siu nh, phn quang, thot nhit ti a vi tm li lng. Dnh cho runner v gym.",techSpecs:{fabric:"100% Poly Microfiber",weight:"Siu nh",weave:"Quick-dry Mesh",origin:"Vietnam Lab C3"},inStock:!0},{id:"4",name:"B Pyjama Recovery [Hm]",price:89e4,element:"Hm",category:" Mc Nh",image:"https://images.unsplash.com/photo-1616847231686-3024c084e68e?q=80&w=1887&auto=format&fit=crop",description:"Trng thi Zero Gravity. Loi b ma st, phc hi nng lng sau ngy di. Cht liu Modal g si mt lnh.",techSpecs:{fabric:"95% Modal (G si)",weight:"300 GSM",weave:"Terry Loop",origin:"Vietnam Lab D4"},inStock:!1},{id:"5",name:"S Mi The Air [Sc]",price:55e4,element:"Sc",category:"S Mi",image:"https://images.unsplash.com/photo-1563823263056-b08de72251a2?q=80&w=1887&auto=format&fit=crop",description:"S mi k thut dnh cho ngi lm vic tr c. Chng nhn tuyt i, khng khun t nhin.",techSpecs:{fabric:"Bamboo Fiber + Poly",weight:"Nh, Thong",weave:"Poplin",origin:"Vietnam Lab B2"},inStock:!0}],$8=["S","M","L","XL"],tR=[{name:"Lab White (Trng Ng)",hex:"#F4F4F4"},{name:"Carbon Ink (en Than)",hex:"#111111"},{name:"Hyperlink Blue (Xanh)",hex:"#0000FF"}],rF=({product:n})=>{const{addToCart:e}=tC(),t=ix[n.element];return L.jsxs("div",{className:"group relative bg-white dark:bg-concrete-900 border border-concrete-200 dark:border-concrete-800 hover:border-amber-500 dark:hover:border-amber-500 transition-all duration-300 flex flex-col h-full overflow-hidden",children:[L.jsxs(ca,{to:`/product/${n.id}`,className:"relative aspect-[3/4] overflow-hidden bg-concrete-100 dark:bg-concrete-800 block cursor-pointer",children:[L.jsx("img",{src:n.image,alt:n.name,className:"w-full h-full object-cover transition-transform duration-700 ease-out group-hover:scale-110 group-hover:opacity-80"}),L.jsxs("div",{className:"absolute inset-0 opacity-0 group-hover:opacity-100 transition-opacity duration-300 pointer-events-none",children:[L.jsx("div",{className:"absolute top-0 left-0 w-full h-[2px] bg-amber-500 shadow-[0_0_10px_#FFB300] animate-scan"}),L.jsx("div",{className:"absolute inset-0 bg-amber-500/10"}),L.jsx("div",{className:"absolute inset-0 bg-[linear-gradient(rgba(255,179,0,0.1)_1px,transparent_1px),linear-gradient(90deg,rgba(255,179,0,0.1)_1px,transparent_1px)] bg-[size:20px_20px]"}),L.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-16 h-16 border border-amber-500 flex items-center justify-center",children:L.jsx(nF,{size:24,className:"text-amber-500 animate-pulse"})})]}),L.jsxs("div",{className:"absolute top-0 left-0 p-3 w-full flex justify-between items-start z-10",children:[L.jsxs("div",{className:"bg-white/90 dark:bg-black/90 backdrop-blur text-black dark:text-amber-500 font-mono text-[10px] px-2 py-1 font-bold tracking-widest border border-concrete-200 dark:border-amber-500/30",children:["[",t.code,"]"]}),n.isNew&&L.jsx("div",{className:"bg-amber-500 text-black font-mono text-[10px] px-2 py-1 font-bold animate-pulse",children:"NEW"})]})]}),L.jsxs("div",{className:"p-4 flex-1 flex flex-col bg-white dark:bg-concrete-900 relative z-20",children:[L.jsx("div",{className:"mb-1",children:L.jsx("span",{className:"font-mono text-[10px] uppercase text-concrete-500 tracking-wider",children:n.category})}),L.jsx(ca,{to:`/product/${n.id}`,className:"block mb-3",children:L.jsx("h3",{className:"font-display font-bold text-sm md:text-base leading-tight group-hover:text-amber-500 transition-colors uppercase tracking-tight text-black dark:text-white line-clamp-2",children:n.name})}),L.jsxs("div",{className:"mt-auto flex justify-between items-end border-t border-dashed border-concrete-200 dark:border-concrete-800 pt-3 mb-3",children:[L.jsxs("div",{className:"font-mono text-[10px] text-concrete-500",children:["SPEC: ",n.techSpecs.weight]}),L.jsxs("div",{className:"font-mono font-bold text-sm text-black dark:text-white",children:["",n.price.toLocaleString()]})]}),L.jsxs("button",{onClick:r=>{r.preventDefault(),e(n,"M","Carbon Ink")},className:"w-full bg-concrete-100 dark:bg-concrete-800 text-black dark:text-white border border-concrete-200 dark:border-concrete-700 py-2 font-mono text-[10px] font-bold uppercase tracking-widest hover:bg-amber-500 hover:border-amber-500 hover:text-black transition-all flex items-center justify-center gap-2 group/btn",children:[L.jsx(k8,{size:12,className:"group-hover/btn:rotate-90 transition-transform"}),"Thm Nhanh"]})]})]})},Hi=({children:n,mode:e="trigger",direction:t="up",x:r,y:i,blur:a=0,rotate:o=0,scale:s=1,delay:u=0,className:c="",threshold:h=.15,speed:d=.5})=>{const g=ee.useRef(null),[y,b]=ee.useState(!1),[S,x]=ee.useState(0);let _=r!==void 0?r:0,E=i!==void 0?i:0;if(r===void 0&&i===void 0)switch(t){case"left":_=-100;break;case"right":_=100;break;case"up":E=100;break;case"down":E=-100;break;case"random":_=(Math.random()-.5)*200,E=(Math.random()-.5)*200;break}ee.useEffect(()=>{if(e==="scroll")return;const T=new IntersectionObserver(([P])=>{P.isIntersecting&&(b(!0),T.unobserve(P.target))},{threshold:h,rootMargin:"0px 0px -10% 0px"});return g.current&&T.observe(g.current),()=>{g.current&&T.unobserve(g.current)}},[e,h]),ee.useEffect(()=>{if(e!=="scroll")return;const T=()=>{if(!g.current)return;const P=g.current.getBoundingClientRect(),O=window.innerHeight,N=O,F=O*(1-d);let D=(N-P.top)/(N-F);D=Math.max(0,Math.min(1,D)),requestAnimationFrame(()=>x(D))};return window.addEventListener("scroll",T),T(),()=>window.removeEventListener("scroll",T)},[e,d]);const A=()=>{if(e==="trigger"){const T=!y;return{transform:T?`translate3d(${_}px, ${E}px, 0) scale(${s}) rotate(${o}deg)`:"translate3d(0, 0, 0) scale(1) rotate(0deg)",opacity:T?0:1,filter:T?`blur(${a||10}px)`:"blur(0px)",transition:`all 1000ms cubic-bezier(0.2, 0.8, 0.2, 1) ${u}ms`}}else{const T=S===1?1:1-Math.pow(2,-10*S),P=1-T,O=_*P,N=E*P,F=s+(1-s)*T,D=o*P,U=(a||0)*P;return{transform:`translate3d(${O}px, ${N}px, 0) scale(${F}) rotate(${D}deg)`,opacity:Math.min(1,S*1.5),filter:`blur(${U}px)`,transition:"transform 0.1s linear, filter 0.1s linear, opacity 0.1s linear",willChange:"transform, opacity, filter"}}};return L.jsx("div",{ref:g,className:c,style:A(),children:n})};/**
 * @license
 * Copyright 2010-2023 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const dv="160",uf={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},cf={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},iF=0,$E=1,aF=2,X8=3,oF=0,a_=1,Gm=2,ns=3,Dl=0,pa=1,Eo=2,Y8=2,Il=0,Tf=1,XE=2,YE=3,KE=4,sF=5,Hu=100,lF=101,uF=102,ZE=103,JE=104,cF=200,fF=201,hF=202,dF=203,ax=204,ox=205,pF=206,mF=207,gF=208,vF=209,yF=210,xF=211,_F=212,bF=213,SF=214,wF=0,MF=1,EF=2,ag=3,AF=4,TF=5,CF=6,PF=7,pv=0,RF=1,OF=2,ks=0,IF=1,NF=2,LF=3,rC=4,kF=5,DF=6,QE="attached",UF="detached",o_=300,zs=301,nc=302,zd=303,og=304,fp=306,sg=1e3,Yi=1001,Nf=1002,kr=1003,sx=1004,K8=1004,Wm=1005,Z8=1005,dr=1006,iC=1007,J8=1007,rc=1008,Q8=1008,Ds=1009,FF=1010,BF=1011,s_=1012,aC=1013,Tl=1014,Ri=1015,ha=1016,oC=1017,sC=1018,Yu=1020,zF=1021,Ki=1023,jF=1024,HF=1025,Ku=1026,Lf=1027,lC=1028,uC=1029,VF=1030,cC=1031,fC=1033,qy=33776,$y=33777,Xy=33778,Yy=33779,eA=35840,tA=35841,nA=35842,rA=35843,hC=36196,iA=37492,aA=37496,oA=37808,sA=37809,lA=37810,uA=37811,cA=37812,fA=37813,hA=37814,dA=37815,pA=37816,mA=37817,gA=37818,vA=37819,yA=37820,xA=37821,Ky=36492,_A=36494,bA=36495,GF=36283,SA=36284,wA=36285,MA=36286,WF=2200,qF=2201,$F=2202,lg=2300,ug=2301,Zy=2302,gf=2400,vf=2401,cg=2402,l_=2500,dC=2501,e6=0,t6=1,n6=2,pC=3e3,Zu=3001,XF=3200,YF=3201,oc=0,KF=1,eo="",ri="srgb",js="srgb-linear",u_="display-p3",mv="display-p3-linear",fg="linear",ar="srgb",hg="rec709",dg="p3",r6=0,ff=7680,i6=7681,a6=7682,o6=7683,s6=34055,l6=34056,u6=5386,c6=512,f6=513,h6=514,d6=515,p6=516,m6=517,g6=518,EA=519,ZF=512,JF=513,QF=514,mC=515,eB=516,tB=517,nB=518,rB=519,pg=35044,v6=35048,y6=35040,x6=35045,_6=35049,b6=35041,S6=35046,w6=35050,M6=35042,E6="100",AA="300 es",lx=1035,ss=2e3,jd=2001;let Vl=class{addEventListener(e,t){this._listeners===void 0&&(this._listeners={});const r=this._listeners;r[e]===void 0&&(r[e]=[]),r[e].indexOf(t)===-1&&r[e].push(t)}hasEventListener(e,t){if(this._listeners===void 0)return!1;const r=this._listeners;return r[e]!==void 0&&r[e].indexOf(t)!==-1}removeEventListener(e,t){if(this._listeners===void 0)return;const i=this._listeners[e];if(i!==void 0){const a=i.indexOf(t);a!==-1&&i.splice(a,1)}}dispatchEvent(e){if(this._listeners===void 0)return;const r=this._listeners[e.type];if(r!==void 0){e.target=this;const i=r.slice(0);for(let a=0,o=i.length;a<o;a++)i[a].call(this,e);e.target=null}}};const Vi=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let nR=1234567;const Cf=Math.PI/180,Hd=180/Math.PI;function no(){const n=Math.random()*4294967295|0,e=Math.random()*4294967295|0,t=Math.random()*4294967295|0,r=Math.random()*4294967295|0;return(Vi[n&255]+Vi[n>>8&255]+Vi[n>>16&255]+Vi[n>>24&255]+"-"+Vi[e&255]+Vi[e>>8&255]+"-"+Vi[e>>16&15|64]+Vi[e>>24&255]+"-"+Vi[t&63|128]+Vi[t>>8&255]+"-"+Vi[t>>16&255]+Vi[t>>24&255]+Vi[r&255]+Vi[r>>8&255]+Vi[r>>16&255]+Vi[r>>24&255]).toLowerCase()}function Cr(n,e,t){return Math.max(e,Math.min(t,n))}function gC(n,e){return(n%e+e)%e}function A6(n,e,t,r,i){return r+(n-e)*(i-r)/(t-e)}function T6(n,e,t){return n!==e?(t-n)/(e-n):0}function qm(n,e,t){return(1-t)*n+t*e}function C6(n,e,t,r){return qm(n,e,1-Math.exp(-t*r))}function P6(n,e=1){return e-Math.abs(gC(n,e*2)-e)}function R6(n,e,t){return n<=e?0:n>=t?1:(n=(n-e)/(t-e),n*n*(3-2*n))}function O6(n,e,t){return n<=e?0:n>=t?1:(n=(n-e)/(t-e),n*n*n*(n*(n*6-15)+10))}function I6(n,e){return n+Math.floor(Math.random()*(e-n+1))}function N6(n,e){return n+Math.random()*(e-n)}function L6(n){return n*(.5-Math.random())}function k6(n){n!==void 0&&(nR=n);let e=nR+=1831565813;return e=Math.imul(e^e>>>15,e|1),e^=e+Math.imul(e^e>>>7,e|61),((e^e>>>14)>>>0)/4294967296}function D6(n){return n*Cf}function U6(n){return n*Hd}function TA(n){return(n&n-1)===0&&n!==0}function F6(n){return Math.pow(2,Math.ceil(Math.log(n)/Math.LN2))}function ux(n){return Math.pow(2,Math.floor(Math.log(n)/Math.LN2))}function B6(n,e,t,r,i){const a=Math.cos,o=Math.sin,s=a(t/2),u=o(t/2),c=a((e+r)/2),h=o((e+r)/2),d=a((e-r)/2),g=o((e-r)/2),y=a((r-e)/2),b=o((r-e)/2);switch(i){case"XYX":n.set(s*h,u*d,u*g,s*c);break;case"YZY":n.set(u*g,s*h,u*d,s*c);break;case"ZXZ":n.set(u*d,u*g,s*h,s*c);break;case"XZX":n.set(s*h,u*b,u*y,s*c);break;case"YXY":n.set(u*y,s*h,u*b,s*c);break;case"ZYZ":n.set(u*b,u*y,s*h,s*c);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+i)}}function La(n,e){switch(e.constructor){case Float32Array:return n;case Uint32Array:return n/4294967295;case Uint16Array:return n/65535;case Uint8Array:return n/255;case Int32Array:return Math.max(n/2147483647,-1);case Int16Array:return Math.max(n/32767,-1);case Int8Array:return Math.max(n/127,-1);default:throw new Error("Invalid component type.")}}function pn(n,e){switch(e.constructor){case Float32Array:return n;case Uint32Array:return Math.round(n*4294967295);case Uint16Array:return Math.round(n*65535);case Uint8Array:return Math.round(n*255);case Int32Array:return Math.round(n*2147483647);case Int16Array:return Math.round(n*32767);case Int8Array:return Math.round(n*127);default:throw new Error("Invalid component type.")}}const c_={DEG2RAD:Cf,RAD2DEG:Hd,generateUUID:no,clamp:Cr,euclideanModulo:gC,mapLinear:A6,inverseLerp:T6,lerp:qm,damp:C6,pingpong:P6,smoothstep:R6,smootherstep:O6,randInt:I6,randFloat:N6,randFloatSpread:L6,seededRandom:k6,degToRad:D6,radToDeg:U6,isPowerOfTwo:TA,ceilPowerOfTwo:F6,floorPowerOfTwo:ux,setQuaternionFromProperEuler:B6,normalize:pn,denormalize:La};class Ve{constructor(e=0,t=0){Ve.prototype.isVector2=!0,this.x=e,this.y=t}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,t){return this.x=e,this.y=t,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const t=this.x,r=this.y,i=e.elements;return this.x=i[0]*t+i[3]*r+i[6],this.y=i[1]*t+i[4]*r+i[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this}clampLength(e,t){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(t,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(t===0)return Math.PI/2;const r=this.dot(e)/t;return Math.acos(Cr(r,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,r=this.y-e.y;return t*t+r*r}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this}lerpVectors(e,t,r){return this.x=e.x+(t.x-e.x)*r,this.y=e.y+(t.y-e.y)*r,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this}rotateAround(e,t){const r=Math.cos(t),i=Math.sin(t),a=this.x-e.x,o=this.y-e.y;return this.x=a*r-o*i+e.x,this.y=a*i+o*r+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class xn{constructor(e,t,r,i,a,o,s,u,c){xn.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],e!==void 0&&this.set(e,t,r,i,a,o,s,u,c)}set(e,t,r,i,a,o,s,u,c){const h=this.elements;return h[0]=e,h[1]=i,h[2]=s,h[3]=t,h[4]=a,h[5]=u,h[6]=r,h[7]=o,h[8]=c,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const t=this.elements,r=e.elements;return t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t[4]=r[4],t[5]=r[5],t[6]=r[6],t[7]=r[7],t[8]=r[8],this}extractBasis(e,t,r){return e.setFromMatrix3Column(this,0),t.setFromMatrix3Column(this,1),r.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const t=e.elements;return this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const r=e.elements,i=t.elements,a=this.elements,o=r[0],s=r[3],u=r[6],c=r[1],h=r[4],d=r[7],g=r[2],y=r[5],b=r[8],S=i[0],x=i[3],_=i[6],E=i[1],A=i[4],T=i[7],P=i[2],O=i[5],N=i[8];return a[0]=o*S+s*E+u*P,a[3]=o*x+s*A+u*O,a[6]=o*_+s*T+u*N,a[1]=c*S+h*E+d*P,a[4]=c*x+h*A+d*O,a[7]=c*_+h*T+d*N,a[2]=g*S+y*E+b*P,a[5]=g*x+y*A+b*O,a[8]=g*_+y*T+b*N,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this}determinant(){const e=this.elements,t=e[0],r=e[1],i=e[2],a=e[3],o=e[4],s=e[5],u=e[6],c=e[7],h=e[8];return t*o*h-t*s*c-r*a*h+r*s*u+i*a*c-i*o*u}invert(){const e=this.elements,t=e[0],r=e[1],i=e[2],a=e[3],o=e[4],s=e[5],u=e[6],c=e[7],h=e[8],d=h*o-s*c,g=s*u-h*a,y=c*a-o*u,b=t*d+r*g+i*y;if(b===0)return this.set(0,0,0,0,0,0,0,0,0);const S=1/b;return e[0]=d*S,e[1]=(i*c-h*r)*S,e[2]=(s*r-i*o)*S,e[3]=g*S,e[4]=(h*t-i*u)*S,e[5]=(i*a-s*t)*S,e[6]=y*S,e[7]=(r*u-c*t)*S,e[8]=(o*t-r*a)*S,this}transpose(){let e;const t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this}setUvTransform(e,t,r,i,a,o,s){const u=Math.cos(a),c=Math.sin(a);return this.set(r*u,r*c,-r*(u*o+c*s)+o+e,-i*c,i*u,-i*(-c*o+u*s)+s+t,0,0,1),this}scale(e,t){return this.premultiply(Vb.makeScale(e,t)),this}rotate(e){return this.premultiply(Vb.makeRotation(-e)),this}translate(e,t){return this.premultiply(Vb.makeTranslation(e,t)),this}makeTranslation(e,t){return e.isVector2?this.set(1,0,e.x,0,1,e.y,0,0,1):this.set(1,0,e,0,1,t,0,0,1),this}makeRotation(e){const t=Math.cos(e),r=Math.sin(e);return this.set(t,-r,0,r,t,0,0,0,1),this}makeScale(e,t){return this.set(e,0,0,0,t,0,0,0,1),this}equals(e){const t=this.elements,r=e.elements;for(let i=0;i<9;i++)if(t[i]!==r[i])return!1;return!0}fromArray(e,t=0){for(let r=0;r<9;r++)this.elements[r]=e[r+t];return this}toArray(e=[],t=0){const r=this.elements;return e[t]=r[0],e[t+1]=r[1],e[t+2]=r[2],e[t+3]=r[3],e[t+4]=r[4],e[t+5]=r[5],e[t+6]=r[6],e[t+7]=r[7],e[t+8]=r[8],e}clone(){return new this.constructor().fromArray(this.elements)}}const Vb=new xn;function iB(n){for(let e=n.length-1;e>=0;--e)if(n[e]>=65535)return!0;return!1}const z6={Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};function Cd(n,e){return new z6[n](e)}function mg(n){return document.createElementNS("http://www.w3.org/1999/xhtml",n)}function aB(){const n=mg("canvas");return n.style.display="block",n}const rR={};function $m(n){n in rR||(rR[n]=!0,console.warn(n))}const iR=new xn().set(.8224621,.177538,0,.0331941,.9668058,0,.0170827,.0723974,.9105199),aR=new xn().set(1.2249401,-.2249404,0,-.0420569,1.0420571,0,-.0196376,-.0786361,1.0982735),k0={[js]:{transfer:fg,primaries:hg,toReference:n=>n,fromReference:n=>n},[ri]:{transfer:ar,primaries:hg,toReference:n=>n.convertSRGBToLinear(),fromReference:n=>n.convertLinearToSRGB()},[mv]:{transfer:fg,primaries:dg,toReference:n=>n.applyMatrix3(aR),fromReference:n=>n.applyMatrix3(iR)},[u_]:{transfer:ar,primaries:dg,toReference:n=>n.convertSRGBToLinear().applyMatrix3(aR),fromReference:n=>n.applyMatrix3(iR).convertLinearToSRGB()}},j6=new Set([js,mv]),qn={enabled:!0,_workingColorSpace:js,get workingColorSpace(){return this._workingColorSpace},set workingColorSpace(n){if(!j6.has(n))throw new Error(`Unsupported working color space, "${n}".`);this._workingColorSpace=n},convert:function(n,e,t){if(this.enabled===!1||e===t||!e||!t)return n;const r=k0[e].toReference,i=k0[t].fromReference;return i(r(n))},fromWorkingColorSpace:function(n,e){return this.convert(n,this._workingColorSpace,e)},toWorkingColorSpace:function(n,e){return this.convert(n,e,this._workingColorSpace)},getPrimaries:function(n){return k0[n].primaries},getTransfer:function(n){return n===eo?fg:k0[n].transfer}};function Dd(n){return n<.04045?n*.0773993808:Math.pow(n*.9478672986+.0521327014,2.4)}function Gb(n){return n<.0031308?n*12.92:1.055*Math.pow(n,.41666)-.055}let Qh;class vC{static getDataURL(e){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement>"u")return e.src;let t;if(e instanceof HTMLCanvasElement)t=e;else{Qh===void 0&&(Qh=mg("canvas")),Qh.width=e.width,Qh.height=e.height;const r=Qh.getContext("2d");e instanceof ImageData?r.putImageData(e,0,0):r.drawImage(e,0,0,e.width,e.height),t=Qh}return t.width>2048||t.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",e),t.toDataURL("image/jpeg",.6)):t.toDataURL("image/png")}static sRGBToLinear(e){if(typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap){const t=mg("canvas");t.width=e.width,t.height=e.height;const r=t.getContext("2d");r.drawImage(e,0,0,e.width,e.height);const i=r.getImageData(0,0,e.width,e.height),a=i.data;for(let o=0;o<a.length;o++)a[o]=Dd(a[o]/255)*255;return r.putImageData(i,0,0),t}else if(e.data){const t=e.data.slice(0);for(let r=0;r<t.length;r++)t instanceof Uint8Array||t instanceof Uint8ClampedArray?t[r]=Math.floor(Dd(t[r]/255)*255):t[r]=Dd(t[r]);return{data:t,width:e.width,height:e.height}}else return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}let H6=0;class yf{constructor(e=null){this.isSource=!0,Object.defineProperty(this,"id",{value:H6++}),this.uuid=no(),this.data=e,this.version=0}set needsUpdate(e){e===!0&&this.version++}toJSON(e){const t=e===void 0||typeof e=="string";if(!t&&e.images[this.uuid]!==void 0)return e.images[this.uuid];const r={uuid:this.uuid,url:""},i=this.data;if(i!==null){let a;if(Array.isArray(i)){a=[];for(let o=0,s=i.length;o<s;o++)i[o].isDataTexture?a.push(Wb(i[o].image)):a.push(Wb(i[o]))}else a=Wb(i);r.url=a}return t||(e.images[this.uuid]=r),r}}function Wb(n){return typeof HTMLImageElement<"u"&&n instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&n instanceof ImageBitmap?vC.getDataURL(n):n.data?{data:Array.from(n.data),width:n.width,height:n.height,type:n.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let V6=0;class Mr extends Vl{constructor(e=Mr.DEFAULT_IMAGE,t=Mr.DEFAULT_MAPPING,r=Yi,i=Yi,a=dr,o=rc,s=Ki,u=Ds,c=Mr.DEFAULT_ANISOTROPY,h=eo){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:V6++}),this.uuid=no(),this.name="",this.source=new yf(e),this.mipmaps=[],this.mapping=t,this.channel=0,this.wrapS=r,this.wrapT=i,this.magFilter=a,this.minFilter=o,this.anisotropy=c,this.format=s,this.internalFormat=null,this.type=u,this.offset=new Ve(0,0),this.repeat=new Ve(1,1),this.center=new Ve(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new xn,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,typeof h=="string"?this.colorSpace=h:($m("THREE.Texture: Property .encoding has been replaced by .colorSpace."),this.colorSpace=h===Zu?ri:eo),this.userData={},this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1,this.needsPMREMUpdate=!1}get image(){return this.source.data}set image(e=null){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return new this.constructor().copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.channel=e.channel,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.colorSpace=e.colorSpace,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}toJSON(e){const t=e===void 0||typeof e=="string";if(!t&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];const r={metadata:{version:4.6,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(r.userData=this.userData),t||(e.textures[this.uuid]=r),r}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==o_)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case sg:e.x=e.x-Math.floor(e.x);break;case Yi:e.x=e.x<0?0:1;break;case Nf:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case sg:e.y=e.y-Math.floor(e.y);break;case Yi:e.y=e.y<0?0:1;break;case Nf:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){e===!0&&(this.version++,this.source.needsUpdate=!0)}get encoding(){return $m("THREE.Texture: Property .encoding has been replaced by .colorSpace."),this.colorSpace===ri?Zu:pC}set encoding(e){$m("THREE.Texture: Property .encoding has been replaced by .colorSpace."),this.colorSpace=e===Zu?ri:eo}}Mr.DEFAULT_IMAGE=null;Mr.DEFAULT_MAPPING=o_;Mr.DEFAULT_ANISOTROPY=1;class $n{constructor(e=0,t=0,r=0,i=1){$n.prototype.isVector4=!0,this.x=e,this.y=t,this.z=r,this.w=i}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,t,r,i){return this.x=e,this.y=t,this.z=r,this.w=i,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const t=this.x,r=this.y,i=this.z,a=this.w,o=e.elements;return this.x=o[0]*t+o[4]*r+o[8]*i+o[12]*a,this.y=o[1]*t+o[5]*r+o[9]*i+o[13]*a,this.z=o[2]*t+o[6]*r+o[10]*i+o[14]*a,this.w=o[3]*t+o[7]*r+o[11]*i+o[15]*a,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const t=Math.sqrt(1-e.w*e.w);return t<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this}setAxisAngleFromRotationMatrix(e){let t,r,i,a;const u=e.elements,c=u[0],h=u[4],d=u[8],g=u[1],y=u[5],b=u[9],S=u[2],x=u[6],_=u[10];if(Math.abs(h-g)<.01&&Math.abs(d-S)<.01&&Math.abs(b-x)<.01){if(Math.abs(h+g)<.1&&Math.abs(d+S)<.1&&Math.abs(b+x)<.1&&Math.abs(c+y+_-3)<.1)return this.set(1,0,0,0),this;t=Math.PI;const A=(c+1)/2,T=(y+1)/2,P=(_+1)/2,O=(h+g)/4,N=(d+S)/4,F=(b+x)/4;return A>T&&A>P?A<.01?(r=0,i=.707106781,a=.707106781):(r=Math.sqrt(A),i=O/r,a=N/r):T>P?T<.01?(r=.707106781,i=0,a=.707106781):(i=Math.sqrt(T),r=O/i,a=F/i):P<.01?(r=.707106781,i=.707106781,a=0):(a=Math.sqrt(P),r=N/a,i=F/a),this.set(r,i,a,t),this}let E=Math.sqrt((x-b)*(x-b)+(d-S)*(d-S)+(g-h)*(g-h));return Math.abs(E)<.001&&(E=1),this.x=(x-b)/E,this.y=(d-S)/E,this.z=(g-h)/E,this.w=Math.acos((c+y+_-1)/2),this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this.w=Math.max(e.w,Math.min(t.w,this.w)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this.w=Math.max(e,Math.min(t,this.w)),this}clampLength(e,t){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(t,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this.w=Math.trunc(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this}lerpVectors(e,t,r){return this.x=e.x+(t.x-e.x)*r,this.y=e.y+(t.y-e.y)*r,this.z=e.z+(t.z-e.z)*r,this.w=e.w+(t.w-e.w)*r,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this.w=e.getW(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class oB extends Vl{constructor(e=1,t=1,r={}){super(),this.isRenderTarget=!0,this.width=e,this.height=t,this.depth=1,this.scissor=new $n(0,0,e,t),this.scissorTest=!1,this.viewport=new $n(0,0,e,t);const i={width:e,height:t,depth:1};r.encoding!==void 0&&($m("THREE.WebGLRenderTarget: option.encoding has been replaced by option.colorSpace."),r.colorSpace=r.encoding===Zu?ri:eo),r=Object.assign({generateMipmaps:!1,internalFormat:null,minFilter:dr,depthBuffer:!0,stencilBuffer:!1,depthTexture:null,samples:0},r),this.texture=new Mr(i,r.mapping,r.wrapS,r.wrapT,r.magFilter,r.minFilter,r.format,r.type,r.anisotropy,r.colorSpace),this.texture.isRenderTargetTexture=!0,this.texture.flipY=!1,this.texture.generateMipmaps=r.generateMipmaps,this.texture.internalFormat=r.internalFormat,this.depthBuffer=r.depthBuffer,this.stencilBuffer=r.stencilBuffer,this.depthTexture=r.depthTexture,this.samples=r.samples}setSize(e,t,r=1){(this.width!==e||this.height!==t||this.depth!==r)&&(this.width=e,this.height=t,this.depth=r,this.texture.image.width=e,this.texture.image.height=t,this.texture.image.depth=r,this.dispose()),this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)}clone(){return new this.constructor().copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.texture=e.texture.clone(),this.texture.isRenderTargetTexture=!0;const t=Object.assign({},e.texture.image);return this.texture.source=new yf(t),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class ro extends oB{constructor(e=1,t=1,r={}){super(e,t,r),this.isWebGLRenderTarget=!0}}class f_ extends Mr{constructor(e=null,t=1,r=1,i=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:t,height:r,depth:i},this.magFilter=kr,this.minFilter=kr,this.wrapR=Yi,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class G6 extends ro{constructor(e=1,t=1,r=1,i={}){super(e,t,i),this.isWebGLArrayRenderTarget=!0,this.depth=r,this.texture=new f_(null,e,t,r),this.texture.isRenderTargetTexture=!0}}class yC extends Mr{constructor(e=null,t=1,r=1,i=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:t,height:r,depth:i},this.magFilter=kr,this.minFilter=kr,this.wrapR=Yi,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class W6 extends ro{constructor(e=1,t=1,r=1,i={}){super(e,t,i),this.isWebGL3DRenderTarget=!0,this.depth=r,this.texture=new yC(null,e,t,r),this.texture.isRenderTargetTexture=!0}}class q6 extends ro{constructor(e=1,t=1,r=1,i={}){super(e,t,i),this.isWebGLMultipleRenderTargets=!0;const a=this.texture;this.texture=[];for(let o=0;o<r;o++)this.texture[o]=a.clone(),this.texture[o].isRenderTargetTexture=!0}setSize(e,t,r=1){if(this.width!==e||this.height!==t||this.depth!==r){this.width=e,this.height=t,this.depth=r;for(let i=0,a=this.texture.length;i<a;i++)this.texture[i].image.width=e,this.texture[i].image.height=t,this.texture[i].image.depth=r;this.dispose()}this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)}copy(e){this.dispose(),this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.texture.length=0;for(let t=0,r=e.texture.length;t<r;t++)this.texture[t]=e.texture[t].clone(),this.texture[t].isRenderTargetTexture=!0;return this}}class Zi{constructor(e=0,t=0,r=0,i=1){this.isQuaternion=!0,this._x=e,this._y=t,this._z=r,this._w=i}static slerpFlat(e,t,r,i,a,o,s){let u=r[i+0],c=r[i+1],h=r[i+2],d=r[i+3];const g=a[o+0],y=a[o+1],b=a[o+2],S=a[o+3];if(s===0){e[t+0]=u,e[t+1]=c,e[t+2]=h,e[t+3]=d;return}if(s===1){e[t+0]=g,e[t+1]=y,e[t+2]=b,e[t+3]=S;return}if(d!==S||u!==g||c!==y||h!==b){let x=1-s;const _=u*g+c*y+h*b+d*S,E=_>=0?1:-1,A=1-_*_;if(A>Number.EPSILON){const P=Math.sqrt(A),O=Math.atan2(P,_*E);x=Math.sin(x*O)/P,s=Math.sin(s*O)/P}const T=s*E;if(u=u*x+g*T,c=c*x+y*T,h=h*x+b*T,d=d*x+S*T,x===1-s){const P=1/Math.sqrt(u*u+c*c+h*h+d*d);u*=P,c*=P,h*=P,d*=P}}e[t]=u,e[t+1]=c,e[t+2]=h,e[t+3]=d}static multiplyQuaternionsFlat(e,t,r,i,a,o){const s=r[i],u=r[i+1],c=r[i+2],h=r[i+3],d=a[o],g=a[o+1],y=a[o+2],b=a[o+3];return e[t]=s*b+h*d+u*y-c*g,e[t+1]=u*b+h*g+c*d-s*y,e[t+2]=c*b+h*y+s*g-u*d,e[t+3]=h*b-s*d-u*g-c*y,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,t,r,i){return this._x=e,this._y=t,this._z=r,this._w=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,t=!0){const r=e._x,i=e._y,a=e._z,o=e._order,s=Math.cos,u=Math.sin,c=s(r/2),h=s(i/2),d=s(a/2),g=u(r/2),y=u(i/2),b=u(a/2);switch(o){case"XYZ":this._x=g*h*d+c*y*b,this._y=c*y*d-g*h*b,this._z=c*h*b+g*y*d,this._w=c*h*d-g*y*b;break;case"YXZ":this._x=g*h*d+c*y*b,this._y=c*y*d-g*h*b,this._z=c*h*b-g*y*d,this._w=c*h*d+g*y*b;break;case"ZXY":this._x=g*h*d-c*y*b,this._y=c*y*d+g*h*b,this._z=c*h*b+g*y*d,this._w=c*h*d-g*y*b;break;case"ZYX":this._x=g*h*d-c*y*b,this._y=c*y*d+g*h*b,this._z=c*h*b-g*y*d,this._w=c*h*d+g*y*b;break;case"YZX":this._x=g*h*d+c*y*b,this._y=c*y*d+g*h*b,this._z=c*h*b-g*y*d,this._w=c*h*d-g*y*b;break;case"XZY":this._x=g*h*d-c*y*b,this._y=c*y*d-g*h*b,this._z=c*h*b+g*y*d,this._w=c*h*d+g*y*b;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+o)}return t===!0&&this._onChangeCallback(),this}setFromAxisAngle(e,t){const r=t/2,i=Math.sin(r);return this._x=e.x*i,this._y=e.y*i,this._z=e.z*i,this._w=Math.cos(r),this._onChangeCallback(),this}setFromRotationMatrix(e){const t=e.elements,r=t[0],i=t[4],a=t[8],o=t[1],s=t[5],u=t[9],c=t[2],h=t[6],d=t[10],g=r+s+d;if(g>0){const y=.5/Math.sqrt(g+1);this._w=.25/y,this._x=(h-u)*y,this._y=(a-c)*y,this._z=(o-i)*y}else if(r>s&&r>d){const y=2*Math.sqrt(1+r-s-d);this._w=(h-u)/y,this._x=.25*y,this._y=(i+o)/y,this._z=(a+c)/y}else if(s>d){const y=2*Math.sqrt(1+s-r-d);this._w=(a-c)/y,this._x=(i+o)/y,this._y=.25*y,this._z=(u+h)/y}else{const y=2*Math.sqrt(1+d-r-s);this._w=(o-i)/y,this._x=(a+c)/y,this._y=(u+h)/y,this._z=.25*y}return this._onChangeCallback(),this}setFromUnitVectors(e,t){let r=e.dot(t)+1;return r<Number.EPSILON?(r=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=r):(this._x=0,this._y=-e.z,this._z=e.y,this._w=r)):(this._x=e.y*t.z-e.z*t.y,this._y=e.z*t.x-e.x*t.z,this._z=e.x*t.y-e.y*t.x,this._w=r),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(Cr(this.dot(e),-1,1)))}rotateTowards(e,t){const r=this.angleTo(e);if(r===0)return this;const i=Math.min(1,t/r);return this.slerp(e,i),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,t){const r=e._x,i=e._y,a=e._z,o=e._w,s=t._x,u=t._y,c=t._z,h=t._w;return this._x=r*h+o*s+i*c-a*u,this._y=i*h+o*u+a*s-r*c,this._z=a*h+o*c+r*u-i*s,this._w=o*h-r*s-i*u-a*c,this._onChangeCallback(),this}slerp(e,t){if(t===0)return this;if(t===1)return this.copy(e);const r=this._x,i=this._y,a=this._z,o=this._w;let s=o*e._w+r*e._x+i*e._y+a*e._z;if(s<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,s=-s):this.copy(e),s>=1)return this._w=o,this._x=r,this._y=i,this._z=a,this;const u=1-s*s;if(u<=Number.EPSILON){const y=1-t;return this._w=y*o+t*this._w,this._x=y*r+t*this._x,this._y=y*i+t*this._y,this._z=y*a+t*this._z,this.normalize(),this}const c=Math.sqrt(u),h=Math.atan2(c,s),d=Math.sin((1-t)*h)/c,g=Math.sin(t*h)/c;return this._w=o*d+this._w*g,this._x=r*d+this._x*g,this._y=i*d+this._y*g,this._z=a*d+this._z*g,this._onChangeCallback(),this}slerpQuaternions(e,t,r){return this.copy(e).slerp(t,r)}random(){const e=Math.random(),t=Math.sqrt(1-e),r=Math.sqrt(e),i=2*Math.PI*Math.random(),a=2*Math.PI*Math.random();return this.set(t*Math.cos(i),r*Math.sin(a),r*Math.cos(a),t*Math.sin(i))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,t=0){return this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e}fromBufferAttribute(e,t){return this._x=e.getX(t),this._y=e.getY(t),this._z=e.getZ(t),this._w=e.getW(t),this._onChangeCallback(),this}toJSON(){return this.toArray()}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class ie{constructor(e=0,t=0,r=0){ie.prototype.isVector3=!0,this.x=e,this.y=t,this.z=r}set(e,t,r){return r===void 0&&(r=this.z),this.x=e,this.y=t,this.z=r,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this}applyEuler(e){return this.applyQuaternion(oR.setFromEuler(e))}applyAxisAngle(e,t){return this.applyQuaternion(oR.setFromAxisAngle(e,t))}applyMatrix3(e){const t=this.x,r=this.y,i=this.z,a=e.elements;return this.x=a[0]*t+a[3]*r+a[6]*i,this.y=a[1]*t+a[4]*r+a[7]*i,this.z=a[2]*t+a[5]*r+a[8]*i,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const t=this.x,r=this.y,i=this.z,a=e.elements,o=1/(a[3]*t+a[7]*r+a[11]*i+a[15]);return this.x=(a[0]*t+a[4]*r+a[8]*i+a[12])*o,this.y=(a[1]*t+a[5]*r+a[9]*i+a[13])*o,this.z=(a[2]*t+a[6]*r+a[10]*i+a[14])*o,this}applyQuaternion(e){const t=this.x,r=this.y,i=this.z,a=e.x,o=e.y,s=e.z,u=e.w,c=2*(o*i-s*r),h=2*(s*t-a*i),d=2*(a*r-o*t);return this.x=t+u*c+o*d-s*h,this.y=r+u*h+s*c-a*d,this.z=i+u*d+a*h-o*c,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const t=this.x,r=this.y,i=this.z,a=e.elements;return this.x=a[0]*t+a[4]*r+a[8]*i,this.y=a[1]*t+a[5]*r+a[9]*i,this.z=a[2]*t+a[6]*r+a[10]*i,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this}clampLength(e,t){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(t,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this}lerpVectors(e,t,r){return this.x=e.x+(t.x-e.x)*r,this.y=e.y+(t.y-e.y)*r,this.z=e.z+(t.z-e.z)*r,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,t){const r=e.x,i=e.y,a=e.z,o=t.x,s=t.y,u=t.z;return this.x=i*u-a*s,this.y=a*o-r*u,this.z=r*s-i*o,this}projectOnVector(e){const t=e.lengthSq();if(t===0)return this.set(0,0,0);const r=e.dot(this)/t;return this.copy(e).multiplyScalar(r)}projectOnPlane(e){return qb.copy(this).projectOnVector(e),this.sub(qb)}reflect(e){return this.sub(qb.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(t===0)return Math.PI/2;const r=this.dot(e)/t;return Math.acos(Cr(r,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,r=this.y-e.y,i=this.z-e.z;return t*t+r*r+i*i}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,t,r){const i=Math.sin(t)*e;return this.x=i*Math.sin(r),this.y=Math.cos(t)*e,this.z=i*Math.cos(r),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,t,r){return this.x=e*Math.sin(t),this.y=r,this.z=e*Math.cos(t),this}setFromMatrixPosition(e){const t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this}setFromMatrixScale(e){const t=this.setFromMatrixColumn(e,0).length(),r=this.setFromMatrixColumn(e,1).length(),i=this.setFromMatrixColumn(e,2).length();return this.x=t,this.y=r,this.z=i,this}setFromMatrixColumn(e,t){return this.fromArray(e.elements,t*4)}setFromMatrix3Column(e,t){return this.fromArray(e.elements,t*3)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}setFromColor(e){return this.x=e.r,this.y=e.g,this.z=e.b,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=(Math.random()-.5)*2,t=Math.random()*Math.PI*2,r=Math.sqrt(1-e**2);return this.x=r*Math.cos(t),this.y=r*Math.sin(t),this.z=e,this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const qb=new ie,oR=new Zi;class ma{constructor(e=new ie(1/0,1/0,1/0),t=new ie(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromArray(e){this.makeEmpty();for(let t=0,r=e.length;t<r;t+=3)this.expandByPoint(Zo.fromArray(e,t));return this}setFromBufferAttribute(e){this.makeEmpty();for(let t=0,r=e.count;t<r;t++)this.expandByPoint(Zo.fromBufferAttribute(e,t));return this}setFromPoints(e){this.makeEmpty();for(let t=0,r=e.length;t<r;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const r=Zo.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}setFromObject(e,t=!1){return this.makeEmpty(),this.expandByObject(e,t)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,t=!1){e.updateWorldMatrix(!1,!1);const r=e.geometry;if(r!==void 0){const a=r.getAttribute("position");if(t===!0&&a!==void 0&&e.isInstancedMesh!==!0)for(let o=0,s=a.count;o<s;o++)e.isMesh===!0?e.getVertexPosition(o,Zo):Zo.fromBufferAttribute(a,o),Zo.applyMatrix4(e.matrixWorld),this.expandByPoint(Zo);else e.boundingBox!==void 0?(e.boundingBox===null&&e.computeBoundingBox(),D0.copy(e.boundingBox)):(r.boundingBox===null&&r.computeBoundingBox(),D0.copy(r.boundingBox)),D0.applyMatrix4(e.matrixWorld),this.union(D0)}const i=e.children;for(let a=0,o=i.length;a<o;a++)this.expandByObject(i[a],t);return this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z)}intersectsSphere(e){return this.clampPoint(e.center,Zo),Zo.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let t,r;return e.normal.x>0?(t=e.normal.x*this.min.x,r=e.normal.x*this.max.x):(t=e.normal.x*this.max.x,r=e.normal.x*this.min.x),e.normal.y>0?(t+=e.normal.y*this.min.y,r+=e.normal.y*this.max.y):(t+=e.normal.y*this.max.y,r+=e.normal.y*this.min.y),e.normal.z>0?(t+=e.normal.z*this.min.z,r+=e.normal.z*this.max.z):(t+=e.normal.z*this.max.z,r+=e.normal.z*this.min.z),t<=-e.constant&&r>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(pm),U0.subVectors(this.max,pm),ed.subVectors(e.a,pm),td.subVectors(e.b,pm),nd.subVectors(e.c,pm),Ou.subVectors(td,ed),Iu.subVectors(nd,td),Zc.subVectors(ed,nd);let t=[0,-Ou.z,Ou.y,0,-Iu.z,Iu.y,0,-Zc.z,Zc.y,Ou.z,0,-Ou.x,Iu.z,0,-Iu.x,Zc.z,0,-Zc.x,-Ou.y,Ou.x,0,-Iu.y,Iu.x,0,-Zc.y,Zc.x,0];return!$b(t,ed,td,nd,U0)||(t=[1,0,0,0,1,0,0,0,1],!$b(t,ed,td,nd,U0))?!1:(F0.crossVectors(Ou,Iu),t=[F0.x,F0.y,F0.z],$b(t,ed,td,nd,U0))}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,Zo).distanceTo(e)}getBoundingSphere(e){return this.isEmpty()?e.makeEmpty():(this.getCenter(e.center),e.radius=this.getSize(Zo).length()*.5),e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()?this:(xl[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),xl[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),xl[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),xl[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),xl[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),xl[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),xl[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),xl[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(xl),this)}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const xl=[new ie,new ie,new ie,new ie,new ie,new ie,new ie,new ie],Zo=new ie,D0=new ma,ed=new ie,td=new ie,nd=new ie,Ou=new ie,Iu=new ie,Zc=new ie,pm=new ie,U0=new ie,F0=new ie,Jc=new ie;function $b(n,e,t,r,i){for(let a=0,o=n.length-3;a<=o;a+=3){Jc.fromArray(n,a);const s=i.x*Math.abs(Jc.x)+i.y*Math.abs(Jc.y)+i.z*Math.abs(Jc.z),u=e.dot(Jc),c=t.dot(Jc),h=r.dot(Jc);if(Math.max(-Math.max(u,c,h),Math.min(u,c,h))>s)return!1}return!0}const $6=new ma,mm=new ie,Xb=new ie;class Ji{constructor(e=new ie,t=-1){this.isSphere=!0,this.center=e,this.radius=t}set(e,t){return this.center.copy(e),this.radius=t,this}setFromPoints(e,t){const r=this.center;t!==void 0?r.copy(t):$6.setFromPoints(e).getCenter(r);let i=0;for(let a=0,o=e.length;a<o;a++)i=Math.max(i,r.distanceToSquared(e[a]));return this.radius=Math.sqrt(i),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,t){const r=this.center.distanceToSquared(e);return t.copy(e),r>this.radius*this.radius&&(t.sub(this.center).normalize(),t.multiplyScalar(this.radius).add(this.center)),t}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;mm.subVectors(e,this.center);const t=mm.lengthSq();if(t>this.radius*this.radius){const r=Math.sqrt(t),i=(r-this.radius)*.5;this.center.addScaledVector(mm,i/r),this.radius+=i}return this}union(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(this.center.equals(e.center)===!0?this.radius=Math.max(this.radius,e.radius):(Xb.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(mm.copy(e.center).add(Xb)),this.expandByPoint(mm.copy(e.center).sub(Xb))),this)}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return new this.constructor().copy(this)}}const _l=new ie,Yb=new ie,B0=new ie,Nu=new ie,Kb=new ie,z0=new ie,Zb=new ie;class Hf{constructor(e=new ie,t=new ie(0,0,-1)){this.origin=e,this.direction=t}set(e,t){return this.origin.copy(e),this.direction.copy(t),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,t){return t.copy(this.origin).addScaledVector(this.direction,e)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,_l)),this}closestPointToPoint(e,t){t.subVectors(e,this.origin);const r=t.dot(this.direction);return r<0?t.copy(this.origin):t.copy(this.origin).addScaledVector(this.direction,r)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const t=_l.subVectors(e,this.origin).dot(this.direction);return t<0?this.origin.distanceToSquared(e):(_l.copy(this.origin).addScaledVector(this.direction,t),_l.distanceToSquared(e))}distanceSqToSegment(e,t,r,i){Yb.copy(e).add(t).multiplyScalar(.5),B0.copy(t).sub(e).normalize(),Nu.copy(this.origin).sub(Yb);const a=e.distanceTo(t)*.5,o=-this.direction.dot(B0),s=Nu.dot(this.direction),u=-Nu.dot(B0),c=Nu.lengthSq(),h=Math.abs(1-o*o);let d,g,y,b;if(h>0)if(d=o*u-s,g=o*s-u,b=a*h,d>=0)if(g>=-b)if(g<=b){const S=1/h;d*=S,g*=S,y=d*(d+o*g+2*s)+g*(o*d+g+2*u)+c}else g=a,d=Math.max(0,-(o*g+s)),y=-d*d+g*(g+2*u)+c;else g=-a,d=Math.max(0,-(o*g+s)),y=-d*d+g*(g+2*u)+c;else g<=-b?(d=Math.max(0,-(-o*a+s)),g=d>0?-a:Math.min(Math.max(-a,-u),a),y=-d*d+g*(g+2*u)+c):g<=b?(d=0,g=Math.min(Math.max(-a,-u),a),y=g*(g+2*u)+c):(d=Math.max(0,-(o*a+s)),g=d>0?a:Math.min(Math.max(-a,-u),a),y=-d*d+g*(g+2*u)+c);else g=o>0?-a:a,d=Math.max(0,-(o*g+s)),y=-d*d+g*(g+2*u)+c;return r&&r.copy(this.origin).addScaledVector(this.direction,d),i&&i.copy(Yb).addScaledVector(B0,g),y}intersectSphere(e,t){_l.subVectors(e.center,this.origin);const r=_l.dot(this.direction),i=_l.dot(_l)-r*r,a=e.radius*e.radius;if(i>a)return null;const o=Math.sqrt(a-i),s=r-o,u=r+o;return u<0?null:s<0?this.at(u,t):this.at(s,t)}intersectsSphere(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const t=e.normal.dot(this.direction);if(t===0)return e.distanceToPoint(this.origin)===0?0:null;const r=-(this.origin.dot(e.normal)+e.constant)/t;return r>=0?r:null}intersectPlane(e,t){const r=this.distanceToPlane(e);return r===null?null:this.at(r,t)}intersectsPlane(e){const t=e.distanceToPoint(this.origin);return t===0||e.normal.dot(this.direction)*t<0}intersectBox(e,t){let r,i,a,o,s,u;const c=1/this.direction.x,h=1/this.direction.y,d=1/this.direction.z,g=this.origin;return c>=0?(r=(e.min.x-g.x)*c,i=(e.max.x-g.x)*c):(r=(e.max.x-g.x)*c,i=(e.min.x-g.x)*c),h>=0?(a=(e.min.y-g.y)*h,o=(e.max.y-g.y)*h):(a=(e.max.y-g.y)*h,o=(e.min.y-g.y)*h),r>o||a>i||((a>r||isNaN(r))&&(r=a),(o<i||isNaN(i))&&(i=o),d>=0?(s=(e.min.z-g.z)*d,u=(e.max.z-g.z)*d):(s=(e.max.z-g.z)*d,u=(e.min.z-g.z)*d),r>u||s>i)||((s>r||r!==r)&&(r=s),(u<i||i!==i)&&(i=u),i<0)?null:this.at(r>=0?r:i,t)}intersectsBox(e){return this.intersectBox(e,_l)!==null}intersectTriangle(e,t,r,i,a){Kb.subVectors(t,e),z0.subVectors(r,e),Zb.crossVectors(Kb,z0);let o=this.direction.dot(Zb),s;if(o>0){if(i)return null;s=1}else if(o<0)s=-1,o=-o;else return null;Nu.subVectors(this.origin,e);const u=s*this.direction.dot(z0.crossVectors(Nu,z0));if(u<0)return null;const c=s*this.direction.dot(Kb.cross(Nu));if(c<0||u+c>o)return null;const h=-s*Nu.dot(Zb);return h<0?null:this.at(h/o,a)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class en{constructor(e,t,r,i,a,o,s,u,c,h,d,g,y,b,S,x){en.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],e!==void 0&&this.set(e,t,r,i,a,o,s,u,c,h,d,g,y,b,S,x)}set(e,t,r,i,a,o,s,u,c,h,d,g,y,b,S,x){const _=this.elements;return _[0]=e,_[4]=t,_[8]=r,_[12]=i,_[1]=a,_[5]=o,_[9]=s,_[13]=u,_[2]=c,_[6]=h,_[10]=d,_[14]=g,_[3]=y,_[7]=b,_[11]=S,_[15]=x,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new en().fromArray(this.elements)}copy(e){const t=this.elements,r=e.elements;return t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t[4]=r[4],t[5]=r[5],t[6]=r[6],t[7]=r[7],t[8]=r[8],t[9]=r[9],t[10]=r[10],t[11]=r[11],t[12]=r[12],t[13]=r[13],t[14]=r[14],t[15]=r[15],this}copyPosition(e){const t=this.elements,r=e.elements;return t[12]=r[12],t[13]=r[13],t[14]=r[14],this}setFromMatrix3(e){const t=e.elements;return this.set(t[0],t[3],t[6],0,t[1],t[4],t[7],0,t[2],t[5],t[8],0,0,0,0,1),this}extractBasis(e,t,r){return e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),r.setFromMatrixColumn(this,2),this}makeBasis(e,t,r){return this.set(e.x,t.x,r.x,0,e.y,t.y,r.y,0,e.z,t.z,r.z,0,0,0,0,1),this}extractRotation(e){const t=this.elements,r=e.elements,i=1/rd.setFromMatrixColumn(e,0).length(),a=1/rd.setFromMatrixColumn(e,1).length(),o=1/rd.setFromMatrixColumn(e,2).length();return t[0]=r[0]*i,t[1]=r[1]*i,t[2]=r[2]*i,t[3]=0,t[4]=r[4]*a,t[5]=r[5]*a,t[6]=r[6]*a,t[7]=0,t[8]=r[8]*o,t[9]=r[9]*o,t[10]=r[10]*o,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromEuler(e){const t=this.elements,r=e.x,i=e.y,a=e.z,o=Math.cos(r),s=Math.sin(r),u=Math.cos(i),c=Math.sin(i),h=Math.cos(a),d=Math.sin(a);if(e.order==="XYZ"){const g=o*h,y=o*d,b=s*h,S=s*d;t[0]=u*h,t[4]=-u*d,t[8]=c,t[1]=y+b*c,t[5]=g-S*c,t[9]=-s*u,t[2]=S-g*c,t[6]=b+y*c,t[10]=o*u}else if(e.order==="YXZ"){const g=u*h,y=u*d,b=c*h,S=c*d;t[0]=g+S*s,t[4]=b*s-y,t[8]=o*c,t[1]=o*d,t[5]=o*h,t[9]=-s,t[2]=y*s-b,t[6]=S+g*s,t[10]=o*u}else if(e.order==="ZXY"){const g=u*h,y=u*d,b=c*h,S=c*d;t[0]=g-S*s,t[4]=-o*d,t[8]=b+y*s,t[1]=y+b*s,t[5]=o*h,t[9]=S-g*s,t[2]=-o*c,t[6]=s,t[10]=o*u}else if(e.order==="ZYX"){const g=o*h,y=o*d,b=s*h,S=s*d;t[0]=u*h,t[4]=b*c-y,t[8]=g*c+S,t[1]=u*d,t[5]=S*c+g,t[9]=y*c-b,t[2]=-c,t[6]=s*u,t[10]=o*u}else if(e.order==="YZX"){const g=o*u,y=o*c,b=s*u,S=s*c;t[0]=u*h,t[4]=S-g*d,t[8]=b*d+y,t[1]=d,t[5]=o*h,t[9]=-s*h,t[2]=-c*h,t[6]=y*d+b,t[10]=g-S*d}else if(e.order==="XZY"){const g=o*u,y=o*c,b=s*u,S=s*c;t[0]=u*h,t[4]=-d,t[8]=c*h,t[1]=g*d+S,t[5]=o*h,t[9]=y*d-b,t[2]=b*d-y,t[6]=s*h,t[10]=S*d+g}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromQuaternion(e){return this.compose(X6,e,Y6)}lookAt(e,t,r){const i=this.elements;return Ka.subVectors(e,t),Ka.lengthSq()===0&&(Ka.z=1),Ka.normalize(),Lu.crossVectors(r,Ka),Lu.lengthSq()===0&&(Math.abs(r.z)===1?Ka.x+=1e-4:Ka.z+=1e-4,Ka.normalize(),Lu.crossVectors(r,Ka)),Lu.normalize(),j0.crossVectors(Ka,Lu),i[0]=Lu.x,i[4]=j0.x,i[8]=Ka.x,i[1]=Lu.y,i[5]=j0.y,i[9]=Ka.y,i[2]=Lu.z,i[6]=j0.z,i[10]=Ka.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const r=e.elements,i=t.elements,a=this.elements,o=r[0],s=r[4],u=r[8],c=r[12],h=r[1],d=r[5],g=r[9],y=r[13],b=r[2],S=r[6],x=r[10],_=r[14],E=r[3],A=r[7],T=r[11],P=r[15],O=i[0],N=i[4],F=i[8],D=i[12],U=i[1],G=i[5],q=i[9],Q=i[13],H=i[2],te=i[6],Z=i[10],he=i[14],X=i[3],ae=i[7],z=i[11],re=i[15];return a[0]=o*O+s*U+u*H+c*X,a[4]=o*N+s*G+u*te+c*ae,a[8]=o*F+s*q+u*Z+c*z,a[12]=o*D+s*Q+u*he+c*re,a[1]=h*O+d*U+g*H+y*X,a[5]=h*N+d*G+g*te+y*ae,a[9]=h*F+d*q+g*Z+y*z,a[13]=h*D+d*Q+g*he+y*re,a[2]=b*O+S*U+x*H+_*X,a[6]=b*N+S*G+x*te+_*ae,a[10]=b*F+S*q+x*Z+_*z,a[14]=b*D+S*Q+x*he+_*re,a[3]=E*O+A*U+T*H+P*X,a[7]=E*N+A*G+T*te+P*ae,a[11]=E*F+A*q+T*Z+P*z,a[15]=E*D+A*Q+T*he+P*re,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this}determinant(){const e=this.elements,t=e[0],r=e[4],i=e[8],a=e[12],o=e[1],s=e[5],u=e[9],c=e[13],h=e[2],d=e[6],g=e[10],y=e[14],b=e[3],S=e[7],x=e[11],_=e[15];return b*(+a*u*d-i*c*d-a*s*g+r*c*g+i*s*y-r*u*y)+S*(+t*u*y-t*c*g+a*o*g-i*o*y+i*c*h-a*u*h)+x*(+t*c*d-t*s*y-a*o*d+r*o*y+a*s*h-r*c*h)+_*(-i*s*h-t*u*d+t*s*g+i*o*d-r*o*g+r*u*h)}transpose(){const e=this.elements;let t;return t=e[1],e[1]=e[4],e[4]=t,t=e[2],e[2]=e[8],e[8]=t,t=e[6],e[6]=e[9],e[9]=t,t=e[3],e[3]=e[12],e[12]=t,t=e[7],e[7]=e[13],e[13]=t,t=e[11],e[11]=e[14],e[14]=t,this}setPosition(e,t,r){const i=this.elements;return e.isVector3?(i[12]=e.x,i[13]=e.y,i[14]=e.z):(i[12]=e,i[13]=t,i[14]=r),this}invert(){const e=this.elements,t=e[0],r=e[1],i=e[2],a=e[3],o=e[4],s=e[5],u=e[6],c=e[7],h=e[8],d=e[9],g=e[10],y=e[11],b=e[12],S=e[13],x=e[14],_=e[15],E=d*x*c-S*g*c+S*u*y-s*x*y-d*u*_+s*g*_,A=b*g*c-h*x*c-b*u*y+o*x*y+h*u*_-o*g*_,T=h*S*c-b*d*c+b*s*y-o*S*y-h*s*_+o*d*_,P=b*d*u-h*S*u-b*s*g+o*S*g+h*s*x-o*d*x,O=t*E+r*A+i*T+a*P;if(O===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const N=1/O;return e[0]=E*N,e[1]=(S*g*a-d*x*a-S*i*y+r*x*y+d*i*_-r*g*_)*N,e[2]=(s*x*a-S*u*a+S*i*c-r*x*c-s*i*_+r*u*_)*N,e[3]=(d*u*a-s*g*a-d*i*c+r*g*c+s*i*y-r*u*y)*N,e[4]=A*N,e[5]=(h*x*a-b*g*a+b*i*y-t*x*y-h*i*_+t*g*_)*N,e[6]=(b*u*a-o*x*a-b*i*c+t*x*c+o*i*_-t*u*_)*N,e[7]=(o*g*a-h*u*a+h*i*c-t*g*c-o*i*y+t*u*y)*N,e[8]=T*N,e[9]=(b*d*a-h*S*a-b*r*y+t*S*y+h*r*_-t*d*_)*N,e[10]=(o*S*a-b*s*a+b*r*c-t*S*c-o*r*_+t*s*_)*N,e[11]=(h*s*a-o*d*a-h*r*c+t*d*c+o*r*y-t*s*y)*N,e[12]=P*N,e[13]=(h*S*i-b*d*i+b*r*g-t*S*g-h*r*x+t*d*x)*N,e[14]=(b*s*i-o*S*i-b*r*u+t*S*u+o*r*x-t*s*x)*N,e[15]=(o*d*i-h*s*i+h*r*u-t*d*u-o*r*g+t*s*g)*N,this}scale(e){const t=this.elements,r=e.x,i=e.y,a=e.z;return t[0]*=r,t[4]*=i,t[8]*=a,t[1]*=r,t[5]*=i,t[9]*=a,t[2]*=r,t[6]*=i,t[10]*=a,t[3]*=r,t[7]*=i,t[11]*=a,this}getMaxScaleOnAxis(){const e=this.elements,t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],r=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],i=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(t,r,i))}makeTranslation(e,t,r){return e.isVector3?this.set(1,0,0,e.x,0,1,0,e.y,0,0,1,e.z,0,0,0,1):this.set(1,0,0,e,0,1,0,t,0,0,1,r,0,0,0,1),this}makeRotationX(e){const t=Math.cos(e),r=Math.sin(e);return this.set(1,0,0,0,0,t,-r,0,0,r,t,0,0,0,0,1),this}makeRotationY(e){const t=Math.cos(e),r=Math.sin(e);return this.set(t,0,r,0,0,1,0,0,-r,0,t,0,0,0,0,1),this}makeRotationZ(e){const t=Math.cos(e),r=Math.sin(e);return this.set(t,-r,0,0,r,t,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,t){const r=Math.cos(t),i=Math.sin(t),a=1-r,o=e.x,s=e.y,u=e.z,c=a*o,h=a*s;return this.set(c*o+r,c*s-i*u,c*u+i*s,0,c*s+i*u,h*s+r,h*u-i*o,0,c*u-i*s,h*u+i*o,a*u*u+r,0,0,0,0,1),this}makeScale(e,t,r){return this.set(e,0,0,0,0,t,0,0,0,0,r,0,0,0,0,1),this}makeShear(e,t,r,i,a,o){return this.set(1,r,a,0,e,1,o,0,t,i,1,0,0,0,0,1),this}compose(e,t,r){const i=this.elements,a=t._x,o=t._y,s=t._z,u=t._w,c=a+a,h=o+o,d=s+s,g=a*c,y=a*h,b=a*d,S=o*h,x=o*d,_=s*d,E=u*c,A=u*h,T=u*d,P=r.x,O=r.y,N=r.z;return i[0]=(1-(S+_))*P,i[1]=(y+T)*P,i[2]=(b-A)*P,i[3]=0,i[4]=(y-T)*O,i[5]=(1-(g+_))*O,i[6]=(x+E)*O,i[7]=0,i[8]=(b+A)*N,i[9]=(x-E)*N,i[10]=(1-(g+S))*N,i[11]=0,i[12]=e.x,i[13]=e.y,i[14]=e.z,i[15]=1,this}decompose(e,t,r){const i=this.elements;let a=rd.set(i[0],i[1],i[2]).length();const o=rd.set(i[4],i[5],i[6]).length(),s=rd.set(i[8],i[9],i[10]).length();this.determinant()<0&&(a=-a),e.x=i[12],e.y=i[13],e.z=i[14],Jo.copy(this);const c=1/a,h=1/o,d=1/s;return Jo.elements[0]*=c,Jo.elements[1]*=c,Jo.elements[2]*=c,Jo.elements[4]*=h,Jo.elements[5]*=h,Jo.elements[6]*=h,Jo.elements[8]*=d,Jo.elements[9]*=d,Jo.elements[10]*=d,t.setFromRotationMatrix(Jo),r.x=a,r.y=o,r.z=s,this}makePerspective(e,t,r,i,a,o,s=ss){const u=this.elements,c=2*a/(t-e),h=2*a/(r-i),d=(t+e)/(t-e),g=(r+i)/(r-i);let y,b;if(s===ss)y=-(o+a)/(o-a),b=-2*o*a/(o-a);else if(s===jd)y=-o/(o-a),b=-o*a/(o-a);else throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+s);return u[0]=c,u[4]=0,u[8]=d,u[12]=0,u[1]=0,u[5]=h,u[9]=g,u[13]=0,u[2]=0,u[6]=0,u[10]=y,u[14]=b,u[3]=0,u[7]=0,u[11]=-1,u[15]=0,this}makeOrthographic(e,t,r,i,a,o,s=ss){const u=this.elements,c=1/(t-e),h=1/(r-i),d=1/(o-a),g=(t+e)*c,y=(r+i)*h;let b,S;if(s===ss)b=(o+a)*d,S=-2*d;else if(s===jd)b=a*d,S=-1*d;else throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+s);return u[0]=2*c,u[4]=0,u[8]=0,u[12]=-g,u[1]=0,u[5]=2*h,u[9]=0,u[13]=-y,u[2]=0,u[6]=0,u[10]=S,u[14]=-b,u[3]=0,u[7]=0,u[11]=0,u[15]=1,this}equals(e){const t=this.elements,r=e.elements;for(let i=0;i<16;i++)if(t[i]!==r[i])return!1;return!0}fromArray(e,t=0){for(let r=0;r<16;r++)this.elements[r]=e[r+t];return this}toArray(e=[],t=0){const r=this.elements;return e[t]=r[0],e[t+1]=r[1],e[t+2]=r[2],e[t+3]=r[3],e[t+4]=r[4],e[t+5]=r[5],e[t+6]=r[6],e[t+7]=r[7],e[t+8]=r[8],e[t+9]=r[9],e[t+10]=r[10],e[t+11]=r[11],e[t+12]=r[12],e[t+13]=r[13],e[t+14]=r[14],e[t+15]=r[15],e}}const rd=new ie,Jo=new en,X6=new ie(0,0,0),Y6=new ie(1,1,1),Lu=new ie,j0=new ie,Ka=new ie,sR=new en,lR=new Zi;class gv{constructor(e=0,t=0,r=0,i=gv.DEFAULT_ORDER){this.isEuler=!0,this._x=e,this._y=t,this._z=r,this._order=i}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,t,r,i=this._order){return this._x=e,this._y=t,this._z=r,this._order=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,t=this._order,r=!0){const i=e.elements,a=i[0],o=i[4],s=i[8],u=i[1],c=i[5],h=i[9],d=i[2],g=i[6],y=i[10];switch(t){case"XYZ":this._y=Math.asin(Cr(s,-1,1)),Math.abs(s)<.9999999?(this._x=Math.atan2(-h,y),this._z=Math.atan2(-o,a)):(this._x=Math.atan2(g,c),this._z=0);break;case"YXZ":this._x=Math.asin(-Cr(h,-1,1)),Math.abs(h)<.9999999?(this._y=Math.atan2(s,y),this._z=Math.atan2(u,c)):(this._y=Math.atan2(-d,a),this._z=0);break;case"ZXY":this._x=Math.asin(Cr(g,-1,1)),Math.abs(g)<.9999999?(this._y=Math.atan2(-d,y),this._z=Math.atan2(-o,c)):(this._y=0,this._z=Math.atan2(u,a));break;case"ZYX":this._y=Math.asin(-Cr(d,-1,1)),Math.abs(d)<.9999999?(this._x=Math.atan2(g,y),this._z=Math.atan2(u,a)):(this._x=0,this._z=Math.atan2(-o,c));break;case"YZX":this._z=Math.asin(Cr(u,-1,1)),Math.abs(u)<.9999999?(this._x=Math.atan2(-h,c),this._y=Math.atan2(-d,a)):(this._x=0,this._y=Math.atan2(s,y));break;case"XZY":this._z=Math.asin(-Cr(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(g,c),this._y=Math.atan2(s,a)):(this._x=Math.atan2(-h,y),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+t)}return this._order=t,r===!0&&this._onChangeCallback(),this}setFromQuaternion(e,t,r){return sR.makeRotationFromQuaternion(e),this.setFromRotationMatrix(sR,t,r)}setFromVector3(e,t=this._order){return this.set(e.x,e.y,e.z,t)}reorder(e){return lR.setFromEuler(this),this.setFromQuaternion(lR,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}gv.DEFAULT_ORDER="XYZ";class Pf{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!==0}isEnabled(e){return(this.mask&(1<<e|0))!==0}}let K6=0;const uR=new ie,id=new Zi,bl=new en,H0=new ie,gm=new ie,Z6=new ie,J6=new Zi,cR=new ie(1,0,0),fR=new ie(0,1,0),hR=new ie(0,0,1),Q6={type:"added"},eV={type:"removed"};class Nn extends Vl{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:K6++}),this.uuid=no(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=Nn.DEFAULT_UP.clone();const e=new ie,t=new gv,r=new Zi,i=new ie(1,1,1);function a(){r.setFromEuler(t,!1)}function o(){t.setFromQuaternion(r,void 0,!1)}t._onChange(a),r._onChange(o),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:t},quaternion:{configurable:!0,enumerable:!0,value:r},scale:{configurable:!0,enumerable:!0,value:i},modelViewMatrix:{value:new en},normalMatrix:{value:new xn}}),this.matrix=new en,this.matrixWorld=new en,this.matrixAutoUpdate=Nn.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldAutoUpdate=Nn.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.layers=new Pf,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeShadow(){}onAfterShadow(){}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,t){this.quaternion.setFromAxisAngle(e,t)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,t){return id.setFromAxisAngle(e,t),this.quaternion.multiply(id),this}rotateOnWorldAxis(e,t){return id.setFromAxisAngle(e,t),this.quaternion.premultiply(id),this}rotateX(e){return this.rotateOnAxis(cR,e)}rotateY(e){return this.rotateOnAxis(fR,e)}rotateZ(e){return this.rotateOnAxis(hR,e)}translateOnAxis(e,t){return uR.copy(e).applyQuaternion(this.quaternion),this.position.add(uR.multiplyScalar(t)),this}translateX(e){return this.translateOnAxis(cR,e)}translateY(e){return this.translateOnAxis(fR,e)}translateZ(e){return this.translateOnAxis(hR,e)}localToWorld(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(bl.copy(this.matrixWorld).invert())}lookAt(e,t,r){e.isVector3?H0.copy(e):H0.set(e,t,r);const i=this.parent;this.updateWorldMatrix(!0,!1),gm.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?bl.lookAt(gm,H0,this.up):bl.lookAt(H0,gm,this.up),this.quaternion.setFromRotationMatrix(bl),i&&(bl.extractRotation(i.matrixWorld),id.setFromRotationMatrix(bl),this.quaternion.premultiply(id.invert()))}add(e){if(arguments.length>1){for(let t=0;t<arguments.length;t++)this.add(arguments[t]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.parent!==null&&e.parent.remove(e),e.parent=this,this.children.push(e),e.dispatchEvent(Q6)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let r=0;r<arguments.length;r++)this.remove(arguments[r]);return this}const t=this.children.indexOf(e);return t!==-1&&(e.parent=null,this.children.splice(t,1),e.dispatchEvent(eV)),this}removeFromParent(){const e=this.parent;return e!==null&&e.remove(this),this}clear(){return this.remove(...this.children)}attach(e){return this.updateWorldMatrix(!0,!1),bl.copy(this.matrixWorld).invert(),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),bl.multiply(e.parent.matrixWorld)),e.applyMatrix4(bl),this.add(e),e.updateWorldMatrix(!1,!0),this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,t){if(this[e]===t)return this;for(let r=0,i=this.children.length;r<i;r++){const o=this.children[r].getObjectByProperty(e,t);if(o!==void 0)return o}}getObjectsByProperty(e,t,r=[]){this[e]===t&&r.push(this);const i=this.children;for(let a=0,o=i.length;a<o;a++)i[a].getObjectsByProperty(e,t,r);return r}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(gm,e,Z6),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(gm,J6,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const t=this.matrixWorld.elements;return e.set(t[8],t[9],t[10]).normalize()}raycast(){}traverse(e){e(this);const t=this.children;for(let r=0,i=t.length;r<i;r++)t[r].traverse(e)}traverseVisible(e){if(this.visible===!1)return;e(this);const t=this.children;for(let r=0,i=t.length;r<i;r++)t[r].traverseVisible(e)}traverseAncestors(e){const t=this.parent;t!==null&&(e(t),t.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,e=!0);const t=this.children;for(let r=0,i=t.length;r<i;r++){const a=t[r];(a.matrixWorldAutoUpdate===!0||e===!0)&&a.updateMatrixWorld(e)}}updateWorldMatrix(e,t){const r=this.parent;if(e===!0&&r!==null&&r.matrixWorldAutoUpdate===!0&&r.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),t===!0){const i=this.children;for(let a=0,o=i.length;a<o;a++){const s=i[a];s.matrixWorldAutoUpdate===!0&&s.updateWorldMatrix(!1,!0)}}}toJSON(e){const t=e===void 0||typeof e=="string",r={};t&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},r.metadata={version:4.6,type:"Object",generator:"Object3D.toJSON"});const i={};i.uuid=this.uuid,i.type=this.type,this.name!==""&&(i.name=this.name),this.castShadow===!0&&(i.castShadow=!0),this.receiveShadow===!0&&(i.receiveShadow=!0),this.visible===!1&&(i.visible=!1),this.frustumCulled===!1&&(i.frustumCulled=!1),this.renderOrder!==0&&(i.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(i.userData=this.userData),i.layers=this.layers.mask,i.matrix=this.matrix.toArray(),i.up=this.up.toArray(),this.matrixAutoUpdate===!1&&(i.matrixAutoUpdate=!1),this.isInstancedMesh&&(i.type="InstancedMesh",i.count=this.count,i.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(i.instanceColor=this.instanceColor.toJSON())),this.isBatchedMesh&&(i.type="BatchedMesh",i.perObjectFrustumCulled=this.perObjectFrustumCulled,i.sortObjects=this.sortObjects,i.drawRanges=this._drawRanges,i.reservedRanges=this._reservedRanges,i.visibility=this._visibility,i.active=this._active,i.bounds=this._bounds.map(s=>({boxInitialized:s.boxInitialized,boxMin:s.box.min.toArray(),boxMax:s.box.max.toArray(),sphereInitialized:s.sphereInitialized,sphereRadius:s.sphere.radius,sphereCenter:s.sphere.center.toArray()})),i.maxGeometryCount=this._maxGeometryCount,i.maxVertexCount=this._maxVertexCount,i.maxIndexCount=this._maxIndexCount,i.geometryInitialized=this._geometryInitialized,i.geometryCount=this._geometryCount,i.matricesTexture=this._matricesTexture.toJSON(e),this.boundingSphere!==null&&(i.boundingSphere={center:i.boundingSphere.center.toArray(),radius:i.boundingSphere.radius}),this.boundingBox!==null&&(i.boundingBox={min:i.boundingBox.min.toArray(),max:i.boundingBox.max.toArray()}));function a(s,u){return s[u.uuid]===void 0&&(s[u.uuid]=u.toJSON(e)),u.uuid}if(this.isScene)this.background&&(this.background.isColor?i.background=this.background.toJSON():this.background.isTexture&&(i.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(i.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){i.geometry=a(e.geometries,this.geometry);const s=this.geometry.parameters;if(s!==void 0&&s.shapes!==void 0){const u=s.shapes;if(Array.isArray(u))for(let c=0,h=u.length;c<h;c++){const d=u[c];a(e.shapes,d)}else a(e.shapes,u)}}if(this.isSkinnedMesh&&(i.bindMode=this.bindMode,i.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(a(e.skeletons,this.skeleton),i.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const s=[];for(let u=0,c=this.material.length;u<c;u++)s.push(a(e.materials,this.material[u]));i.material=s}else i.material=a(e.materials,this.material);if(this.children.length>0){i.children=[];for(let s=0;s<this.children.length;s++)i.children.push(this.children[s].toJSON(e).object)}if(this.animations.length>0){i.animations=[];for(let s=0;s<this.animations.length;s++){const u=this.animations[s];i.animations.push(a(e.animations,u))}}if(t){const s=o(e.geometries),u=o(e.materials),c=o(e.textures),h=o(e.images),d=o(e.shapes),g=o(e.skeletons),y=o(e.animations),b=o(e.nodes);s.length>0&&(r.geometries=s),u.length>0&&(r.materials=u),c.length>0&&(r.textures=c),h.length>0&&(r.images=h),d.length>0&&(r.shapes=d),g.length>0&&(r.skeletons=g),y.length>0&&(r.animations=y),b.length>0&&(r.nodes=b)}return r.object=i,r;function o(s){const u=[];for(const c in s){const h=s[c];delete h.metadata,u.push(h)}return u}}clone(e){return new this.constructor().copy(this,e)}copy(e,t=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.animations=e.animations.slice(),this.userData=JSON.parse(JSON.stringify(e.userData)),t===!0)for(let r=0;r<e.children.length;r++){const i=e.children[r];this.add(i.clone())}return this}}Nn.DEFAULT_UP=new ie(0,1,0);Nn.DEFAULT_MATRIX_AUTO_UPDATE=!0;Nn.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const Qo=new ie,Sl=new ie,Jb=new ie,wl=new ie,ad=new ie,od=new ie,dR=new ie,Qb=new ie,e1=new ie,t1=new ie;let V0=!1;class Na{constructor(e=new ie,t=new ie,r=new ie){this.a=e,this.b=t,this.c=r}static getNormal(e,t,r,i){i.subVectors(r,t),Qo.subVectors(e,t),i.cross(Qo);const a=i.lengthSq();return a>0?i.multiplyScalar(1/Math.sqrt(a)):i.set(0,0,0)}static getBarycoord(e,t,r,i,a){Qo.subVectors(i,t),Sl.subVectors(r,t),Jb.subVectors(e,t);const o=Qo.dot(Qo),s=Qo.dot(Sl),u=Qo.dot(Jb),c=Sl.dot(Sl),h=Sl.dot(Jb),d=o*c-s*s;if(d===0)return a.set(0,0,0),null;const g=1/d,y=(c*u-s*h)*g,b=(o*h-s*u)*g;return a.set(1-y-b,b,y)}static containsPoint(e,t,r,i){return this.getBarycoord(e,t,r,i,wl)===null?!1:wl.x>=0&&wl.y>=0&&wl.x+wl.y<=1}static getUV(e,t,r,i,a,o,s,u){return V0===!1&&(console.warn("THREE.Triangle.getUV() has been renamed to THREE.Triangle.getInterpolation()."),V0=!0),this.getInterpolation(e,t,r,i,a,o,s,u)}static getInterpolation(e,t,r,i,a,o,s,u){return this.getBarycoord(e,t,r,i,wl)===null?(u.x=0,u.y=0,"z"in u&&(u.z=0),"w"in u&&(u.w=0),null):(u.setScalar(0),u.addScaledVector(a,wl.x),u.addScaledVector(o,wl.y),u.addScaledVector(s,wl.z),u)}static isFrontFacing(e,t,r,i){return Qo.subVectors(r,t),Sl.subVectors(e,t),Qo.cross(Sl).dot(i)<0}set(e,t,r){return this.a.copy(e),this.b.copy(t),this.c.copy(r),this}setFromPointsAndIndices(e,t,r,i){return this.a.copy(e[t]),this.b.copy(e[r]),this.c.copy(e[i]),this}setFromAttributeAndIndices(e,t,r,i){return this.a.fromBufferAttribute(e,t),this.b.fromBufferAttribute(e,r),this.c.fromBufferAttribute(e,i),this}clone(){return new this.constructor().copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return Qo.subVectors(this.c,this.b),Sl.subVectors(this.a,this.b),Qo.cross(Sl).length()*.5}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return Na.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,t){return Na.getBarycoord(e,this.a,this.b,this.c,t)}getUV(e,t,r,i,a){return V0===!1&&(console.warn("THREE.Triangle.getUV() has been renamed to THREE.Triangle.getInterpolation()."),V0=!0),Na.getInterpolation(e,this.a,this.b,this.c,t,r,i,a)}getInterpolation(e,t,r,i,a){return Na.getInterpolation(e,this.a,this.b,this.c,t,r,i,a)}containsPoint(e){return Na.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return Na.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,t){const r=this.a,i=this.b,a=this.c;let o,s;ad.subVectors(i,r),od.subVectors(a,r),Qb.subVectors(e,r);const u=ad.dot(Qb),c=od.dot(Qb);if(u<=0&&c<=0)return t.copy(r);e1.subVectors(e,i);const h=ad.dot(e1),d=od.dot(e1);if(h>=0&&d<=h)return t.copy(i);const g=u*d-h*c;if(g<=0&&u>=0&&h<=0)return o=u/(u-h),t.copy(r).addScaledVector(ad,o);t1.subVectors(e,a);const y=ad.dot(t1),b=od.dot(t1);if(b>=0&&y<=b)return t.copy(a);const S=y*c-u*b;if(S<=0&&c>=0&&b<=0)return s=c/(c-b),t.copy(r).addScaledVector(od,s);const x=h*b-y*d;if(x<=0&&d-h>=0&&y-b>=0)return dR.subVectors(a,i),s=(d-h)/(d-h+(y-b)),t.copy(i).addScaledVector(dR,s);const _=1/(x+S+g);return o=S*_,s=g*_,t.copy(r).addScaledVector(ad,o).addScaledVector(od,s)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}const sB={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},ku={h:0,s:0,l:0},G0={h:0,s:0,l:0};function n1(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*6*t:t<1/2?e:t<2/3?n+(e-n)*6*(2/3-t):n}let wt=class{constructor(e,t,r){return this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(e,t,r)}set(e,t,r){if(t===void 0&&r===void 0){const i=e;i&&i.isColor?this.copy(i):typeof i=="number"?this.setHex(i):typeof i=="string"&&this.setStyle(i)}else this.setRGB(e,t,r);return this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,t=ri){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,qn.toWorkingColorSpace(this,t),this}setRGB(e,t,r,i=qn.workingColorSpace){return this.r=e,this.g=t,this.b=r,qn.toWorkingColorSpace(this,i),this}setHSL(e,t,r,i=qn.workingColorSpace){if(e=gC(e,1),t=Cr(t,0,1),r=Cr(r,0,1),t===0)this.r=this.g=this.b=r;else{const a=r<=.5?r*(1+t):r+t-r*t,o=2*r-a;this.r=n1(o,a,e+1/3),this.g=n1(o,a,e),this.b=n1(o,a,e-1/3)}return qn.toWorkingColorSpace(this,i),this}setStyle(e,t=ri){function r(a){a!==void 0&&parseFloat(a)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let i;if(i=/^(\w+)\(([^\)]*)\)/.exec(e)){let a;const o=i[1],s=i[2];switch(o){case"rgb":case"rgba":if(a=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(s))return r(a[4]),this.setRGB(Math.min(255,parseInt(a[1],10))/255,Math.min(255,parseInt(a[2],10))/255,Math.min(255,parseInt(a[3],10))/255,t);if(a=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(s))return r(a[4]),this.setRGB(Math.min(100,parseInt(a[1],10))/100,Math.min(100,parseInt(a[2],10))/100,Math.min(100,parseInt(a[3],10))/100,t);break;case"hsl":case"hsla":if(a=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(s))return r(a[4]),this.setHSL(parseFloat(a[1])/360,parseFloat(a[2])/100,parseFloat(a[3])/100,t);break;default:console.warn("THREE.Color: Unknown color model "+e)}}else if(i=/^\#([A-Fa-f\d]+)$/.exec(e)){const a=i[1],o=a.length;if(o===3)return this.setRGB(parseInt(a.charAt(0),16)/15,parseInt(a.charAt(1),16)/15,parseInt(a.charAt(2),16)/15,t);if(o===6)return this.setHex(parseInt(a,16),t);console.warn("THREE.Color: Invalid hex color "+e)}else if(e&&e.length>0)return this.setColorName(e,t);return this}setColorName(e,t=ri){const r=sB[e.toLowerCase()];return r!==void 0?this.setHex(r,t):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=Dd(e.r),this.g=Dd(e.g),this.b=Dd(e.b),this}copyLinearToSRGB(e){return this.r=Gb(e.r),this.g=Gb(e.g),this.b=Gb(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=ri){return qn.fromWorkingColorSpace(Gi.copy(this),e),Math.round(Cr(Gi.r*255,0,255))*65536+Math.round(Cr(Gi.g*255,0,255))*256+Math.round(Cr(Gi.b*255,0,255))}getHexString(e=ri){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,t=qn.workingColorSpace){qn.fromWorkingColorSpace(Gi.copy(this),t);const r=Gi.r,i=Gi.g,a=Gi.b,o=Math.max(r,i,a),s=Math.min(r,i,a);let u,c;const h=(s+o)/2;if(s===o)u=0,c=0;else{const d=o-s;switch(c=h<=.5?d/(o+s):d/(2-o-s),o){case r:u=(i-a)/d+(i<a?6:0);break;case i:u=(a-r)/d+2;break;case a:u=(r-i)/d+4;break}u/=6}return e.h=u,e.s=c,e.l=h,e}getRGB(e,t=qn.workingColorSpace){return qn.fromWorkingColorSpace(Gi.copy(this),t),e.r=Gi.r,e.g=Gi.g,e.b=Gi.b,e}getStyle(e=ri){qn.fromWorkingColorSpace(Gi.copy(this),e);const t=Gi.r,r=Gi.g,i=Gi.b;return e!==ri?`color(${e} ${t.toFixed(3)} ${r.toFixed(3)} ${i.toFixed(3)})`:`rgb(${Math.round(t*255)},${Math.round(r*255)},${Math.round(i*255)})`}offsetHSL(e,t,r){return this.getHSL(ku),this.setHSL(ku.h+e,ku.s+t,ku.l+r)}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,t){return this.r=e.r+t.r,this.g=e.g+t.g,this.b=e.b+t.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this}lerpColors(e,t,r){return this.r=e.r+(t.r-e.r)*r,this.g=e.g+(t.g-e.g)*r,this.b=e.b+(t.b-e.b)*r,this}lerpHSL(e,t){this.getHSL(ku),e.getHSL(G0);const r=qm(ku.h,G0.h,t),i=qm(ku.s,G0.s,t),a=qm(ku.l,G0.l,t);return this.setHSL(r,i,a),this}setFromVector3(e){return this.r=e.x,this.g=e.y,this.b=e.z,this}applyMatrix3(e){const t=this.r,r=this.g,i=this.b,a=e.elements;return this.r=a[0]*t+a[3]*r+a[6]*i,this.g=a[1]*t+a[4]*r+a[7]*i,this.b=a[2]*t+a[5]*r+a[8]*i,this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,t=0){return this.r=e[t],this.g=e[t+1],this.b=e[t+2],this}toArray(e=[],t=0){return e[t]=this.r,e[t+1]=this.g,e[t+2]=this.b,e}fromBufferAttribute(e,t){return this.r=e.getX(t),this.g=e.getY(t),this.b=e.getZ(t),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}};const Gi=new wt;wt.NAMES=sB;let tV=0;class Ii extends Vl{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:tV++}),this.uuid=no(),this.name="",this.type="Material",this.blending=Tf,this.side=Dl,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.alphaHash=!1,this.blendSrc=ax,this.blendDst=ox,this.blendEquation=Hu,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.blendColor=new wt(0,0,0),this.blendAlpha=0,this.depthFunc=ag,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=EA,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=ff,this.stencilZFail=ff,this.stencilZPass=ff,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBuild(){}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(e!==void 0)for(const t in e){const r=e[t];if(r===void 0){console.warn(`THREE.Material: parameter '${t}' has value of undefined.`);continue}const i=this[t];if(i===void 0){console.warn(`THREE.Material: '${t}' is not a property of THREE.${this.type}.`);continue}i&&i.isColor?i.set(r):i&&i.isVector3&&r&&r.isVector3?i.copy(r):this[t]=r}}toJSON(e){const t=e===void 0||typeof e=="string";t&&(e={textures:{},images:{}});const r={metadata:{version:4.6,type:"Material",generator:"Material.toJSON"}};r.uuid=this.uuid,r.type=this.type,this.name!==""&&(r.name=this.name),this.color&&this.color.isColor&&(r.color=this.color.getHex()),this.roughness!==void 0&&(r.roughness=this.roughness),this.metalness!==void 0&&(r.metalness=this.metalness),this.sheen!==void 0&&(r.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(r.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(r.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(r.emissive=this.emissive.getHex()),this.emissiveIntensity&&this.emissiveIntensity!==1&&(r.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(r.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(r.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(r.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(r.shininess=this.shininess),this.clearcoat!==void 0&&(r.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(r.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(r.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(r.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(r.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,r.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.iridescence!==void 0&&(r.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(r.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(r.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(r.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(r.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),this.anisotropy!==void 0&&(r.anisotropy=this.anisotropy),this.anisotropyRotation!==void 0&&(r.anisotropyRotation=this.anisotropyRotation),this.anisotropyMap&&this.anisotropyMap.isTexture&&(r.anisotropyMap=this.anisotropyMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(r.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(r.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(r.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(r.lightMap=this.lightMap.toJSON(e).uuid,r.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(r.aoMap=this.aoMap.toJSON(e).uuid,r.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(r.bumpMap=this.bumpMap.toJSON(e).uuid,r.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(r.normalMap=this.normalMap.toJSON(e).uuid,r.normalMapType=this.normalMapType,r.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(r.displacementMap=this.displacementMap.toJSON(e).uuid,r.displacementScale=this.displacementScale,r.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(r.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(r.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(r.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(r.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(r.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(r.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(r.envMap=this.envMap.toJSON(e).uuid,this.combine!==void 0&&(r.combine=this.combine)),this.envMapIntensity!==void 0&&(r.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(r.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(r.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(r.gradientMap=this.gradientMap.toJSON(e).uuid),this.transmission!==void 0&&(r.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(r.transmissionMap=this.transmissionMap.toJSON(e).uuid),this.thickness!==void 0&&(r.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(r.thicknessMap=this.thicknessMap.toJSON(e).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(r.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(r.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(r.size=this.size),this.shadowSide!==null&&(r.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(r.sizeAttenuation=this.sizeAttenuation),this.blending!==Tf&&(r.blending=this.blending),this.side!==Dl&&(r.side=this.side),this.vertexColors===!0&&(r.vertexColors=!0),this.opacity<1&&(r.opacity=this.opacity),this.transparent===!0&&(r.transparent=!0),this.blendSrc!==ax&&(r.blendSrc=this.blendSrc),this.blendDst!==ox&&(r.blendDst=this.blendDst),this.blendEquation!==Hu&&(r.blendEquation=this.blendEquation),this.blendSrcAlpha!==null&&(r.blendSrcAlpha=this.blendSrcAlpha),this.blendDstAlpha!==null&&(r.blendDstAlpha=this.blendDstAlpha),this.blendEquationAlpha!==null&&(r.blendEquationAlpha=this.blendEquationAlpha),this.blendColor&&this.blendColor.isColor&&(r.blendColor=this.blendColor.getHex()),this.blendAlpha!==0&&(r.blendAlpha=this.blendAlpha),this.depthFunc!==ag&&(r.depthFunc=this.depthFunc),this.depthTest===!1&&(r.depthTest=this.depthTest),this.depthWrite===!1&&(r.depthWrite=this.depthWrite),this.colorWrite===!1&&(r.colorWrite=this.colorWrite),this.stencilWriteMask!==255&&(r.stencilWriteMask=this.stencilWriteMask),this.stencilFunc!==EA&&(r.stencilFunc=this.stencilFunc),this.stencilRef!==0&&(r.stencilRef=this.stencilRef),this.stencilFuncMask!==255&&(r.stencilFuncMask=this.stencilFuncMask),this.stencilFail!==ff&&(r.stencilFail=this.stencilFail),this.stencilZFail!==ff&&(r.stencilZFail=this.stencilZFail),this.stencilZPass!==ff&&(r.stencilZPass=this.stencilZPass),this.stencilWrite===!0&&(r.stencilWrite=this.stencilWrite),this.rotation!==void 0&&this.rotation!==0&&(r.rotation=this.rotation),this.polygonOffset===!0&&(r.polygonOffset=!0),this.polygonOffsetFactor!==0&&(r.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(r.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(r.linewidth=this.linewidth),this.dashSize!==void 0&&(r.dashSize=this.dashSize),this.gapSize!==void 0&&(r.gapSize=this.gapSize),this.scale!==void 0&&(r.scale=this.scale),this.dithering===!0&&(r.dithering=!0),this.alphaTest>0&&(r.alphaTest=this.alphaTest),this.alphaHash===!0&&(r.alphaHash=!0),this.alphaToCoverage===!0&&(r.alphaToCoverage=!0),this.premultipliedAlpha===!0&&(r.premultipliedAlpha=!0),this.forceSinglePass===!0&&(r.forceSinglePass=!0),this.wireframe===!0&&(r.wireframe=!0),this.wireframeLinewidth>1&&(r.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(r.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(r.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(r.flatShading=!0),this.visible===!1&&(r.visible=!1),this.toneMapped===!1&&(r.toneMapped=!1),this.fog===!1&&(r.fog=!1),Object.keys(this.userData).length>0&&(r.userData=this.userData);function i(a){const o=[];for(const s in a){const u=a[s];delete u.metadata,o.push(u)}return o}if(t){const a=i(e.textures),o=i(e.images);a.length>0&&(r.textures=a),o.length>0&&(r.images=o)}return r}clone(){return new this.constructor().copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.blendColor.copy(e.blendColor),this.blendAlpha=e.blendAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const t=e.clippingPlanes;let r=null;if(t!==null){const i=t.length;r=new Array(i);for(let a=0;a!==i;++a)r[a]=t[a].clone()}return this.clippingPlanes=r,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaHash=e.alphaHash,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.forceSinglePass=e.forceSinglePass,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){e===!0&&this.version++}}class sc extends Ii{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new wt(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=pv,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const Al=nV();function nV(){const n=new ArrayBuffer(4),e=new Float32Array(n),t=new Uint32Array(n),r=new Uint32Array(512),i=new Uint32Array(512);for(let u=0;u<256;++u){const c=u-127;c<-27?(r[u]=0,r[u|256]=32768,i[u]=24,i[u|256]=24):c<-14?(r[u]=1024>>-c-14,r[u|256]=1024>>-c-14|32768,i[u]=-c-1,i[u|256]=-c-1):c<=15?(r[u]=c+15<<10,r[u|256]=c+15<<10|32768,i[u]=13,i[u|256]=13):c<128?(r[u]=31744,r[u|256]=64512,i[u]=24,i[u|256]=24):(r[u]=31744,r[u|256]=64512,i[u]=13,i[u|256]=13)}const a=new Uint32Array(2048),o=new Uint32Array(64),s=new Uint32Array(64);for(let u=1;u<1024;++u){let c=u<<13,h=0;for(;(c&8388608)===0;)c<<=1,h-=8388608;c&=-8388609,h+=947912704,a[u]=c|h}for(let u=1024;u<2048;++u)a[u]=939524096+(u-1024<<13);for(let u=1;u<31;++u)o[u]=u<<23;o[31]=1199570944,o[32]=2147483648;for(let u=33;u<63;++u)o[u]=2147483648+(u-32<<23);o[63]=3347054592;for(let u=1;u<64;++u)u!==32&&(s[u]=1024);return{floatView:e,uint32View:t,baseTable:r,shiftTable:i,mantissaTable:a,exponentTable:o,offsetTable:s}}function Ia(n){Math.abs(n)>65504&&console.warn("THREE.DataUtils.toHalfFloat(): Value out of range."),n=Cr(n,-65504,65504),Al.floatView[0]=n;const e=Al.uint32View[0],t=e>>23&511;return Al.baseTable[t]+((e&8388607)>>Al.shiftTable[t])}function Fm(n){const e=n>>10;return Al.uint32View[0]=Al.mantissaTable[Al.offsetTable[e]+(n&1023)]+Al.exponentTable[e],Al.floatView[0]}const xf={toHalfFloat:Ia,fromHalfFloat:Fm},Xr=new ie,W0=new Ve;class Fn{constructor(e,t,r=!1){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,this.name="",this.array=e,this.itemSize=t,this.count=e!==void 0?e.length/t:0,this.normalized=r,this.usage=pg,this._updateRange={offset:0,count:-1},this.updateRanges=[],this.gpuType=Ri,this.version=0}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}get updateRange(){return console.warn("THREE.BufferAttribute: updateRange() is deprecated and will be removed in r169. Use addUpdateRange() instead."),this._updateRange}setUsage(e){return this.usage=e,this}addUpdateRange(e,t){this.updateRanges.push({start:e,count:t})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this.gpuType=e.gpuType,this}copyAt(e,t,r){e*=this.itemSize,r*=t.itemSize;for(let i=0,a=this.itemSize;i<a;i++)this.array[e+i]=t.array[r+i];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(this.itemSize===2)for(let t=0,r=this.count;t<r;t++)W0.fromBufferAttribute(this,t),W0.applyMatrix3(e),this.setXY(t,W0.x,W0.y);else if(this.itemSize===3)for(let t=0,r=this.count;t<r;t++)Xr.fromBufferAttribute(this,t),Xr.applyMatrix3(e),this.setXYZ(t,Xr.x,Xr.y,Xr.z);return this}applyMatrix4(e){for(let t=0,r=this.count;t<r;t++)Xr.fromBufferAttribute(this,t),Xr.applyMatrix4(e),this.setXYZ(t,Xr.x,Xr.y,Xr.z);return this}applyNormalMatrix(e){for(let t=0,r=this.count;t<r;t++)Xr.fromBufferAttribute(this,t),Xr.applyNormalMatrix(e),this.setXYZ(t,Xr.x,Xr.y,Xr.z);return this}transformDirection(e){for(let t=0,r=this.count;t<r;t++)Xr.fromBufferAttribute(this,t),Xr.transformDirection(e),this.setXYZ(t,Xr.x,Xr.y,Xr.z);return this}set(e,t=0){return this.array.set(e,t),this}getComponent(e,t){let r=this.array[e*this.itemSize+t];return this.normalized&&(r=La(r,this.array)),r}setComponent(e,t,r){return this.normalized&&(r=pn(r,this.array)),this.array[e*this.itemSize+t]=r,this}getX(e){let t=this.array[e*this.itemSize];return this.normalized&&(t=La(t,this.array)),t}setX(e,t){return this.normalized&&(t=pn(t,this.array)),this.array[e*this.itemSize]=t,this}getY(e){let t=this.array[e*this.itemSize+1];return this.normalized&&(t=La(t,this.array)),t}setY(e,t){return this.normalized&&(t=pn(t,this.array)),this.array[e*this.itemSize+1]=t,this}getZ(e){let t=this.array[e*this.itemSize+2];return this.normalized&&(t=La(t,this.array)),t}setZ(e,t){return this.normalized&&(t=pn(t,this.array)),this.array[e*this.itemSize+2]=t,this}getW(e){let t=this.array[e*this.itemSize+3];return this.normalized&&(t=La(t,this.array)),t}setW(e,t){return this.normalized&&(t=pn(t,this.array)),this.array[e*this.itemSize+3]=t,this}setXY(e,t,r){return e*=this.itemSize,this.normalized&&(t=pn(t,this.array),r=pn(r,this.array)),this.array[e+0]=t,this.array[e+1]=r,this}setXYZ(e,t,r,i){return e*=this.itemSize,this.normalized&&(t=pn(t,this.array),r=pn(r,this.array),i=pn(i,this.array)),this.array[e+0]=t,this.array[e+1]=r,this.array[e+2]=i,this}setXYZW(e,t,r,i,a){return e*=this.itemSize,this.normalized&&(t=pn(t,this.array),r=pn(r,this.array),i=pn(i,this.array),a=pn(a,this.array)),this.array[e+0]=t,this.array[e+1]=r,this.array[e+2]=i,this.array[e+3]=a,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(e.name=this.name),this.usage!==pg&&(e.usage=this.usage),e}}class rV extends Fn{constructor(e,t,r){super(new Int8Array(e),t,r)}}class iV extends Fn{constructor(e,t,r){super(new Uint8Array(e),t,r)}}class aV extends Fn{constructor(e,t,r){super(new Uint8ClampedArray(e),t,r)}}class oV extends Fn{constructor(e,t,r){super(new Int16Array(e),t,r)}}class xC extends Fn{constructor(e,t,r){super(new Uint16Array(e),t,r)}}class sV extends Fn{constructor(e,t,r){super(new Int32Array(e),t,r)}}class _C extends Fn{constructor(e,t,r){super(new Uint32Array(e),t,r)}}class lV extends Fn{constructor(e,t,r){super(new Uint16Array(e),t,r),this.isFloat16BufferAttribute=!0}getX(e){let t=Fm(this.array[e*this.itemSize]);return this.normalized&&(t=La(t,this.array)),t}setX(e,t){return this.normalized&&(t=pn(t,this.array)),this.array[e*this.itemSize]=Ia(t),this}getY(e){let t=Fm(this.array[e*this.itemSize+1]);return this.normalized&&(t=La(t,this.array)),t}setY(e,t){return this.normalized&&(t=pn(t,this.array)),this.array[e*this.itemSize+1]=Ia(t),this}getZ(e){let t=Fm(this.array[e*this.itemSize+2]);return this.normalized&&(t=La(t,this.array)),t}setZ(e,t){return this.normalized&&(t=pn(t,this.array)),this.array[e*this.itemSize+2]=Ia(t),this}getW(e){let t=Fm(this.array[e*this.itemSize+3]);return this.normalized&&(t=La(t,this.array)),t}setW(e,t){return this.normalized&&(t=pn(t,this.array)),this.array[e*this.itemSize+3]=Ia(t),this}setXY(e,t,r){return e*=this.itemSize,this.normalized&&(t=pn(t,this.array),r=pn(r,this.array)),this.array[e+0]=Ia(t),this.array[e+1]=Ia(r),this}setXYZ(e,t,r,i){return e*=this.itemSize,this.normalized&&(t=pn(t,this.array),r=pn(r,this.array),i=pn(i,this.array)),this.array[e+0]=Ia(t),this.array[e+1]=Ia(r),this.array[e+2]=Ia(i),this}setXYZW(e,t,r,i,a){return e*=this.itemSize,this.normalized&&(t=pn(t,this.array),r=pn(r,this.array),i=pn(i,this.array),a=pn(a,this.array)),this.array[e+0]=Ia(t),this.array[e+1]=Ia(r),this.array[e+2]=Ia(i),this.array[e+3]=Ia(a),this}}class Dt extends Fn{constructor(e,t,r){super(new Float32Array(e),t,r)}}class uV extends Fn{constructor(e,t,r){super(new Float64Array(e),t,r)}}let cV=0;const xo=new en,r1=new Nn,sd=new ie,Za=new ma,vm=new ma,hi=new ie;class mn extends Vl{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:cV++}),this.uuid=no(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(iB(e)?_C:xC)(e,1):this.index=e,this}getAttribute(e){return this.attributes[e]}setAttribute(e,t){return this.attributes[e]=t,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return this.attributes[e]!==void 0}addGroup(e,t,r=0){this.groups.push({start:e,count:t,materialIndex:r})}clearGroups(){this.groups=[]}setDrawRange(e,t){this.drawRange.start=e,this.drawRange.count=t}applyMatrix4(e){const t=this.attributes.position;t!==void 0&&(t.applyMatrix4(e),t.needsUpdate=!0);const r=this.attributes.normal;if(r!==void 0){const a=new xn().getNormalMatrix(e);r.applyNormalMatrix(a),r.needsUpdate=!0}const i=this.attributes.tangent;return i!==void 0&&(i.transformDirection(e),i.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(e){return xo.makeRotationFromQuaternion(e),this.applyMatrix4(xo),this}rotateX(e){return xo.makeRotationX(e),this.applyMatrix4(xo),this}rotateY(e){return xo.makeRotationY(e),this.applyMatrix4(xo),this}rotateZ(e){return xo.makeRotationZ(e),this.applyMatrix4(xo),this}translate(e,t,r){return xo.makeTranslation(e,t,r),this.applyMatrix4(xo),this}scale(e,t,r){return xo.makeScale(e,t,r),this.applyMatrix4(xo),this}lookAt(e){return r1.lookAt(e),r1.updateMatrix(),this.applyMatrix4(r1.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(sd).negate(),this.translate(sd.x,sd.y,sd.z),this}setFromPoints(e){const t=[];for(let r=0,i=e.length;r<i;r++){const a=e[r];t.push(a.x,a.y,a.z||0)}return this.setAttribute("position",new Dt(t,3)),this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new ma);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingBox.set(new ie(-1/0,-1/0,-1/0),new ie(1/0,1/0,1/0));return}if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),t)for(let r=0,i=t.length;r<i;r++){const a=t[r];Za.setFromBufferAttribute(a),this.morphTargetsRelative?(hi.addVectors(this.boundingBox.min,Za.min),this.boundingBox.expandByPoint(hi),hi.addVectors(this.boundingBox.max,Za.max),this.boundingBox.expandByPoint(hi)):(this.boundingBox.expandByPoint(Za.min),this.boundingBox.expandByPoint(Za.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new Ji);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingSphere.set(new ie,1/0);return}if(e){const r=this.boundingSphere.center;if(Za.setFromBufferAttribute(e),t)for(let a=0,o=t.length;a<o;a++){const s=t[a];vm.setFromBufferAttribute(s),this.morphTargetsRelative?(hi.addVectors(Za.min,vm.min),Za.expandByPoint(hi),hi.addVectors(Za.max,vm.max),Za.expandByPoint(hi)):(Za.expandByPoint(vm.min),Za.expandByPoint(vm.max))}Za.getCenter(r);let i=0;for(let a=0,o=e.count;a<o;a++)hi.fromBufferAttribute(e,a),i=Math.max(i,r.distanceToSquared(hi));if(t)for(let a=0,o=t.length;a<o;a++){const s=t[a],u=this.morphTargetsRelative;for(let c=0,h=s.count;c<h;c++)hi.fromBufferAttribute(s,c),u&&(sd.fromBufferAttribute(e,c),hi.add(sd)),i=Math.max(i,r.distanceToSquared(hi))}this.boundingSphere.radius=Math.sqrt(i),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,t=this.attributes;if(e===null||t.position===void 0||t.normal===void 0||t.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const r=e.array,i=t.position.array,a=t.normal.array,o=t.uv.array,s=i.length/3;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new Fn(new Float32Array(4*s),4));const u=this.getAttribute("tangent").array,c=[],h=[];for(let U=0;U<s;U++)c[U]=new ie,h[U]=new ie;const d=new ie,g=new ie,y=new ie,b=new Ve,S=new Ve,x=new Ve,_=new ie,E=new ie;function A(U,G,q){d.fromArray(i,U*3),g.fromArray(i,G*3),y.fromArray(i,q*3),b.fromArray(o,U*2),S.fromArray(o,G*2),x.fromArray(o,q*2),g.sub(d),y.sub(d),S.sub(b),x.sub(b);const Q=1/(S.x*x.y-x.x*S.y);isFinite(Q)&&(_.copy(g).multiplyScalar(x.y).addScaledVector(y,-S.y).multiplyScalar(Q),E.copy(y).multiplyScalar(S.x).addScaledVector(g,-x.x).multiplyScalar(Q),c[U].add(_),c[G].add(_),c[q].add(_),h[U].add(E),h[G].add(E),h[q].add(E))}let T=this.groups;T.length===0&&(T=[{start:0,count:r.length}]);for(let U=0,G=T.length;U<G;++U){const q=T[U],Q=q.start,H=q.count;for(let te=Q,Z=Q+H;te<Z;te+=3)A(r[te+0],r[te+1],r[te+2])}const P=new ie,O=new ie,N=new ie,F=new ie;function D(U){N.fromArray(a,U*3),F.copy(N);const G=c[U];P.copy(G),P.sub(N.multiplyScalar(N.dot(G))).normalize(),O.crossVectors(F,G);const Q=O.dot(h[U])<0?-1:1;u[U*4]=P.x,u[U*4+1]=P.y,u[U*4+2]=P.z,u[U*4+3]=Q}for(let U=0,G=T.length;U<G;++U){const q=T[U],Q=q.start,H=q.count;for(let te=Q,Z=Q+H;te<Z;te+=3)D(r[te+0]),D(r[te+1]),D(r[te+2])}}computeVertexNormals(){const e=this.index,t=this.getAttribute("position");if(t!==void 0){let r=this.getAttribute("normal");if(r===void 0)r=new Fn(new Float32Array(t.count*3),3),this.setAttribute("normal",r);else for(let g=0,y=r.count;g<y;g++)r.setXYZ(g,0,0,0);const i=new ie,a=new ie,o=new ie,s=new ie,u=new ie,c=new ie,h=new ie,d=new ie;if(e)for(let g=0,y=e.count;g<y;g+=3){const b=e.getX(g+0),S=e.getX(g+1),x=e.getX(g+2);i.fromBufferAttribute(t,b),a.fromBufferAttribute(t,S),o.fromBufferAttribute(t,x),h.subVectors(o,a),d.subVectors(i,a),h.cross(d),s.fromBufferAttribute(r,b),u.fromBufferAttribute(r,S),c.fromBufferAttribute(r,x),s.add(h),u.add(h),c.add(h),r.setXYZ(b,s.x,s.y,s.z),r.setXYZ(S,u.x,u.y,u.z),r.setXYZ(x,c.x,c.y,c.z)}else for(let g=0,y=t.count;g<y;g+=3)i.fromBufferAttribute(t,g+0),a.fromBufferAttribute(t,g+1),o.fromBufferAttribute(t,g+2),h.subVectors(o,a),d.subVectors(i,a),h.cross(d),r.setXYZ(g+0,h.x,h.y,h.z),r.setXYZ(g+1,h.x,h.y,h.z),r.setXYZ(g+2,h.x,h.y,h.z);this.normalizeNormals(),r.needsUpdate=!0}}normalizeNormals(){const e=this.attributes.normal;for(let t=0,r=e.count;t<r;t++)hi.fromBufferAttribute(e,t),hi.normalize(),e.setXYZ(t,hi.x,hi.y,hi.z)}toNonIndexed(){function e(s,u){const c=s.array,h=s.itemSize,d=s.normalized,g=new c.constructor(u.length*h);let y=0,b=0;for(let S=0,x=u.length;S<x;S++){s.isInterleavedBufferAttribute?y=u[S]*s.data.stride+s.offset:y=u[S]*h;for(let _=0;_<h;_++)g[b++]=c[y++]}return new Fn(g,h,d)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const t=new mn,r=this.index.array,i=this.attributes;for(const s in i){const u=i[s],c=e(u,r);t.setAttribute(s,c)}const a=this.morphAttributes;for(const s in a){const u=[],c=a[s];for(let h=0,d=c.length;h<d;h++){const g=c[h],y=e(g,r);u.push(y)}t.morphAttributes[s]=u}t.morphTargetsRelative=this.morphTargetsRelative;const o=this.groups;for(let s=0,u=o.length;s<u;s++){const c=o[s];t.addGroup(c.start,c.count,c.materialIndex)}return t}toJSON(){const e={metadata:{version:4.6,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){const u=this.parameters;for(const c in u)u[c]!==void 0&&(e[c]=u[c]);return e}e.data={attributes:{}};const t=this.index;t!==null&&(e.data.index={type:t.array.constructor.name,array:Array.prototype.slice.call(t.array)});const r=this.attributes;for(const u in r){const c=r[u];e.data.attributes[u]=c.toJSON(e.data)}const i={};let a=!1;for(const u in this.morphAttributes){const c=this.morphAttributes[u],h=[];for(let d=0,g=c.length;d<g;d++){const y=c[d];h.push(y.toJSON(e.data))}h.length>0&&(i[u]=h,a=!0)}a&&(e.data.morphAttributes=i,e.data.morphTargetsRelative=this.morphTargetsRelative);const o=this.groups;o.length>0&&(e.data.groups=JSON.parse(JSON.stringify(o)));const s=this.boundingSphere;return s!==null&&(e.data.boundingSphere={center:s.center.toArray(),radius:s.radius}),e}clone(){return new this.constructor().copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const t={};this.name=e.name;const r=e.index;r!==null&&this.setIndex(r.clone(t));const i=e.attributes;for(const c in i){const h=i[c];this.setAttribute(c,h.clone(t))}const a=e.morphAttributes;for(const c in a){const h=[],d=a[c];for(let g=0,y=d.length;g<y;g++)h.push(d[g].clone(t));this.morphAttributes[c]=h}this.morphTargetsRelative=e.morphTargetsRelative;const o=e.groups;for(let c=0,h=o.length;c<h;c++){const d=o[c];this.addGroup(d.start,d.count,d.materialIndex)}const s=e.boundingBox;s!==null&&(this.boundingBox=s.clone());const u=e.boundingSphere;return u!==null&&(this.boundingSphere=u.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}const pR=new en,Qc=new Hf,q0=new Ji,mR=new ie,ld=new ie,ud=new ie,cd=new ie,i1=new ie,$0=new ie,X0=new Ve,Y0=new Ve,K0=new Ve,gR=new ie,vR=new ie,yR=new ie,Z0=new ie,J0=new ie;class Ur extends Nn{constructor(e=new mn,t=new sc){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}updateMorphTargets(){const t=this.geometry.morphAttributes,r=Object.keys(t);if(r.length>0){const i=t[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let a=0,o=i.length;a<o;a++){const s=i[a].name||String(a);this.morphTargetInfluences.push(0),this.morphTargetDictionary[s]=a}}}}getVertexPosition(e,t){const r=this.geometry,i=r.attributes.position,a=r.morphAttributes.position,o=r.morphTargetsRelative;t.fromBufferAttribute(i,e);const s=this.morphTargetInfluences;if(a&&s){$0.set(0,0,0);for(let u=0,c=a.length;u<c;u++){const h=s[u],d=a[u];h!==0&&(i1.fromBufferAttribute(d,e),o?$0.addScaledVector(i1,h):$0.addScaledVector(i1.sub(t),h))}t.add($0)}return t}raycast(e,t){const r=this.geometry,i=this.material,a=this.matrixWorld;i!==void 0&&(r.boundingSphere===null&&r.computeBoundingSphere(),q0.copy(r.boundingSphere),q0.applyMatrix4(a),Qc.copy(e.ray).recast(e.near),!(q0.containsPoint(Qc.origin)===!1&&(Qc.intersectSphere(q0,mR)===null||Qc.origin.distanceToSquared(mR)>(e.far-e.near)**2))&&(pR.copy(a).invert(),Qc.copy(e.ray).applyMatrix4(pR),!(r.boundingBox!==null&&Qc.intersectsBox(r.boundingBox)===!1)&&this._computeIntersections(e,t,Qc)))}_computeIntersections(e,t,r){let i;const a=this.geometry,o=this.material,s=a.index,u=a.attributes.position,c=a.attributes.uv,h=a.attributes.uv1,d=a.attributes.normal,g=a.groups,y=a.drawRange;if(s!==null)if(Array.isArray(o))for(let b=0,S=g.length;b<S;b++){const x=g[b],_=o[x.materialIndex],E=Math.max(x.start,y.start),A=Math.min(s.count,Math.min(x.start+x.count,y.start+y.count));for(let T=E,P=A;T<P;T+=3){const O=s.getX(T),N=s.getX(T+1),F=s.getX(T+2);i=Q0(this,_,e,r,c,h,d,O,N,F),i&&(i.faceIndex=Math.floor(T/3),i.face.materialIndex=x.materialIndex,t.push(i))}}else{const b=Math.max(0,y.start),S=Math.min(s.count,y.start+y.count);for(let x=b,_=S;x<_;x+=3){const E=s.getX(x),A=s.getX(x+1),T=s.getX(x+2);i=Q0(this,o,e,r,c,h,d,E,A,T),i&&(i.faceIndex=Math.floor(x/3),t.push(i))}}else if(u!==void 0)if(Array.isArray(o))for(let b=0,S=g.length;b<S;b++){const x=g[b],_=o[x.materialIndex],E=Math.max(x.start,y.start),A=Math.min(u.count,Math.min(x.start+x.count,y.start+y.count));for(let T=E,P=A;T<P;T+=3){const O=T,N=T+1,F=T+2;i=Q0(this,_,e,r,c,h,d,O,N,F),i&&(i.faceIndex=Math.floor(T/3),i.face.materialIndex=x.materialIndex,t.push(i))}}else{const b=Math.max(0,y.start),S=Math.min(u.count,y.start+y.count);for(let x=b,_=S;x<_;x+=3){const E=x,A=x+1,T=x+2;i=Q0(this,o,e,r,c,h,d,E,A,T),i&&(i.faceIndex=Math.floor(x/3),t.push(i))}}}}function fV(n,e,t,r,i,a,o,s){let u;if(e.side===pa?u=r.intersectTriangle(o,a,i,!0,s):u=r.intersectTriangle(i,a,o,e.side===Dl,s),u===null)return null;J0.copy(s),J0.applyMatrix4(n.matrixWorld);const c=t.ray.origin.distanceTo(J0);return c<t.near||c>t.far?null:{distance:c,point:J0.clone(),object:n}}function Q0(n,e,t,r,i,a,o,s,u,c){n.getVertexPosition(s,ld),n.getVertexPosition(u,ud),n.getVertexPosition(c,cd);const h=fV(n,e,t,r,ld,ud,cd,Z0);if(h){i&&(X0.fromBufferAttribute(i,s),Y0.fromBufferAttribute(i,u),K0.fromBufferAttribute(i,c),h.uv=Na.getInterpolation(Z0,ld,ud,cd,X0,Y0,K0,new Ve)),a&&(X0.fromBufferAttribute(a,s),Y0.fromBufferAttribute(a,u),K0.fromBufferAttribute(a,c),h.uv1=Na.getInterpolation(Z0,ld,ud,cd,X0,Y0,K0,new Ve),h.uv2=h.uv1),o&&(gR.fromBufferAttribute(o,s),vR.fromBufferAttribute(o,u),yR.fromBufferAttribute(o,c),h.normal=Na.getInterpolation(Z0,ld,ud,cd,gR,vR,yR,new ie),h.normal.dot(r.direction)>0&&h.normal.multiplyScalar(-1));const d={a:s,b:u,c,normal:new ie,materialIndex:0};Na.getNormal(ld,ud,cd,d.normal),h.face=d}return h}class Vf extends mn{constructor(e=1,t=1,r=1,i=1,a=1,o=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:t,depth:r,widthSegments:i,heightSegments:a,depthSegments:o};const s=this;i=Math.floor(i),a=Math.floor(a),o=Math.floor(o);const u=[],c=[],h=[],d=[];let g=0,y=0;b("z","y","x",-1,-1,r,t,e,o,a,0),b("z","y","x",1,-1,r,t,-e,o,a,1),b("x","z","y",1,1,e,r,t,i,o,2),b("x","z","y",1,-1,e,r,-t,i,o,3),b("x","y","z",1,-1,e,t,r,i,a,4),b("x","y","z",-1,-1,e,t,-r,i,a,5),this.setIndex(u),this.setAttribute("position",new Dt(c,3)),this.setAttribute("normal",new Dt(h,3)),this.setAttribute("uv",new Dt(d,2));function b(S,x,_,E,A,T,P,O,N,F,D){const U=T/N,G=P/F,q=T/2,Q=P/2,H=O/2,te=N+1,Z=F+1;let he=0,X=0;const ae=new ie;for(let z=0;z<Z;z++){const re=z*G-Q;for(let le=0;le<te;le++){const ce=le*U-q;ae[S]=ce*E,ae[x]=re*A,ae[_]=H,c.push(ae.x,ae.y,ae.z),ae[S]=0,ae[x]=0,ae[_]=O>0?1:-1,h.push(ae.x,ae.y,ae.z),d.push(le/N),d.push(1-z/F),he+=1}}for(let z=0;z<F;z++)for(let re=0;re<N;re++){const le=g+re+te*z,ce=g+re+te*(z+1),be=g+(re+1)+te*(z+1),Oe=g+(re+1)+te*z;u.push(le,ce,Oe),u.push(ce,be,Oe),X+=6}s.addGroup(y,X,D),y+=X,g+=he}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Vf(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function Vd(n){const e={};for(const t in n){e[t]={};for(const r in n[t]){const i=n[t][r];i&&(i.isColor||i.isMatrix3||i.isMatrix4||i.isVector2||i.isVector3||i.isVector4||i.isTexture||i.isQuaternion)?i.isRenderTargetTexture?(console.warn("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),e[t][r]=null):e[t][r]=i.clone():Array.isArray(i)?e[t][r]=i.slice():e[t][r]=i}}return e}function ua(n){const e={};for(let t=0;t<n.length;t++){const r=Vd(n[t]);for(const i in r)e[i]=r[i]}return e}function hV(n){const e=[];for(let t=0;t<n.length;t++)e.push(n[t].clone());return e}function lB(n){return n.getRenderTarget()===null?n.outputColorSpace:qn.workingColorSpace}const bC={clone:Vd,merge:ua};var dV=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,pV=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class Da extends Ii{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=dV,this.fragmentShader=pV,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.forceSinglePass=!0,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1,clipCullDistance:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,e!==void 0&&this.setValues(e)}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=Vd(e.uniforms),this.uniformsGroups=hV(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const t=super.toJSON(e);t.glslVersion=this.glslVersion,t.uniforms={};for(const i in this.uniforms){const o=this.uniforms[i].value;o&&o.isTexture?t.uniforms[i]={type:"t",value:o.toJSON(e).uuid}:o&&o.isColor?t.uniforms[i]={type:"c",value:o.getHex()}:o&&o.isVector2?t.uniforms[i]={type:"v2",value:o.toArray()}:o&&o.isVector3?t.uniforms[i]={type:"v3",value:o.toArray()}:o&&o.isVector4?t.uniforms[i]={type:"v4",value:o.toArray()}:o&&o.isMatrix3?t.uniforms[i]={type:"m3",value:o.toArray()}:o&&o.isMatrix4?t.uniforms[i]={type:"m4",value:o.toArray()}:t.uniforms[i]={value:o}}Object.keys(this.defines).length>0&&(t.defines=this.defines),t.vertexShader=this.vertexShader,t.fragmentShader=this.fragmentShader,t.lights=this.lights,t.clipping=this.clipping;const r={};for(const i in this.extensions)this.extensions[i]===!0&&(r[i]=!0);return Object.keys(r).length>0&&(t.extensions=r),t}}class vv extends Nn{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new en,this.projectionMatrix=new en,this.projectionMatrixInverse=new en,this.coordinateSystem=ss}copy(e,t){return super.copy(e,t),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this.coordinateSystem=e.coordinateSystem,this}getWorldDirection(e){return super.getWorldDirection(e).negate()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,t){super.updateWorldMatrix(e,t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}class Dr extends vv{constructor(e=50,t=1,r=.1,i=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=r,this.far=i,this.focus=10,this.aspect=t,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const t=.5*this.getFilmHeight()/e;this.fov=Hd*2*Math.atan(t),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(Cf*.5*this.fov);return .5*this.getFilmHeight()/e}getEffectiveFOV(){return Hd*2*Math.atan(Math.tan(Cf*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}setViewOffset(e,t,r,i,a,o){this.aspect=e/t,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=r,this.view.offsetY=i,this.view.width=a,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let t=e*Math.tan(Cf*.5*this.fov)/this.zoom,r=2*t,i=this.aspect*r,a=-.5*i;const o=this.view;if(this.view!==null&&this.view.enabled){const u=o.fullWidth,c=o.fullHeight;a+=o.offsetX*i/u,t-=o.offsetY*r/c,i*=o.width/u,r*=o.height/c}const s=this.filmOffset;s!==0&&(a+=e*s/this.getFilmWidth()),this.projectionMatrix.makePerspective(a,a+i,t,t-r,e,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.fov=this.fov,t.object.zoom=this.zoom,t.object.near=this.near,t.object.far=this.far,t.object.focus=this.focus,t.object.aspect=this.aspect,this.view!==null&&(t.object.view=Object.assign({},this.view)),t.object.filmGauge=this.filmGauge,t.object.filmOffset=this.filmOffset,t}}const fd=-90,hd=1;class uB extends Nn{constructor(e,t,r){super(),this.type="CubeCamera",this.renderTarget=r,this.coordinateSystem=null,this.activeMipmapLevel=0;const i=new Dr(fd,hd,e,t);i.layers=this.layers,this.add(i);const a=new Dr(fd,hd,e,t);a.layers=this.layers,this.add(a);const o=new Dr(fd,hd,e,t);o.layers=this.layers,this.add(o);const s=new Dr(fd,hd,e,t);s.layers=this.layers,this.add(s);const u=new Dr(fd,hd,e,t);u.layers=this.layers,this.add(u);const c=new Dr(fd,hd,e,t);c.layers=this.layers,this.add(c)}updateCoordinateSystem(){const e=this.coordinateSystem,t=this.children.concat(),[r,i,a,o,s,u]=t;for(const c of t)this.remove(c);if(e===ss)r.up.set(0,1,0),r.lookAt(1,0,0),i.up.set(0,1,0),i.lookAt(-1,0,0),a.up.set(0,0,-1),a.lookAt(0,1,0),o.up.set(0,0,1),o.lookAt(0,-1,0),s.up.set(0,1,0),s.lookAt(0,0,1),u.up.set(0,1,0),u.lookAt(0,0,-1);else if(e===jd)r.up.set(0,-1,0),r.lookAt(-1,0,0),i.up.set(0,-1,0),i.lookAt(1,0,0),a.up.set(0,0,1),a.lookAt(0,1,0),o.up.set(0,0,-1),o.lookAt(0,-1,0),s.up.set(0,-1,0),s.lookAt(0,0,1),u.up.set(0,-1,0),u.lookAt(0,0,-1);else throw new Error("THREE.CubeCamera.updateCoordinateSystem(): Invalid coordinate system: "+e);for(const c of t)this.add(c),c.updateMatrixWorld()}update(e,t){this.parent===null&&this.updateMatrixWorld();const{renderTarget:r,activeMipmapLevel:i}=this;this.coordinateSystem!==e.coordinateSystem&&(this.coordinateSystem=e.coordinateSystem,this.updateCoordinateSystem());const[a,o,s,u,c,h]=this.children,d=e.getRenderTarget(),g=e.getActiveCubeFace(),y=e.getActiveMipmapLevel(),b=e.xr.enabled;e.xr.enabled=!1;const S=r.texture.generateMipmaps;r.texture.generateMipmaps=!1,e.setRenderTarget(r,0,i),e.render(t,a),e.setRenderTarget(r,1,i),e.render(t,o),e.setRenderTarget(r,2,i),e.render(t,s),e.setRenderTarget(r,3,i),e.render(t,u),e.setRenderTarget(r,4,i),e.render(t,c),r.texture.generateMipmaps=S,e.setRenderTarget(r,5,i),e.render(t,h),e.setRenderTarget(d,g,y),e.xr.enabled=b,r.texture.needsPMREMUpdate=!0}}class yv extends Mr{constructor(e,t,r,i,a,o,s,u,c,h){e=e!==void 0?e:[],t=t!==void 0?t:zs,super(e,t,r,i,a,o,s,u,c,h),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}class SC extends ro{constructor(e=1,t={}){super(e,e,t),this.isWebGLCubeRenderTarget=!0;const r={width:e,height:e,depth:1},i=[r,r,r,r,r,r];t.encoding!==void 0&&($m("THREE.WebGLCubeRenderTarget: option.encoding has been replaced by option.colorSpace."),t.colorSpace=t.encoding===Zu?ri:eo),this.texture=new yv(i,t.mapping,t.wrapS,t.wrapT,t.magFilter,t.minFilter,t.format,t.type,t.anisotropy,t.colorSpace),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=t.generateMipmaps!==void 0?t.generateMipmaps:!1,this.texture.minFilter=t.minFilter!==void 0?t.minFilter:dr}fromEquirectangularTexture(e,t){this.texture.type=t.type,this.texture.colorSpace=t.colorSpace,this.texture.generateMipmaps=t.generateMipmaps,this.texture.minFilter=t.minFilter,this.texture.magFilter=t.magFilter;const r={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},i=new Vf(5,5,5),a=new Da({name:"CubemapFromEquirect",uniforms:Vd(r.uniforms),vertexShader:r.vertexShader,fragmentShader:r.fragmentShader,side:pa,blending:Il});a.uniforms.tEquirect.value=t;const o=new Ur(i,a),s=t.minFilter;return t.minFilter===rc&&(t.minFilter=dr),new uB(1,10,this).update(e,o),t.minFilter=s,o.geometry.dispose(),o.material.dispose(),this}clear(e,t,r,i){const a=e.getRenderTarget();for(let o=0;o<6;o++)e.setRenderTarget(this,o),e.clear(t,r,i);e.setRenderTarget(a)}}const a1=new ie,mV=new ie,gV=new xn;class El{constructor(e=new ie(1,0,0),t=0){this.isPlane=!0,this.normal=e,this.constant=t}set(e,t){return this.normal.copy(e),this.constant=t,this}setComponents(e,t,r,i){return this.normal.set(e,t,r),this.constant=i,this}setFromNormalAndCoplanarPoint(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this}setFromCoplanarPoints(e,t,r){const i=a1.subVectors(r,t).cross(mV.subVectors(e,t)).normalize();return this.setFromNormalAndCoplanarPoint(i,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,t){return t.copy(e).addScaledVector(this.normal,-this.distanceToPoint(e))}intersectLine(e,t){const r=e.delta(a1),i=this.normal.dot(r);if(i===0)return this.distanceToPoint(e.start)===0?t.copy(e.start):null;const a=-(e.start.dot(this.normal)+this.constant)/i;return a<0||a>1?null:t.copy(e.start).addScaledVector(r,a)}intersectsLine(e){const t=this.distanceToPoint(e.start),r=this.distanceToPoint(e.end);return t<0&&r>0||r<0&&t>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,t){const r=t||gV.getNormalMatrix(e),i=this.coplanarPoint(a1).applyMatrix4(e),a=this.normal.applyMatrix3(r).normalize();return this.constant=-i.dot(a),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return new this.constructor().copy(this)}}const ef=new Ji,ey=new ie;class xv{constructor(e=new El,t=new El,r=new El,i=new El,a=new El,o=new El){this.planes=[e,t,r,i,a,o]}set(e,t,r,i,a,o){const s=this.planes;return s[0].copy(e),s[1].copy(t),s[2].copy(r),s[3].copy(i),s[4].copy(a),s[5].copy(o),this}copy(e){const t=this.planes;for(let r=0;r<6;r++)t[r].copy(e.planes[r]);return this}setFromProjectionMatrix(e,t=ss){const r=this.planes,i=e.elements,a=i[0],o=i[1],s=i[2],u=i[3],c=i[4],h=i[5],d=i[6],g=i[7],y=i[8],b=i[9],S=i[10],x=i[11],_=i[12],E=i[13],A=i[14],T=i[15];if(r[0].setComponents(u-a,g-c,x-y,T-_).normalize(),r[1].setComponents(u+a,g+c,x+y,T+_).normalize(),r[2].setComponents(u+o,g+h,x+b,T+E).normalize(),r[3].setComponents(u-o,g-h,x-b,T-E).normalize(),r[4].setComponents(u-s,g-d,x-S,T-A).normalize(),t===ss)r[5].setComponents(u+s,g+d,x+S,T+A).normalize();else if(t===jd)r[5].setComponents(s,d,S,A).normalize();else throw new Error("THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: "+t);return this}intersectsObject(e){if(e.boundingSphere!==void 0)e.boundingSphere===null&&e.computeBoundingSphere(),ef.copy(e.boundingSphere).applyMatrix4(e.matrixWorld);else{const t=e.geometry;t.boundingSphere===null&&t.computeBoundingSphere(),ef.copy(t.boundingSphere).applyMatrix4(e.matrixWorld)}return this.intersectsSphere(ef)}intersectsSprite(e){return ef.center.set(0,0,0),ef.radius=.7071067811865476,ef.applyMatrix4(e.matrixWorld),this.intersectsSphere(ef)}intersectsSphere(e){const t=this.planes,r=e.center,i=-e.radius;for(let a=0;a<6;a++)if(t[a].distanceToPoint(r)<i)return!1;return!0}intersectsBox(e){const t=this.planes;for(let r=0;r<6;r++){const i=t[r];if(ey.x=i.normal.x>0?e.max.x:e.min.x,ey.y=i.normal.y>0?e.max.y:e.min.y,ey.z=i.normal.z>0?e.max.z:e.min.z,i.distanceToPoint(ey)<0)return!1}return!0}containsPoint(e){const t=this.planes;for(let r=0;r<6;r++)if(t[r].distanceToPoint(e)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}function cB(){let n=null,e=!1,t=null,r=null;function i(a,o){t(a,o),r=n.requestAnimationFrame(i)}return{start:function(){e!==!0&&t!==null&&(r=n.requestAnimationFrame(i),e=!0)},stop:function(){n.cancelAnimationFrame(r),e=!1},setAnimationLoop:function(a){t=a},setContext:function(a){n=a}}}function vV(n,e){const t=e.isWebGL2,r=new WeakMap;function i(c,h){const d=c.array,g=c.usage,y=d.byteLength,b=n.createBuffer();n.bindBuffer(h,b),n.bufferData(h,d,g),c.onUploadCallback();let S;if(d instanceof Float32Array)S=n.FLOAT;else if(d instanceof Uint16Array)if(c.isFloat16BufferAttribute)if(t)S=n.HALF_FLOAT;else throw new Error("THREE.WebGLAttributes: Usage of Float16BufferAttribute requires WebGL2.");else S=n.UNSIGNED_SHORT;else if(d instanceof Int16Array)S=n.SHORT;else if(d instanceof Uint32Array)S=n.UNSIGNED_INT;else if(d instanceof Int32Array)S=n.INT;else if(d instanceof Int8Array)S=n.BYTE;else if(d instanceof Uint8Array)S=n.UNSIGNED_BYTE;else if(d instanceof Uint8ClampedArray)S=n.UNSIGNED_BYTE;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+d);return{buffer:b,type:S,bytesPerElement:d.BYTES_PER_ELEMENT,version:c.version,size:y}}function a(c,h,d){const g=h.array,y=h._updateRange,b=h.updateRanges;if(n.bindBuffer(d,c),y.count===-1&&b.length===0&&n.bufferSubData(d,0,g),b.length!==0){for(let S=0,x=b.length;S<x;S++){const _=b[S];t?n.bufferSubData(d,_.start*g.BYTES_PER_ELEMENT,g,_.start,_.count):n.bufferSubData(d,_.start*g.BYTES_PER_ELEMENT,g.subarray(_.start,_.start+_.count))}h.clearUpdateRanges()}y.count!==-1&&(t?n.bufferSubData(d,y.offset*g.BYTES_PER_ELEMENT,g,y.offset,y.count):n.bufferSubData(d,y.offset*g.BYTES_PER_ELEMENT,g.subarray(y.offset,y.offset+y.count)),y.count=-1),h.onUploadCallback()}function o(c){return c.isInterleavedBufferAttribute&&(c=c.data),r.get(c)}function s(c){c.isInterleavedBufferAttribute&&(c=c.data);const h=r.get(c);h&&(n.deleteBuffer(h.buffer),r.delete(c))}function u(c,h){if(c.isGLBufferAttribute){const g=r.get(c);(!g||g.version<c.version)&&r.set(c,{buffer:c.buffer,type:c.type,bytesPerElement:c.elementSize,version:c.version});return}c.isInterleavedBufferAttribute&&(c=c.data);const d=r.get(c);if(d===void 0)r.set(c,i(c,h));else if(d.version<c.version){if(d.size!==c.array.byteLength)throw new Error("THREE.WebGLAttributes: The size of the buffer attribute's array buffer does not match the original size. Resizing buffer attributes is not supported.");a(d.buffer,c,h),d.version=c.version}}return{get:o,remove:s,update:u}}class hp extends mn{constructor(e=1,t=1,r=1,i=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:t,widthSegments:r,heightSegments:i};const a=e/2,o=t/2,s=Math.floor(r),u=Math.floor(i),c=s+1,h=u+1,d=e/s,g=t/u,y=[],b=[],S=[],x=[];for(let _=0;_<h;_++){const E=_*g-o;for(let A=0;A<c;A++){const T=A*d-a;b.push(T,-E,0),S.push(0,0,1),x.push(A/s),x.push(1-_/u)}}for(let _=0;_<u;_++)for(let E=0;E<s;E++){const A=E+c*_,T=E+c*(_+1),P=E+1+c*(_+1),O=E+1+c*_;y.push(A,T,O),y.push(T,P,O)}this.setIndex(y),this.setAttribute("position",new Dt(b,3)),this.setAttribute("normal",new Dt(S,3)),this.setAttribute("uv",new Dt(x,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new hp(e.width,e.height,e.widthSegments,e.heightSegments)}}var yV=`#ifdef USE_ALPHAHASH
	if ( diffuseColor.a < getAlphaHashThreshold( vPosition ) ) discard;
#endif`,xV=`#ifdef USE_ALPHAHASH
	const float ALPHA_HASH_SCALE = 0.05;
	float hash2D( vec2 value ) {
		return fract( 1.0e4 * sin( 17.0 * value.x + 0.1 * value.y ) * ( 0.1 + abs( sin( 13.0 * value.y + value.x ) ) ) );
	}
	float hash3D( vec3 value ) {
		return hash2D( vec2( hash2D( value.xy ), value.z ) );
	}
	float getAlphaHashThreshold( vec3 position ) {
		float maxDeriv = max(
			length( dFdx( position.xyz ) ),
			length( dFdy( position.xyz ) )
		);
		float pixScale = 1.0 / ( ALPHA_HASH_SCALE * maxDeriv );
		vec2 pixScales = vec2(
			exp2( floor( log2( pixScale ) ) ),
			exp2( ceil( log2( pixScale ) ) )
		);
		vec2 alpha = vec2(
			hash3D( floor( pixScales.x * position.xyz ) ),
			hash3D( floor( pixScales.y * position.xyz ) )
		);
		float lerpFactor = fract( log2( pixScale ) );
		float x = ( 1.0 - lerpFactor ) * alpha.x + lerpFactor * alpha.y;
		float a = min( lerpFactor, 1.0 - lerpFactor );
		vec3 cases = vec3(
			x * x / ( 2.0 * a * ( 1.0 - a ) ),
			( x - 0.5 * a ) / ( 1.0 - a ),
			1.0 - ( ( 1.0 - x ) * ( 1.0 - x ) / ( 2.0 * a * ( 1.0 - a ) ) )
		);
		float threshold = ( x < ( 1.0 - a ) )
			? ( ( x < a ) ? cases.x : cases.y )
			: cases.z;
		return clamp( threshold , 1.0e-6, 1.0 );
	}
#endif`,_V=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;
#endif`,bV=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,SV=`#ifdef USE_ALPHATEST
	if ( diffuseColor.a < alphaTest ) discard;
#endif`,wV=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,MV=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_CLEARCOAT ) 
		clearcoatSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_SHEEN ) 
		sheenSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometryNormal, geometryViewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,EV=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,AV=`#ifdef USE_BATCHING
	attribute float batchId;
	uniform highp sampler2D batchingTexture;
	mat4 getBatchingMatrix( const in float i ) {
		int size = textureSize( batchingTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( batchingTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( batchingTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( batchingTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( batchingTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
#endif`,TV=`#ifdef USE_BATCHING
	mat4 batchingMatrix = getBatchingMatrix( batchId );
#endif`,CV=`vec3 transformed = vec3( position );
#ifdef USE_ALPHAHASH
	vPosition = vec3( position );
#endif`,PV=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,RV=`float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
} // validated`,OV=`#ifdef USE_IRIDESCENCE
	const mat3 XYZ_TO_REC709 = mat3(
		 3.2404542, -0.9692660,  0.0556434,
		-1.5371385,  1.8760108, -0.2040259,
		-0.4985314,  0.0415560,  1.0572252
	);
	vec3 Fresnel0ToIor( vec3 fresnel0 ) {
		vec3 sqrtF0 = sqrt( fresnel0 );
		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
	}
	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
	}
	float IorToFresnel0( float transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
	}
	vec3 evalSensitivity( float OPD, vec3 shift ) {
		float phase = 2.0 * PI * OPD * 1.0e-9;
		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );
		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );
		xyz /= 1.0685e-7;
		vec3 rgb = XYZ_TO_REC709 * xyz;
		return rgb;
	}
	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
		vec3 I;
		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
		float cosTheta2Sq = 1.0 - sinTheta2Sq;
		if ( cosTheta2Sq < 0.0 ) {
			return vec3( 1.0 );
		}
		float cosTheta2 = sqrt( cosTheta2Sq );
		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
		float R12 = F_Schlick( R0, 1.0, cosTheta1 );
		float T121 = 1.0 - R12;
		float phi12 = 0.0;
		if ( iridescenceIOR < outsideIOR ) phi12 = PI;
		float phi21 = PI - phi12;
		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
		vec3 phi23 = vec3( 0.0 );
		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;
		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;
		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;
		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
		vec3 phi = vec3( phi21 ) + phi23;
		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
		vec3 r123 = sqrt( R123 );
		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
		vec3 C0 = R12 + Rs;
		I = C0;
		vec3 Cm = Rs - T121;
		for ( int m = 1; m <= 2; ++ m ) {
			Cm *= r123;
			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
			I += Cm * Sm;
		}
		return max( I, vec3( 0.0 ) );
	}
#endif`,IV=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vBumpMapUv );
		vec2 dSTdy = dFdy( vBumpMapUv );
		float Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = normalize( dFdx( surf_pos.xyz ) );
		vec3 vSigmaY = normalize( dFdy( surf_pos.xyz ) );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,NV=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#pragma unroll_loop_start
	for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
		plane = clippingPlanes[ i ];
		if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
	}
	#pragma unroll_loop_end
	#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
		bool clipped = true;
		#pragma unroll_loop_start
		for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
		}
		#pragma unroll_loop_end
		if ( clipped ) discard;
	#endif
#endif`,LV=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,kV=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,DV=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,UV=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,FV=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,BV=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	varying vec3 vColor;
#endif`,zV=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif`,jV=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
#ifdef USE_ALPHAHASH
	varying vec3 vPosition;
#endif
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
float luminance( const in vec3 rgb ) {
	const vec3 weights = vec3( 0.2126729, 0.7151522, 0.0721750 );
	return dot( weights, rgb );
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}
vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
} // validated`,HV=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		highp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define cubeUV_r0 1.0
	#define cubeUV_m0 - 2.0
	#define cubeUV_r1 0.8
	#define cubeUV_m1 - 1.0
	#define cubeUV_r4 0.4
	#define cubeUV_m4 2.0
	#define cubeUV_r5 0.305
	#define cubeUV_m5 3.0
	#define cubeUV_r6 0.21
	#define cubeUV_m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= cubeUV_r1 ) {
			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;
		} else if ( roughness >= cubeUV_r4 ) {
			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;
		} else if ( roughness >= cubeUV_r5 ) {
			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;
		} else if ( roughness >= cubeUV_r6 ) {
			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,VV=`vec3 transformedNormal = objectNormal;
#ifdef USE_TANGENT
	vec3 transformedTangent = objectTangent;
#endif
#ifdef USE_BATCHING
	mat3 bm = mat3( batchingMatrix );
	transformedNormal /= vec3( dot( bm[ 0 ], bm[ 0 ] ), dot( bm[ 1 ], bm[ 1 ] ), dot( bm[ 2 ], bm[ 2 ] ) );
	transformedNormal = bm * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = bm * transformedTangent;
	#endif
#endif
#ifdef USE_INSTANCING
	mat3 im = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( im[ 0 ], im[ 0 ] ), dot( im[ 1 ], im[ 1 ] ), dot( im[ 2 ], im[ 2 ] ) );
	transformedNormal = im * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = im * transformedTangent;
	#endif
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	transformedTangent = ( modelViewMatrix * vec4( transformedTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,GV=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,WV=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );
#endif`,qV=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,$V=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,XV="gl_FragColor = linearToOutputTexel( gl_FragColor );",YV=`
const mat3 LINEAR_SRGB_TO_LINEAR_DISPLAY_P3 = mat3(
	vec3( 0.8224621, 0.177538, 0.0 ),
	vec3( 0.0331941, 0.9668058, 0.0 ),
	vec3( 0.0170827, 0.0723974, 0.9105199 )
);
const mat3 LINEAR_DISPLAY_P3_TO_LINEAR_SRGB = mat3(
	vec3( 1.2249401, - 0.2249404, 0.0 ),
	vec3( - 0.0420569, 1.0420571, 0.0 ),
	vec3( - 0.0196376, - 0.0786361, 1.0982735 )
);
vec4 LinearSRGBToLinearDisplayP3( in vec4 value ) {
	return vec4( value.rgb * LINEAR_SRGB_TO_LINEAR_DISPLAY_P3, value.a );
}
vec4 LinearDisplayP3ToLinearSRGB( in vec4 value ) {
	return vec4( value.rgb * LINEAR_DISPLAY_P3_TO_LINEAR_SRGB, value.a );
}
vec4 LinearTransferOETF( in vec4 value ) {
	return value;
}
vec4 sRGBTransferOETF( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}
vec4 LinearToLinear( in vec4 value ) {
	return value;
}
vec4 LinearTosRGB( in vec4 value ) {
	return sRGBTransferOETF( value );
}`,KV=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,ZV=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,JV=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,QV=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,eG=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,tG=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,nG=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,rG=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,iG=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,aG=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		vec2 fw = fwidth( coord ) * 0.5;
		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );
	#endif
}`,oG=`#ifdef USE_LIGHTMAP
	vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
	vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
	reflectedLight.indirectDiffuse += lightMapIrradiance;
#endif`,sG=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,lG=`LambertMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularStrength = specularStrength;`,uG=`varying vec3 vViewPosition;
struct LambertMaterial {
	vec3 diffuseColor;
	float specularStrength;
};
void RE_Direct_Lambert( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Lambert
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert`,cG=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
#if defined( USE_LIGHT_PROBES )
	uniform vec3 lightProbe[ 9 ];
#endif
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	#if defined ( LEGACY_LIGHTS )
		if ( cutoffDistance > 0.0 && decayExponent > 0.0 ) {
			return pow( saturate( - lightDistance / cutoffDistance + 1.0 ), decayExponent );
		}
		return 1.0;
	#else
		float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
		if ( cutoffDistance > 0.0 ) {
			distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
		}
		return distanceFalloff;
	#endif
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,fG=`#ifdef USE_ENVMAP
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	#ifdef USE_ANISOTROPY
		vec3 getIBLAnisotropyRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in vec3 bitangent, const in float anisotropy ) {
			#ifdef ENVMAP_TYPE_CUBE_UV
				vec3 bentNormal = cross( bitangent, viewDir );
				bentNormal = normalize( cross( bentNormal, bitangent ) );
				bentNormal = normalize( mix( bentNormal, normal, pow2( pow2( 1.0 - anisotropy * ( 1.0 - roughness ) ) ) ) );
				return getIBLRadiance( viewDir, bentNormal, roughness );
			#else
				return vec3( 0.0 );
			#endif
		}
	#endif
#endif`,hG=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,dG=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometryNormal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon`,pG=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,mG=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometryViewDir, geometryNormal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong`,gG=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( nonPerturbedNormal ) ), abs( dFdy( nonPerturbedNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	material.ior = ior;
	#ifdef USE_SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULAR_COLORMAP
			specularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;
		#endif
		#ifdef USE_SPECULAR_INTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEEN_COLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEEN_ROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;
	#endif
#endif
#ifdef USE_ANISOTROPY
	#ifdef USE_ANISOTROPYMAP
		mat2 anisotropyMat = mat2( anisotropyVector.x, anisotropyVector.y, - anisotropyVector.y, anisotropyVector.x );
		vec3 anisotropyPolar = texture2D( anisotropyMap, vAnisotropyMapUv ).rgb;
		vec2 anisotropyV = anisotropyMat * normalize( 2.0 * anisotropyPolar.rg - vec2( 1.0 ) ) * anisotropyPolar.b;
	#else
		vec2 anisotropyV = anisotropyVector;
	#endif
	material.anisotropy = length( anisotropyV );
	if( material.anisotropy == 0.0 ) {
		anisotropyV = vec2( 1.0, 0.0 );
	} else {
		anisotropyV /= material.anisotropy;
		material.anisotropy = saturate( material.anisotropy );
	}
	material.alphaT = mix( pow2( material.roughness ), 1.0, pow2( material.anisotropy ) );
	material.anisotropyT = tbn[ 0 ] * anisotropyV.x + tbn[ 1 ] * anisotropyV.y;
	material.anisotropyB = tbn[ 1 ] * anisotropyV.x - tbn[ 0 ] * anisotropyV.y;
#endif`,vG=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
	#ifdef IOR
		float ior;
	#endif
	#ifdef USE_TRANSMISSION
		float transmission;
		float transmissionAlpha;
		float thickness;
		float attenuationDistance;
		vec3 attenuationColor;
	#endif
	#ifdef USE_ANISOTROPY
		float anisotropy;
		float alphaT;
		vec3 anisotropyT;
		vec3 anisotropyB;
	#endif
};
vec3 clearcoatSpecularDirect = vec3( 0.0 );
vec3 clearcoatSpecularIndirect = vec3( 0.0 );
vec3 sheenSpecularDirect = vec3( 0.0 );
vec3 sheenSpecularIndirect = vec3(0.0 );
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
#ifdef USE_ANISOTROPY
	float V_GGX_SmithCorrelated_Anisotropic( const in float alphaT, const in float alphaB, const in float dotTV, const in float dotBV, const in float dotTL, const in float dotBL, const in float dotNV, const in float dotNL ) {
		float gv = dotNL * length( vec3( alphaT * dotTV, alphaB * dotBV, dotNV ) );
		float gl = dotNV * length( vec3( alphaT * dotTL, alphaB * dotBL, dotNL ) );
		float v = 0.5 / ( gv + gl );
		return saturate(v);
	}
	float D_GGX_Anisotropic( const in float alphaT, const in float alphaB, const in float dotNH, const in float dotTH, const in float dotBH ) {
		float a2 = alphaT * alphaB;
		highp vec3 v = vec3( alphaB * dotTH, alphaT * dotBH, a2 * dotNH );
		highp float v2 = dot( v, v );
		float w2 = a2 / v2;
		return RECIPROCAL_PI * a2 * pow2 ( w2 );
	}
#endif
#ifdef USE_CLEARCOAT
	vec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {
		vec3 f0 = material.clearcoatF0;
		float f90 = material.clearcoatF90;
		float roughness = material.clearcoatRoughness;
		float alpha = pow2( roughness );
		vec3 halfDir = normalize( lightDir + viewDir );
		float dotNL = saturate( dot( normal, lightDir ) );
		float dotNV = saturate( dot( normal, viewDir ) );
		float dotNH = saturate( dot( normal, halfDir ) );
		float dotVH = saturate( dot( viewDir, halfDir ) );
		vec3 F = F_Schlick( f0, f90, dotVH );
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
		return F * ( V * D );
	}
#endif
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {
	vec3 f0 = material.specularColor;
	float f90 = material.specularF90;
	float roughness = material.roughness;
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	#ifdef USE_IRIDESCENCE
		F = mix( F, material.iridescenceFresnel, material.iridescence );
	#endif
	#ifdef USE_ANISOTROPY
		float dotTL = dot( material.anisotropyT, lightDir );
		float dotTV = dot( material.anisotropyT, viewDir );
		float dotTH = dot( material.anisotropyT, halfDir );
		float dotBL = dot( material.anisotropyB, lightDir );
		float dotBV = dot( material.anisotropyB, viewDir );
		float dotBH = dot( material.anisotropyB, halfDir );
		float V = V_GGX_SmithCorrelated_Anisotropic( material.alphaT, alpha, dotTV, dotBV, dotTL, dotBL, dotNV, dotNL );
		float D = D_GGX_Anisotropic( material.alphaT, alpha, dotNH, dotTH, dotBH );
	#else
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
	#endif
	return F * ( V * D );
}
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;
	return fab;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometryNormal;
		vec3 viewDir = geometryViewDir;
		vec3 position = geometryPosition;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometryClearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecularDirect += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometryViewDir, geometryClearcoatNormal, material );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularDirect += irradiance * BRDF_Sheen( directLight.direction, geometryViewDir, geometryNormal, material.sheenColor, material.sheenRoughness );
	#endif
	reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometryViewDir, geometryNormal, material );
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecularIndirect += clearcoatRadiance * EnvironmentBRDF( geometryClearcoatNormal, geometryViewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularIndirect += irradiance * material.sheenColor * IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );
	#else
		computeMultiscattering( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	#endif
	vec3 totalScattering = singleScattering + multiScattering;
	vec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,yG=`
vec3 geometryPosition = - vViewPosition;
vec3 geometryNormal = normal;
vec3 geometryViewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
vec3 geometryClearcoatNormal = vec3( 0.0 );
#ifdef USE_CLEARCOAT
	geometryClearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometryViewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometryPosition, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	vec4 spotColor;
	vec3 spotLightCoord;
	bool inSpotLightMap;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometryPosition, directLight );
		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX
		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS
		#else
		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#endif
		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )
			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;
			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );
			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );
			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;
		#endif
		#undef SPOT_LIGHT_MAP_INDEX
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	#if defined( USE_LIGHT_PROBES )
		irradiance += getLightProbeIrradiance( lightProbe, geometryNormal );
	#endif
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometryNormal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,xG=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometryNormal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	#ifdef USE_ANISOTROPY
		radiance += getIBLAnisotropyRadiance( geometryViewDir, geometryNormal, material.roughness, material.anisotropyB, material.anisotropy );
	#else
		radiance += getIBLRadiance( geometryViewDir, geometryNormal, material.roughness );
	#endif
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometryViewDir, geometryClearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,_G=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif`,bG=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	gl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,SG=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,wG=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		varying float vFragDepth;
		varying float vIsPerspective;
	#else
		uniform float logDepthBufFC;
	#endif
#endif`,MG=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		vFragDepth = 1.0 + gl_Position.w;
		vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
	#else
		if ( isPerspectiveMatrix( projectionMatrix ) ) {
			gl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;
			gl_Position.z *= gl_Position.w;
		}
	#endif
#endif`,EG=`#ifdef USE_MAP
	vec4 sampledDiffuseColor = texture2D( map, vMapUv );
	#ifdef DECODE_VIDEO_TEXTURE
		sampledDiffuseColor = vec4( mix( pow( sampledDiffuseColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), sampledDiffuseColor.rgb * 0.0773993808, vec3( lessThanEqual( sampledDiffuseColor.rgb, vec3( 0.04045 ) ) ) ), sampledDiffuseColor.w );
	
	#endif
	diffuseColor *= sampledDiffuseColor;
#endif`,AG=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,TG=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	#if defined( USE_POINTS_UV )
		vec2 uv = vUv;
	#else
		vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
	#endif
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,CG=`#if defined( USE_POINTS_UV )
	varying vec2 vUv;
#else
	#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
		uniform mat3 uvTransform;
	#endif
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,PG=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );
	metalnessFactor *= texelMetalness.b;
#endif`,RG=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,OG=`#if defined( USE_MORPHCOLORS ) && defined( MORPHTARGETS_TEXTURE )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,IG=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		objectNormal += morphNormal0 * morphTargetInfluences[ 0 ];
		objectNormal += morphNormal1 * morphTargetInfluences[ 1 ];
		objectNormal += morphNormal2 * morphTargetInfluences[ 2 ];
		objectNormal += morphNormal3 * morphTargetInfluences[ 3 ];
	#endif
#endif`,NG=`#ifdef USE_MORPHTARGETS
	uniform float morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
		uniform sampler2DArray morphTargetsTexture;
		uniform ivec2 morphTargetsTextureSize;
		vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
			int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
			int y = texelIndex / morphTargetsTextureSize.x;
			int x = texelIndex - y * morphTargetsTextureSize.x;
			ivec3 morphUV = ivec3( x, y, morphTargetIndex );
			return texelFetch( morphTargetsTexture, morphUV, 0 );
		}
	#else
		#ifndef USE_MORPHNORMALS
			uniform float morphTargetInfluences[ 8 ];
		#else
			uniform float morphTargetInfluences[ 4 ];
		#endif
	#endif
#endif`,LG=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		transformed += morphTarget0 * morphTargetInfluences[ 0 ];
		transformed += morphTarget1 * morphTargetInfluences[ 1 ];
		transformed += morphTarget2 * morphTargetInfluences[ 2 ];
		transformed += morphTarget3 * morphTargetInfluences[ 3 ];
		#ifndef USE_MORPHNORMALS
			transformed += morphTarget4 * morphTargetInfluences[ 4 ];
			transformed += morphTarget5 * morphTargetInfluences[ 5 ];
			transformed += morphTarget6 * morphTargetInfluences[ 6 ];
			transformed += morphTarget7 * morphTargetInfluences[ 7 ];
		#endif
	#endif
#endif`,kG=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = dFdx( vViewPosition );
	vec3 fdy = dFdy( vViewPosition );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal *= faceDirection;
	#endif
#endif
#if defined( USE_NORMALMAP_TANGENTSPACE ) || defined( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY )
	#ifdef USE_TANGENT
		mat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn = getTangentFrame( - vViewPosition, normal,
		#if defined( USE_NORMALMAP )
			vNormalMapUv
		#elif defined( USE_CLEARCOAT_NORMALMAP )
			vClearcoatNormalMapUv
		#else
			vUv
		#endif
		);
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn[0] *= faceDirection;
		tbn[1] *= faceDirection;
	#endif
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	#ifdef USE_TANGENT
		mat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn2[0] *= faceDirection;
		tbn2[1] *= faceDirection;
	#endif
#endif
vec3 nonPerturbedNormal = normal;`,DG=`#ifdef USE_NORMALMAP_OBJECTSPACE
	normal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( USE_NORMALMAP_TANGENTSPACE )
	vec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	normal = normalize( tbn * mapN );
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,UG=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,FG=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,BG=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,zG=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef USE_NORMALMAP_OBJECTSPACE
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY ) )
	mat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( uv.st );
		vec2 st1 = dFdy( uv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );
		return mat3( T * scale, B * scale, N );
	}
#endif`,jG=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = nonPerturbedNormal;
#endif`,HG=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	clearcoatNormal = normalize( tbn2 * clearcoatMapN );
#endif`,VG=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif`,GG=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,WG=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= material.transmissionAlpha;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,qG=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;
const vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );
const vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );
const float ShiftRight8 = 1. / 256.;
vec4 packDepthToRGBA( const in float v ) {
	vec4 r = vec4( fract( v * PackFactors ), v );
	r.yzw -= r.xyz * ShiftRight8;	return r * PackUpscale;
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors );
}
vec2 packDepthToRG( in highp float v ) {
	return packDepthToRGBA( v ).yx;
}
float unpackRGToDepth( const in highp vec2 v ) {
	return unpackRGBAToDepth( vec4( v.xy, 0.0, 0.0 ) );
}
vec4 pack2HalfToRGBA( vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return depth * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * depth - far );
}`,$G=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,XG=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_BATCHING
	mvPosition = batchingMatrix * mvPosition;
#endif
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,YG=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,KG=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,ZG=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );
	roughnessFactor *= texelRoughness.g;
#endif`,JG=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,QG=`#if NUM_SPOT_LIGHT_COORDS > 0
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#if NUM_SPOT_LIGHT_MAPS > 0
	uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		float hard_shadow = step( compare , distribution.x );
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
		bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return shadow;
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
		vec3 lightToPosition = shadowCoord.xyz;
		float dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );		dp += shadowBias;
		vec3 bd3D = normalize( lightToPosition );
		#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
			vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
			return (
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
			) * ( 1.0 / 9.0 );
		#else
			return texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
		#endif
	}
#endif`,eW=`#if NUM_SPOT_LIGHT_COORDS > 0
	uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,tW=`#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )
	vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
	vec4 shadowWorldPosition;
#endif
#if defined( USE_SHADOWMAP )
	#if NUM_DIR_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
			vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
			vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
#endif
#if NUM_SPOT_LIGHT_COORDS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {
		shadowWorldPosition = worldPosition;
		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;
		#endif
		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
#endif`,nW=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,rW=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,iW=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	mat4 getBoneMatrix( const in float i ) {
		int size = textureSize( boneTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( boneTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( boneTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( boneTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( boneTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
#endif`,aW=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,oW=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,sW=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,lW=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,uW=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,cW=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return saturate( toneMappingExposure * color );
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 OptimizedCineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
const mat3 LINEAR_REC2020_TO_LINEAR_SRGB = mat3(
	vec3( 1.6605, - 0.1246, - 0.0182 ),
	vec3( - 0.5876, 1.1329, - 0.1006 ),
	vec3( - 0.0728, - 0.0083, 1.1187 )
);
const mat3 LINEAR_SRGB_TO_LINEAR_REC2020 = mat3(
	vec3( 0.6274, 0.0691, 0.0164 ),
	vec3( 0.3293, 0.9195, 0.0880 ),
	vec3( 0.0433, 0.0113, 0.8956 )
);
vec3 agxDefaultContrastApprox( vec3 x ) {
	vec3 x2 = x * x;
	vec3 x4 = x2 * x2;
	return + 15.5 * x4 * x2
		- 40.14 * x4 * x
		+ 31.96 * x4
		- 6.868 * x2 * x
		+ 0.4298 * x2
		+ 0.1191 * x
		- 0.00232;
}
vec3 AgXToneMapping( vec3 color ) {
	const mat3 AgXInsetMatrix = mat3(
		vec3( 0.856627153315983, 0.137318972929847, 0.11189821299995 ),
		vec3( 0.0951212405381588, 0.761241990602591, 0.0767994186031903 ),
		vec3( 0.0482516061458583, 0.101439036467562, 0.811302368396859 )
	);
	const mat3 AgXOutsetMatrix = mat3(
		vec3( 1.1271005818144368, - 0.1413297634984383, - 0.14132976349843826 ),
		vec3( - 0.11060664309660323, 1.157823702216272, - 0.11060664309660294 ),
		vec3( - 0.016493938717834573, - 0.016493938717834257, 1.2519364065950405 )
	);
	const float AgxMinEv = - 12.47393;	const float AgxMaxEv = 4.026069;
	color = LINEAR_SRGB_TO_LINEAR_REC2020 * color;
	color *= toneMappingExposure;
	color = AgXInsetMatrix * color;
	color = max( color, 1e-10 );	color = log2( color );
	color = ( color - AgxMinEv ) / ( AgxMaxEv - AgxMinEv );
	color = clamp( color, 0.0, 1.0 );
	color = agxDefaultContrastApprox( color );
	color = AgXOutsetMatrix * color;
	color = pow( max( vec3( 0.0 ), color ), vec3( 2.2 ) );
	color = LINEAR_REC2020_TO_LINEAR_SRGB * color;
	return color;
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,fW=`#ifdef USE_TRANSMISSION
	material.transmission = transmission;
	material.transmissionAlpha = 1.0;
	material.thickness = thickness;
	material.attenuationDistance = attenuationDistance;
	material.attenuationColor = attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		material.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		material.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmitted = getIBLVolumeRefraction(
		n, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, material.ior, material.thickness,
		material.attenuationColor, material.attenuationDistance );
	material.transmissionAlpha = mix( material.transmissionAlpha, transmitted.a, material.transmission );
	totalDiffuse = mix( totalDiffuse, transmitted.rgb, material.transmission );
#endif`,hW=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	float w0( float a ) {
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );
	}
	float w1( float a ) {
		return ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );
	}
	float w2( float a ){
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );
	}
	float w3( float a ) {
		return ( 1.0 / 6.0 ) * ( a * a * a );
	}
	float g0( float a ) {
		return w0( a ) + w1( a );
	}
	float g1( float a ) {
		return w2( a ) + w3( a );
	}
	float h0( float a ) {
		return - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );
	}
	float h1( float a ) {
		return 1.0 + w3( a ) / ( w2( a ) + w3( a ) );
	}
	vec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {
		uv = uv * texelSize.zw + 0.5;
		vec2 iuv = floor( uv );
		vec2 fuv = fract( uv );
		float g0x = g0( fuv.x );
		float g1x = g1( fuv.x );
		float h0x = h0( fuv.x );
		float h1x = h1( fuv.x );
		float h0y = h0( fuv.y );
		float h1y = h1( fuv.y );
		vec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		vec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		return g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +
			g1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );
	}
	vec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {
		vec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );
		vec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );
		vec2 fLodSizeInv = 1.0 / fLodSize;
		vec2 cLodSizeInv = 1.0 / cLodSize;
		vec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );
		vec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );
		return mix( fSample, cSample, fract( lod ) );
	}
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		return textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );
	}
	vec3 volumeAttenuation( const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( isinf( attenuationDistance ) ) {
			return vec3( 1.0 );
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
		vec3 refractedRayExit = position + transmissionRay;
		vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
		vec2 refractionCoords = ndcPos.xy / ndcPos.w;
		refractionCoords += 1.0;
		refractionCoords /= 2.0;
		vec4 transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
		vec3 transmittance = diffuseColor * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance );
		vec3 attenuatedColor = transmittance * transmittedLight.rgb;
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		float transmittanceFactor = ( transmittance.r + transmittance.g + transmittance.b ) / 3.0;
		return vec4( ( 1.0 - F ) * attenuatedColor, 1.0 - ( 1.0 - transmittedLight.a ) * transmittanceFactor );
	}
#endif`,dW=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_SPECULARMAP
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,pW=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	uniform mat3 mapTransform;
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	uniform mat3 alphaMapTransform;
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	uniform mat3 lightMapTransform;
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	uniform mat3 aoMapTransform;
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	uniform mat3 bumpMapTransform;
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	uniform mat3 normalMapTransform;
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_DISPLACEMENTMAP
	uniform mat3 displacementMapTransform;
	varying vec2 vDisplacementMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	uniform mat3 emissiveMapTransform;
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	uniform mat3 metalnessMapTransform;
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	uniform mat3 roughnessMapTransform;
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	uniform mat3 anisotropyMapTransform;
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	uniform mat3 clearcoatMapTransform;
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform mat3 clearcoatNormalMapTransform;
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform mat3 clearcoatRoughnessMapTransform;
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	uniform mat3 sheenColorMapTransform;
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	uniform mat3 sheenRoughnessMapTransform;
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	uniform mat3 iridescenceMapTransform;
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform mat3 iridescenceThicknessMapTransform;
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SPECULARMAP
	uniform mat3 specularMapTransform;
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	uniform mat3 specularColorMapTransform;
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	uniform mat3 specularIntensityMapTransform;
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,mW=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	vUv = vec3( uv, 1 ).xy;
#endif
#ifdef USE_MAP
	vMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ALPHAMAP
	vAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_LIGHTMAP
	vLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_AOMAP
	vAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_BUMPMAP
	vBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_NORMALMAP
	vNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_DISPLACEMENTMAP
	vDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_EMISSIVEMAP
	vEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_METALNESSMAP
	vMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ROUGHNESSMAP
	vRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ANISOTROPYMAP
	vAnisotropyMapUv = ( anisotropyMapTransform * vec3( ANISOTROPYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOATMAP
	vClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	vClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	vClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCEMAP
	vIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	vIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_COLORMAP
	vSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	vSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULARMAP
	vSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_COLORMAP
	vSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	vSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_TRANSMISSIONMAP
	vTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_THICKNESSMAP
	vThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;
#endif`,gW=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_BATCHING
		worldPosition = batchingMatrix * worldPosition;
	#endif
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const vW=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,yW=`uniform sampler2D t2D;
uniform float backgroundIntensity;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		texColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,xW=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,_W=`#ifdef ENVMAP_TYPE_CUBE
	uniform samplerCube envMap;
#elif defined( ENVMAP_TYPE_CUBE_UV )
	uniform sampler2D envMap;
#endif
uniform float flipEnvMap;
uniform float backgroundBlurriness;
uniform float backgroundIntensity;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	#ifdef ENVMAP_TYPE_CUBE
		vec4 texColor = textureCube( envMap, vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 texColor = textureCubeUV( envMap, vWorldDirection, backgroundBlurriness );
	#else
		vec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,bW=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,SW=`uniform samplerCube tCube;
uniform float tFlip;
uniform float opacity;
varying vec3 vWorldDirection;
void main() {
	vec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );
	gl_FragColor = texColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,wW=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,MW=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <logdepthbuf_fragment>
	float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#endif
}`,EW=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,AW=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,TW=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,CW=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,PW=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,RW=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,OW=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,IW=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,NW=`#define LAMBERT
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,LW=`#define LAMBERT
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_lambert_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_lambert_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,kW=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,DW=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,UW=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	vViewPosition = - mvPosition.xyz;
#endif
}`,FW=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), opacity );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,BW=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,zW=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,jW=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,HW=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define USE_SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef USE_SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULAR_COLORMAP
		uniform sampler2D specularColorMap;
	#endif
	#ifdef USE_SPECULAR_INTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEEN_COLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEEN_ROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
#ifdef USE_ANISOTROPY
	uniform vec2 anisotropyVector;
	#ifdef USE_ANISOTROPYMAP
		uniform sampler2D anisotropyMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecularDirect + sheenSpecularIndirect;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometryClearcoatNormal, geometryViewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + ( clearcoatSpecularDirect + clearcoatSpecularIndirect ) * material.clearcoat;
	#endif
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,VW=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,GW=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,WW=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
#ifdef USE_POINTS_UV
	varying vec2 vUv;
	uniform mat3 uvTransform;
#endif
void main() {
	#ifdef USE_POINTS_UV
		vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	#endif
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,qW=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,$W=`#include <common>
#include <batching_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,XW=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <logdepthbuf_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	#include <logdepthbuf_fragment>
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,YW=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
	vec2 scale;
	scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
	scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,KW=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,dn={alphahash_fragment:yV,alphahash_pars_fragment:xV,alphamap_fragment:_V,alphamap_pars_fragment:bV,alphatest_fragment:SV,alphatest_pars_fragment:wV,aomap_fragment:MV,aomap_pars_fragment:EV,batching_pars_vertex:AV,batching_vertex:TV,begin_vertex:CV,beginnormal_vertex:PV,bsdfs:RV,iridescence_fragment:OV,bumpmap_pars_fragment:IV,clipping_planes_fragment:NV,clipping_planes_pars_fragment:LV,clipping_planes_pars_vertex:kV,clipping_planes_vertex:DV,color_fragment:UV,color_pars_fragment:FV,color_pars_vertex:BV,color_vertex:zV,common:jV,cube_uv_reflection_fragment:HV,defaultnormal_vertex:VV,displacementmap_pars_vertex:GV,displacementmap_vertex:WV,emissivemap_fragment:qV,emissivemap_pars_fragment:$V,colorspace_fragment:XV,colorspace_pars_fragment:YV,envmap_fragment:KV,envmap_common_pars_fragment:ZV,envmap_pars_fragment:JV,envmap_pars_vertex:QV,envmap_physical_pars_fragment:fG,envmap_vertex:eG,fog_vertex:tG,fog_pars_vertex:nG,fog_fragment:rG,fog_pars_fragment:iG,gradientmap_pars_fragment:aG,lightmap_fragment:oG,lightmap_pars_fragment:sG,lights_lambert_fragment:lG,lights_lambert_pars_fragment:uG,lights_pars_begin:cG,lights_toon_fragment:hG,lights_toon_pars_fragment:dG,lights_phong_fragment:pG,lights_phong_pars_fragment:mG,lights_physical_fragment:gG,lights_physical_pars_fragment:vG,lights_fragment_begin:yG,lights_fragment_maps:xG,lights_fragment_end:_G,logdepthbuf_fragment:bG,logdepthbuf_pars_fragment:SG,logdepthbuf_pars_vertex:wG,logdepthbuf_vertex:MG,map_fragment:EG,map_pars_fragment:AG,map_particle_fragment:TG,map_particle_pars_fragment:CG,metalnessmap_fragment:PG,metalnessmap_pars_fragment:RG,morphcolor_vertex:OG,morphnormal_vertex:IG,morphtarget_pars_vertex:NG,morphtarget_vertex:LG,normal_fragment_begin:kG,normal_fragment_maps:DG,normal_pars_fragment:UG,normal_pars_vertex:FG,normal_vertex:BG,normalmap_pars_fragment:zG,clearcoat_normal_fragment_begin:jG,clearcoat_normal_fragment_maps:HG,clearcoat_pars_fragment:VG,iridescence_pars_fragment:GG,opaque_fragment:WG,packing:qG,premultiplied_alpha_fragment:$G,project_vertex:XG,dithering_fragment:YG,dithering_pars_fragment:KG,roughnessmap_fragment:ZG,roughnessmap_pars_fragment:JG,shadowmap_pars_fragment:QG,shadowmap_pars_vertex:eW,shadowmap_vertex:tW,shadowmask_pars_fragment:nW,skinbase_vertex:rW,skinning_pars_vertex:iW,skinning_vertex:aW,skinnormal_vertex:oW,specularmap_fragment:sW,specularmap_pars_fragment:lW,tonemapping_fragment:uW,tonemapping_pars_fragment:cW,transmission_fragment:fW,transmission_pars_fragment:hW,uv_pars_fragment:dW,uv_pars_vertex:pW,uv_vertex:mW,worldpos_vertex:gW,background_vert:vW,background_frag:yW,backgroundCube_vert:xW,backgroundCube_frag:_W,cube_vert:bW,cube_frag:SW,depth_vert:wW,depth_frag:MW,distanceRGBA_vert:EW,distanceRGBA_frag:AW,equirect_vert:TW,equirect_frag:CW,linedashed_vert:PW,linedashed_frag:RW,meshbasic_vert:OW,meshbasic_frag:IW,meshlambert_vert:NW,meshlambert_frag:LW,meshmatcap_vert:kW,meshmatcap_frag:DW,meshnormal_vert:UW,meshnormal_frag:FW,meshphong_vert:BW,meshphong_frag:zW,meshphysical_vert:jW,meshphysical_frag:HW,meshtoon_vert:VW,meshtoon_frag:GW,points_vert:WW,points_frag:qW,shadow_vert:$W,shadow_frag:XW,sprite_vert:YW,sprite_frag:KW},mt={common:{diffuse:{value:new wt(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new xn},alphaMap:{value:null},alphaMapTransform:{value:new xn},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new xn}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new xn}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new xn}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new xn},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new xn},normalScale:{value:new Ve(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new xn},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new xn}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new xn}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new xn}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new wt(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new wt(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaMapTransform:{value:new xn},alphaTest:{value:0},uvTransform:{value:new xn}},sprite:{diffuse:{value:new wt(16777215)},opacity:{value:1},center:{value:new Ve(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new xn},alphaMap:{value:null},alphaMapTransform:{value:new xn},alphaTest:{value:0}}},as={basic:{uniforms:ua([mt.common,mt.specularmap,mt.envmap,mt.aomap,mt.lightmap,mt.fog]),vertexShader:dn.meshbasic_vert,fragmentShader:dn.meshbasic_frag},lambert:{uniforms:ua([mt.common,mt.specularmap,mt.envmap,mt.aomap,mt.lightmap,mt.emissivemap,mt.bumpmap,mt.normalmap,mt.displacementmap,mt.fog,mt.lights,{emissive:{value:new wt(0)}}]),vertexShader:dn.meshlambert_vert,fragmentShader:dn.meshlambert_frag},phong:{uniforms:ua([mt.common,mt.specularmap,mt.envmap,mt.aomap,mt.lightmap,mt.emissivemap,mt.bumpmap,mt.normalmap,mt.displacementmap,mt.fog,mt.lights,{emissive:{value:new wt(0)},specular:{value:new wt(1118481)},shininess:{value:30}}]),vertexShader:dn.meshphong_vert,fragmentShader:dn.meshphong_frag},standard:{uniforms:ua([mt.common,mt.envmap,mt.aomap,mt.lightmap,mt.emissivemap,mt.bumpmap,mt.normalmap,mt.displacementmap,mt.roughnessmap,mt.metalnessmap,mt.fog,mt.lights,{emissive:{value:new wt(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:dn.meshphysical_vert,fragmentShader:dn.meshphysical_frag},toon:{uniforms:ua([mt.common,mt.aomap,mt.lightmap,mt.emissivemap,mt.bumpmap,mt.normalmap,mt.displacementmap,mt.gradientmap,mt.fog,mt.lights,{emissive:{value:new wt(0)}}]),vertexShader:dn.meshtoon_vert,fragmentShader:dn.meshtoon_frag},matcap:{uniforms:ua([mt.common,mt.bumpmap,mt.normalmap,mt.displacementmap,mt.fog,{matcap:{value:null}}]),vertexShader:dn.meshmatcap_vert,fragmentShader:dn.meshmatcap_frag},points:{uniforms:ua([mt.points,mt.fog]),vertexShader:dn.points_vert,fragmentShader:dn.points_frag},dashed:{uniforms:ua([mt.common,mt.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:dn.linedashed_vert,fragmentShader:dn.linedashed_frag},depth:{uniforms:ua([mt.common,mt.displacementmap]),vertexShader:dn.depth_vert,fragmentShader:dn.depth_frag},normal:{uniforms:ua([mt.common,mt.bumpmap,mt.normalmap,mt.displacementmap,{opacity:{value:1}}]),vertexShader:dn.meshnormal_vert,fragmentShader:dn.meshnormal_frag},sprite:{uniforms:ua([mt.sprite,mt.fog]),vertexShader:dn.sprite_vert,fragmentShader:dn.sprite_frag},background:{uniforms:{uvTransform:{value:new xn},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:dn.background_vert,fragmentShader:dn.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1}},vertexShader:dn.backgroundCube_vert,fragmentShader:dn.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:dn.cube_vert,fragmentShader:dn.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:dn.equirect_vert,fragmentShader:dn.equirect_frag},distanceRGBA:{uniforms:ua([mt.common,mt.displacementmap,{referencePosition:{value:new ie},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:dn.distanceRGBA_vert,fragmentShader:dn.distanceRGBA_frag},shadow:{uniforms:ua([mt.lights,mt.fog,{color:{value:new wt(0)},opacity:{value:1}}]),vertexShader:dn.shadow_vert,fragmentShader:dn.shadow_frag}};as.physical={uniforms:ua([as.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new xn},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new xn},clearcoatNormalScale:{value:new Ve(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new xn},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new xn},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new xn},sheen:{value:0},sheenColor:{value:new wt(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new xn},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new xn},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new xn},transmissionSamplerSize:{value:new Ve},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new xn},attenuationDistance:{value:0},attenuationColor:{value:new wt(0)},specularColor:{value:new wt(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new xn},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new xn},anisotropyVector:{value:new Ve},anisotropyMap:{value:null},anisotropyMapTransform:{value:new xn}}]),vertexShader:dn.meshphysical_vert,fragmentShader:dn.meshphysical_frag};const ty={r:0,b:0,g:0};function ZW(n,e,t,r,i,a,o){const s=new wt(0);let u=a===!0?0:1,c,h,d=null,g=0,y=null;function b(x,_){let E=!1,A=_.isScene===!0?_.background:null;A&&A.isTexture&&(A=(_.backgroundBlurriness>0?t:e).get(A)),A===null?S(s,u):A&&A.isColor&&(S(A,1),E=!0);const T=n.xr.getEnvironmentBlendMode();T==="additive"?r.buffers.color.setClear(0,0,0,1,o):T==="alpha-blend"&&r.buffers.color.setClear(0,0,0,0,o),(n.autoClear||E)&&n.clear(n.autoClearColor,n.autoClearDepth,n.autoClearStencil),A&&(A.isCubeTexture||A.mapping===fp)?(h===void 0&&(h=new Ur(new Vf(1,1,1),new Da({name:"BackgroundCubeMaterial",uniforms:Vd(as.backgroundCube.uniforms),vertexShader:as.backgroundCube.vertexShader,fragmentShader:as.backgroundCube.fragmentShader,side:pa,depthTest:!1,depthWrite:!1,fog:!1})),h.geometry.deleteAttribute("normal"),h.geometry.deleteAttribute("uv"),h.onBeforeRender=function(P,O,N){this.matrixWorld.copyPosition(N.matrixWorld)},Object.defineProperty(h.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),i.update(h)),h.material.uniforms.envMap.value=A,h.material.uniforms.flipEnvMap.value=A.isCubeTexture&&A.isRenderTargetTexture===!1?-1:1,h.material.uniforms.backgroundBlurriness.value=_.backgroundBlurriness,h.material.uniforms.backgroundIntensity.value=_.backgroundIntensity,h.material.toneMapped=qn.getTransfer(A.colorSpace)!==ar,(d!==A||g!==A.version||y!==n.toneMapping)&&(h.material.needsUpdate=!0,d=A,g=A.version,y=n.toneMapping),h.layers.enableAll(),x.unshift(h,h.geometry,h.material,0,0,null)):A&&A.isTexture&&(c===void 0&&(c=new Ur(new hp(2,2),new Da({name:"BackgroundMaterial",uniforms:Vd(as.background.uniforms),vertexShader:as.background.vertexShader,fragmentShader:as.background.fragmentShader,side:Dl,depthTest:!1,depthWrite:!1,fog:!1})),c.geometry.deleteAttribute("normal"),Object.defineProperty(c.material,"map",{get:function(){return this.uniforms.t2D.value}}),i.update(c)),c.material.uniforms.t2D.value=A,c.material.uniforms.backgroundIntensity.value=_.backgroundIntensity,c.material.toneMapped=qn.getTransfer(A.colorSpace)!==ar,A.matrixAutoUpdate===!0&&A.updateMatrix(),c.material.uniforms.uvTransform.value.copy(A.matrix),(d!==A||g!==A.version||y!==n.toneMapping)&&(c.material.needsUpdate=!0,d=A,g=A.version,y=n.toneMapping),c.layers.enableAll(),x.unshift(c,c.geometry,c.material,0,0,null))}function S(x,_){x.getRGB(ty,lB(n)),r.buffers.color.setClear(ty.r,ty.g,ty.b,_,o)}return{getClearColor:function(){return s},setClearColor:function(x,_=1){s.set(x),u=_,S(s,u)},getClearAlpha:function(){return u},setClearAlpha:function(x){u=x,S(s,u)},render:b}}function JW(n,e,t,r){const i=n.getParameter(n.MAX_VERTEX_ATTRIBS),a=r.isWebGL2?null:e.get("OES_vertex_array_object"),o=r.isWebGL2||a!==null,s={},u=x(null);let c=u,h=!1;function d(H,te,Z,he,X){let ae=!1;if(o){const z=S(he,Z,te);c!==z&&(c=z,y(c.object)),ae=_(H,he,Z,X),ae&&E(H,he,Z,X)}else{const z=te.wireframe===!0;(c.geometry!==he.id||c.program!==Z.id||c.wireframe!==z)&&(c.geometry=he.id,c.program=Z.id,c.wireframe=z,ae=!0)}X!==null&&t.update(X,n.ELEMENT_ARRAY_BUFFER),(ae||h)&&(h=!1,F(H,te,Z,he),X!==null&&n.bindBuffer(n.ELEMENT_ARRAY_BUFFER,t.get(X).buffer))}function g(){return r.isWebGL2?n.createVertexArray():a.createVertexArrayOES()}function y(H){return r.isWebGL2?n.bindVertexArray(H):a.bindVertexArrayOES(H)}function b(H){return r.isWebGL2?n.deleteVertexArray(H):a.deleteVertexArrayOES(H)}function S(H,te,Z){const he=Z.wireframe===!0;let X=s[H.id];X===void 0&&(X={},s[H.id]=X);let ae=X[te.id];ae===void 0&&(ae={},X[te.id]=ae);let z=ae[he];return z===void 0&&(z=x(g()),ae[he]=z),z}function x(H){const te=[],Z=[],he=[];for(let X=0;X<i;X++)te[X]=0,Z[X]=0,he[X]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:te,enabledAttributes:Z,attributeDivisors:he,object:H,attributes:{},index:null}}function _(H,te,Z,he){const X=c.attributes,ae=te.attributes;let z=0;const re=Z.getAttributes();for(const le in re)if(re[le].location>=0){const be=X[le];let Oe=ae[le];if(Oe===void 0&&(le==="instanceMatrix"&&H.instanceMatrix&&(Oe=H.instanceMatrix),le==="instanceColor"&&H.instanceColor&&(Oe=H.instanceColor)),be===void 0||be.attribute!==Oe||Oe&&be.data!==Oe.data)return!0;z++}return c.attributesNum!==z||c.index!==he}function E(H,te,Z,he){const X={},ae=te.attributes;let z=0;const re=Z.getAttributes();for(const le in re)if(re[le].location>=0){let be=ae[le];be===void 0&&(le==="instanceMatrix"&&H.instanceMatrix&&(be=H.instanceMatrix),le==="instanceColor"&&H.instanceColor&&(be=H.instanceColor));const Oe={};Oe.attribute=be,be&&be.data&&(Oe.data=be.data),X[le]=Oe,z++}c.attributes=X,c.attributesNum=z,c.index=he}function A(){const H=c.newAttributes;for(let te=0,Z=H.length;te<Z;te++)H[te]=0}function T(H){P(H,0)}function P(H,te){const Z=c.newAttributes,he=c.enabledAttributes,X=c.attributeDivisors;Z[H]=1,he[H]===0&&(n.enableVertexAttribArray(H),he[H]=1),X[H]!==te&&((r.isWebGL2?n:e.get("ANGLE_instanced_arrays"))[r.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](H,te),X[H]=te)}function O(){const H=c.newAttributes,te=c.enabledAttributes;for(let Z=0,he=te.length;Z<he;Z++)te[Z]!==H[Z]&&(n.disableVertexAttribArray(Z),te[Z]=0)}function N(H,te,Z,he,X,ae,z){z===!0?n.vertexAttribIPointer(H,te,Z,X,ae):n.vertexAttribPointer(H,te,Z,he,X,ae)}function F(H,te,Z,he){if(r.isWebGL2===!1&&(H.isInstancedMesh||he.isInstancedBufferGeometry)&&e.get("ANGLE_instanced_arrays")===null)return;A();const X=he.attributes,ae=Z.getAttributes(),z=te.defaultAttributeValues;for(const re in ae){const le=ae[re];if(le.location>=0){let ce=X[re];if(ce===void 0&&(re==="instanceMatrix"&&H.instanceMatrix&&(ce=H.instanceMatrix),re==="instanceColor"&&H.instanceColor&&(ce=H.instanceColor)),ce!==void 0){const be=ce.normalized,Oe=ce.itemSize,ke=t.get(ce);if(ke===void 0)continue;const He=ke.buffer,Je=ke.type,Ue=ke.bytesPerElement,qe=r.isWebGL2===!0&&(Je===n.INT||Je===n.UNSIGNED_INT||ce.gpuType===aC);if(ce.isInterleavedBufferAttribute){const Qe=ce.data,K=Qe.stride,je=ce.offset;if(Qe.isInstancedInterleavedBuffer){for(let Ae=0;Ae<le.locationSize;Ae++)P(le.location+Ae,Qe.meshPerAttribute);H.isInstancedMesh!==!0&&he._maxInstanceCount===void 0&&(he._maxInstanceCount=Qe.meshPerAttribute*Qe.count)}else for(let Ae=0;Ae<le.locationSize;Ae++)T(le.location+Ae);n.bindBuffer(n.ARRAY_BUFFER,He);for(let Ae=0;Ae<le.locationSize;Ae++)N(le.location+Ae,Oe/le.locationSize,Je,be,K*Ue,(je+Oe/le.locationSize*Ae)*Ue,qe)}else{if(ce.isInstancedBufferAttribute){for(let Qe=0;Qe<le.locationSize;Qe++)P(le.location+Qe,ce.meshPerAttribute);H.isInstancedMesh!==!0&&he._maxInstanceCount===void 0&&(he._maxInstanceCount=ce.meshPerAttribute*ce.count)}else for(let Qe=0;Qe<le.locationSize;Qe++)T(le.location+Qe);n.bindBuffer(n.ARRAY_BUFFER,He);for(let Qe=0;Qe<le.locationSize;Qe++)N(le.location+Qe,Oe/le.locationSize,Je,be,Oe*Ue,Oe/le.locationSize*Qe*Ue,qe)}}else if(z!==void 0){const be=z[re];if(be!==void 0)switch(be.length){case 2:n.vertexAttrib2fv(le.location,be);break;case 3:n.vertexAttrib3fv(le.location,be);break;case 4:n.vertexAttrib4fv(le.location,be);break;default:n.vertexAttrib1fv(le.location,be)}}}}O()}function D(){q();for(const H in s){const te=s[H];for(const Z in te){const he=te[Z];for(const X in he)b(he[X].object),delete he[X];delete te[Z]}delete s[H]}}function U(H){if(s[H.id]===void 0)return;const te=s[H.id];for(const Z in te){const he=te[Z];for(const X in he)b(he[X].object),delete he[X];delete te[Z]}delete s[H.id]}function G(H){for(const te in s){const Z=s[te];if(Z[H.id]===void 0)continue;const he=Z[H.id];for(const X in he)b(he[X].object),delete he[X];delete Z[H.id]}}function q(){Q(),h=!0,c!==u&&(c=u,y(c.object))}function Q(){u.geometry=null,u.program=null,u.wireframe=!1}return{setup:d,reset:q,resetDefaultState:Q,dispose:D,releaseStatesOfGeometry:U,releaseStatesOfProgram:G,initAttributes:A,enableAttribute:T,disableUnusedAttributes:O}}function QW(n,e,t,r){const i=r.isWebGL2;let a;function o(h){a=h}function s(h,d){n.drawArrays(a,h,d),t.update(d,a,1)}function u(h,d,g){if(g===0)return;let y,b;if(i)y=n,b="drawArraysInstanced";else if(y=e.get("ANGLE_instanced_arrays"),b="drawArraysInstancedANGLE",y===null){console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}y[b](a,h,d,g),t.update(d,a,g)}function c(h,d,g){if(g===0)return;const y=e.get("WEBGL_multi_draw");if(y===null)for(let b=0;b<g;b++)this.render(h[b],d[b]);else{y.multiDrawArraysWEBGL(a,h,0,d,0,g);let b=0;for(let S=0;S<g;S++)b+=d[S];t.update(b,a,1)}}this.setMode=o,this.render=s,this.renderInstances=u,this.renderMultiDraw=c}function e9(n,e,t){let r;function i(){if(r!==void 0)return r;if(e.has("EXT_texture_filter_anisotropic")===!0){const N=e.get("EXT_texture_filter_anisotropic");r=n.getParameter(N.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else r=0;return r}function a(N){if(N==="highp"){if(n.getShaderPrecisionFormat(n.VERTEX_SHADER,n.HIGH_FLOAT).precision>0&&n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.HIGH_FLOAT).precision>0)return"highp";N="mediump"}return N==="mediump"&&n.getShaderPrecisionFormat(n.VERTEX_SHADER,n.MEDIUM_FLOAT).precision>0&&n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}const o=typeof WebGL2RenderingContext<"u"&&n.constructor.name==="WebGL2RenderingContext";let s=t.precision!==void 0?t.precision:"highp";const u=a(s);u!==s&&(console.warn("THREE.WebGLRenderer:",s,"not supported, using",u,"instead."),s=u);const c=o||e.has("WEBGL_draw_buffers"),h=t.logarithmicDepthBuffer===!0,d=n.getParameter(n.MAX_TEXTURE_IMAGE_UNITS),g=n.getParameter(n.MAX_VERTEX_TEXTURE_IMAGE_UNITS),y=n.getParameter(n.MAX_TEXTURE_SIZE),b=n.getParameter(n.MAX_CUBE_MAP_TEXTURE_SIZE),S=n.getParameter(n.MAX_VERTEX_ATTRIBS),x=n.getParameter(n.MAX_VERTEX_UNIFORM_VECTORS),_=n.getParameter(n.MAX_VARYING_VECTORS),E=n.getParameter(n.MAX_FRAGMENT_UNIFORM_VECTORS),A=g>0,T=o||e.has("OES_texture_float"),P=A&&T,O=o?n.getParameter(n.MAX_SAMPLES):0;return{isWebGL2:o,drawBuffers:c,getMaxAnisotropy:i,getMaxPrecision:a,precision:s,logarithmicDepthBuffer:h,maxTextures:d,maxVertexTextures:g,maxTextureSize:y,maxCubemapSize:b,maxAttributes:S,maxVertexUniforms:x,maxVaryings:_,maxFragmentUniforms:E,vertexTextures:A,floatFragmentTextures:T,floatVertexTextures:P,maxSamples:O}}function t9(n){const e=this;let t=null,r=0,i=!1,a=!1;const o=new El,s=new xn,u={value:null,needsUpdate:!1};this.uniform=u,this.numPlanes=0,this.numIntersection=0,this.init=function(d,g){const y=d.length!==0||g||r!==0||i;return i=g,r=d.length,y},this.beginShadows=function(){a=!0,h(null)},this.endShadows=function(){a=!1},this.setGlobalState=function(d,g){t=h(d,g,0)},this.setState=function(d,g,y){const b=d.clippingPlanes,S=d.clipIntersection,x=d.clipShadows,_=n.get(d);if(!i||b===null||b.length===0||a&&!x)a?h(null):c();else{const E=a?0:r,A=E*4;let T=_.clippingState||null;u.value=T,T=h(b,g,A,y);for(let P=0;P!==A;++P)T[P]=t[P];_.clippingState=T,this.numIntersection=S?this.numPlanes:0,this.numPlanes+=E}};function c(){u.value!==t&&(u.value=t,u.needsUpdate=r>0),e.numPlanes=r,e.numIntersection=0}function h(d,g,y,b){const S=d!==null?d.length:0;let x=null;if(S!==0){if(x=u.value,b!==!0||x===null){const _=y+S*4,E=g.matrixWorldInverse;s.getNormalMatrix(E),(x===null||x.length<_)&&(x=new Float32Array(_));for(let A=0,T=y;A!==S;++A,T+=4)o.copy(d[A]).applyMatrix4(E,s),o.normal.toArray(x,T),x[T+3]=o.constant}u.value=x,u.needsUpdate=!0}return e.numPlanes=S,e.numIntersection=0,x}}function n9(n){let e=new WeakMap;function t(o,s){return s===zd?o.mapping=zs:s===og&&(o.mapping=nc),o}function r(o){if(o&&o.isTexture){const s=o.mapping;if(s===zd||s===og)if(e.has(o)){const u=e.get(o).texture;return t(u,o.mapping)}else{const u=o.image;if(u&&u.height>0){const c=new SC(u.height/2);return c.fromEquirectangularTexture(n,o),e.set(o,c),o.addEventListener("dispose",i),t(c.texture,o.mapping)}else return null}}return o}function i(o){const s=o.target;s.removeEventListener("dispose",i);const u=e.get(s);u!==void 0&&(e.delete(s),u.dispose())}function a(){e=new WeakMap}return{get:r,dispose:a}}class Ju extends vv{constructor(e=-1,t=1,r=1,i=-1,a=.1,o=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=t,this.top=r,this.bottom=i,this.near=a,this.far=o,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this}setViewOffset(e,t,r,i,a,o){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=r,this.view.offsetY=i,this.view.width=a,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),r=(this.right+this.left)/2,i=(this.top+this.bottom)/2;let a=r-e,o=r+e,s=i+t,u=i-t;if(this.view!==null&&this.view.enabled){const c=(this.right-this.left)/this.view.fullWidth/this.zoom,h=(this.top-this.bottom)/this.view.fullHeight/this.zoom;a+=c*this.view.offsetX,o=a+c*this.view.width,s-=h*this.view.offsetY,u=s-h*this.view.height}this.projectionMatrix.makeOrthographic(a,o,s,u,this.near,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.zoom=this.zoom,t.object.left=this.left,t.object.right=this.right,t.object.top=this.top,t.object.bottom=this.bottom,t.object.near=this.near,t.object.far=this.far,this.view!==null&&(t.object.view=Object.assign({},this.view)),t}}const Pd=4,xR=[.125,.215,.35,.446,.526,.582],mf=20,o1=new Ju,_R=new wt;let s1=null,l1=0,u1=0;const hf=(1+Math.sqrt(5))/2,dd=1/hf,bR=[new ie(1,1,1),new ie(-1,1,1),new ie(1,1,-1),new ie(-1,1,-1),new ie(0,hf,dd),new ie(0,hf,-dd),new ie(dd,0,hf),new ie(-dd,0,hf),new ie(hf,dd,0),new ie(-hf,dd,0)];class CA{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(e,t=0,r=.1,i=100){s1=this._renderer.getRenderTarget(),l1=this._renderer.getActiveCubeFace(),u1=this._renderer.getActiveMipmapLevel(),this._setSize(256);const a=this._allocateTargets();return a.depthBuffer=!0,this._sceneToCubeUV(e,r,i,a),t>0&&this._blur(a,0,0,t),this._applyPMREM(a),this._cleanup(a),a}fromEquirectangular(e,t=null){return this._fromTexture(e,t)}fromCubemap(e,t=null){return this._fromTexture(e,t)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=MR(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=wR(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose()}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}_cleanup(e){this._renderer.setRenderTarget(s1,l1,u1),e.scissorTest=!1,ny(e,0,0,e.width,e.height)}_fromTexture(e,t){e.mapping===zs||e.mapping===nc?this._setSize(e.image.length===0?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),s1=this._renderer.getRenderTarget(),l1=this._renderer.getActiveCubeFace(),u1=this._renderer.getActiveMipmapLevel();const r=t||this._allocateTargets();return this._textureToCubeUV(e,r),this._applyPMREM(r),this._cleanup(r),r}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),t=4*this._cubeSize,r={magFilter:dr,minFilter:dr,generateMipmaps:!1,type:ha,format:Ki,colorSpace:js,depthBuffer:!1},i=SR(e,t,r);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==e||this._pingPongRenderTarget.height!==t){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=SR(e,t,r);const{_lodMax:a}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=r9(a)),this._blurMaterial=i9(a,e,t)}return i}_compileMaterial(e){const t=new Ur(this._lodPlanes[0],e);this._renderer.compile(t,o1)}_sceneToCubeUV(e,t,r,i){const s=new Dr(90,1,t,r),u=[1,-1,1,1,1,1],c=[1,1,1,-1,-1,-1],h=this._renderer,d=h.autoClear,g=h.toneMapping;h.getClearColor(_R),h.toneMapping=ks,h.autoClear=!1;const y=new sc({name:"PMREM.Background",side:pa,depthWrite:!1,depthTest:!1}),b=new Ur(new Vf,y);let S=!1;const x=e.background;x?x.isColor&&(y.color.copy(x),e.background=null,S=!0):(y.color.copy(_R),S=!0);for(let _=0;_<6;_++){const E=_%3;E===0?(s.up.set(0,u[_],0),s.lookAt(c[_],0,0)):E===1?(s.up.set(0,0,u[_]),s.lookAt(0,c[_],0)):(s.up.set(0,u[_],0),s.lookAt(0,0,c[_]));const A=this._cubeSize;ny(i,E*A,_>2?A:0,A,A),h.setRenderTarget(i),S&&h.render(b,s),h.render(e,s)}b.geometry.dispose(),b.material.dispose(),h.toneMapping=g,h.autoClear=d,e.background=x}_textureToCubeUV(e,t){const r=this._renderer,i=e.mapping===zs||e.mapping===nc;i?(this._cubemapMaterial===null&&(this._cubemapMaterial=MR()),this._cubemapMaterial.uniforms.flipEnvMap.value=e.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=wR());const a=i?this._cubemapMaterial:this._equirectMaterial,o=new Ur(this._lodPlanes[0],a),s=a.uniforms;s.envMap.value=e;const u=this._cubeSize;ny(t,0,0,3*u,2*u),r.setRenderTarget(t),r.render(o,o1)}_applyPMREM(e){const t=this._renderer,r=t.autoClear;t.autoClear=!1;for(let i=1;i<this._lodPlanes.length;i++){const a=Math.sqrt(this._sigmas[i]*this._sigmas[i]-this._sigmas[i-1]*this._sigmas[i-1]),o=bR[(i-1)%bR.length];this._blur(e,i-1,i,a,o)}t.autoClear=r}_blur(e,t,r,i,a){const o=this._pingPongRenderTarget;this._halfBlur(e,o,t,r,i,"latitudinal",a),this._halfBlur(o,e,r,r,i,"longitudinal",a)}_halfBlur(e,t,r,i,a,o,s){const u=this._renderer,c=this._blurMaterial;o!=="latitudinal"&&o!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");const h=3,d=new Ur(this._lodPlanes[i],c),g=c.uniforms,y=this._sizeLods[r]-1,b=isFinite(a)?Math.PI/(2*y):2*Math.PI/(2*mf-1),S=a/b,x=isFinite(a)?1+Math.floor(h*S):mf;x>mf&&console.warn(`sigmaRadians, ${a}, is too large and will clip, as it requested ${x} samples when the maximum is set to ${mf}`);const _=[];let E=0;for(let N=0;N<mf;++N){const F=N/S,D=Math.exp(-F*F/2);_.push(D),N===0?E+=D:N<x&&(E+=2*D)}for(let N=0;N<_.length;N++)_[N]=_[N]/E;g.envMap.value=e.texture,g.samples.value=x,g.weights.value=_,g.latitudinal.value=o==="latitudinal",s&&(g.poleAxis.value=s);const{_lodMax:A}=this;g.dTheta.value=b,g.mipInt.value=A-r;const T=this._sizeLods[i],P=3*T*(i>A-Pd?i-A+Pd:0),O=4*(this._cubeSize-T);ny(t,P,O,3*T,2*T),u.setRenderTarget(t),u.render(d,o1)}}function r9(n){const e=[],t=[],r=[];let i=n;const a=n-Pd+1+xR.length;for(let o=0;o<a;o++){const s=Math.pow(2,i);t.push(s);let u=1/s;o>n-Pd?u=xR[o-n+Pd-1]:o===0&&(u=0),r.push(u);const c=1/(s-2),h=-c,d=1+c,g=[h,h,d,h,d,d,h,h,d,d,h,d],y=6,b=6,S=3,x=2,_=1,E=new Float32Array(S*b*y),A=new Float32Array(x*b*y),T=new Float32Array(_*b*y);for(let O=0;O<y;O++){const N=O%3*2/3-1,F=O>2?0:-1,D=[N,F,0,N+2/3,F,0,N+2/3,F+1,0,N,F,0,N+2/3,F+1,0,N,F+1,0];E.set(D,S*b*O),A.set(g,x*b*O);const U=[O,O,O,O,O,O];T.set(U,_*b*O)}const P=new mn;P.setAttribute("position",new Fn(E,S)),P.setAttribute("uv",new Fn(A,x)),P.setAttribute("faceIndex",new Fn(T,_)),e.push(P),i>Pd&&i--}return{lodPlanes:e,sizeLods:t,sigmas:r}}function SR(n,e,t){const r=new ro(n,e,t);return r.texture.mapping=fp,r.texture.name="PMREM.cubeUv",r.scissorTest=!0,r}function ny(n,e,t,r,i){n.viewport.set(e,t,r,i),n.scissor.set(e,t,r,i)}function i9(n,e,t){const r=new Float32Array(mf),i=new ie(0,1,0);return new Da({name:"SphericalGaussianBlur",defines:{n:mf,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/t,CUBEUV_MAX_MIP:`${n}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:r},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:i}},vertexShader:wC(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:Il,depthTest:!1,depthWrite:!1})}function wR(){return new Da({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:wC(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:Il,depthTest:!1,depthWrite:!1})}function MR(){return new Da({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:wC(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:Il,depthTest:!1,depthWrite:!1})}function wC(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function a9(n){let e=new WeakMap,t=null;function r(s){if(s&&s.isTexture){const u=s.mapping,c=u===zd||u===og,h=u===zs||u===nc;if(c||h)if(s.isRenderTargetTexture&&s.needsPMREMUpdate===!0){s.needsPMREMUpdate=!1;let d=e.get(s);return t===null&&(t=new CA(n)),d=c?t.fromEquirectangular(s,d):t.fromCubemap(s,d),e.set(s,d),d.texture}else{if(e.has(s))return e.get(s).texture;{const d=s.image;if(c&&d&&d.height>0||h&&d&&i(d)){t===null&&(t=new CA(n));const g=c?t.fromEquirectangular(s):t.fromCubemap(s);return e.set(s,g),s.addEventListener("dispose",a),g.texture}else return null}}}return s}function i(s){let u=0;const c=6;for(let h=0;h<c;h++)s[h]!==void 0&&u++;return u===c}function a(s){const u=s.target;u.removeEventListener("dispose",a);const c=e.get(u);c!==void 0&&(e.delete(u),c.dispose())}function o(){e=new WeakMap,t!==null&&(t.dispose(),t=null)}return{get:r,dispose:o}}function o9(n){const e={};function t(r){if(e[r]!==void 0)return e[r];let i;switch(r){case"WEBGL_depth_texture":i=n.getExtension("WEBGL_depth_texture")||n.getExtension("MOZ_WEBGL_depth_texture")||n.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":i=n.getExtension("EXT_texture_filter_anisotropic")||n.getExtension("MOZ_EXT_texture_filter_anisotropic")||n.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":i=n.getExtension("WEBGL_compressed_texture_s3tc")||n.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":i=n.getExtension("WEBGL_compressed_texture_pvrtc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:i=n.getExtension(r)}return e[r]=i,i}return{has:function(r){return t(r)!==null},init:function(r){r.isWebGL2?(t("EXT_color_buffer_float"),t("WEBGL_clip_cull_distance")):(t("WEBGL_depth_texture"),t("OES_texture_float"),t("OES_texture_half_float"),t("OES_texture_half_float_linear"),t("OES_standard_derivatives"),t("OES_element_index_uint"),t("OES_vertex_array_object"),t("ANGLE_instanced_arrays")),t("OES_texture_float_linear"),t("EXT_color_buffer_half_float"),t("WEBGL_multisampled_render_to_texture")},get:function(r){const i=t(r);return i===null&&console.warn("THREE.WebGLRenderer: "+r+" extension not supported."),i}}}function s9(n,e,t,r){const i={},a=new WeakMap;function o(d){const g=d.target;g.index!==null&&e.remove(g.index);for(const b in g.attributes)e.remove(g.attributes[b]);for(const b in g.morphAttributes){const S=g.morphAttributes[b];for(let x=0,_=S.length;x<_;x++)e.remove(S[x])}g.removeEventListener("dispose",o),delete i[g.id];const y=a.get(g);y&&(e.remove(y),a.delete(g)),r.releaseStatesOfGeometry(g),g.isInstancedBufferGeometry===!0&&delete g._maxInstanceCount,t.memory.geometries--}function s(d,g){return i[g.id]===!0||(g.addEventListener("dispose",o),i[g.id]=!0,t.memory.geometries++),g}function u(d){const g=d.attributes;for(const b in g)e.update(g[b],n.ARRAY_BUFFER);const y=d.morphAttributes;for(const b in y){const S=y[b];for(let x=0,_=S.length;x<_;x++)e.update(S[x],n.ARRAY_BUFFER)}}function c(d){const g=[],y=d.index,b=d.attributes.position;let S=0;if(y!==null){const E=y.array;S=y.version;for(let A=0,T=E.length;A<T;A+=3){const P=E[A+0],O=E[A+1],N=E[A+2];g.push(P,O,O,N,N,P)}}else if(b!==void 0){const E=b.array;S=b.version;for(let A=0,T=E.length/3-1;A<T;A+=3){const P=A+0,O=A+1,N=A+2;g.push(P,O,O,N,N,P)}}else return;const x=new(iB(g)?_C:xC)(g,1);x.version=S;const _=a.get(d);_&&e.remove(_),a.set(d,x)}function h(d){const g=a.get(d);if(g){const y=d.index;y!==null&&g.version<y.version&&c(d)}else c(d);return a.get(d)}return{get:s,update:u,getWireframeAttribute:h}}function l9(n,e,t,r){const i=r.isWebGL2;let a;function o(y){a=y}let s,u;function c(y){s=y.type,u=y.bytesPerElement}function h(y,b){n.drawElements(a,b,s,y*u),t.update(b,a,1)}function d(y,b,S){if(S===0)return;let x,_;if(i)x=n,_="drawElementsInstanced";else if(x=e.get("ANGLE_instanced_arrays"),_="drawElementsInstancedANGLE",x===null){console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}x[_](a,b,s,y*u,S),t.update(b,a,S)}function g(y,b,S){if(S===0)return;const x=e.get("WEBGL_multi_draw");if(x===null)for(let _=0;_<S;_++)this.render(y[_]/u,b[_]);else{x.multiDrawElementsWEBGL(a,b,0,s,y,0,S);let _=0;for(let E=0;E<S;E++)_+=b[E];t.update(_,a,1)}}this.setMode=o,this.setIndex=c,this.render=h,this.renderInstances=d,this.renderMultiDraw=g}function u9(n){const e={geometries:0,textures:0},t={frame:0,calls:0,triangles:0,points:0,lines:0};function r(a,o,s){switch(t.calls++,o){case n.TRIANGLES:t.triangles+=s*(a/3);break;case n.LINES:t.lines+=s*(a/2);break;case n.LINE_STRIP:t.lines+=s*(a-1);break;case n.LINE_LOOP:t.lines+=s*a;break;case n.POINTS:t.points+=s*a;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",o);break}}function i(){t.calls=0,t.triangles=0,t.points=0,t.lines=0}return{memory:e,render:t,programs:null,autoReset:!0,reset:i,update:r}}function c9(n,e){return n[0]-e[0]}function f9(n,e){return Math.abs(e[1])-Math.abs(n[1])}function h9(n,e,t){const r={},i=new Float32Array(8),a=new WeakMap,o=new $n,s=[];for(let c=0;c<8;c++)s[c]=[c,0];function u(c,h,d){const g=c.morphTargetInfluences;if(e.isWebGL2===!0){const b=h.morphAttributes.position||h.morphAttributes.normal||h.morphAttributes.color,S=b!==void 0?b.length:0;let x=a.get(h);if(x===void 0||x.count!==S){let te=function(){Q.dispose(),a.delete(h),h.removeEventListener("dispose",te)};var y=te;x!==void 0&&x.texture.dispose();const A=h.morphAttributes.position!==void 0,T=h.morphAttributes.normal!==void 0,P=h.morphAttributes.color!==void 0,O=h.morphAttributes.position||[],N=h.morphAttributes.normal||[],F=h.morphAttributes.color||[];let D=0;A===!0&&(D=1),T===!0&&(D=2),P===!0&&(D=3);let U=h.attributes.position.count*D,G=1;U>e.maxTextureSize&&(G=Math.ceil(U/e.maxTextureSize),U=e.maxTextureSize);const q=new Float32Array(U*G*4*S),Q=new f_(q,U,G,S);Q.type=Ri,Q.needsUpdate=!0;const H=D*4;for(let Z=0;Z<S;Z++){const he=O[Z],X=N[Z],ae=F[Z],z=U*G*4*Z;for(let re=0;re<he.count;re++){const le=re*H;A===!0&&(o.fromBufferAttribute(he,re),q[z+le+0]=o.x,q[z+le+1]=o.y,q[z+le+2]=o.z,q[z+le+3]=0),T===!0&&(o.fromBufferAttribute(X,re),q[z+le+4]=o.x,q[z+le+5]=o.y,q[z+le+6]=o.z,q[z+le+7]=0),P===!0&&(o.fromBufferAttribute(ae,re),q[z+le+8]=o.x,q[z+le+9]=o.y,q[z+le+10]=o.z,q[z+le+11]=ae.itemSize===4?o.w:1)}}x={count:S,texture:Q,size:new Ve(U,G)},a.set(h,x),h.addEventListener("dispose",te)}let _=0;for(let A=0;A<g.length;A++)_+=g[A];const E=h.morphTargetsRelative?1:1-_;d.getUniforms().setValue(n,"morphTargetBaseInfluence",E),d.getUniforms().setValue(n,"morphTargetInfluences",g),d.getUniforms().setValue(n,"morphTargetsTexture",x.texture,t),d.getUniforms().setValue(n,"morphTargetsTextureSize",x.size)}else{const b=g===void 0?0:g.length;let S=r[h.id];if(S===void 0||S.length!==b){S=[];for(let T=0;T<b;T++)S[T]=[T,0];r[h.id]=S}for(let T=0;T<b;T++){const P=S[T];P[0]=T,P[1]=g[T]}S.sort(f9);for(let T=0;T<8;T++)T<b&&S[T][1]?(s[T][0]=S[T][0],s[T][1]=S[T][1]):(s[T][0]=Number.MAX_SAFE_INTEGER,s[T][1]=0);s.sort(c9);const x=h.morphAttributes.position,_=h.morphAttributes.normal;let E=0;for(let T=0;T<8;T++){const P=s[T],O=P[0],N=P[1];O!==Number.MAX_SAFE_INTEGER&&N?(x&&h.getAttribute("morphTarget"+T)!==x[O]&&h.setAttribute("morphTarget"+T,x[O]),_&&h.getAttribute("morphNormal"+T)!==_[O]&&h.setAttribute("morphNormal"+T,_[O]),i[T]=N,E+=N):(x&&h.hasAttribute("morphTarget"+T)===!0&&h.deleteAttribute("morphTarget"+T),_&&h.hasAttribute("morphNormal"+T)===!0&&h.deleteAttribute("morphNormal"+T),i[T]=0)}const A=h.morphTargetsRelative?1:1-E;d.getUniforms().setValue(n,"morphTargetBaseInfluence",A),d.getUniforms().setValue(n,"morphTargetInfluences",i)}}return{update:u}}function d9(n,e,t,r){let i=new WeakMap;function a(u){const c=r.render.frame,h=u.geometry,d=e.get(u,h);if(i.get(d)!==c&&(e.update(d),i.set(d,c)),u.isInstancedMesh&&(u.hasEventListener("dispose",s)===!1&&u.addEventListener("dispose",s),i.get(u)!==c&&(t.update(u.instanceMatrix,n.ARRAY_BUFFER),u.instanceColor!==null&&t.update(u.instanceColor,n.ARRAY_BUFFER),i.set(u,c))),u.isSkinnedMesh){const g=u.skeleton;i.get(g)!==c&&(g.update(),i.set(g,c))}return d}function o(){i=new WeakMap}function s(u){const c=u.target;c.removeEventListener("dispose",s),t.remove(c.instanceMatrix),c.instanceColor!==null&&t.remove(c.instanceColor)}return{update:a,dispose:o}}class MC extends Mr{constructor(e,t,r,i,a,o,s,u,c,h){if(h=h!==void 0?h:Ku,h!==Ku&&h!==Lf)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");r===void 0&&h===Ku&&(r=Tl),r===void 0&&h===Lf&&(r=Yu),super(null,i,a,o,s,u,h,r,c),this.isDepthTexture=!0,this.image={width:e,height:t},this.magFilter=s!==void 0?s:kr,this.minFilter=u!==void 0?u:kr,this.flipY=!1,this.generateMipmaps=!1,this.compareFunction=null}copy(e){return super.copy(e),this.compareFunction=e.compareFunction,this}toJSON(e){const t=super.toJSON(e);return this.compareFunction!==null&&(t.compareFunction=this.compareFunction),t}}const fB=new Mr,hB=new MC(1,1);hB.compareFunction=mC;const dB=new f_,pB=new yC,mB=new yv,ER=[],AR=[],TR=new Float32Array(16),CR=new Float32Array(9),PR=new Float32Array(4);function dp(n,e,t){const r=n[0];if(r<=0||r>0)return n;const i=e*t;let a=ER[i];if(a===void 0&&(a=new Float32Array(i),ER[i]=a),e!==0){r.toArray(a,0);for(let o=1,s=0;o!==e;++o)s+=t,n[o].toArray(a,s)}return a}function ai(n,e){if(n.length!==e.length)return!1;for(let t=0,r=n.length;t<r;t++)if(n[t]!==e[t])return!1;return!0}function oi(n,e){for(let t=0,r=e.length;t<r;t++)n[t]=e[t]}function h_(n,e){let t=AR[e];t===void 0&&(t=new Int32Array(e),AR[e]=t);for(let r=0;r!==e;++r)t[r]=n.allocateTextureUnit();return t}function p9(n,e){const t=this.cache;t[0]!==e&&(n.uniform1f(this.addr,e),t[0]=e)}function m9(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2f(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(ai(t,e))return;n.uniform2fv(this.addr,e),oi(t,e)}}function g9(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3f(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else if(e.r!==void 0)(t[0]!==e.r||t[1]!==e.g||t[2]!==e.b)&&(n.uniform3f(this.addr,e.r,e.g,e.b),t[0]=e.r,t[1]=e.g,t[2]=e.b);else{if(ai(t,e))return;n.uniform3fv(this.addr,e),oi(t,e)}}function v9(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4f(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(ai(t,e))return;n.uniform4fv(this.addr,e),oi(t,e)}}function y9(n,e){const t=this.cache,r=e.elements;if(r===void 0){if(ai(t,e))return;n.uniformMatrix2fv(this.addr,!1,e),oi(t,e)}else{if(ai(t,r))return;PR.set(r),n.uniformMatrix2fv(this.addr,!1,PR),oi(t,r)}}function x9(n,e){const t=this.cache,r=e.elements;if(r===void 0){if(ai(t,e))return;n.uniformMatrix3fv(this.addr,!1,e),oi(t,e)}else{if(ai(t,r))return;CR.set(r),n.uniformMatrix3fv(this.addr,!1,CR),oi(t,r)}}function _9(n,e){const t=this.cache,r=e.elements;if(r===void 0){if(ai(t,e))return;n.uniformMatrix4fv(this.addr,!1,e),oi(t,e)}else{if(ai(t,r))return;TR.set(r),n.uniformMatrix4fv(this.addr,!1,TR),oi(t,r)}}function b9(n,e){const t=this.cache;t[0]!==e&&(n.uniform1i(this.addr,e),t[0]=e)}function S9(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2i(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(ai(t,e))return;n.uniform2iv(this.addr,e),oi(t,e)}}function w9(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3i(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else{if(ai(t,e))return;n.uniform3iv(this.addr,e),oi(t,e)}}function M9(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4i(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(ai(t,e))return;n.uniform4iv(this.addr,e),oi(t,e)}}function E9(n,e){const t=this.cache;t[0]!==e&&(n.uniform1ui(this.addr,e),t[0]=e)}function A9(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2ui(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(ai(t,e))return;n.uniform2uiv(this.addr,e),oi(t,e)}}function T9(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3ui(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else{if(ai(t,e))return;n.uniform3uiv(this.addr,e),oi(t,e)}}function C9(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4ui(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(ai(t,e))return;n.uniform4uiv(this.addr,e),oi(t,e)}}function P9(n,e,t){const r=this.cache,i=t.allocateTextureUnit();r[0]!==i&&(n.uniform1i(this.addr,i),r[0]=i);const a=this.type===n.SAMPLER_2D_SHADOW?hB:fB;t.setTexture2D(e||a,i)}function R9(n,e,t){const r=this.cache,i=t.allocateTextureUnit();r[0]!==i&&(n.uniform1i(this.addr,i),r[0]=i),t.setTexture3D(e||pB,i)}function O9(n,e,t){const r=this.cache,i=t.allocateTextureUnit();r[0]!==i&&(n.uniform1i(this.addr,i),r[0]=i),t.setTextureCube(e||mB,i)}function I9(n,e,t){const r=this.cache,i=t.allocateTextureUnit();r[0]!==i&&(n.uniform1i(this.addr,i),r[0]=i),t.setTexture2DArray(e||dB,i)}function N9(n){switch(n){case 5126:return p9;case 35664:return m9;case 35665:return g9;case 35666:return v9;case 35674:return y9;case 35675:return x9;case 35676:return _9;case 5124:case 35670:return b9;case 35667:case 35671:return S9;case 35668:case 35672:return w9;case 35669:case 35673:return M9;case 5125:return E9;case 36294:return A9;case 36295:return T9;case 36296:return C9;case 35678:case 36198:case 36298:case 36306:case 35682:return P9;case 35679:case 36299:case 36307:return R9;case 35680:case 36300:case 36308:case 36293:return O9;case 36289:case 36303:case 36311:case 36292:return I9}}function L9(n,e){n.uniform1fv(this.addr,e)}function k9(n,e){const t=dp(e,this.size,2);n.uniform2fv(this.addr,t)}function D9(n,e){const t=dp(e,this.size,3);n.uniform3fv(this.addr,t)}function U9(n,e){const t=dp(e,this.size,4);n.uniform4fv(this.addr,t)}function F9(n,e){const t=dp(e,this.size,4);n.uniformMatrix2fv(this.addr,!1,t)}function B9(n,e){const t=dp(e,this.size,9);n.uniformMatrix3fv(this.addr,!1,t)}function z9(n,e){const t=dp(e,this.size,16);n.uniformMatrix4fv(this.addr,!1,t)}function j9(n,e){n.uniform1iv(this.addr,e)}function H9(n,e){n.uniform2iv(this.addr,e)}function V9(n,e){n.uniform3iv(this.addr,e)}function G9(n,e){n.uniform4iv(this.addr,e)}function W9(n,e){n.uniform1uiv(this.addr,e)}function q9(n,e){n.uniform2uiv(this.addr,e)}function $9(n,e){n.uniform3uiv(this.addr,e)}function X9(n,e){n.uniform4uiv(this.addr,e)}function Y9(n,e,t){const r=this.cache,i=e.length,a=h_(t,i);ai(r,a)||(n.uniform1iv(this.addr,a),oi(r,a));for(let o=0;o!==i;++o)t.setTexture2D(e[o]||fB,a[o])}function K9(n,e,t){const r=this.cache,i=e.length,a=h_(t,i);ai(r,a)||(n.uniform1iv(this.addr,a),oi(r,a));for(let o=0;o!==i;++o)t.setTexture3D(e[o]||pB,a[o])}function Z9(n,e,t){const r=this.cache,i=e.length,a=h_(t,i);ai(r,a)||(n.uniform1iv(this.addr,a),oi(r,a));for(let o=0;o!==i;++o)t.setTextureCube(e[o]||mB,a[o])}function J9(n,e,t){const r=this.cache,i=e.length,a=h_(t,i);ai(r,a)||(n.uniform1iv(this.addr,a),oi(r,a));for(let o=0;o!==i;++o)t.setTexture2DArray(e[o]||dB,a[o])}function Q9(n){switch(n){case 5126:return L9;case 35664:return k9;case 35665:return D9;case 35666:return U9;case 35674:return F9;case 35675:return B9;case 35676:return z9;case 5124:case 35670:return j9;case 35667:case 35671:return H9;case 35668:case 35672:return V9;case 35669:case 35673:return G9;case 5125:return W9;case 36294:return q9;case 36295:return $9;case 36296:return X9;case 35678:case 36198:case 36298:case 36306:case 35682:return Y9;case 35679:case 36299:case 36307:return K9;case 35680:case 36300:case 36308:case 36293:return Z9;case 36289:case 36303:case 36311:case 36292:return J9}}class eq{constructor(e,t,r){this.id=e,this.addr=r,this.cache=[],this.type=t.type,this.setValue=N9(t.type)}}class tq{constructor(e,t,r){this.id=e,this.addr=r,this.cache=[],this.type=t.type,this.size=t.size,this.setValue=Q9(t.type)}}class nq{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,t,r){const i=this.seq;for(let a=0,o=i.length;a!==o;++a){const s=i[a];s.setValue(e,t[s.id],r)}}}const c1=/(\w+)(\])?(\[|\.)?/g;function RR(n,e){n.seq.push(e),n.map[e.id]=e}function rq(n,e,t){const r=n.name,i=r.length;for(c1.lastIndex=0;;){const a=c1.exec(r),o=c1.lastIndex;let s=a[1];const u=a[2]==="]",c=a[3];if(u&&(s=s|0),c===void 0||c==="["&&o+2===i){RR(t,c===void 0?new eq(s,n,e):new tq(s,n,e));break}else{let d=t.map[s];d===void 0&&(d=new nq(s),RR(t,d)),t=d}}}class Jy{constructor(e,t){this.seq=[],this.map={};const r=e.getProgramParameter(t,e.ACTIVE_UNIFORMS);for(let i=0;i<r;++i){const a=e.getActiveUniform(t,i),o=e.getUniformLocation(t,a.name);rq(a,o,this)}}setValue(e,t,r,i){const a=this.map[t];a!==void 0&&a.setValue(e,r,i)}setOptional(e,t,r){const i=t[r];i!==void 0&&this.setValue(e,r,i)}static upload(e,t,r,i){for(let a=0,o=t.length;a!==o;++a){const s=t[a],u=r[s.id];u.needsUpdate!==!1&&s.setValue(e,u.value,i)}}static seqWithValue(e,t){const r=[];for(let i=0,a=e.length;i!==a;++i){const o=e[i];o.id in t&&r.push(o)}return r}}function OR(n,e,t){const r=n.createShader(e);return n.shaderSource(r,t),n.compileShader(r),r}const iq=37297;let aq=0;function oq(n,e){const t=n.split(`
`),r=[],i=Math.max(e-6,0),a=Math.min(e+6,t.length);for(let o=i;o<a;o++){const s=o+1;r.push(`${s===e?">":" "} ${s}: ${t[o]}`)}return r.join(`
`)}function sq(n){const e=qn.getPrimaries(qn.workingColorSpace),t=qn.getPrimaries(n);let r;switch(e===t?r="":e===dg&&t===hg?r="LinearDisplayP3ToLinearSRGB":e===hg&&t===dg&&(r="LinearSRGBToLinearDisplayP3"),n){case js:case mv:return[r,"LinearTransferOETF"];case ri:case u_:return[r,"sRGBTransferOETF"];default:return console.warn("THREE.WebGLProgram: Unsupported color space:",n),[r,"LinearTransferOETF"]}}function IR(n,e,t){const r=n.getShaderParameter(e,n.COMPILE_STATUS),i=n.getShaderInfoLog(e).trim();if(r&&i==="")return"";const a=/ERROR: 0:(\d+)/.exec(i);if(a){const o=parseInt(a[1]);return t.toUpperCase()+`

`+i+`

`+oq(n.getShaderSource(e),o)}else return i}function lq(n,e){const t=sq(e);return`vec4 ${n}( vec4 value ) { return ${t[0]}( ${t[1]}( value ) ); }`}function uq(n,e){let t;switch(e){case IF:t="Linear";break;case NF:t="Reinhard";break;case LF:t="OptimizedCineon";break;case rC:t="ACESFilmic";break;case DF:t="AgX";break;case kF:t="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",e),t="Linear"}return"vec3 "+n+"( vec3 color ) { return "+t+"ToneMapping( color ); }"}function cq(n){return[n.extensionDerivatives||n.envMapCubeUVHeight||n.bumpMap||n.normalMapTangentSpace||n.clearcoatNormalMap||n.flatShading||n.shaderID==="physical"?"#extension GL_OES_standard_derivatives : enable":"",(n.extensionFragDepth||n.logarithmicDepthBuffer)&&n.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",n.extensionDrawBuffers&&n.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(n.extensionShaderTextureLOD||n.envMap||n.transmission)&&n.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""].filter(Rd).join(`
`)}function fq(n){return[n.extensionClipCullDistance?"#extension GL_ANGLE_clip_cull_distance : require":""].filter(Rd).join(`
`)}function hq(n){const e=[];for(const t in n){const r=n[t];r!==!1&&e.push("#define "+t+" "+r)}return e.join(`
`)}function dq(n,e){const t={},r=n.getProgramParameter(e,n.ACTIVE_ATTRIBUTES);for(let i=0;i<r;i++){const a=n.getActiveAttrib(e,i),o=a.name;let s=1;a.type===n.FLOAT_MAT2&&(s=2),a.type===n.FLOAT_MAT3&&(s=3),a.type===n.FLOAT_MAT4&&(s=4),t[o]={type:a.type,location:n.getAttribLocation(e,o),locationSize:s}}return t}function Rd(n){return n!==""}function NR(n,e){const t=e.numSpotLightShadows+e.numSpotLightMaps-e.numSpotLightShadowsWithMaps;return n.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,e.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,t).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,e.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function LR(n,e){return n.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const pq=/^[ \t]*#include +<([\w\d./]+)>/gm;function PA(n){return n.replace(pq,gq)}const mq=new Map([["encodings_fragment","colorspace_fragment"],["encodings_pars_fragment","colorspace_pars_fragment"],["output_fragment","opaque_fragment"]]);function gq(n,e){let t=dn[e];if(t===void 0){const r=mq.get(e);if(r!==void 0)t=dn[r],console.warn('THREE.WebGLRenderer: Shader chunk "%s" has been deprecated. Use "%s" instead.',e,r);else throw new Error("Can not resolve #include <"+e+">")}return PA(t)}const vq=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function kR(n){return n.replace(vq,yq)}function yq(n,e,t,r){let i="";for(let a=parseInt(e);a<parseInt(t);a++)i+=r.replace(/\[\s*i\s*\]/g,"[ "+a+" ]").replace(/UNROLLED_LOOP_INDEX/g,a);return i}function DR(n){let e="precision "+n.precision+` float;
precision `+n.precision+" int;";return n.precision==="highp"?e+=`
#define HIGH_PRECISION`:n.precision==="mediump"?e+=`
#define MEDIUM_PRECISION`:n.precision==="lowp"&&(e+=`
#define LOW_PRECISION`),e}function xq(n){let e="SHADOWMAP_TYPE_BASIC";return n.shadowMapType===a_?e="SHADOWMAP_TYPE_PCF":n.shadowMapType===Gm?e="SHADOWMAP_TYPE_PCF_SOFT":n.shadowMapType===ns&&(e="SHADOWMAP_TYPE_VSM"),e}function _q(n){let e="ENVMAP_TYPE_CUBE";if(n.envMap)switch(n.envMapMode){case zs:case nc:e="ENVMAP_TYPE_CUBE";break;case fp:e="ENVMAP_TYPE_CUBE_UV";break}return e}function bq(n){let e="ENVMAP_MODE_REFLECTION";if(n.envMap)switch(n.envMapMode){case nc:e="ENVMAP_MODE_REFRACTION";break}return e}function Sq(n){let e="ENVMAP_BLENDING_NONE";if(n.envMap)switch(n.combine){case pv:e="ENVMAP_BLENDING_MULTIPLY";break;case RF:e="ENVMAP_BLENDING_MIX";break;case OF:e="ENVMAP_BLENDING_ADD";break}return e}function wq(n){const e=n.envMapCubeUVHeight;if(e===null)return null;const t=Math.log2(e)-2,r=1/e;return{texelWidth:1/(3*Math.max(Math.pow(2,t),112)),texelHeight:r,maxMip:t}}function Mq(n,e,t,r){const i=n.getContext(),a=t.defines;let o=t.vertexShader,s=t.fragmentShader;const u=xq(t),c=_q(t),h=bq(t),d=Sq(t),g=wq(t),y=t.isWebGL2?"":cq(t),b=fq(t),S=hq(a),x=i.createProgram();let _,E,A=t.glslVersion?"#version "+t.glslVersion+`
`:"";t.isRawShaderMaterial?(_=["#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,S].filter(Rd).join(`
`),_.length>0&&(_+=`
`),E=[y,"#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,S].filter(Rd).join(`
`),E.length>0&&(E+=`
`)):(_=[DR(t),"#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,S,t.extensionClipCullDistance?"#define USE_CLIP_DISTANCE":"",t.batching?"#define USE_BATCHING":"",t.instancing?"#define USE_INSTANCING":"",t.instancingColor?"#define USE_INSTANCING_COLOR":"",t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.map?"#define USE_MAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+h:"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",t.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",t.displacementMap?"#define USE_DISPLACEMENTMAP":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.anisotropy?"#define USE_ANISOTROPY":"",t.anisotropyMap?"#define USE_ANISOTROPYMAP":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",t.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.alphaHash?"#define USE_ALPHAHASH":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",t.mapUv?"#define MAP_UV "+t.mapUv:"",t.alphaMapUv?"#define ALPHAMAP_UV "+t.alphaMapUv:"",t.lightMapUv?"#define LIGHTMAP_UV "+t.lightMapUv:"",t.aoMapUv?"#define AOMAP_UV "+t.aoMapUv:"",t.emissiveMapUv?"#define EMISSIVEMAP_UV "+t.emissiveMapUv:"",t.bumpMapUv?"#define BUMPMAP_UV "+t.bumpMapUv:"",t.normalMapUv?"#define NORMALMAP_UV "+t.normalMapUv:"",t.displacementMapUv?"#define DISPLACEMENTMAP_UV "+t.displacementMapUv:"",t.metalnessMapUv?"#define METALNESSMAP_UV "+t.metalnessMapUv:"",t.roughnessMapUv?"#define ROUGHNESSMAP_UV "+t.roughnessMapUv:"",t.anisotropyMapUv?"#define ANISOTROPYMAP_UV "+t.anisotropyMapUv:"",t.clearcoatMapUv?"#define CLEARCOATMAP_UV "+t.clearcoatMapUv:"",t.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+t.clearcoatNormalMapUv:"",t.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+t.clearcoatRoughnessMapUv:"",t.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+t.iridescenceMapUv:"",t.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+t.iridescenceThicknessMapUv:"",t.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+t.sheenColorMapUv:"",t.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+t.sheenRoughnessMapUv:"",t.specularMapUv?"#define SPECULARMAP_UV "+t.specularMapUv:"",t.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+t.specularColorMapUv:"",t.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+t.specularIntensityMapUv:"",t.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+t.transmissionMapUv:"",t.thicknessMapUv?"#define THICKNESSMAP_UV "+t.thicknessMapUv:"",t.vertexTangents&&t.flatShading===!1?"#define USE_TANGENT":"",t.vertexColors?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUv1s?"#define USE_UV1":"",t.vertexUv2s?"#define USE_UV2":"",t.vertexUv3s?"#define USE_UV3":"",t.pointsUvs?"#define USE_POINTS_UV":"",t.flatShading?"#define FLAT_SHADED":"",t.skinning?"#define USE_SKINNING":"",t.morphTargets?"#define USE_MORPHTARGETS":"",t.morphNormals&&t.flatShading===!1?"#define USE_MORPHNORMALS":"",t.morphColors&&t.isWebGL2?"#define USE_MORPHCOLORS":"",t.morphTargetsCount>0&&t.isWebGL2?"#define MORPHTARGETS_TEXTURE":"",t.morphTargetsCount>0&&t.isWebGL2?"#define MORPHTARGETS_TEXTURE_STRIDE "+t.morphTextureStride:"",t.morphTargetsCount>0&&t.isWebGL2?"#define MORPHTARGETS_COUNT "+t.morphTargetsCount:"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+u:"",t.sizeAttenuation?"#define USE_SIZEATTENUATION":"",t.numLightProbes>0?"#define USE_LIGHT_PROBES":"",t.useLegacyLights?"#define LEGACY_LIGHTS":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",t.logarithmicDepthBuffer&&t.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_UV1","	attribute vec2 uv1;","#endif","#ifdef USE_UV2","	attribute vec2 uv2;","#endif","#ifdef USE_UV3","	attribute vec2 uv3;","#endif","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#if ( defined( USE_MORPHTARGETS ) && ! defined( MORPHTARGETS_TEXTURE ) )","	attribute vec3 morphTarget0;","	attribute vec3 morphTarget1;","	attribute vec3 morphTarget2;","	attribute vec3 morphTarget3;","	#ifdef USE_MORPHNORMALS","		attribute vec3 morphNormal0;","		attribute vec3 morphNormal1;","		attribute vec3 morphNormal2;","		attribute vec3 morphNormal3;","	#else","		attribute vec3 morphTarget4;","		attribute vec3 morphTarget5;","		attribute vec3 morphTarget6;","		attribute vec3 morphTarget7;","	#endif","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(Rd).join(`
`),E=[y,DR(t),"#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,S,t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.map?"#define USE_MAP":"",t.matcap?"#define USE_MATCAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+c:"",t.envMap?"#define "+h:"",t.envMap?"#define "+d:"",g?"#define CUBEUV_TEXEL_WIDTH "+g.texelWidth:"",g?"#define CUBEUV_TEXEL_HEIGHT "+g.texelHeight:"",g?"#define CUBEUV_MAX_MIP "+g.maxMip+".0":"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",t.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.anisotropy?"#define USE_ANISOTROPY":"",t.anisotropyMap?"#define USE_ANISOTROPYMAP":"",t.clearcoat?"#define USE_CLEARCOAT":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.iridescence?"#define USE_IRIDESCENCE":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",t.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.alphaTest?"#define USE_ALPHATEST":"",t.alphaHash?"#define USE_ALPHAHASH":"",t.sheen?"#define USE_SHEEN":"",t.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.vertexTangents&&t.flatShading===!1?"#define USE_TANGENT":"",t.vertexColors||t.instancingColor?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUv1s?"#define USE_UV1":"",t.vertexUv2s?"#define USE_UV2":"",t.vertexUv3s?"#define USE_UV3":"",t.pointsUvs?"#define USE_POINTS_UV":"",t.gradientMap?"#define USE_GRADIENTMAP":"",t.flatShading?"#define FLAT_SHADED":"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+u:"",t.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",t.numLightProbes>0?"#define USE_LIGHT_PROBES":"",t.useLegacyLights?"#define LEGACY_LIGHTS":"",t.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",t.logarithmicDepthBuffer&&t.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",t.toneMapping!==ks?"#define TONE_MAPPING":"",t.toneMapping!==ks?dn.tonemapping_pars_fragment:"",t.toneMapping!==ks?uq("toneMapping",t.toneMapping):"",t.dithering?"#define DITHERING":"",t.opaque?"#define OPAQUE":"",dn.colorspace_pars_fragment,lq("linearToOutputTexel",t.outputColorSpace),t.useDepthPacking?"#define DEPTH_PACKING "+t.depthPacking:"",`
`].filter(Rd).join(`
`)),o=PA(o),o=NR(o,t),o=LR(o,t),s=PA(s),s=NR(s,t),s=LR(s,t),o=kR(o),s=kR(s),t.isWebGL2&&t.isRawShaderMaterial!==!0&&(A=`#version 300 es
`,_=[b,"precision mediump sampler2DArray;","#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+_,E=["precision mediump sampler2DArray;","#define varying in",t.glslVersion===AA?"":"layout(location = 0) out highp vec4 pc_fragColor;",t.glslVersion===AA?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+E);const T=A+_+o,P=A+E+s,O=OR(i,i.VERTEX_SHADER,T),N=OR(i,i.FRAGMENT_SHADER,P);i.attachShader(x,O),i.attachShader(x,N),t.index0AttributeName!==void 0?i.bindAttribLocation(x,0,t.index0AttributeName):t.morphTargets===!0&&i.bindAttribLocation(x,0,"position"),i.linkProgram(x);function F(q){if(n.debug.checkShaderErrors){const Q=i.getProgramInfoLog(x).trim(),H=i.getShaderInfoLog(O).trim(),te=i.getShaderInfoLog(N).trim();let Z=!0,he=!0;if(i.getProgramParameter(x,i.LINK_STATUS)===!1)if(Z=!1,typeof n.debug.onShaderError=="function")n.debug.onShaderError(i,x,O,N);else{const X=IR(i,O,"vertex"),ae=IR(i,N,"fragment");console.error("THREE.WebGLProgram: Shader Error "+i.getError()+" - VALIDATE_STATUS "+i.getProgramParameter(x,i.VALIDATE_STATUS)+`

Program Info Log: `+Q+`
`+X+`
`+ae)}else Q!==""?console.warn("THREE.WebGLProgram: Program Info Log:",Q):(H===""||te==="")&&(he=!1);he&&(q.diagnostics={runnable:Z,programLog:Q,vertexShader:{log:H,prefix:_},fragmentShader:{log:te,prefix:E}})}i.deleteShader(O),i.deleteShader(N),D=new Jy(i,x),U=dq(i,x)}let D;this.getUniforms=function(){return D===void 0&&F(this),D};let U;this.getAttributes=function(){return U===void 0&&F(this),U};let G=t.rendererExtensionParallelShaderCompile===!1;return this.isReady=function(){return G===!1&&(G=i.getProgramParameter(x,iq)),G},this.destroy=function(){r.releaseStatesOfProgram(this),i.deleteProgram(x),this.program=void 0},this.type=t.shaderType,this.name=t.shaderName,this.id=aq++,this.cacheKey=e,this.usedTimes=1,this.program=x,this.vertexShader=O,this.fragmentShader=N,this}let Eq=0;class Aq{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const t=e.vertexShader,r=e.fragmentShader,i=this._getShaderStage(t),a=this._getShaderStage(r),o=this._getShaderCacheForMaterial(e);return o.has(i)===!1&&(o.add(i),i.usedTimes++),o.has(a)===!1&&(o.add(a),a.usedTimes++),this}remove(e){const t=this.materialCache.get(e);for(const r of t)r.usedTimes--,r.usedTimes===0&&this.shaderCache.delete(r.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const t=this.materialCache;let r=t.get(e);return r===void 0&&(r=new Set,t.set(e,r)),r}_getShaderStage(e){const t=this.shaderCache;let r=t.get(e);return r===void 0&&(r=new Tq(e),t.set(e,r)),r}}class Tq{constructor(e){this.id=Eq++,this.code=e,this.usedTimes=0}}function Cq(n,e,t,r,i,a,o){const s=new Pf,u=new Aq,c=[],h=i.isWebGL2,d=i.logarithmicDepthBuffer,g=i.vertexTextures;let y=i.precision;const b={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function S(D){return D===0?"uv":`uv${D}`}function x(D,U,G,q,Q){const H=q.fog,te=Q.geometry,Z=D.isMeshStandardMaterial?q.environment:null,he=(D.isMeshStandardMaterial?t:e).get(D.envMap||Z),X=he&&he.mapping===fp?he.image.height:null,ae=b[D.type];D.precision!==null&&(y=i.getMaxPrecision(D.precision),y!==D.precision&&console.warn("THREE.WebGLProgram.getParameters:",D.precision,"not supported, using",y,"instead."));const z=te.morphAttributes.position||te.morphAttributes.normal||te.morphAttributes.color,re=z!==void 0?z.length:0;let le=0;te.morphAttributes.position!==void 0&&(le=1),te.morphAttributes.normal!==void 0&&(le=2),te.morphAttributes.color!==void 0&&(le=3);let ce,be,Oe,ke;if(ae){const jn=as[ae];ce=jn.vertexShader,be=jn.fragmentShader}else ce=D.vertexShader,be=D.fragmentShader,u.update(D),Oe=u.getVertexShaderID(D),ke=u.getFragmentShaderID(D);const He=n.getRenderTarget(),Je=Q.isInstancedMesh===!0,Ue=Q.isBatchedMesh===!0,qe=!!D.map,Qe=!!D.matcap,K=!!he,je=!!D.aoMap,Ae=!!D.lightMap,We=!!D.bumpMap,Ne=!!D.normalMap,gt=!!D.displacementMap,st=!!D.emissiveMap,J=!!D.metalnessMap,$=!!D.roughnessMap,we=D.anisotropy>0,Xe=D.clearcoat>0,$e=D.iridescence>0,Ge=D.sheen>0,Tt=D.transmission>0,ft=we&&!!D.anisotropyMap,yt=Xe&&!!D.clearcoatMap,Nt=Xe&&!!D.clearcoatNormalMap,Vt=Xe&&!!D.clearcoatRoughnessMap,Ke=$e&&!!D.iridescenceMap,an=$e&&!!D.iridescenceThicknessMap,rn=Ge&&!!D.sheenColorMap,zt=Ge&&!!D.sheenRoughnessMap,_t=!!D.specularMap,bt=!!D.specularColorMap,pe=!!D.specularIntensityMap,ze=Tt&&!!D.transmissionMap,at=Tt&&!!D.thicknessMap,vt=!!D.gradientMap,Me=!!D.alphaMap,me=D.alphaTest>0,it=!!D.alphaHash,dt=!!D.extensions,Bt=!!te.attributes.uv1,Pt=!!te.attributes.uv2,sn=!!te.attributes.uv3;let gn=ks;return D.toneMapped&&(He===null||He.isXRRenderTarget===!0)&&(gn=n.toneMapping),{isWebGL2:h,shaderID:ae,shaderType:D.type,shaderName:D.name,vertexShader:ce,fragmentShader:be,defines:D.defines,customVertexShaderID:Oe,customFragmentShaderID:ke,isRawShaderMaterial:D.isRawShaderMaterial===!0,glslVersion:D.glslVersion,precision:y,batching:Ue,instancing:Je,instancingColor:Je&&Q.instanceColor!==null,supportsVertexTextures:g,outputColorSpace:He===null?n.outputColorSpace:He.isXRRenderTarget===!0?He.texture.colorSpace:js,map:qe,matcap:Qe,envMap:K,envMapMode:K&&he.mapping,envMapCubeUVHeight:X,aoMap:je,lightMap:Ae,bumpMap:We,normalMap:Ne,displacementMap:g&&gt,emissiveMap:st,normalMapObjectSpace:Ne&&D.normalMapType===KF,normalMapTangentSpace:Ne&&D.normalMapType===oc,metalnessMap:J,roughnessMap:$,anisotropy:we,anisotropyMap:ft,clearcoat:Xe,clearcoatMap:yt,clearcoatNormalMap:Nt,clearcoatRoughnessMap:Vt,iridescence:$e,iridescenceMap:Ke,iridescenceThicknessMap:an,sheen:Ge,sheenColorMap:rn,sheenRoughnessMap:zt,specularMap:_t,specularColorMap:bt,specularIntensityMap:pe,transmission:Tt,transmissionMap:ze,thicknessMap:at,gradientMap:vt,opaque:D.transparent===!1&&D.blending===Tf,alphaMap:Me,alphaTest:me,alphaHash:it,combine:D.combine,mapUv:qe&&S(D.map.channel),aoMapUv:je&&S(D.aoMap.channel),lightMapUv:Ae&&S(D.lightMap.channel),bumpMapUv:We&&S(D.bumpMap.channel),normalMapUv:Ne&&S(D.normalMap.channel),displacementMapUv:gt&&S(D.displacementMap.channel),emissiveMapUv:st&&S(D.emissiveMap.channel),metalnessMapUv:J&&S(D.metalnessMap.channel),roughnessMapUv:$&&S(D.roughnessMap.channel),anisotropyMapUv:ft&&S(D.anisotropyMap.channel),clearcoatMapUv:yt&&S(D.clearcoatMap.channel),clearcoatNormalMapUv:Nt&&S(D.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:Vt&&S(D.clearcoatRoughnessMap.channel),iridescenceMapUv:Ke&&S(D.iridescenceMap.channel),iridescenceThicknessMapUv:an&&S(D.iridescenceThicknessMap.channel),sheenColorMapUv:rn&&S(D.sheenColorMap.channel),sheenRoughnessMapUv:zt&&S(D.sheenRoughnessMap.channel),specularMapUv:_t&&S(D.specularMap.channel),specularColorMapUv:bt&&S(D.specularColorMap.channel),specularIntensityMapUv:pe&&S(D.specularIntensityMap.channel),transmissionMapUv:ze&&S(D.transmissionMap.channel),thicknessMapUv:at&&S(D.thicknessMap.channel),alphaMapUv:Me&&S(D.alphaMap.channel),vertexTangents:!!te.attributes.tangent&&(Ne||we),vertexColors:D.vertexColors,vertexAlphas:D.vertexColors===!0&&!!te.attributes.color&&te.attributes.color.itemSize===4,vertexUv1s:Bt,vertexUv2s:Pt,vertexUv3s:sn,pointsUvs:Q.isPoints===!0&&!!te.attributes.uv&&(qe||Me),fog:!!H,useFog:D.fog===!0,fogExp2:H&&H.isFogExp2,flatShading:D.flatShading===!0,sizeAttenuation:D.sizeAttenuation===!0,logarithmicDepthBuffer:d,skinning:Q.isSkinnedMesh===!0,morphTargets:te.morphAttributes.position!==void 0,morphNormals:te.morphAttributes.normal!==void 0,morphColors:te.morphAttributes.color!==void 0,morphTargetsCount:re,morphTextureStride:le,numDirLights:U.directional.length,numPointLights:U.point.length,numSpotLights:U.spot.length,numSpotLightMaps:U.spotLightMap.length,numRectAreaLights:U.rectArea.length,numHemiLights:U.hemi.length,numDirLightShadows:U.directionalShadowMap.length,numPointLightShadows:U.pointShadowMap.length,numSpotLightShadows:U.spotShadowMap.length,numSpotLightShadowsWithMaps:U.numSpotLightShadowsWithMaps,numLightProbes:U.numLightProbes,numClippingPlanes:o.numPlanes,numClipIntersection:o.numIntersection,dithering:D.dithering,shadowMapEnabled:n.shadowMap.enabled&&G.length>0,shadowMapType:n.shadowMap.type,toneMapping:gn,useLegacyLights:n._useLegacyLights,decodeVideoTexture:qe&&D.map.isVideoTexture===!0&&qn.getTransfer(D.map.colorSpace)===ar,premultipliedAlpha:D.premultipliedAlpha,doubleSided:D.side===Eo,flipSided:D.side===pa,useDepthPacking:D.depthPacking>=0,depthPacking:D.depthPacking||0,index0AttributeName:D.index0AttributeName,extensionDerivatives:dt&&D.extensions.derivatives===!0,extensionFragDepth:dt&&D.extensions.fragDepth===!0,extensionDrawBuffers:dt&&D.extensions.drawBuffers===!0,extensionShaderTextureLOD:dt&&D.extensions.shaderTextureLOD===!0,extensionClipCullDistance:dt&&D.extensions.clipCullDistance&&r.has("WEBGL_clip_cull_distance"),rendererExtensionFragDepth:h||r.has("EXT_frag_depth"),rendererExtensionDrawBuffers:h||r.has("WEBGL_draw_buffers"),rendererExtensionShaderTextureLod:h||r.has("EXT_shader_texture_lod"),rendererExtensionParallelShaderCompile:r.has("KHR_parallel_shader_compile"),customProgramCacheKey:D.customProgramCacheKey()}}function _(D){const U=[];if(D.shaderID?U.push(D.shaderID):(U.push(D.customVertexShaderID),U.push(D.customFragmentShaderID)),D.defines!==void 0)for(const G in D.defines)U.push(G),U.push(D.defines[G]);return D.isRawShaderMaterial===!1&&(E(U,D),A(U,D),U.push(n.outputColorSpace)),U.push(D.customProgramCacheKey),U.join()}function E(D,U){D.push(U.precision),D.push(U.outputColorSpace),D.push(U.envMapMode),D.push(U.envMapCubeUVHeight),D.push(U.mapUv),D.push(U.alphaMapUv),D.push(U.lightMapUv),D.push(U.aoMapUv),D.push(U.bumpMapUv),D.push(U.normalMapUv),D.push(U.displacementMapUv),D.push(U.emissiveMapUv),D.push(U.metalnessMapUv),D.push(U.roughnessMapUv),D.push(U.anisotropyMapUv),D.push(U.clearcoatMapUv),D.push(U.clearcoatNormalMapUv),D.push(U.clearcoatRoughnessMapUv),D.push(U.iridescenceMapUv),D.push(U.iridescenceThicknessMapUv),D.push(U.sheenColorMapUv),D.push(U.sheenRoughnessMapUv),D.push(U.specularMapUv),D.push(U.specularColorMapUv),D.push(U.specularIntensityMapUv),D.push(U.transmissionMapUv),D.push(U.thicknessMapUv),D.push(U.combine),D.push(U.fogExp2),D.push(U.sizeAttenuation),D.push(U.morphTargetsCount),D.push(U.morphAttributeCount),D.push(U.numDirLights),D.push(U.numPointLights),D.push(U.numSpotLights),D.push(U.numSpotLightMaps),D.push(U.numHemiLights),D.push(U.numRectAreaLights),D.push(U.numDirLightShadows),D.push(U.numPointLightShadows),D.push(U.numSpotLightShadows),D.push(U.numSpotLightShadowsWithMaps),D.push(U.numLightProbes),D.push(U.shadowMapType),D.push(U.toneMapping),D.push(U.numClippingPlanes),D.push(U.numClipIntersection),D.push(U.depthPacking)}function A(D,U){s.disableAll(),U.isWebGL2&&s.enable(0),U.supportsVertexTextures&&s.enable(1),U.instancing&&s.enable(2),U.instancingColor&&s.enable(3),U.matcap&&s.enable(4),U.envMap&&s.enable(5),U.normalMapObjectSpace&&s.enable(6),U.normalMapTangentSpace&&s.enable(7),U.clearcoat&&s.enable(8),U.iridescence&&s.enable(9),U.alphaTest&&s.enable(10),U.vertexColors&&s.enable(11),U.vertexAlphas&&s.enable(12),U.vertexUv1s&&s.enable(13),U.vertexUv2s&&s.enable(14),U.vertexUv3s&&s.enable(15),U.vertexTangents&&s.enable(16),U.anisotropy&&s.enable(17),U.alphaHash&&s.enable(18),U.batching&&s.enable(19),D.push(s.mask),s.disableAll(),U.fog&&s.enable(0),U.useFog&&s.enable(1),U.flatShading&&s.enable(2),U.logarithmicDepthBuffer&&s.enable(3),U.skinning&&s.enable(4),U.morphTargets&&s.enable(5),U.morphNormals&&s.enable(6),U.morphColors&&s.enable(7),U.premultipliedAlpha&&s.enable(8),U.shadowMapEnabled&&s.enable(9),U.useLegacyLights&&s.enable(10),U.doubleSided&&s.enable(11),U.flipSided&&s.enable(12),U.useDepthPacking&&s.enable(13),U.dithering&&s.enable(14),U.transmission&&s.enable(15),U.sheen&&s.enable(16),U.opaque&&s.enable(17),U.pointsUvs&&s.enable(18),U.decodeVideoTexture&&s.enable(19),D.push(s.mask)}function T(D){const U=b[D.type];let G;if(U){const q=as[U];G=bC.clone(q.uniforms)}else G=D.uniforms;return G}function P(D,U){let G;for(let q=0,Q=c.length;q<Q;q++){const H=c[q];if(H.cacheKey===U){G=H,++G.usedTimes;break}}return G===void 0&&(G=new Mq(n,U,D,a),c.push(G)),G}function O(D){if(--D.usedTimes===0){const U=c.indexOf(D);c[U]=c[c.length-1],c.pop(),D.destroy()}}function N(D){u.remove(D)}function F(){u.dispose()}return{getParameters:x,getProgramCacheKey:_,getUniforms:T,acquireProgram:P,releaseProgram:O,releaseShaderCache:N,programs:c,dispose:F}}function Pq(){let n=new WeakMap;function e(a){let o=n.get(a);return o===void 0&&(o={},n.set(a,o)),o}function t(a){n.delete(a)}function r(a,o,s){n.get(a)[o]=s}function i(){n=new WeakMap}return{get:e,remove:t,update:r,dispose:i}}function Rq(n,e){return n.groupOrder!==e.groupOrder?n.groupOrder-e.groupOrder:n.renderOrder!==e.renderOrder?n.renderOrder-e.renderOrder:n.material.id!==e.material.id?n.material.id-e.material.id:n.z!==e.z?n.z-e.z:n.id-e.id}function UR(n,e){return n.groupOrder!==e.groupOrder?n.groupOrder-e.groupOrder:n.renderOrder!==e.renderOrder?n.renderOrder-e.renderOrder:n.z!==e.z?e.z-n.z:n.id-e.id}function FR(){const n=[];let e=0;const t=[],r=[],i=[];function a(){e=0,t.length=0,r.length=0,i.length=0}function o(d,g,y,b,S,x){let _=n[e];return _===void 0?(_={id:d.id,object:d,geometry:g,material:y,groupOrder:b,renderOrder:d.renderOrder,z:S,group:x},n[e]=_):(_.id=d.id,_.object=d,_.geometry=g,_.material=y,_.groupOrder=b,_.renderOrder=d.renderOrder,_.z=S,_.group=x),e++,_}function s(d,g,y,b,S,x){const _=o(d,g,y,b,S,x);y.transmission>0?r.push(_):y.transparent===!0?i.push(_):t.push(_)}function u(d,g,y,b,S,x){const _=o(d,g,y,b,S,x);y.transmission>0?r.unshift(_):y.transparent===!0?i.unshift(_):t.unshift(_)}function c(d,g){t.length>1&&t.sort(d||Rq),r.length>1&&r.sort(g||UR),i.length>1&&i.sort(g||UR)}function h(){for(let d=e,g=n.length;d<g;d++){const y=n[d];if(y.id===null)break;y.id=null,y.object=null,y.geometry=null,y.material=null,y.group=null}}return{opaque:t,transmissive:r,transparent:i,init:a,push:s,unshift:u,finish:h,sort:c}}function Oq(){let n=new WeakMap;function e(r,i){const a=n.get(r);let o;return a===void 0?(o=new FR,n.set(r,[o])):i>=a.length?(o=new FR,a.push(o)):o=a[i],o}function t(){n=new WeakMap}return{get:e,dispose:t}}function Iq(){const n={};return{get:function(e){if(n[e.id]!==void 0)return n[e.id];let t;switch(e.type){case"DirectionalLight":t={direction:new ie,color:new wt};break;case"SpotLight":t={position:new ie,direction:new ie,color:new wt,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":t={position:new ie,color:new wt,distance:0,decay:0};break;case"HemisphereLight":t={direction:new ie,skyColor:new wt,groundColor:new wt};break;case"RectAreaLight":t={color:new wt,position:new ie,halfWidth:new ie,halfHeight:new ie};break}return n[e.id]=t,t}}}function Nq(){const n={};return{get:function(e){if(n[e.id]!==void 0)return n[e.id];let t;switch(e.type){case"DirectionalLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Ve};break;case"SpotLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Ve};break;case"PointLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Ve,shadowCameraNear:1,shadowCameraFar:1e3};break}return n[e.id]=t,t}}}let Lq=0;function kq(n,e){return(e.castShadow?2:0)-(n.castShadow?2:0)+(e.map?1:0)-(n.map?1:0)}function Dq(n,e){const t=new Iq,r=Nq(),i={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1,numLightProbes:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0,numLightProbes:0};for(let h=0;h<9;h++)i.probe.push(new ie);const a=new ie,o=new en,s=new en;function u(h,d){let g=0,y=0,b=0;for(let q=0;q<9;q++)i.probe[q].set(0,0,0);let S=0,x=0,_=0,E=0,A=0,T=0,P=0,O=0,N=0,F=0,D=0;h.sort(kq);const U=d===!0?Math.PI:1;for(let q=0,Q=h.length;q<Q;q++){const H=h[q],te=H.color,Z=H.intensity,he=H.distance,X=H.shadow&&H.shadow.map?H.shadow.map.texture:null;if(H.isAmbientLight)g+=te.r*Z*U,y+=te.g*Z*U,b+=te.b*Z*U;else if(H.isLightProbe){for(let ae=0;ae<9;ae++)i.probe[ae].addScaledVector(H.sh.coefficients[ae],Z);D++}else if(H.isDirectionalLight){const ae=t.get(H);if(ae.color.copy(H.color).multiplyScalar(H.intensity*U),H.castShadow){const z=H.shadow,re=r.get(H);re.shadowBias=z.bias,re.shadowNormalBias=z.normalBias,re.shadowRadius=z.radius,re.shadowMapSize=z.mapSize,i.directionalShadow[S]=re,i.directionalShadowMap[S]=X,i.directionalShadowMatrix[S]=H.shadow.matrix,T++}i.directional[S]=ae,S++}else if(H.isSpotLight){const ae=t.get(H);ae.position.setFromMatrixPosition(H.matrixWorld),ae.color.copy(te).multiplyScalar(Z*U),ae.distance=he,ae.coneCos=Math.cos(H.angle),ae.penumbraCos=Math.cos(H.angle*(1-H.penumbra)),ae.decay=H.decay,i.spot[_]=ae;const z=H.shadow;if(H.map&&(i.spotLightMap[N]=H.map,N++,z.updateMatrices(H),H.castShadow&&F++),i.spotLightMatrix[_]=z.matrix,H.castShadow){const re=r.get(H);re.shadowBias=z.bias,re.shadowNormalBias=z.normalBias,re.shadowRadius=z.radius,re.shadowMapSize=z.mapSize,i.spotShadow[_]=re,i.spotShadowMap[_]=X,O++}_++}else if(H.isRectAreaLight){const ae=t.get(H);ae.color.copy(te).multiplyScalar(Z),ae.halfWidth.set(H.width*.5,0,0),ae.halfHeight.set(0,H.height*.5,0),i.rectArea[E]=ae,E++}else if(H.isPointLight){const ae=t.get(H);if(ae.color.copy(H.color).multiplyScalar(H.intensity*U),ae.distance=H.distance,ae.decay=H.decay,H.castShadow){const z=H.shadow,re=r.get(H);re.shadowBias=z.bias,re.shadowNormalBias=z.normalBias,re.shadowRadius=z.radius,re.shadowMapSize=z.mapSize,re.shadowCameraNear=z.camera.near,re.shadowCameraFar=z.camera.far,i.pointShadow[x]=re,i.pointShadowMap[x]=X,i.pointShadowMatrix[x]=H.shadow.matrix,P++}i.point[x]=ae,x++}else if(H.isHemisphereLight){const ae=t.get(H);ae.skyColor.copy(H.color).multiplyScalar(Z*U),ae.groundColor.copy(H.groundColor).multiplyScalar(Z*U),i.hemi[A]=ae,A++}}E>0&&(e.isWebGL2?n.has("OES_texture_float_linear")===!0?(i.rectAreaLTC1=mt.LTC_FLOAT_1,i.rectAreaLTC2=mt.LTC_FLOAT_2):(i.rectAreaLTC1=mt.LTC_HALF_1,i.rectAreaLTC2=mt.LTC_HALF_2):n.has("OES_texture_float_linear")===!0?(i.rectAreaLTC1=mt.LTC_FLOAT_1,i.rectAreaLTC2=mt.LTC_FLOAT_2):n.has("OES_texture_half_float_linear")===!0?(i.rectAreaLTC1=mt.LTC_HALF_1,i.rectAreaLTC2=mt.LTC_HALF_2):console.error("THREE.WebGLRenderer: Unable to use RectAreaLight. Missing WebGL extensions.")),i.ambient[0]=g,i.ambient[1]=y,i.ambient[2]=b;const G=i.hash;(G.directionalLength!==S||G.pointLength!==x||G.spotLength!==_||G.rectAreaLength!==E||G.hemiLength!==A||G.numDirectionalShadows!==T||G.numPointShadows!==P||G.numSpotShadows!==O||G.numSpotMaps!==N||G.numLightProbes!==D)&&(i.directional.length=S,i.spot.length=_,i.rectArea.length=E,i.point.length=x,i.hemi.length=A,i.directionalShadow.length=T,i.directionalShadowMap.length=T,i.pointShadow.length=P,i.pointShadowMap.length=P,i.spotShadow.length=O,i.spotShadowMap.length=O,i.directionalShadowMatrix.length=T,i.pointShadowMatrix.length=P,i.spotLightMatrix.length=O+N-F,i.spotLightMap.length=N,i.numSpotLightShadowsWithMaps=F,i.numLightProbes=D,G.directionalLength=S,G.pointLength=x,G.spotLength=_,G.rectAreaLength=E,G.hemiLength=A,G.numDirectionalShadows=T,G.numPointShadows=P,G.numSpotShadows=O,G.numSpotMaps=N,G.numLightProbes=D,i.version=Lq++)}function c(h,d){let g=0,y=0,b=0,S=0,x=0;const _=d.matrixWorldInverse;for(let E=0,A=h.length;E<A;E++){const T=h[E];if(T.isDirectionalLight){const P=i.directional[g];P.direction.setFromMatrixPosition(T.matrixWorld),a.setFromMatrixPosition(T.target.matrixWorld),P.direction.sub(a),P.direction.transformDirection(_),g++}else if(T.isSpotLight){const P=i.spot[b];P.position.setFromMatrixPosition(T.matrixWorld),P.position.applyMatrix4(_),P.direction.setFromMatrixPosition(T.matrixWorld),a.setFromMatrixPosition(T.target.matrixWorld),P.direction.sub(a),P.direction.transformDirection(_),b++}else if(T.isRectAreaLight){const P=i.rectArea[S];P.position.setFromMatrixPosition(T.matrixWorld),P.position.applyMatrix4(_),s.identity(),o.copy(T.matrixWorld),o.premultiply(_),s.extractRotation(o),P.halfWidth.set(T.width*.5,0,0),P.halfHeight.set(0,T.height*.5,0),P.halfWidth.applyMatrix4(s),P.halfHeight.applyMatrix4(s),S++}else if(T.isPointLight){const P=i.point[y];P.position.setFromMatrixPosition(T.matrixWorld),P.position.applyMatrix4(_),y++}else if(T.isHemisphereLight){const P=i.hemi[x];P.direction.setFromMatrixPosition(T.matrixWorld),P.direction.transformDirection(_),x++}}}return{setup:u,setupView:c,state:i}}function BR(n,e){const t=new Dq(n,e),r=[],i=[];function a(){r.length=0,i.length=0}function o(d){r.push(d)}function s(d){i.push(d)}function u(d){t.setup(r,d)}function c(d){t.setupView(r,d)}return{init:a,state:{lightsArray:r,shadowsArray:i,lights:t},setupLights:u,setupLightsView:c,pushLight:o,pushShadow:s}}function Uq(n,e){let t=new WeakMap;function r(a,o=0){const s=t.get(a);let u;return s===void 0?(u=new BR(n,e),t.set(a,[u])):o>=s.length?(u=new BR(n,e),s.push(u)):u=s[o],u}function i(){t=new WeakMap}return{get:r,dispose:i}}class d_ extends Ii{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=XF,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}class EC extends Ii{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}const Fq=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,Bq=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function zq(n,e,t){let r=new xv;const i=new Ve,a=new Ve,o=new $n,s=new d_({depthPacking:YF}),u=new EC,c={},h=t.maxTextureSize,d={[Dl]:pa,[pa]:Dl,[Eo]:Eo},g=new Da({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new Ve},radius:{value:4}},vertexShader:Fq,fragmentShader:Bq}),y=g.clone();y.defines.HORIZONTAL_PASS=1;const b=new mn;b.setAttribute("position",new Fn(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const S=new Ur(b,g),x=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=a_;let _=this.type;this.render=function(O,N,F){if(x.enabled===!1||x.autoUpdate===!1&&x.needsUpdate===!1||O.length===0)return;const D=n.getRenderTarget(),U=n.getActiveCubeFace(),G=n.getActiveMipmapLevel(),q=n.state;q.setBlending(Il),q.buffers.color.setClear(1,1,1,1),q.buffers.depth.setTest(!0),q.setScissorTest(!1);const Q=_!==ns&&this.type===ns,H=_===ns&&this.type!==ns;for(let te=0,Z=O.length;te<Z;te++){const he=O[te],X=he.shadow;if(X===void 0){console.warn("THREE.WebGLShadowMap:",he,"has no shadow.");continue}if(X.autoUpdate===!1&&X.needsUpdate===!1)continue;i.copy(X.mapSize);const ae=X.getFrameExtents();if(i.multiply(ae),a.copy(X.mapSize),(i.x>h||i.y>h)&&(i.x>h&&(a.x=Math.floor(h/ae.x),i.x=a.x*ae.x,X.mapSize.x=a.x),i.y>h&&(a.y=Math.floor(h/ae.y),i.y=a.y*ae.y,X.mapSize.y=a.y)),X.map===null||Q===!0||H===!0){const re=this.type!==ns?{minFilter:kr,magFilter:kr}:{};X.map!==null&&X.map.dispose(),X.map=new ro(i.x,i.y,re),X.map.texture.name=he.name+".shadowMap",X.camera.updateProjectionMatrix()}n.setRenderTarget(X.map),n.clear();const z=X.getViewportCount();for(let re=0;re<z;re++){const le=X.getViewport(re);o.set(a.x*le.x,a.y*le.y,a.x*le.z,a.y*le.w),q.viewport(o),X.updateMatrices(he,re),r=X.getFrustum(),T(N,F,X.camera,he,this.type)}X.isPointLightShadow!==!0&&this.type===ns&&E(X,F),X.needsUpdate=!1}_=this.type,x.needsUpdate=!1,n.setRenderTarget(D,U,G)};function E(O,N){const F=e.update(S);g.defines.VSM_SAMPLES!==O.blurSamples&&(g.defines.VSM_SAMPLES=O.blurSamples,y.defines.VSM_SAMPLES=O.blurSamples,g.needsUpdate=!0,y.needsUpdate=!0),O.mapPass===null&&(O.mapPass=new ro(i.x,i.y)),g.uniforms.shadow_pass.value=O.map.texture,g.uniforms.resolution.value=O.mapSize,g.uniforms.radius.value=O.radius,n.setRenderTarget(O.mapPass),n.clear(),n.renderBufferDirect(N,null,F,g,S,null),y.uniforms.shadow_pass.value=O.mapPass.texture,y.uniforms.resolution.value=O.mapSize,y.uniforms.radius.value=O.radius,n.setRenderTarget(O.map),n.clear(),n.renderBufferDirect(N,null,F,y,S,null)}function A(O,N,F,D){let U=null;const G=F.isPointLight===!0?O.customDistanceMaterial:O.customDepthMaterial;if(G!==void 0)U=G;else if(U=F.isPointLight===!0?u:s,n.localClippingEnabled&&N.clipShadows===!0&&Array.isArray(N.clippingPlanes)&&N.clippingPlanes.length!==0||N.displacementMap&&N.displacementScale!==0||N.alphaMap&&N.alphaTest>0||N.map&&N.alphaTest>0){const q=U.uuid,Q=N.uuid;let H=c[q];H===void 0&&(H={},c[q]=H);let te=H[Q];te===void 0&&(te=U.clone(),H[Q]=te,N.addEventListener("dispose",P)),U=te}if(U.visible=N.visible,U.wireframe=N.wireframe,D===ns?U.side=N.shadowSide!==null?N.shadowSide:N.side:U.side=N.shadowSide!==null?N.shadowSide:d[N.side],U.alphaMap=N.alphaMap,U.alphaTest=N.alphaTest,U.map=N.map,U.clipShadows=N.clipShadows,U.clippingPlanes=N.clippingPlanes,U.clipIntersection=N.clipIntersection,U.displacementMap=N.displacementMap,U.displacementScale=N.displacementScale,U.displacementBias=N.displacementBias,U.wireframeLinewidth=N.wireframeLinewidth,U.linewidth=N.linewidth,F.isPointLight===!0&&U.isMeshDistanceMaterial===!0){const q=n.properties.get(U);q.light=F}return U}function T(O,N,F,D,U){if(O.visible===!1)return;if(O.layers.test(N.layers)&&(O.isMesh||O.isLine||O.isPoints)&&(O.castShadow||O.receiveShadow&&U===ns)&&(!O.frustumCulled||r.intersectsObject(O))){O.modelViewMatrix.multiplyMatrices(F.matrixWorldInverse,O.matrixWorld);const Q=e.update(O),H=O.material;if(Array.isArray(H)){const te=Q.groups;for(let Z=0,he=te.length;Z<he;Z++){const X=te[Z],ae=H[X.materialIndex];if(ae&&ae.visible){const z=A(O,ae,D,U);O.onBeforeShadow(n,O,N,F,Q,z,X),n.renderBufferDirect(F,null,Q,z,O,X),O.onAfterShadow(n,O,N,F,Q,z,X)}}}else if(H.visible){const te=A(O,H,D,U);O.onBeforeShadow(n,O,N,F,Q,te,null),n.renderBufferDirect(F,null,Q,te,O,null),O.onAfterShadow(n,O,N,F,Q,te,null)}}const q=O.children;for(let Q=0,H=q.length;Q<H;Q++)T(q[Q],N,F,D,U)}function P(O){O.target.removeEventListener("dispose",P);for(const F in c){const D=c[F],U=O.target.uuid;U in D&&(D[U].dispose(),delete D[U])}}}function jq(n,e,t){const r=t.isWebGL2;function i(){let me=!1;const it=new $n;let dt=null;const Bt=new $n(0,0,0,0);return{setMask:function(Pt){dt!==Pt&&!me&&(n.colorMask(Pt,Pt,Pt,Pt),dt=Pt)},setLocked:function(Pt){me=Pt},setClear:function(Pt,sn,gn,Tn,jn){jn===!0&&(Pt*=Tn,sn*=Tn,gn*=Tn),it.set(Pt,sn,gn,Tn),Bt.equals(it)===!1&&(n.clearColor(Pt,sn,gn,Tn),Bt.copy(it))},reset:function(){me=!1,dt=null,Bt.set(-1,0,0,0)}}}function a(){let me=!1,it=null,dt=null,Bt=null;return{setTest:function(Pt){Pt?Ue(n.DEPTH_TEST):qe(n.DEPTH_TEST)},setMask:function(Pt){it!==Pt&&!me&&(n.depthMask(Pt),it=Pt)},setFunc:function(Pt){if(dt!==Pt){switch(Pt){case wF:n.depthFunc(n.NEVER);break;case MF:n.depthFunc(n.ALWAYS);break;case EF:n.depthFunc(n.LESS);break;case ag:n.depthFunc(n.LEQUAL);break;case AF:n.depthFunc(n.EQUAL);break;case TF:n.depthFunc(n.GEQUAL);break;case CF:n.depthFunc(n.GREATER);break;case PF:n.depthFunc(n.NOTEQUAL);break;default:n.depthFunc(n.LEQUAL)}dt=Pt}},setLocked:function(Pt){me=Pt},setClear:function(Pt){Bt!==Pt&&(n.clearDepth(Pt),Bt=Pt)},reset:function(){me=!1,it=null,dt=null,Bt=null}}}function o(){let me=!1,it=null,dt=null,Bt=null,Pt=null,sn=null,gn=null,Tn=null,jn=null;return{setTest:function(fn){me||(fn?Ue(n.STENCIL_TEST):qe(n.STENCIL_TEST))},setMask:function(fn){it!==fn&&!me&&(n.stencilMask(fn),it=fn)},setFunc:function(fn,yr,Fr){(dt!==fn||Bt!==yr||Pt!==Fr)&&(n.stencilFunc(fn,yr,Fr),dt=fn,Bt=yr,Pt=Fr)},setOp:function(fn,yr,Fr){(sn!==fn||gn!==yr||Tn!==Fr)&&(n.stencilOp(fn,yr,Fr),sn=fn,gn=yr,Tn=Fr)},setLocked:function(fn){me=fn},setClear:function(fn){jn!==fn&&(n.clearStencil(fn),jn=fn)},reset:function(){me=!1,it=null,dt=null,Bt=null,Pt=null,sn=null,gn=null,Tn=null,jn=null}}}const s=new i,u=new a,c=new o,h=new WeakMap,d=new WeakMap;let g={},y={},b=new WeakMap,S=[],x=null,_=!1,E=null,A=null,T=null,P=null,O=null,N=null,F=null,D=new wt(0,0,0),U=0,G=!1,q=null,Q=null,H=null,te=null,Z=null;const he=n.getParameter(n.MAX_COMBINED_TEXTURE_IMAGE_UNITS);let X=!1,ae=0;const z=n.getParameter(n.VERSION);z.indexOf("WebGL")!==-1?(ae=parseFloat(/^WebGL (\d)/.exec(z)[1]),X=ae>=1):z.indexOf("OpenGL ES")!==-1&&(ae=parseFloat(/^OpenGL ES (\d)/.exec(z)[1]),X=ae>=2);let re=null,le={};const ce=n.getParameter(n.SCISSOR_BOX),be=n.getParameter(n.VIEWPORT),Oe=new $n().fromArray(ce),ke=new $n().fromArray(be);function He(me,it,dt,Bt){const Pt=new Uint8Array(4),sn=n.createTexture();n.bindTexture(me,sn),n.texParameteri(me,n.TEXTURE_MIN_FILTER,n.NEAREST),n.texParameteri(me,n.TEXTURE_MAG_FILTER,n.NEAREST);for(let gn=0;gn<dt;gn++)r&&(me===n.TEXTURE_3D||me===n.TEXTURE_2D_ARRAY)?n.texImage3D(it,0,n.RGBA,1,1,Bt,0,n.RGBA,n.UNSIGNED_BYTE,Pt):n.texImage2D(it+gn,0,n.RGBA,1,1,0,n.RGBA,n.UNSIGNED_BYTE,Pt);return sn}const Je={};Je[n.TEXTURE_2D]=He(n.TEXTURE_2D,n.TEXTURE_2D,1),Je[n.TEXTURE_CUBE_MAP]=He(n.TEXTURE_CUBE_MAP,n.TEXTURE_CUBE_MAP_POSITIVE_X,6),r&&(Je[n.TEXTURE_2D_ARRAY]=He(n.TEXTURE_2D_ARRAY,n.TEXTURE_2D_ARRAY,1,1),Je[n.TEXTURE_3D]=He(n.TEXTURE_3D,n.TEXTURE_3D,1,1)),s.setClear(0,0,0,1),u.setClear(1),c.setClear(0),Ue(n.DEPTH_TEST),u.setFunc(ag),st(!1),J($E),Ue(n.CULL_FACE),Ne(Il);function Ue(me){g[me]!==!0&&(n.enable(me),g[me]=!0)}function qe(me){g[me]!==!1&&(n.disable(me),g[me]=!1)}function Qe(me,it){return y[me]!==it?(n.bindFramebuffer(me,it),y[me]=it,r&&(me===n.DRAW_FRAMEBUFFER&&(y[n.FRAMEBUFFER]=it),me===n.FRAMEBUFFER&&(y[n.DRAW_FRAMEBUFFER]=it)),!0):!1}function K(me,it){let dt=S,Bt=!1;if(me)if(dt=b.get(it),dt===void 0&&(dt=[],b.set(it,dt)),me.isWebGLMultipleRenderTargets){const Pt=me.texture;if(dt.length!==Pt.length||dt[0]!==n.COLOR_ATTACHMENT0){for(let sn=0,gn=Pt.length;sn<gn;sn++)dt[sn]=n.COLOR_ATTACHMENT0+sn;dt.length=Pt.length,Bt=!0}}else dt[0]!==n.COLOR_ATTACHMENT0&&(dt[0]=n.COLOR_ATTACHMENT0,Bt=!0);else dt[0]!==n.BACK&&(dt[0]=n.BACK,Bt=!0);Bt&&(t.isWebGL2?n.drawBuffers(dt):e.get("WEBGL_draw_buffers").drawBuffersWEBGL(dt))}function je(me){return x!==me?(n.useProgram(me),x=me,!0):!1}const Ae={[Hu]:n.FUNC_ADD,[lF]:n.FUNC_SUBTRACT,[uF]:n.FUNC_REVERSE_SUBTRACT};if(r)Ae[ZE]=n.MIN,Ae[JE]=n.MAX;else{const me=e.get("EXT_blend_minmax");me!==null&&(Ae[ZE]=me.MIN_EXT,Ae[JE]=me.MAX_EXT)}const We={[cF]:n.ZERO,[fF]:n.ONE,[hF]:n.SRC_COLOR,[ax]:n.SRC_ALPHA,[yF]:n.SRC_ALPHA_SATURATE,[gF]:n.DST_COLOR,[pF]:n.DST_ALPHA,[dF]:n.ONE_MINUS_SRC_COLOR,[ox]:n.ONE_MINUS_SRC_ALPHA,[vF]:n.ONE_MINUS_DST_COLOR,[mF]:n.ONE_MINUS_DST_ALPHA,[xF]:n.CONSTANT_COLOR,[_F]:n.ONE_MINUS_CONSTANT_COLOR,[bF]:n.CONSTANT_ALPHA,[SF]:n.ONE_MINUS_CONSTANT_ALPHA};function Ne(me,it,dt,Bt,Pt,sn,gn,Tn,jn,fn){if(me===Il){_===!0&&(qe(n.BLEND),_=!1);return}if(_===!1&&(Ue(n.BLEND),_=!0),me!==sF){if(me!==E||fn!==G){if((A!==Hu||O!==Hu)&&(n.blendEquation(n.FUNC_ADD),A=Hu,O=Hu),fn)switch(me){case Tf:n.blendFuncSeparate(n.ONE,n.ONE_MINUS_SRC_ALPHA,n.ONE,n.ONE_MINUS_SRC_ALPHA);break;case XE:n.blendFunc(n.ONE,n.ONE);break;case YE:n.blendFuncSeparate(n.ZERO,n.ONE_MINUS_SRC_COLOR,n.ZERO,n.ONE);break;case KE:n.blendFuncSeparate(n.ZERO,n.SRC_COLOR,n.ZERO,n.SRC_ALPHA);break;default:console.error("THREE.WebGLState: Invalid blending: ",me);break}else switch(me){case Tf:n.blendFuncSeparate(n.SRC_ALPHA,n.ONE_MINUS_SRC_ALPHA,n.ONE,n.ONE_MINUS_SRC_ALPHA);break;case XE:n.blendFunc(n.SRC_ALPHA,n.ONE);break;case YE:n.blendFuncSeparate(n.ZERO,n.ONE_MINUS_SRC_COLOR,n.ZERO,n.ONE);break;case KE:n.blendFunc(n.ZERO,n.SRC_COLOR);break;default:console.error("THREE.WebGLState: Invalid blending: ",me);break}T=null,P=null,N=null,F=null,D.set(0,0,0),U=0,E=me,G=fn}return}Pt=Pt||it,sn=sn||dt,gn=gn||Bt,(it!==A||Pt!==O)&&(n.blendEquationSeparate(Ae[it],Ae[Pt]),A=it,O=Pt),(dt!==T||Bt!==P||sn!==N||gn!==F)&&(n.blendFuncSeparate(We[dt],We[Bt],We[sn],We[gn]),T=dt,P=Bt,N=sn,F=gn),(Tn.equals(D)===!1||jn!==U)&&(n.blendColor(Tn.r,Tn.g,Tn.b,jn),D.copy(Tn),U=jn),E=me,G=!1}function gt(me,it){me.side===Eo?qe(n.CULL_FACE):Ue(n.CULL_FACE);let dt=me.side===pa;it&&(dt=!dt),st(dt),me.blending===Tf&&me.transparent===!1?Ne(Il):Ne(me.blending,me.blendEquation,me.blendSrc,me.blendDst,me.blendEquationAlpha,me.blendSrcAlpha,me.blendDstAlpha,me.blendColor,me.blendAlpha,me.premultipliedAlpha),u.setFunc(me.depthFunc),u.setTest(me.depthTest),u.setMask(me.depthWrite),s.setMask(me.colorWrite);const Bt=me.stencilWrite;c.setTest(Bt),Bt&&(c.setMask(me.stencilWriteMask),c.setFunc(me.stencilFunc,me.stencilRef,me.stencilFuncMask),c.setOp(me.stencilFail,me.stencilZFail,me.stencilZPass)),we(me.polygonOffset,me.polygonOffsetFactor,me.polygonOffsetUnits),me.alphaToCoverage===!0?Ue(n.SAMPLE_ALPHA_TO_COVERAGE):qe(n.SAMPLE_ALPHA_TO_COVERAGE)}function st(me){q!==me&&(me?n.frontFace(n.CW):n.frontFace(n.CCW),q=me)}function J(me){me!==iF?(Ue(n.CULL_FACE),me!==Q&&(me===$E?n.cullFace(n.BACK):me===aF?n.cullFace(n.FRONT):n.cullFace(n.FRONT_AND_BACK))):qe(n.CULL_FACE),Q=me}function $(me){me!==H&&(X&&n.lineWidth(me),H=me)}function we(me,it,dt){me?(Ue(n.POLYGON_OFFSET_FILL),(te!==it||Z!==dt)&&(n.polygonOffset(it,dt),te=it,Z=dt)):qe(n.POLYGON_OFFSET_FILL)}function Xe(me){me?Ue(n.SCISSOR_TEST):qe(n.SCISSOR_TEST)}function $e(me){me===void 0&&(me=n.TEXTURE0+he-1),re!==me&&(n.activeTexture(me),re=me)}function Ge(me,it,dt){dt===void 0&&(re===null?dt=n.TEXTURE0+he-1:dt=re);let Bt=le[dt];Bt===void 0&&(Bt={type:void 0,texture:void 0},le[dt]=Bt),(Bt.type!==me||Bt.texture!==it)&&(re!==dt&&(n.activeTexture(dt),re=dt),n.bindTexture(me,it||Je[me]),Bt.type=me,Bt.texture=it)}function Tt(){const me=le[re];me!==void 0&&me.type!==void 0&&(n.bindTexture(me.type,null),me.type=void 0,me.texture=void 0)}function ft(){try{n.compressedTexImage2D.apply(n,arguments)}catch(me){console.error("THREE.WebGLState:",me)}}function yt(){try{n.compressedTexImage3D.apply(n,arguments)}catch(me){console.error("THREE.WebGLState:",me)}}function Nt(){try{n.texSubImage2D.apply(n,arguments)}catch(me){console.error("THREE.WebGLState:",me)}}function Vt(){try{n.texSubImage3D.apply(n,arguments)}catch(me){console.error("THREE.WebGLState:",me)}}function Ke(){try{n.compressedTexSubImage2D.apply(n,arguments)}catch(me){console.error("THREE.WebGLState:",me)}}function an(){try{n.compressedTexSubImage3D.apply(n,arguments)}catch(me){console.error("THREE.WebGLState:",me)}}function rn(){try{n.texStorage2D.apply(n,arguments)}catch(me){console.error("THREE.WebGLState:",me)}}function zt(){try{n.texStorage3D.apply(n,arguments)}catch(me){console.error("THREE.WebGLState:",me)}}function _t(){try{n.texImage2D.apply(n,arguments)}catch(me){console.error("THREE.WebGLState:",me)}}function bt(){try{n.texImage3D.apply(n,arguments)}catch(me){console.error("THREE.WebGLState:",me)}}function pe(me){Oe.equals(me)===!1&&(n.scissor(me.x,me.y,me.z,me.w),Oe.copy(me))}function ze(me){ke.equals(me)===!1&&(n.viewport(me.x,me.y,me.z,me.w),ke.copy(me))}function at(me,it){let dt=d.get(it);dt===void 0&&(dt=new WeakMap,d.set(it,dt));let Bt=dt.get(me);Bt===void 0&&(Bt=n.getUniformBlockIndex(it,me.name),dt.set(me,Bt))}function vt(me,it){const Bt=d.get(it).get(me);h.get(it)!==Bt&&(n.uniformBlockBinding(it,Bt,me.__bindingPointIndex),h.set(it,Bt))}function Me(){n.disable(n.BLEND),n.disable(n.CULL_FACE),n.disable(n.DEPTH_TEST),n.disable(n.POLYGON_OFFSET_FILL),n.disable(n.SCISSOR_TEST),n.disable(n.STENCIL_TEST),n.disable(n.SAMPLE_ALPHA_TO_COVERAGE),n.blendEquation(n.FUNC_ADD),n.blendFunc(n.ONE,n.ZERO),n.blendFuncSeparate(n.ONE,n.ZERO,n.ONE,n.ZERO),n.blendColor(0,0,0,0),n.colorMask(!0,!0,!0,!0),n.clearColor(0,0,0,0),n.depthMask(!0),n.depthFunc(n.LESS),n.clearDepth(1),n.stencilMask(4294967295),n.stencilFunc(n.ALWAYS,0,4294967295),n.stencilOp(n.KEEP,n.KEEP,n.KEEP),n.clearStencil(0),n.cullFace(n.BACK),n.frontFace(n.CCW),n.polygonOffset(0,0),n.activeTexture(n.TEXTURE0),n.bindFramebuffer(n.FRAMEBUFFER,null),r===!0&&(n.bindFramebuffer(n.DRAW_FRAMEBUFFER,null),n.bindFramebuffer(n.READ_FRAMEBUFFER,null)),n.useProgram(null),n.lineWidth(1),n.scissor(0,0,n.canvas.width,n.canvas.height),n.viewport(0,0,n.canvas.width,n.canvas.height),g={},re=null,le={},y={},b=new WeakMap,S=[],x=null,_=!1,E=null,A=null,T=null,P=null,O=null,N=null,F=null,D=new wt(0,0,0),U=0,G=!1,q=null,Q=null,H=null,te=null,Z=null,Oe.set(0,0,n.canvas.width,n.canvas.height),ke.set(0,0,n.canvas.width,n.canvas.height),s.reset(),u.reset(),c.reset()}return{buffers:{color:s,depth:u,stencil:c},enable:Ue,disable:qe,bindFramebuffer:Qe,drawBuffers:K,useProgram:je,setBlending:Ne,setMaterial:gt,setFlipSided:st,setCullFace:J,setLineWidth:$,setPolygonOffset:we,setScissorTest:Xe,activeTexture:$e,bindTexture:Ge,unbindTexture:Tt,compressedTexImage2D:ft,compressedTexImage3D:yt,texImage2D:_t,texImage3D:bt,updateUBOMapping:at,uniformBlockBinding:vt,texStorage2D:rn,texStorage3D:zt,texSubImage2D:Nt,texSubImage3D:Vt,compressedTexSubImage2D:Ke,compressedTexSubImage3D:an,scissor:pe,viewport:ze,reset:Me}}function Hq(n,e,t,r,i,a,o){const s=i.isWebGL2,u=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):null,c=typeof navigator>"u"?!1:/OculusBrowser/g.test(navigator.userAgent),h=new WeakMap;let d;const g=new WeakMap;let y=!1;try{y=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function b(J,$){return y?new OffscreenCanvas(J,$):mg("canvas")}function S(J,$,we,Xe){let $e=1;if((J.width>Xe||J.height>Xe)&&($e=Xe/Math.max(J.width,J.height)),$e<1||$===!0)if(typeof HTMLImageElement<"u"&&J instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&J instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&J instanceof ImageBitmap){const Ge=$?ux:Math.floor,Tt=Ge($e*J.width),ft=Ge($e*J.height);d===void 0&&(d=b(Tt,ft));const yt=we?b(Tt,ft):d;return yt.width=Tt,yt.height=ft,yt.getContext("2d").drawImage(J,0,0,Tt,ft),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+J.width+"x"+J.height+") to ("+Tt+"x"+ft+")."),yt}else return"data"in J&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+J.width+"x"+J.height+")."),J;return J}function x(J){return TA(J.width)&&TA(J.height)}function _(J){return s?!1:J.wrapS!==Yi||J.wrapT!==Yi||J.minFilter!==kr&&J.minFilter!==dr}function E(J,$){return J.generateMipmaps&&$&&J.minFilter!==kr&&J.minFilter!==dr}function A(J){n.generateMipmap(J)}function T(J,$,we,Xe,$e=!1){if(s===!1)return $;if(J!==null){if(n[J]!==void 0)return n[J];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+J+"'")}let Ge=$;if($===n.RED&&(we===n.FLOAT&&(Ge=n.R32F),we===n.HALF_FLOAT&&(Ge=n.R16F),we===n.UNSIGNED_BYTE&&(Ge=n.R8)),$===n.RED_INTEGER&&(we===n.UNSIGNED_BYTE&&(Ge=n.R8UI),we===n.UNSIGNED_SHORT&&(Ge=n.R16UI),we===n.UNSIGNED_INT&&(Ge=n.R32UI),we===n.BYTE&&(Ge=n.R8I),we===n.SHORT&&(Ge=n.R16I),we===n.INT&&(Ge=n.R32I)),$===n.RG&&(we===n.FLOAT&&(Ge=n.RG32F),we===n.HALF_FLOAT&&(Ge=n.RG16F),we===n.UNSIGNED_BYTE&&(Ge=n.RG8)),$===n.RGBA){const Tt=$e?fg:qn.getTransfer(Xe);we===n.FLOAT&&(Ge=n.RGBA32F),we===n.HALF_FLOAT&&(Ge=n.RGBA16F),we===n.UNSIGNED_BYTE&&(Ge=Tt===ar?n.SRGB8_ALPHA8:n.RGBA8),we===n.UNSIGNED_SHORT_4_4_4_4&&(Ge=n.RGBA4),we===n.UNSIGNED_SHORT_5_5_5_1&&(Ge=n.RGB5_A1)}return(Ge===n.R16F||Ge===n.R32F||Ge===n.RG16F||Ge===n.RG32F||Ge===n.RGBA16F||Ge===n.RGBA32F)&&e.get("EXT_color_buffer_float"),Ge}function P(J,$,we){return E(J,we)===!0||J.isFramebufferTexture&&J.minFilter!==kr&&J.minFilter!==dr?Math.log2(Math.max($.width,$.height))+1:J.mipmaps!==void 0&&J.mipmaps.length>0?J.mipmaps.length:J.isCompressedTexture&&Array.isArray(J.image)?$.mipmaps.length:1}function O(J){return J===kr||J===sx||J===Wm?n.NEAREST:n.LINEAR}function N(J){const $=J.target;$.removeEventListener("dispose",N),D($),$.isVideoTexture&&h.delete($)}function F(J){const $=J.target;$.removeEventListener("dispose",F),G($)}function D(J){const $=r.get(J);if($.__webglInit===void 0)return;const we=J.source,Xe=g.get(we);if(Xe){const $e=Xe[$.__cacheKey];$e.usedTimes--,$e.usedTimes===0&&U(J),Object.keys(Xe).length===0&&g.delete(we)}r.remove(J)}function U(J){const $=r.get(J);n.deleteTexture($.__webglTexture);const we=J.source,Xe=g.get(we);delete Xe[$.__cacheKey],o.memory.textures--}function G(J){const $=J.texture,we=r.get(J),Xe=r.get($);if(Xe.__webglTexture!==void 0&&(n.deleteTexture(Xe.__webglTexture),o.memory.textures--),J.depthTexture&&J.depthTexture.dispose(),J.isWebGLCubeRenderTarget)for(let $e=0;$e<6;$e++){if(Array.isArray(we.__webglFramebuffer[$e]))for(let Ge=0;Ge<we.__webglFramebuffer[$e].length;Ge++)n.deleteFramebuffer(we.__webglFramebuffer[$e][Ge]);else n.deleteFramebuffer(we.__webglFramebuffer[$e]);we.__webglDepthbuffer&&n.deleteRenderbuffer(we.__webglDepthbuffer[$e])}else{if(Array.isArray(we.__webglFramebuffer))for(let $e=0;$e<we.__webglFramebuffer.length;$e++)n.deleteFramebuffer(we.__webglFramebuffer[$e]);else n.deleteFramebuffer(we.__webglFramebuffer);if(we.__webglDepthbuffer&&n.deleteRenderbuffer(we.__webglDepthbuffer),we.__webglMultisampledFramebuffer&&n.deleteFramebuffer(we.__webglMultisampledFramebuffer),we.__webglColorRenderbuffer)for(let $e=0;$e<we.__webglColorRenderbuffer.length;$e++)we.__webglColorRenderbuffer[$e]&&n.deleteRenderbuffer(we.__webglColorRenderbuffer[$e]);we.__webglDepthRenderbuffer&&n.deleteRenderbuffer(we.__webglDepthRenderbuffer)}if(J.isWebGLMultipleRenderTargets)for(let $e=0,Ge=$.length;$e<Ge;$e++){const Tt=r.get($[$e]);Tt.__webglTexture&&(n.deleteTexture(Tt.__webglTexture),o.memory.textures--),r.remove($[$e])}r.remove($),r.remove(J)}let q=0;function Q(){q=0}function H(){const J=q;return J>=i.maxTextures&&console.warn("THREE.WebGLTextures: Trying to use "+J+" texture units while this GPU supports only "+i.maxTextures),q+=1,J}function te(J){const $=[];return $.push(J.wrapS),$.push(J.wrapT),$.push(J.wrapR||0),$.push(J.magFilter),$.push(J.minFilter),$.push(J.anisotropy),$.push(J.internalFormat),$.push(J.format),$.push(J.type),$.push(J.generateMipmaps),$.push(J.premultiplyAlpha),$.push(J.flipY),$.push(J.unpackAlignment),$.push(J.colorSpace),$.join()}function Z(J,$){const we=r.get(J);if(J.isVideoTexture&&gt(J),J.isRenderTargetTexture===!1&&J.version>0&&we.__version!==J.version){const Xe=J.image;if(Xe===null)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else if(Xe.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{Oe(we,J,$);return}}t.bindTexture(n.TEXTURE_2D,we.__webglTexture,n.TEXTURE0+$)}function he(J,$){const we=r.get(J);if(J.version>0&&we.__version!==J.version){Oe(we,J,$);return}t.bindTexture(n.TEXTURE_2D_ARRAY,we.__webglTexture,n.TEXTURE0+$)}function X(J,$){const we=r.get(J);if(J.version>0&&we.__version!==J.version){Oe(we,J,$);return}t.bindTexture(n.TEXTURE_3D,we.__webglTexture,n.TEXTURE0+$)}function ae(J,$){const we=r.get(J);if(J.version>0&&we.__version!==J.version){ke(we,J,$);return}t.bindTexture(n.TEXTURE_CUBE_MAP,we.__webglTexture,n.TEXTURE0+$)}const z={[sg]:n.REPEAT,[Yi]:n.CLAMP_TO_EDGE,[Nf]:n.MIRRORED_REPEAT},re={[kr]:n.NEAREST,[sx]:n.NEAREST_MIPMAP_NEAREST,[Wm]:n.NEAREST_MIPMAP_LINEAR,[dr]:n.LINEAR,[iC]:n.LINEAR_MIPMAP_NEAREST,[rc]:n.LINEAR_MIPMAP_LINEAR},le={[ZF]:n.NEVER,[rB]:n.ALWAYS,[JF]:n.LESS,[mC]:n.LEQUAL,[QF]:n.EQUAL,[nB]:n.GEQUAL,[eB]:n.GREATER,[tB]:n.NOTEQUAL};function ce(J,$,we){if(we?(n.texParameteri(J,n.TEXTURE_WRAP_S,z[$.wrapS]),n.texParameteri(J,n.TEXTURE_WRAP_T,z[$.wrapT]),(J===n.TEXTURE_3D||J===n.TEXTURE_2D_ARRAY)&&n.texParameteri(J,n.TEXTURE_WRAP_R,z[$.wrapR]),n.texParameteri(J,n.TEXTURE_MAG_FILTER,re[$.magFilter]),n.texParameteri(J,n.TEXTURE_MIN_FILTER,re[$.minFilter])):(n.texParameteri(J,n.TEXTURE_WRAP_S,n.CLAMP_TO_EDGE),n.texParameteri(J,n.TEXTURE_WRAP_T,n.CLAMP_TO_EDGE),(J===n.TEXTURE_3D||J===n.TEXTURE_2D_ARRAY)&&n.texParameteri(J,n.TEXTURE_WRAP_R,n.CLAMP_TO_EDGE),($.wrapS!==Yi||$.wrapT!==Yi)&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),n.texParameteri(J,n.TEXTURE_MAG_FILTER,O($.magFilter)),n.texParameteri(J,n.TEXTURE_MIN_FILTER,O($.minFilter)),$.minFilter!==kr&&$.minFilter!==dr&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.")),$.compareFunction&&(n.texParameteri(J,n.TEXTURE_COMPARE_MODE,n.COMPARE_REF_TO_TEXTURE),n.texParameteri(J,n.TEXTURE_COMPARE_FUNC,le[$.compareFunction])),e.has("EXT_texture_filter_anisotropic")===!0){const Xe=e.get("EXT_texture_filter_anisotropic");if($.magFilter===kr||$.minFilter!==Wm&&$.minFilter!==rc||$.type===Ri&&e.has("OES_texture_float_linear")===!1||s===!1&&$.type===ha&&e.has("OES_texture_half_float_linear")===!1)return;($.anisotropy>1||r.get($).__currentAnisotropy)&&(n.texParameterf(J,Xe.TEXTURE_MAX_ANISOTROPY_EXT,Math.min($.anisotropy,i.getMaxAnisotropy())),r.get($).__currentAnisotropy=$.anisotropy)}}function be(J,$){let we=!1;J.__webglInit===void 0&&(J.__webglInit=!0,$.addEventListener("dispose",N));const Xe=$.source;let $e=g.get(Xe);$e===void 0&&($e={},g.set(Xe,$e));const Ge=te($);if(Ge!==J.__cacheKey){$e[Ge]===void 0&&($e[Ge]={texture:n.createTexture(),usedTimes:0},o.memory.textures++,we=!0),$e[Ge].usedTimes++;const Tt=$e[J.__cacheKey];Tt!==void 0&&($e[J.__cacheKey].usedTimes--,Tt.usedTimes===0&&U($)),J.__cacheKey=Ge,J.__webglTexture=$e[Ge].texture}return we}function Oe(J,$,we){let Xe=n.TEXTURE_2D;($.isDataArrayTexture||$.isCompressedArrayTexture)&&(Xe=n.TEXTURE_2D_ARRAY),$.isData3DTexture&&(Xe=n.TEXTURE_3D);const $e=be(J,$),Ge=$.source;t.bindTexture(Xe,J.__webglTexture,n.TEXTURE0+we);const Tt=r.get(Ge);if(Ge.version!==Tt.__version||$e===!0){t.activeTexture(n.TEXTURE0+we);const ft=qn.getPrimaries(qn.workingColorSpace),yt=$.colorSpace===eo?null:qn.getPrimaries($.colorSpace),Nt=$.colorSpace===eo||ft===yt?n.NONE:n.BROWSER_DEFAULT_WEBGL;n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,$.flipY),n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,$.premultiplyAlpha),n.pixelStorei(n.UNPACK_ALIGNMENT,$.unpackAlignment),n.pixelStorei(n.UNPACK_COLORSPACE_CONVERSION_WEBGL,Nt);const Vt=_($)&&x($.image)===!1;let Ke=S($.image,Vt,!1,i.maxTextureSize);Ke=st($,Ke);const an=x(Ke)||s,rn=a.convert($.format,$.colorSpace);let zt=a.convert($.type),_t=T($.internalFormat,rn,zt,$.colorSpace,$.isVideoTexture);ce(Xe,$,an);let bt;const pe=$.mipmaps,ze=s&&$.isVideoTexture!==!0&&_t!==hC,at=Tt.__version===void 0||$e===!0,vt=P($,Ke,an);if($.isDepthTexture)_t=n.DEPTH_COMPONENT,s?$.type===Ri?_t=n.DEPTH_COMPONENT32F:$.type===Tl?_t=n.DEPTH_COMPONENT24:$.type===Yu?_t=n.DEPTH24_STENCIL8:_t=n.DEPTH_COMPONENT16:$.type===Ri&&console.error("WebGLRenderer: Floating point depth texture requires WebGL2."),$.format===Ku&&_t===n.DEPTH_COMPONENT&&$.type!==s_&&$.type!==Tl&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),$.type=Tl,zt=a.convert($.type)),$.format===Lf&&_t===n.DEPTH_COMPONENT&&(_t=n.DEPTH_STENCIL,$.type!==Yu&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),$.type=Yu,zt=a.convert($.type))),at&&(ze?t.texStorage2D(n.TEXTURE_2D,1,_t,Ke.width,Ke.height):t.texImage2D(n.TEXTURE_2D,0,_t,Ke.width,Ke.height,0,rn,zt,null));else if($.isDataTexture)if(pe.length>0&&an){ze&&at&&t.texStorage2D(n.TEXTURE_2D,vt,_t,pe[0].width,pe[0].height);for(let Me=0,me=pe.length;Me<me;Me++)bt=pe[Me],ze?t.texSubImage2D(n.TEXTURE_2D,Me,0,0,bt.width,bt.height,rn,zt,bt.data):t.texImage2D(n.TEXTURE_2D,Me,_t,bt.width,bt.height,0,rn,zt,bt.data);$.generateMipmaps=!1}else ze?(at&&t.texStorage2D(n.TEXTURE_2D,vt,_t,Ke.width,Ke.height),t.texSubImage2D(n.TEXTURE_2D,0,0,0,Ke.width,Ke.height,rn,zt,Ke.data)):t.texImage2D(n.TEXTURE_2D,0,_t,Ke.width,Ke.height,0,rn,zt,Ke.data);else if($.isCompressedTexture)if($.isCompressedArrayTexture){ze&&at&&t.texStorage3D(n.TEXTURE_2D_ARRAY,vt,_t,pe[0].width,pe[0].height,Ke.depth);for(let Me=0,me=pe.length;Me<me;Me++)bt=pe[Me],$.format!==Ki?rn!==null?ze?t.compressedTexSubImage3D(n.TEXTURE_2D_ARRAY,Me,0,0,0,bt.width,bt.height,Ke.depth,rn,bt.data,0,0):t.compressedTexImage3D(n.TEXTURE_2D_ARRAY,Me,_t,bt.width,bt.height,Ke.depth,0,bt.data,0,0):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):ze?t.texSubImage3D(n.TEXTURE_2D_ARRAY,Me,0,0,0,bt.width,bt.height,Ke.depth,rn,zt,bt.data):t.texImage3D(n.TEXTURE_2D_ARRAY,Me,_t,bt.width,bt.height,Ke.depth,0,rn,zt,bt.data)}else{ze&&at&&t.texStorage2D(n.TEXTURE_2D,vt,_t,pe[0].width,pe[0].height);for(let Me=0,me=pe.length;Me<me;Me++)bt=pe[Me],$.format!==Ki?rn!==null?ze?t.compressedTexSubImage2D(n.TEXTURE_2D,Me,0,0,bt.width,bt.height,rn,bt.data):t.compressedTexImage2D(n.TEXTURE_2D,Me,_t,bt.width,bt.height,0,bt.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):ze?t.texSubImage2D(n.TEXTURE_2D,Me,0,0,bt.width,bt.height,rn,zt,bt.data):t.texImage2D(n.TEXTURE_2D,Me,_t,bt.width,bt.height,0,rn,zt,bt.data)}else if($.isDataArrayTexture)ze?(at&&t.texStorage3D(n.TEXTURE_2D_ARRAY,vt,_t,Ke.width,Ke.height,Ke.depth),t.texSubImage3D(n.TEXTURE_2D_ARRAY,0,0,0,0,Ke.width,Ke.height,Ke.depth,rn,zt,Ke.data)):t.texImage3D(n.TEXTURE_2D_ARRAY,0,_t,Ke.width,Ke.height,Ke.depth,0,rn,zt,Ke.data);else if($.isData3DTexture)ze?(at&&t.texStorage3D(n.TEXTURE_3D,vt,_t,Ke.width,Ke.height,Ke.depth),t.texSubImage3D(n.TEXTURE_3D,0,0,0,0,Ke.width,Ke.height,Ke.depth,rn,zt,Ke.data)):t.texImage3D(n.TEXTURE_3D,0,_t,Ke.width,Ke.height,Ke.depth,0,rn,zt,Ke.data);else if($.isFramebufferTexture){if(at)if(ze)t.texStorage2D(n.TEXTURE_2D,vt,_t,Ke.width,Ke.height);else{let Me=Ke.width,me=Ke.height;for(let it=0;it<vt;it++)t.texImage2D(n.TEXTURE_2D,it,_t,Me,me,0,rn,zt,null),Me>>=1,me>>=1}}else if(pe.length>0&&an){ze&&at&&t.texStorage2D(n.TEXTURE_2D,vt,_t,pe[0].width,pe[0].height);for(let Me=0,me=pe.length;Me<me;Me++)bt=pe[Me],ze?t.texSubImage2D(n.TEXTURE_2D,Me,0,0,rn,zt,bt):t.texImage2D(n.TEXTURE_2D,Me,_t,rn,zt,bt);$.generateMipmaps=!1}else ze?(at&&t.texStorage2D(n.TEXTURE_2D,vt,_t,Ke.width,Ke.height),t.texSubImage2D(n.TEXTURE_2D,0,0,0,rn,zt,Ke)):t.texImage2D(n.TEXTURE_2D,0,_t,rn,zt,Ke);E($,an)&&A(Xe),Tt.__version=Ge.version,$.onUpdate&&$.onUpdate($)}J.__version=$.version}function ke(J,$,we){if($.image.length!==6)return;const Xe=be(J,$),$e=$.source;t.bindTexture(n.TEXTURE_CUBE_MAP,J.__webglTexture,n.TEXTURE0+we);const Ge=r.get($e);if($e.version!==Ge.__version||Xe===!0){t.activeTexture(n.TEXTURE0+we);const Tt=qn.getPrimaries(qn.workingColorSpace),ft=$.colorSpace===eo?null:qn.getPrimaries($.colorSpace),yt=$.colorSpace===eo||Tt===ft?n.NONE:n.BROWSER_DEFAULT_WEBGL;n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,$.flipY),n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,$.premultiplyAlpha),n.pixelStorei(n.UNPACK_ALIGNMENT,$.unpackAlignment),n.pixelStorei(n.UNPACK_COLORSPACE_CONVERSION_WEBGL,yt);const Nt=$.isCompressedTexture||$.image[0].isCompressedTexture,Vt=$.image[0]&&$.image[0].isDataTexture,Ke=[];for(let Me=0;Me<6;Me++)!Nt&&!Vt?Ke[Me]=S($.image[Me],!1,!0,i.maxCubemapSize):Ke[Me]=Vt?$.image[Me].image:$.image[Me],Ke[Me]=st($,Ke[Me]);const an=Ke[0],rn=x(an)||s,zt=a.convert($.format,$.colorSpace),_t=a.convert($.type),bt=T($.internalFormat,zt,_t,$.colorSpace),pe=s&&$.isVideoTexture!==!0,ze=Ge.__version===void 0||Xe===!0;let at=P($,an,rn);ce(n.TEXTURE_CUBE_MAP,$,rn);let vt;if(Nt){pe&&ze&&t.texStorage2D(n.TEXTURE_CUBE_MAP,at,bt,an.width,an.height);for(let Me=0;Me<6;Me++){vt=Ke[Me].mipmaps;for(let me=0;me<vt.length;me++){const it=vt[me];$.format!==Ki?zt!==null?pe?t.compressedTexSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Me,me,0,0,it.width,it.height,zt,it.data):t.compressedTexImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Me,me,bt,it.width,it.height,0,it.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):pe?t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Me,me,0,0,it.width,it.height,zt,_t,it.data):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Me,me,bt,it.width,it.height,0,zt,_t,it.data)}}}else{vt=$.mipmaps,pe&&ze&&(vt.length>0&&at++,t.texStorage2D(n.TEXTURE_CUBE_MAP,at,bt,Ke[0].width,Ke[0].height));for(let Me=0;Me<6;Me++)if(Vt){pe?t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Me,0,0,0,Ke[Me].width,Ke[Me].height,zt,_t,Ke[Me].data):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Me,0,bt,Ke[Me].width,Ke[Me].height,0,zt,_t,Ke[Me].data);for(let me=0;me<vt.length;me++){const dt=vt[me].image[Me].image;pe?t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Me,me+1,0,0,dt.width,dt.height,zt,_t,dt.data):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Me,me+1,bt,dt.width,dt.height,0,zt,_t,dt.data)}}else{pe?t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Me,0,0,0,zt,_t,Ke[Me]):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Me,0,bt,zt,_t,Ke[Me]);for(let me=0;me<vt.length;me++){const it=vt[me];pe?t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Me,me+1,0,0,zt,_t,it.image[Me]):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Me,me+1,bt,zt,_t,it.image[Me])}}}E($,rn)&&A(n.TEXTURE_CUBE_MAP),Ge.__version=$e.version,$.onUpdate&&$.onUpdate($)}J.__version=$.version}function He(J,$,we,Xe,$e,Ge){const Tt=a.convert(we.format,we.colorSpace),ft=a.convert(we.type),yt=T(we.internalFormat,Tt,ft,we.colorSpace);if(!r.get($).__hasExternalTextures){const Vt=Math.max(1,$.width>>Ge),Ke=Math.max(1,$.height>>Ge);$e===n.TEXTURE_3D||$e===n.TEXTURE_2D_ARRAY?t.texImage3D($e,Ge,yt,Vt,Ke,$.depth,0,Tt,ft,null):t.texImage2D($e,Ge,yt,Vt,Ke,0,Tt,ft,null)}t.bindFramebuffer(n.FRAMEBUFFER,J),Ne($)?u.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,Xe,$e,r.get(we).__webglTexture,0,We($)):($e===n.TEXTURE_2D||$e>=n.TEXTURE_CUBE_MAP_POSITIVE_X&&$e<=n.TEXTURE_CUBE_MAP_NEGATIVE_Z)&&n.framebufferTexture2D(n.FRAMEBUFFER,Xe,$e,r.get(we).__webglTexture,Ge),t.bindFramebuffer(n.FRAMEBUFFER,null)}function Je(J,$,we){if(n.bindRenderbuffer(n.RENDERBUFFER,J),$.depthBuffer&&!$.stencilBuffer){let Xe=s===!0?n.DEPTH_COMPONENT24:n.DEPTH_COMPONENT16;if(we||Ne($)){const $e=$.depthTexture;$e&&$e.isDepthTexture&&($e.type===Ri?Xe=n.DEPTH_COMPONENT32F:$e.type===Tl&&(Xe=n.DEPTH_COMPONENT24));const Ge=We($);Ne($)?u.renderbufferStorageMultisampleEXT(n.RENDERBUFFER,Ge,Xe,$.width,$.height):n.renderbufferStorageMultisample(n.RENDERBUFFER,Ge,Xe,$.width,$.height)}else n.renderbufferStorage(n.RENDERBUFFER,Xe,$.width,$.height);n.framebufferRenderbuffer(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.RENDERBUFFER,J)}else if($.depthBuffer&&$.stencilBuffer){const Xe=We($);we&&Ne($)===!1?n.renderbufferStorageMultisample(n.RENDERBUFFER,Xe,n.DEPTH24_STENCIL8,$.width,$.height):Ne($)?u.renderbufferStorageMultisampleEXT(n.RENDERBUFFER,Xe,n.DEPTH24_STENCIL8,$.width,$.height):n.renderbufferStorage(n.RENDERBUFFER,n.DEPTH_STENCIL,$.width,$.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.RENDERBUFFER,J)}else{const Xe=$.isWebGLMultipleRenderTargets===!0?$.texture:[$.texture];for(let $e=0;$e<Xe.length;$e++){const Ge=Xe[$e],Tt=a.convert(Ge.format,Ge.colorSpace),ft=a.convert(Ge.type),yt=T(Ge.internalFormat,Tt,ft,Ge.colorSpace),Nt=We($);we&&Ne($)===!1?n.renderbufferStorageMultisample(n.RENDERBUFFER,Nt,yt,$.width,$.height):Ne($)?u.renderbufferStorageMultisampleEXT(n.RENDERBUFFER,Nt,yt,$.width,$.height):n.renderbufferStorage(n.RENDERBUFFER,yt,$.width,$.height)}}n.bindRenderbuffer(n.RENDERBUFFER,null)}function Ue(J,$){if($&&$.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(t.bindFramebuffer(n.FRAMEBUFFER,J),!($.depthTexture&&$.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");(!r.get($.depthTexture).__webglTexture||$.depthTexture.image.width!==$.width||$.depthTexture.image.height!==$.height)&&($.depthTexture.image.width=$.width,$.depthTexture.image.height=$.height,$.depthTexture.needsUpdate=!0),Z($.depthTexture,0);const Xe=r.get($.depthTexture).__webglTexture,$e=We($);if($.depthTexture.format===Ku)Ne($)?u.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.TEXTURE_2D,Xe,0,$e):n.framebufferTexture2D(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.TEXTURE_2D,Xe,0);else if($.depthTexture.format===Lf)Ne($)?u.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.TEXTURE_2D,Xe,0,$e):n.framebufferTexture2D(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.TEXTURE_2D,Xe,0);else throw new Error("Unknown depthTexture format")}function qe(J){const $=r.get(J),we=J.isWebGLCubeRenderTarget===!0;if(J.depthTexture&&!$.__autoAllocateDepthBuffer){if(we)throw new Error("target.depthTexture not supported in Cube render targets");Ue($.__webglFramebuffer,J)}else if(we){$.__webglDepthbuffer=[];for(let Xe=0;Xe<6;Xe++)t.bindFramebuffer(n.FRAMEBUFFER,$.__webglFramebuffer[Xe]),$.__webglDepthbuffer[Xe]=n.createRenderbuffer(),Je($.__webglDepthbuffer[Xe],J,!1)}else t.bindFramebuffer(n.FRAMEBUFFER,$.__webglFramebuffer),$.__webglDepthbuffer=n.createRenderbuffer(),Je($.__webglDepthbuffer,J,!1);t.bindFramebuffer(n.FRAMEBUFFER,null)}function Qe(J,$,we){const Xe=r.get(J);$!==void 0&&He(Xe.__webglFramebuffer,J,J.texture,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,0),we!==void 0&&qe(J)}function K(J){const $=J.texture,we=r.get(J),Xe=r.get($);J.addEventListener("dispose",F),J.isWebGLMultipleRenderTargets!==!0&&(Xe.__webglTexture===void 0&&(Xe.__webglTexture=n.createTexture()),Xe.__version=$.version,o.memory.textures++);const $e=J.isWebGLCubeRenderTarget===!0,Ge=J.isWebGLMultipleRenderTargets===!0,Tt=x(J)||s;if($e){we.__webglFramebuffer=[];for(let ft=0;ft<6;ft++)if(s&&$.mipmaps&&$.mipmaps.length>0){we.__webglFramebuffer[ft]=[];for(let yt=0;yt<$.mipmaps.length;yt++)we.__webglFramebuffer[ft][yt]=n.createFramebuffer()}else we.__webglFramebuffer[ft]=n.createFramebuffer()}else{if(s&&$.mipmaps&&$.mipmaps.length>0){we.__webglFramebuffer=[];for(let ft=0;ft<$.mipmaps.length;ft++)we.__webglFramebuffer[ft]=n.createFramebuffer()}else we.__webglFramebuffer=n.createFramebuffer();if(Ge)if(i.drawBuffers){const ft=J.texture;for(let yt=0,Nt=ft.length;yt<Nt;yt++){const Vt=r.get(ft[yt]);Vt.__webglTexture===void 0&&(Vt.__webglTexture=n.createTexture(),o.memory.textures++)}}else console.warn("THREE.WebGLRenderer: WebGLMultipleRenderTargets can only be used with WebGL2 or WEBGL_draw_buffers extension.");if(s&&J.samples>0&&Ne(J)===!1){const ft=Ge?$:[$];we.__webglMultisampledFramebuffer=n.createFramebuffer(),we.__webglColorRenderbuffer=[],t.bindFramebuffer(n.FRAMEBUFFER,we.__webglMultisampledFramebuffer);for(let yt=0;yt<ft.length;yt++){const Nt=ft[yt];we.__webglColorRenderbuffer[yt]=n.createRenderbuffer(),n.bindRenderbuffer(n.RENDERBUFFER,we.__webglColorRenderbuffer[yt]);const Vt=a.convert(Nt.format,Nt.colorSpace),Ke=a.convert(Nt.type),an=T(Nt.internalFormat,Vt,Ke,Nt.colorSpace,J.isXRRenderTarget===!0),rn=We(J);n.renderbufferStorageMultisample(n.RENDERBUFFER,rn,an,J.width,J.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+yt,n.RENDERBUFFER,we.__webglColorRenderbuffer[yt])}n.bindRenderbuffer(n.RENDERBUFFER,null),J.depthBuffer&&(we.__webglDepthRenderbuffer=n.createRenderbuffer(),Je(we.__webglDepthRenderbuffer,J,!0)),t.bindFramebuffer(n.FRAMEBUFFER,null)}}if($e){t.bindTexture(n.TEXTURE_CUBE_MAP,Xe.__webglTexture),ce(n.TEXTURE_CUBE_MAP,$,Tt);for(let ft=0;ft<6;ft++)if(s&&$.mipmaps&&$.mipmaps.length>0)for(let yt=0;yt<$.mipmaps.length;yt++)He(we.__webglFramebuffer[ft][yt],J,$,n.COLOR_ATTACHMENT0,n.TEXTURE_CUBE_MAP_POSITIVE_X+ft,yt);else He(we.__webglFramebuffer[ft],J,$,n.COLOR_ATTACHMENT0,n.TEXTURE_CUBE_MAP_POSITIVE_X+ft,0);E($,Tt)&&A(n.TEXTURE_CUBE_MAP),t.unbindTexture()}else if(Ge){const ft=J.texture;for(let yt=0,Nt=ft.length;yt<Nt;yt++){const Vt=ft[yt],Ke=r.get(Vt);t.bindTexture(n.TEXTURE_2D,Ke.__webglTexture),ce(n.TEXTURE_2D,Vt,Tt),He(we.__webglFramebuffer,J,Vt,n.COLOR_ATTACHMENT0+yt,n.TEXTURE_2D,0),E(Vt,Tt)&&A(n.TEXTURE_2D)}t.unbindTexture()}else{let ft=n.TEXTURE_2D;if((J.isWebGL3DRenderTarget||J.isWebGLArrayRenderTarget)&&(s?ft=J.isWebGL3DRenderTarget?n.TEXTURE_3D:n.TEXTURE_2D_ARRAY:console.error("THREE.WebGLTextures: THREE.Data3DTexture and THREE.DataArrayTexture only supported with WebGL2.")),t.bindTexture(ft,Xe.__webglTexture),ce(ft,$,Tt),s&&$.mipmaps&&$.mipmaps.length>0)for(let yt=0;yt<$.mipmaps.length;yt++)He(we.__webglFramebuffer[yt],J,$,n.COLOR_ATTACHMENT0,ft,yt);else He(we.__webglFramebuffer,J,$,n.COLOR_ATTACHMENT0,ft,0);E($,Tt)&&A(ft),t.unbindTexture()}J.depthBuffer&&qe(J)}function je(J){const $=x(J)||s,we=J.isWebGLMultipleRenderTargets===!0?J.texture:[J.texture];for(let Xe=0,$e=we.length;Xe<$e;Xe++){const Ge=we[Xe];if(E(Ge,$)){const Tt=J.isWebGLCubeRenderTarget?n.TEXTURE_CUBE_MAP:n.TEXTURE_2D,ft=r.get(Ge).__webglTexture;t.bindTexture(Tt,ft),A(Tt),t.unbindTexture()}}}function Ae(J){if(s&&J.samples>0&&Ne(J)===!1){const $=J.isWebGLMultipleRenderTargets?J.texture:[J.texture],we=J.width,Xe=J.height;let $e=n.COLOR_BUFFER_BIT;const Ge=[],Tt=J.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT,ft=r.get(J),yt=J.isWebGLMultipleRenderTargets===!0;if(yt)for(let Nt=0;Nt<$.length;Nt++)t.bindFramebuffer(n.FRAMEBUFFER,ft.__webglMultisampledFramebuffer),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+Nt,n.RENDERBUFFER,null),t.bindFramebuffer(n.FRAMEBUFFER,ft.__webglFramebuffer),n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0+Nt,n.TEXTURE_2D,null,0);t.bindFramebuffer(n.READ_FRAMEBUFFER,ft.__webglMultisampledFramebuffer),t.bindFramebuffer(n.DRAW_FRAMEBUFFER,ft.__webglFramebuffer);for(let Nt=0;Nt<$.length;Nt++){Ge.push(n.COLOR_ATTACHMENT0+Nt),J.depthBuffer&&Ge.push(Tt);const Vt=ft.__ignoreDepthValues!==void 0?ft.__ignoreDepthValues:!1;if(Vt===!1&&(J.depthBuffer&&($e|=n.DEPTH_BUFFER_BIT),J.stencilBuffer&&($e|=n.STENCIL_BUFFER_BIT)),yt&&n.framebufferRenderbuffer(n.READ_FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.RENDERBUFFER,ft.__webglColorRenderbuffer[Nt]),Vt===!0&&(n.invalidateFramebuffer(n.READ_FRAMEBUFFER,[Tt]),n.invalidateFramebuffer(n.DRAW_FRAMEBUFFER,[Tt])),yt){const Ke=r.get($[Nt]).__webglTexture;n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,Ke,0)}n.blitFramebuffer(0,0,we,Xe,0,0,we,Xe,$e,n.NEAREST),c&&n.invalidateFramebuffer(n.READ_FRAMEBUFFER,Ge)}if(t.bindFramebuffer(n.READ_FRAMEBUFFER,null),t.bindFramebuffer(n.DRAW_FRAMEBUFFER,null),yt)for(let Nt=0;Nt<$.length;Nt++){t.bindFramebuffer(n.FRAMEBUFFER,ft.__webglMultisampledFramebuffer),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+Nt,n.RENDERBUFFER,ft.__webglColorRenderbuffer[Nt]);const Vt=r.get($[Nt]).__webglTexture;t.bindFramebuffer(n.FRAMEBUFFER,ft.__webglFramebuffer),n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0+Nt,n.TEXTURE_2D,Vt,0)}t.bindFramebuffer(n.DRAW_FRAMEBUFFER,ft.__webglMultisampledFramebuffer)}}function We(J){return Math.min(i.maxSamples,J.samples)}function Ne(J){const $=r.get(J);return s&&J.samples>0&&e.has("WEBGL_multisampled_render_to_texture")===!0&&$.__useRenderToTexture!==!1}function gt(J){const $=o.render.frame;h.get(J)!==$&&(h.set(J,$),J.update())}function st(J,$){const we=J.colorSpace,Xe=J.format,$e=J.type;return J.isCompressedTexture===!0||J.isVideoTexture===!0||J.format===lx||we!==js&&we!==eo&&(qn.getTransfer(we)===ar?s===!1?e.has("EXT_sRGB")===!0&&Xe===Ki?(J.format=lx,J.minFilter=dr,J.generateMipmaps=!1):$=vC.sRGBToLinear($):(Xe!==Ki||$e!==Ds)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture color space:",we)),$}this.allocateTextureUnit=H,this.resetTextureUnits=Q,this.setTexture2D=Z,this.setTexture2DArray=he,this.setTexture3D=X,this.setTextureCube=ae,this.rebindTextures=Qe,this.setupRenderTarget=K,this.updateRenderTargetMipmap=je,this.updateMultisampleRenderTarget=Ae,this.setupDepthRenderbuffer=qe,this.setupFrameBufferTexture=He,this.useMultisampledRTT=Ne}function gB(n,e,t){const r=t.isWebGL2;function i(a,o=eo){let s;const u=qn.getTransfer(o);if(a===Ds)return n.UNSIGNED_BYTE;if(a===oC)return n.UNSIGNED_SHORT_4_4_4_4;if(a===sC)return n.UNSIGNED_SHORT_5_5_5_1;if(a===FF)return n.BYTE;if(a===BF)return n.SHORT;if(a===s_)return n.UNSIGNED_SHORT;if(a===aC)return n.INT;if(a===Tl)return n.UNSIGNED_INT;if(a===Ri)return n.FLOAT;if(a===ha)return r?n.HALF_FLOAT:(s=e.get("OES_texture_half_float"),s!==null?s.HALF_FLOAT_OES:null);if(a===zF)return n.ALPHA;if(a===Ki)return n.RGBA;if(a===jF)return n.LUMINANCE;if(a===HF)return n.LUMINANCE_ALPHA;if(a===Ku)return n.DEPTH_COMPONENT;if(a===Lf)return n.DEPTH_STENCIL;if(a===lx)return s=e.get("EXT_sRGB"),s!==null?s.SRGB_ALPHA_EXT:null;if(a===lC)return n.RED;if(a===uC)return n.RED_INTEGER;if(a===VF)return n.RG;if(a===cC)return n.RG_INTEGER;if(a===fC)return n.RGBA_INTEGER;if(a===qy||a===$y||a===Xy||a===Yy)if(u===ar)if(s=e.get("WEBGL_compressed_texture_s3tc_srgb"),s!==null){if(a===qy)return s.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(a===$y)return s.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(a===Xy)return s.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(a===Yy)return s.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(s=e.get("WEBGL_compressed_texture_s3tc"),s!==null){if(a===qy)return s.COMPRESSED_RGB_S3TC_DXT1_EXT;if(a===$y)return s.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(a===Xy)return s.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(a===Yy)return s.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(a===eA||a===tA||a===nA||a===rA)if(s=e.get("WEBGL_compressed_texture_pvrtc"),s!==null){if(a===eA)return s.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(a===tA)return s.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(a===nA)return s.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(a===rA)return s.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(a===hC)return s=e.get("WEBGL_compressed_texture_etc1"),s!==null?s.COMPRESSED_RGB_ETC1_WEBGL:null;if(a===iA||a===aA)if(s=e.get("WEBGL_compressed_texture_etc"),s!==null){if(a===iA)return u===ar?s.COMPRESSED_SRGB8_ETC2:s.COMPRESSED_RGB8_ETC2;if(a===aA)return u===ar?s.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:s.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(a===oA||a===sA||a===lA||a===uA||a===cA||a===fA||a===hA||a===dA||a===pA||a===mA||a===gA||a===vA||a===yA||a===xA)if(s=e.get("WEBGL_compressed_texture_astc"),s!==null){if(a===oA)return u===ar?s.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:s.COMPRESSED_RGBA_ASTC_4x4_KHR;if(a===sA)return u===ar?s.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:s.COMPRESSED_RGBA_ASTC_5x4_KHR;if(a===lA)return u===ar?s.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:s.COMPRESSED_RGBA_ASTC_5x5_KHR;if(a===uA)return u===ar?s.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:s.COMPRESSED_RGBA_ASTC_6x5_KHR;if(a===cA)return u===ar?s.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:s.COMPRESSED_RGBA_ASTC_6x6_KHR;if(a===fA)return u===ar?s.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:s.COMPRESSED_RGBA_ASTC_8x5_KHR;if(a===hA)return u===ar?s.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:s.COMPRESSED_RGBA_ASTC_8x6_KHR;if(a===dA)return u===ar?s.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:s.COMPRESSED_RGBA_ASTC_8x8_KHR;if(a===pA)return u===ar?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:s.COMPRESSED_RGBA_ASTC_10x5_KHR;if(a===mA)return u===ar?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:s.COMPRESSED_RGBA_ASTC_10x6_KHR;if(a===gA)return u===ar?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:s.COMPRESSED_RGBA_ASTC_10x8_KHR;if(a===vA)return u===ar?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:s.COMPRESSED_RGBA_ASTC_10x10_KHR;if(a===yA)return u===ar?s.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:s.COMPRESSED_RGBA_ASTC_12x10_KHR;if(a===xA)return u===ar?s.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:s.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(a===Ky||a===_A||a===bA)if(s=e.get("EXT_texture_compression_bptc"),s!==null){if(a===Ky)return u===ar?s.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:s.COMPRESSED_RGBA_BPTC_UNORM_EXT;if(a===_A)return s.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT;if(a===bA)return s.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT}else return null;if(a===GF||a===SA||a===wA||a===MA)if(s=e.get("EXT_texture_compression_rgtc"),s!==null){if(a===Ky)return s.COMPRESSED_RED_RGTC1_EXT;if(a===SA)return s.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(a===wA)return s.COMPRESSED_RED_GREEN_RGTC2_EXT;if(a===MA)return s.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}else return null;return a===Yu?r?n.UNSIGNED_INT_24_8:(s=e.get("WEBGL_depth_texture"),s!==null?s.UNSIGNED_INT_24_8_WEBGL:null):n[a]!==void 0?n[a]:null}return{convert:i}}class vB extends Dr{constructor(e=[]){super(),this.isArrayCamera=!0,this.cameras=e}}class Od extends Nn{constructor(){super(),this.isGroup=!0,this.type="Group"}}const Vq={type:"move"};class f1{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new Od,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new Od,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new ie,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new ie),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new Od,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new ie,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new ie),this._grip}dispatchEvent(e){return this._targetRay!==null&&this._targetRay.dispatchEvent(e),this._grip!==null&&this._grip.dispatchEvent(e),this._hand!==null&&this._hand.dispatchEvent(e),this}connect(e){if(e&&e.hand){const t=this._hand;if(t)for(const r of e.hand.values())this._getHandJoint(t,r)}return this.dispatchEvent({type:"connected",data:e}),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(e,t,r){let i=null,a=null,o=null;const s=this._targetRay,u=this._grip,c=this._hand;if(e&&t.session.visibilityState!=="visible-blurred"){if(c&&e.hand){o=!0;for(const S of e.hand.values()){const x=t.getJointPose(S,r),_=this._getHandJoint(c,S);x!==null&&(_.matrix.fromArray(x.transform.matrix),_.matrix.decompose(_.position,_.rotation,_.scale),_.matrixWorldNeedsUpdate=!0,_.jointRadius=x.radius),_.visible=x!==null}const h=c.joints["index-finger-tip"],d=c.joints["thumb-tip"],g=h.position.distanceTo(d.position),y=.02,b=.005;c.inputState.pinching&&g>y+b?(c.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!c.inputState.pinching&&g<=y-b&&(c.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else u!==null&&e.gripSpace&&(a=t.getPose(e.gripSpace,r),a!==null&&(u.matrix.fromArray(a.transform.matrix),u.matrix.decompose(u.position,u.rotation,u.scale),u.matrixWorldNeedsUpdate=!0,a.linearVelocity?(u.hasLinearVelocity=!0,u.linearVelocity.copy(a.linearVelocity)):u.hasLinearVelocity=!1,a.angularVelocity?(u.hasAngularVelocity=!0,u.angularVelocity.copy(a.angularVelocity)):u.hasAngularVelocity=!1));s!==null&&(i=t.getPose(e.targetRaySpace,r),i===null&&a!==null&&(i=a),i!==null&&(s.matrix.fromArray(i.transform.matrix),s.matrix.decompose(s.position,s.rotation,s.scale),s.matrixWorldNeedsUpdate=!0,i.linearVelocity?(s.hasLinearVelocity=!0,s.linearVelocity.copy(i.linearVelocity)):s.hasLinearVelocity=!1,i.angularVelocity?(s.hasAngularVelocity=!0,s.angularVelocity.copy(i.angularVelocity)):s.hasAngularVelocity=!1,this.dispatchEvent(Vq)))}return s!==null&&(s.visible=i!==null),u!==null&&(u.visible=a!==null),c!==null&&(c.visible=o!==null),this}_getHandJoint(e,t){if(e.joints[t.jointName]===void 0){const r=new Od;r.matrixAutoUpdate=!1,r.visible=!1,e.joints[t.jointName]=r,e.add(r)}return e.joints[t.jointName]}}class Gq extends Vl{constructor(e,t){super();const r=this;let i=null,a=1,o=null,s="local-floor",u=1,c=null,h=null,d=null,g=null,y=null,b=null;const S=t.getContextAttributes();let x=null,_=null;const E=[],A=[],T=new Ve;let P=null;const O=new Dr;O.layers.enable(1),O.viewport=new $n;const N=new Dr;N.layers.enable(2),N.viewport=new $n;const F=[O,N],D=new vB;D.layers.enable(1),D.layers.enable(2);let U=null,G=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(ce){let be=E[ce];return be===void 0&&(be=new f1,E[ce]=be),be.getTargetRaySpace()},this.getControllerGrip=function(ce){let be=E[ce];return be===void 0&&(be=new f1,E[ce]=be),be.getGripSpace()},this.getHand=function(ce){let be=E[ce];return be===void 0&&(be=new f1,E[ce]=be),be.getHandSpace()};function q(ce){const be=A.indexOf(ce.inputSource);if(be===-1)return;const Oe=E[be];Oe!==void 0&&(Oe.update(ce.inputSource,ce.frame,c||o),Oe.dispatchEvent({type:ce.type,data:ce.inputSource}))}function Q(){i.removeEventListener("select",q),i.removeEventListener("selectstart",q),i.removeEventListener("selectend",q),i.removeEventListener("squeeze",q),i.removeEventListener("squeezestart",q),i.removeEventListener("squeezeend",q),i.removeEventListener("end",Q),i.removeEventListener("inputsourceschange",H);for(let ce=0;ce<E.length;ce++){const be=A[ce];be!==null&&(A[ce]=null,E[ce].disconnect(be))}U=null,G=null,e.setRenderTarget(x),y=null,g=null,d=null,i=null,_=null,le.stop(),r.isPresenting=!1,e.setPixelRatio(P),e.setSize(T.width,T.height,!1),r.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(ce){a=ce,r.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(ce){s=ce,r.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return c||o},this.setReferenceSpace=function(ce){c=ce},this.getBaseLayer=function(){return g!==null?g:y},this.getBinding=function(){return d},this.getFrame=function(){return b},this.getSession=function(){return i},this.setSession=async function(ce){if(i=ce,i!==null){if(x=e.getRenderTarget(),i.addEventListener("select",q),i.addEventListener("selectstart",q),i.addEventListener("selectend",q),i.addEventListener("squeeze",q),i.addEventListener("squeezestart",q),i.addEventListener("squeezeend",q),i.addEventListener("end",Q),i.addEventListener("inputsourceschange",H),S.xrCompatible!==!0&&await t.makeXRCompatible(),P=e.getPixelRatio(),e.getSize(T),i.renderState.layers===void 0||e.capabilities.isWebGL2===!1){const be={antialias:i.renderState.layers===void 0?S.antialias:!0,alpha:!0,depth:S.depth,stencil:S.stencil,framebufferScaleFactor:a};y=new XRWebGLLayer(i,t,be),i.updateRenderState({baseLayer:y}),e.setPixelRatio(1),e.setSize(y.framebufferWidth,y.framebufferHeight,!1),_=new ro(y.framebufferWidth,y.framebufferHeight,{format:Ki,type:Ds,colorSpace:e.outputColorSpace,stencilBuffer:S.stencil})}else{let be=null,Oe=null,ke=null;S.depth&&(ke=S.stencil?t.DEPTH24_STENCIL8:t.DEPTH_COMPONENT24,be=S.stencil?Lf:Ku,Oe=S.stencil?Yu:Tl);const He={colorFormat:t.RGBA8,depthFormat:ke,scaleFactor:a};d=new XRWebGLBinding(i,t),g=d.createProjectionLayer(He),i.updateRenderState({layers:[g]}),e.setPixelRatio(1),e.setSize(g.textureWidth,g.textureHeight,!1),_=new ro(g.textureWidth,g.textureHeight,{format:Ki,type:Ds,depthTexture:new MC(g.textureWidth,g.textureHeight,Oe,void 0,void 0,void 0,void 0,void 0,void 0,be),stencilBuffer:S.stencil,colorSpace:e.outputColorSpace,samples:S.antialias?4:0});const Je=e.properties.get(_);Je.__ignoreDepthValues=g.ignoreDepthValues}_.isXRRenderTarget=!0,this.setFoveation(u),c=null,o=await i.requestReferenceSpace(s),le.setContext(i),le.start(),r.isPresenting=!0,r.dispatchEvent({type:"sessionstart"})}},this.getEnvironmentBlendMode=function(){if(i!==null)return i.environmentBlendMode};function H(ce){for(let be=0;be<ce.removed.length;be++){const Oe=ce.removed[be],ke=A.indexOf(Oe);ke>=0&&(A[ke]=null,E[ke].disconnect(Oe))}for(let be=0;be<ce.added.length;be++){const Oe=ce.added[be];let ke=A.indexOf(Oe);if(ke===-1){for(let Je=0;Je<E.length;Je++)if(Je>=A.length){A.push(Oe),ke=Je;break}else if(A[Je]===null){A[Je]=Oe,ke=Je;break}if(ke===-1)break}const He=E[ke];He&&He.connect(Oe)}}const te=new ie,Z=new ie;function he(ce,be,Oe){te.setFromMatrixPosition(be.matrixWorld),Z.setFromMatrixPosition(Oe.matrixWorld);const ke=te.distanceTo(Z),He=be.projectionMatrix.elements,Je=Oe.projectionMatrix.elements,Ue=He[14]/(He[10]-1),qe=He[14]/(He[10]+1),Qe=(He[9]+1)/He[5],K=(He[9]-1)/He[5],je=(He[8]-1)/He[0],Ae=(Je[8]+1)/Je[0],We=Ue*je,Ne=Ue*Ae,gt=ke/(-je+Ae),st=gt*-je;be.matrixWorld.decompose(ce.position,ce.quaternion,ce.scale),ce.translateX(st),ce.translateZ(gt),ce.matrixWorld.compose(ce.position,ce.quaternion,ce.scale),ce.matrixWorldInverse.copy(ce.matrixWorld).invert();const J=Ue+gt,$=qe+gt,we=We-st,Xe=Ne+(ke-st),$e=Qe*qe/$*J,Ge=K*qe/$*J;ce.projectionMatrix.makePerspective(we,Xe,$e,Ge,J,$),ce.projectionMatrixInverse.copy(ce.projectionMatrix).invert()}function X(ce,be){be===null?ce.matrixWorld.copy(ce.matrix):ce.matrixWorld.multiplyMatrices(be.matrixWorld,ce.matrix),ce.matrixWorldInverse.copy(ce.matrixWorld).invert()}this.updateCamera=function(ce){if(i===null)return;D.near=N.near=O.near=ce.near,D.far=N.far=O.far=ce.far,(U!==D.near||G!==D.far)&&(i.updateRenderState({depthNear:D.near,depthFar:D.far}),U=D.near,G=D.far);const be=ce.parent,Oe=D.cameras;X(D,be);for(let ke=0;ke<Oe.length;ke++)X(Oe[ke],be);Oe.length===2?he(D,O,N):D.projectionMatrix.copy(O.projectionMatrix),ae(ce,D,be)};function ae(ce,be,Oe){Oe===null?ce.matrix.copy(be.matrixWorld):(ce.matrix.copy(Oe.matrixWorld),ce.matrix.invert(),ce.matrix.multiply(be.matrixWorld)),ce.matrix.decompose(ce.position,ce.quaternion,ce.scale),ce.updateMatrixWorld(!0),ce.projectionMatrix.copy(be.projectionMatrix),ce.projectionMatrixInverse.copy(be.projectionMatrixInverse),ce.isPerspectiveCamera&&(ce.fov=Hd*2*Math.atan(1/ce.projectionMatrix.elements[5]),ce.zoom=1)}this.getCamera=function(){return D},this.getFoveation=function(){if(!(g===null&&y===null))return u},this.setFoveation=function(ce){u=ce,g!==null&&(g.fixedFoveation=ce),y!==null&&y.fixedFoveation!==void 0&&(y.fixedFoveation=ce)};let z=null;function re(ce,be){if(h=be.getViewerPose(c||o),b=be,h!==null){const Oe=h.views;y!==null&&(e.setRenderTargetFramebuffer(_,y.framebuffer),e.setRenderTarget(_));let ke=!1;Oe.length!==D.cameras.length&&(D.cameras.length=0,ke=!0);for(let He=0;He<Oe.length;He++){const Je=Oe[He];let Ue=null;if(y!==null)Ue=y.getViewport(Je);else{const Qe=d.getViewSubImage(g,Je);Ue=Qe.viewport,He===0&&(e.setRenderTargetTextures(_,Qe.colorTexture,g.ignoreDepthValues?void 0:Qe.depthStencilTexture),e.setRenderTarget(_))}let qe=F[He];qe===void 0&&(qe=new Dr,qe.layers.enable(He),qe.viewport=new $n,F[He]=qe),qe.matrix.fromArray(Je.transform.matrix),qe.matrix.decompose(qe.position,qe.quaternion,qe.scale),qe.projectionMatrix.fromArray(Je.projectionMatrix),qe.projectionMatrixInverse.copy(qe.projectionMatrix).invert(),qe.viewport.set(Ue.x,Ue.y,Ue.width,Ue.height),He===0&&(D.matrix.copy(qe.matrix),D.matrix.decompose(D.position,D.quaternion,D.scale)),ke===!0&&D.cameras.push(qe)}}for(let Oe=0;Oe<E.length;Oe++){const ke=A[Oe],He=E[Oe];ke!==null&&He!==void 0&&He.update(ke,be,c||o)}z&&z(ce,be),be.detectedPlanes&&r.dispatchEvent({type:"planesdetected",data:be}),b=null}const le=new cB;le.setAnimationLoop(re),this.setAnimationLoop=function(ce){z=ce},this.dispose=function(){}}}function Wq(n,e){function t(x,_){x.matrixAutoUpdate===!0&&x.updateMatrix(),_.value.copy(x.matrix)}function r(x,_){_.color.getRGB(x.fogColor.value,lB(n)),_.isFog?(x.fogNear.value=_.near,x.fogFar.value=_.far):_.isFogExp2&&(x.fogDensity.value=_.density)}function i(x,_,E,A,T){_.isMeshBasicMaterial||_.isMeshLambertMaterial?a(x,_):_.isMeshToonMaterial?(a(x,_),d(x,_)):_.isMeshPhongMaterial?(a(x,_),h(x,_)):_.isMeshStandardMaterial?(a(x,_),g(x,_),_.isMeshPhysicalMaterial&&y(x,_,T)):_.isMeshMatcapMaterial?(a(x,_),b(x,_)):_.isMeshDepthMaterial?a(x,_):_.isMeshDistanceMaterial?(a(x,_),S(x,_)):_.isMeshNormalMaterial?a(x,_):_.isLineBasicMaterial?(o(x,_),_.isLineDashedMaterial&&s(x,_)):_.isPointsMaterial?u(x,_,E,A):_.isSpriteMaterial?c(x,_):_.isShadowMaterial?(x.color.value.copy(_.color),x.opacity.value=_.opacity):_.isShaderMaterial&&(_.uniformsNeedUpdate=!1)}function a(x,_){x.opacity.value=_.opacity,_.color&&x.diffuse.value.copy(_.color),_.emissive&&x.emissive.value.copy(_.emissive).multiplyScalar(_.emissiveIntensity),_.map&&(x.map.value=_.map,t(_.map,x.mapTransform)),_.alphaMap&&(x.alphaMap.value=_.alphaMap,t(_.alphaMap,x.alphaMapTransform)),_.bumpMap&&(x.bumpMap.value=_.bumpMap,t(_.bumpMap,x.bumpMapTransform),x.bumpScale.value=_.bumpScale,_.side===pa&&(x.bumpScale.value*=-1)),_.normalMap&&(x.normalMap.value=_.normalMap,t(_.normalMap,x.normalMapTransform),x.normalScale.value.copy(_.normalScale),_.side===pa&&x.normalScale.value.negate()),_.displacementMap&&(x.displacementMap.value=_.displacementMap,t(_.displacementMap,x.displacementMapTransform),x.displacementScale.value=_.displacementScale,x.displacementBias.value=_.displacementBias),_.emissiveMap&&(x.emissiveMap.value=_.emissiveMap,t(_.emissiveMap,x.emissiveMapTransform)),_.specularMap&&(x.specularMap.value=_.specularMap,t(_.specularMap,x.specularMapTransform)),_.alphaTest>0&&(x.alphaTest.value=_.alphaTest);const E=e.get(_).envMap;if(E&&(x.envMap.value=E,x.flipEnvMap.value=E.isCubeTexture&&E.isRenderTargetTexture===!1?-1:1,x.reflectivity.value=_.reflectivity,x.ior.value=_.ior,x.refractionRatio.value=_.refractionRatio),_.lightMap){x.lightMap.value=_.lightMap;const A=n._useLegacyLights===!0?Math.PI:1;x.lightMapIntensity.value=_.lightMapIntensity*A,t(_.lightMap,x.lightMapTransform)}_.aoMap&&(x.aoMap.value=_.aoMap,x.aoMapIntensity.value=_.aoMapIntensity,t(_.aoMap,x.aoMapTransform))}function o(x,_){x.diffuse.value.copy(_.color),x.opacity.value=_.opacity,_.map&&(x.map.value=_.map,t(_.map,x.mapTransform))}function s(x,_){x.dashSize.value=_.dashSize,x.totalSize.value=_.dashSize+_.gapSize,x.scale.value=_.scale}function u(x,_,E,A){x.diffuse.value.copy(_.color),x.opacity.value=_.opacity,x.size.value=_.size*E,x.scale.value=A*.5,_.map&&(x.map.value=_.map,t(_.map,x.uvTransform)),_.alphaMap&&(x.alphaMap.value=_.alphaMap,t(_.alphaMap,x.alphaMapTransform)),_.alphaTest>0&&(x.alphaTest.value=_.alphaTest)}function c(x,_){x.diffuse.value.copy(_.color),x.opacity.value=_.opacity,x.rotation.value=_.rotation,_.map&&(x.map.value=_.map,t(_.map,x.mapTransform)),_.alphaMap&&(x.alphaMap.value=_.alphaMap,t(_.alphaMap,x.alphaMapTransform)),_.alphaTest>0&&(x.alphaTest.value=_.alphaTest)}function h(x,_){x.specular.value.copy(_.specular),x.shininess.value=Math.max(_.shininess,1e-4)}function d(x,_){_.gradientMap&&(x.gradientMap.value=_.gradientMap)}function g(x,_){x.metalness.value=_.metalness,_.metalnessMap&&(x.metalnessMap.value=_.metalnessMap,t(_.metalnessMap,x.metalnessMapTransform)),x.roughness.value=_.roughness,_.roughnessMap&&(x.roughnessMap.value=_.roughnessMap,t(_.roughnessMap,x.roughnessMapTransform)),e.get(_).envMap&&(x.envMapIntensity.value=_.envMapIntensity)}function y(x,_,E){x.ior.value=_.ior,_.sheen>0&&(x.sheenColor.value.copy(_.sheenColor).multiplyScalar(_.sheen),x.sheenRoughness.value=_.sheenRoughness,_.sheenColorMap&&(x.sheenColorMap.value=_.sheenColorMap,t(_.sheenColorMap,x.sheenColorMapTransform)),_.sheenRoughnessMap&&(x.sheenRoughnessMap.value=_.sheenRoughnessMap,t(_.sheenRoughnessMap,x.sheenRoughnessMapTransform))),_.clearcoat>0&&(x.clearcoat.value=_.clearcoat,x.clearcoatRoughness.value=_.clearcoatRoughness,_.clearcoatMap&&(x.clearcoatMap.value=_.clearcoatMap,t(_.clearcoatMap,x.clearcoatMapTransform)),_.clearcoatRoughnessMap&&(x.clearcoatRoughnessMap.value=_.clearcoatRoughnessMap,t(_.clearcoatRoughnessMap,x.clearcoatRoughnessMapTransform)),_.clearcoatNormalMap&&(x.clearcoatNormalMap.value=_.clearcoatNormalMap,t(_.clearcoatNormalMap,x.clearcoatNormalMapTransform),x.clearcoatNormalScale.value.copy(_.clearcoatNormalScale),_.side===pa&&x.clearcoatNormalScale.value.negate())),_.iridescence>0&&(x.iridescence.value=_.iridescence,x.iridescenceIOR.value=_.iridescenceIOR,x.iridescenceThicknessMinimum.value=_.iridescenceThicknessRange[0],x.iridescenceThicknessMaximum.value=_.iridescenceThicknessRange[1],_.iridescenceMap&&(x.iridescenceMap.value=_.iridescenceMap,t(_.iridescenceMap,x.iridescenceMapTransform)),_.iridescenceThicknessMap&&(x.iridescenceThicknessMap.value=_.iridescenceThicknessMap,t(_.iridescenceThicknessMap,x.iridescenceThicknessMapTransform))),_.transmission>0&&(x.transmission.value=_.transmission,x.transmissionSamplerMap.value=E.texture,x.transmissionSamplerSize.value.set(E.width,E.height),_.transmissionMap&&(x.transmissionMap.value=_.transmissionMap,t(_.transmissionMap,x.transmissionMapTransform)),x.thickness.value=_.thickness,_.thicknessMap&&(x.thicknessMap.value=_.thicknessMap,t(_.thicknessMap,x.thicknessMapTransform)),x.attenuationDistance.value=_.attenuationDistance,x.attenuationColor.value.copy(_.attenuationColor)),_.anisotropy>0&&(x.anisotropyVector.value.set(_.anisotropy*Math.cos(_.anisotropyRotation),_.anisotropy*Math.sin(_.anisotropyRotation)),_.anisotropyMap&&(x.anisotropyMap.value=_.anisotropyMap,t(_.anisotropyMap,x.anisotropyMapTransform))),x.specularIntensity.value=_.specularIntensity,x.specularColor.value.copy(_.specularColor),_.specularColorMap&&(x.specularColorMap.value=_.specularColorMap,t(_.specularColorMap,x.specularColorMapTransform)),_.specularIntensityMap&&(x.specularIntensityMap.value=_.specularIntensityMap,t(_.specularIntensityMap,x.specularIntensityMapTransform))}function b(x,_){_.matcap&&(x.matcap.value=_.matcap)}function S(x,_){const E=e.get(_).light;x.referencePosition.value.setFromMatrixPosition(E.matrixWorld),x.nearDistance.value=E.shadow.camera.near,x.farDistance.value=E.shadow.camera.far}return{refreshFogUniforms:r,refreshMaterialUniforms:i}}function qq(n,e,t,r){let i={},a={},o=[];const s=t.isWebGL2?n.getParameter(n.MAX_UNIFORM_BUFFER_BINDINGS):0;function u(E,A){const T=A.program;r.uniformBlockBinding(E,T)}function c(E,A){let T=i[E.id];T===void 0&&(b(E),T=h(E),i[E.id]=T,E.addEventListener("dispose",x));const P=A.program;r.updateUBOMapping(E,P);const O=e.render.frame;a[E.id]!==O&&(g(E),a[E.id]=O)}function h(E){const A=d();E.__bindingPointIndex=A;const T=n.createBuffer(),P=E.__size,O=E.usage;return n.bindBuffer(n.UNIFORM_BUFFER,T),n.bufferData(n.UNIFORM_BUFFER,P,O),n.bindBuffer(n.UNIFORM_BUFFER,null),n.bindBufferBase(n.UNIFORM_BUFFER,A,T),T}function d(){for(let E=0;E<s;E++)if(o.indexOf(E)===-1)return o.push(E),E;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function g(E){const A=i[E.id],T=E.uniforms,P=E.__cache;n.bindBuffer(n.UNIFORM_BUFFER,A);for(let O=0,N=T.length;O<N;O++){const F=Array.isArray(T[O])?T[O]:[T[O]];for(let D=0,U=F.length;D<U;D++){const G=F[D];if(y(G,O,D,P)===!0){const q=G.__offset,Q=Array.isArray(G.value)?G.value:[G.value];let H=0;for(let te=0;te<Q.length;te++){const Z=Q[te],he=S(Z);typeof Z=="number"||typeof Z=="boolean"?(G.__data[0]=Z,n.bufferSubData(n.UNIFORM_BUFFER,q+H,G.__data)):Z.isMatrix3?(G.__data[0]=Z.elements[0],G.__data[1]=Z.elements[1],G.__data[2]=Z.elements[2],G.__data[3]=0,G.__data[4]=Z.elements[3],G.__data[5]=Z.elements[4],G.__data[6]=Z.elements[5],G.__data[7]=0,G.__data[8]=Z.elements[6],G.__data[9]=Z.elements[7],G.__data[10]=Z.elements[8],G.__data[11]=0):(Z.toArray(G.__data,H),H+=he.storage/Float32Array.BYTES_PER_ELEMENT)}n.bufferSubData(n.UNIFORM_BUFFER,q,G.__data)}}}n.bindBuffer(n.UNIFORM_BUFFER,null)}function y(E,A,T,P){const O=E.value,N=A+"_"+T;if(P[N]===void 0)return typeof O=="number"||typeof O=="boolean"?P[N]=O:P[N]=O.clone(),!0;{const F=P[N];if(typeof O=="number"||typeof O=="boolean"){if(F!==O)return P[N]=O,!0}else if(F.equals(O)===!1)return F.copy(O),!0}return!1}function b(E){const A=E.uniforms;let T=0;const P=16;for(let N=0,F=A.length;N<F;N++){const D=Array.isArray(A[N])?A[N]:[A[N]];for(let U=0,G=D.length;U<G;U++){const q=D[U],Q=Array.isArray(q.value)?q.value:[q.value];for(let H=0,te=Q.length;H<te;H++){const Z=Q[H],he=S(Z),X=T%P;X!==0&&P-X<he.boundary&&(T+=P-X),q.__data=new Float32Array(he.storage/Float32Array.BYTES_PER_ELEMENT),q.__offset=T,T+=he.storage}}}const O=T%P;return O>0&&(T+=P-O),E.__size=T,E.__cache={},this}function S(E){const A={boundary:0,storage:0};return typeof E=="number"||typeof E=="boolean"?(A.boundary=4,A.storage=4):E.isVector2?(A.boundary=8,A.storage=8):E.isVector3||E.isColor?(A.boundary=16,A.storage=12):E.isVector4?(A.boundary=16,A.storage=16):E.isMatrix3?(A.boundary=48,A.storage=48):E.isMatrix4?(A.boundary=64,A.storage=64):E.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",E),A}function x(E){const A=E.target;A.removeEventListener("dispose",x);const T=o.indexOf(A.__bindingPointIndex);o.splice(T,1),n.deleteBuffer(i[A.id]),delete i[A.id],delete a[A.id]}function _(){for(const E in i)n.deleteBuffer(i[E]);o=[],i={},a={}}return{bind:u,update:c,dispose:_}}class AC{constructor(e={}){const{canvas:t=aB(),context:r=null,depth:i=!0,stencil:a=!0,alpha:o=!1,antialias:s=!1,premultipliedAlpha:u=!0,preserveDrawingBuffer:c=!1,powerPreference:h="default",failIfMajorPerformanceCaveat:d=!1}=e;this.isWebGLRenderer=!0;let g;r!==null?g=r.getContextAttributes().alpha:g=o;const y=new Uint32Array(4),b=new Int32Array(4);let S=null,x=null;const _=[],E=[];this.domElement=t,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this._outputColorSpace=ri,this._useLegacyLights=!1,this.toneMapping=ks,this.toneMappingExposure=1;const A=this;let T=!1,P=0,O=0,N=null,F=-1,D=null;const U=new $n,G=new $n;let q=null;const Q=new wt(0);let H=0,te=t.width,Z=t.height,he=1,X=null,ae=null;const z=new $n(0,0,te,Z),re=new $n(0,0,te,Z);let le=!1;const ce=new xv;let be=!1,Oe=!1,ke=null;const He=new en,Je=new Ve,Ue=new ie,qe={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function Qe(){return N===null?he:1}let K=r;function je(j,ne){for(let oe=0;oe<j.length;oe++){const de=j[oe],fe=t.getContext(de,ne);if(fe!==null)return fe}return null}try{const j={alpha:!0,depth:i,stencil:a,antialias:s,premultipliedAlpha:u,preserveDrawingBuffer:c,powerPreference:h,failIfMajorPerformanceCaveat:d};if("setAttribute"in t&&t.setAttribute("data-engine",`three.js r${dv}`),t.addEventListener("webglcontextlost",Me,!1),t.addEventListener("webglcontextrestored",me,!1),t.addEventListener("webglcontextcreationerror",it,!1),K===null){const ne=["webgl2","webgl","experimental-webgl"];if(A.isWebGL1Renderer===!0&&ne.shift(),K=je(ne,j),K===null)throw je(ne)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}typeof WebGLRenderingContext<"u"&&K instanceof WebGLRenderingContext&&console.warn("THREE.WebGLRenderer: WebGL 1 support was deprecated in r153 and will be removed in r163."),K.getShaderPrecisionFormat===void 0&&(K.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(j){throw console.error("THREE.WebGLRenderer: "+j.message),j}let Ae,We,Ne,gt,st,J,$,we,Xe,$e,Ge,Tt,ft,yt,Nt,Vt,Ke,an,rn,zt,_t,bt,pe,ze;function at(){Ae=new o9(K),We=new e9(K,Ae,e),Ae.init(We),bt=new gB(K,Ae,We),Ne=new jq(K,Ae,We),gt=new u9(K),st=new Pq,J=new Hq(K,Ae,Ne,st,We,bt,gt),$=new n9(A),we=new a9(A),Xe=new vV(K,We),pe=new JW(K,Ae,Xe,We),$e=new s9(K,Xe,gt,pe),Ge=new d9(K,$e,Xe,gt),rn=new h9(K,We,J),Vt=new t9(st),Tt=new Cq(A,$,we,Ae,We,pe,Vt),ft=new Wq(A,st),yt=new Oq,Nt=new Uq(Ae,We),an=new ZW(A,$,we,Ne,Ge,g,u),Ke=new zq(A,Ge,We),ze=new qq(K,gt,We,Ne),zt=new QW(K,Ae,gt,We),_t=new l9(K,Ae,gt,We),gt.programs=Tt.programs,A.capabilities=We,A.extensions=Ae,A.properties=st,A.renderLists=yt,A.shadowMap=Ke,A.state=Ne,A.info=gt}at();const vt=new Gq(A,K);this.xr=vt,this.getContext=function(){return K},this.getContextAttributes=function(){return K.getContextAttributes()},this.forceContextLoss=function(){const j=Ae.get("WEBGL_lose_context");j&&j.loseContext()},this.forceContextRestore=function(){const j=Ae.get("WEBGL_lose_context");j&&j.restoreContext()},this.getPixelRatio=function(){return he},this.setPixelRatio=function(j){j!==void 0&&(he=j,this.setSize(te,Z,!1))},this.getSize=function(j){return j.set(te,Z)},this.setSize=function(j,ne,oe=!0){if(vt.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}te=j,Z=ne,t.width=Math.floor(j*he),t.height=Math.floor(ne*he),oe===!0&&(t.style.width=j+"px",t.style.height=ne+"px"),this.setViewport(0,0,j,ne)},this.getDrawingBufferSize=function(j){return j.set(te*he,Z*he).floor()},this.setDrawingBufferSize=function(j,ne,oe){te=j,Z=ne,he=oe,t.width=Math.floor(j*oe),t.height=Math.floor(ne*oe),this.setViewport(0,0,j,ne)},this.getCurrentViewport=function(j){return j.copy(U)},this.getViewport=function(j){return j.copy(z)},this.setViewport=function(j,ne,oe,de){j.isVector4?z.set(j.x,j.y,j.z,j.w):z.set(j,ne,oe,de),Ne.viewport(U.copy(z).multiplyScalar(he).floor())},this.getScissor=function(j){return j.copy(re)},this.setScissor=function(j,ne,oe,de){j.isVector4?re.set(j.x,j.y,j.z,j.w):re.set(j,ne,oe,de),Ne.scissor(G.copy(re).multiplyScalar(he).floor())},this.getScissorTest=function(){return le},this.setScissorTest=function(j){Ne.setScissorTest(le=j)},this.setOpaqueSort=function(j){X=j},this.setTransparentSort=function(j){ae=j},this.getClearColor=function(j){return j.copy(an.getClearColor())},this.setClearColor=function(){an.setClearColor.apply(an,arguments)},this.getClearAlpha=function(){return an.getClearAlpha()},this.setClearAlpha=function(){an.setClearAlpha.apply(an,arguments)},this.clear=function(j=!0,ne=!0,oe=!0){let de=0;if(j){let fe=!1;if(N!==null){const Re=N.texture.format;fe=Re===fC||Re===cC||Re===uC}if(fe){const Re=N.texture.type,Le=Re===Ds||Re===Tl||Re===s_||Re===Yu||Re===oC||Re===sC,Fe=an.getClearColor(),Ce=an.getClearAlpha(),Mt=Fe.r,Ze=Fe.g,tt=Fe.b;Le?(y[0]=Mt,y[1]=Ze,y[2]=tt,y[3]=Ce,K.clearBufferuiv(K.COLOR,0,y)):(b[0]=Mt,b[1]=Ze,b[2]=tt,b[3]=Ce,K.clearBufferiv(K.COLOR,0,b))}else de|=K.COLOR_BUFFER_BIT}ne&&(de|=K.DEPTH_BUFFER_BIT),oe&&(de|=K.STENCIL_BUFFER_BIT,this.state.buffers.stencil.setMask(4294967295)),K.clear(de)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){t.removeEventListener("webglcontextlost",Me,!1),t.removeEventListener("webglcontextrestored",me,!1),t.removeEventListener("webglcontextcreationerror",it,!1),yt.dispose(),Nt.dispose(),st.dispose(),$.dispose(),we.dispose(),Ge.dispose(),pe.dispose(),ze.dispose(),Tt.dispose(),vt.dispose(),vt.removeEventListener("sessionstart",jn),vt.removeEventListener("sessionend",fn),ke&&(ke.dispose(),ke=null),yr.stop()};function Me(j){j.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),T=!0}function me(){console.log("THREE.WebGLRenderer: Context Restored."),T=!1;const j=gt.autoReset,ne=Ke.enabled,oe=Ke.autoUpdate,de=Ke.needsUpdate,fe=Ke.type;at(),gt.autoReset=j,Ke.enabled=ne,Ke.autoUpdate=oe,Ke.needsUpdate=de,Ke.type=fe}function it(j){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",j.statusMessage)}function dt(j){const ne=j.target;ne.removeEventListener("dispose",dt),Bt(ne)}function Bt(j){Pt(j),st.remove(j)}function Pt(j){const ne=st.get(j).programs;ne!==void 0&&(ne.forEach(function(oe){Tt.releaseProgram(oe)}),j.isShaderMaterial&&Tt.releaseShaderCache(j))}this.renderBufferDirect=function(j,ne,oe,de,fe,Re){ne===null&&(ne=qe);const Le=fe.isMesh&&fe.matrixWorld.determinant()<0,Fe=V(j,ne,oe,de,fe);Ne.setMaterial(de,Le);let Ce=oe.index,Mt=1;if(de.wireframe===!0){if(Ce=$e.getWireframeAttribute(oe),Ce===void 0)return;Mt=2}const Ze=oe.drawRange,tt=oe.attributes.position;let Et=Ze.start*Mt,Ft=(Ze.start+Ze.count)*Mt;Re!==null&&(Et=Math.max(Et,Re.start*Mt),Ft=Math.min(Ft,(Re.start+Re.count)*Mt)),Ce!==null?(Et=Math.max(Et,0),Ft=Math.min(Ft,Ce.count)):tt!=null&&(Et=Math.max(Et,0),Ft=Math.min(Ft,tt.count));const jt=Ft-Et;if(jt<0||jt===1/0)return;pe.setup(fe,de,Fe,oe,Ce);let Yt,pt=zt;if(Ce!==null&&(Yt=Xe.get(Ce),pt=_t,pt.setIndex(Yt)),fe.isMesh)de.wireframe===!0?(Ne.setLineWidth(de.wireframeLinewidth*Qe()),pt.setMode(K.LINES)):pt.setMode(K.TRIANGLES);else if(fe.isLine){let ht=de.linewidth;ht===void 0&&(ht=1),Ne.setLineWidth(ht*Qe()),fe.isLineSegments?pt.setMode(K.LINES):fe.isLineLoop?pt.setMode(K.LINE_LOOP):pt.setMode(K.LINE_STRIP)}else fe.isPoints?pt.setMode(K.POINTS):fe.isSprite&&pt.setMode(K.TRIANGLES);if(fe.isBatchedMesh)pt.renderMultiDraw(fe._multiDrawStarts,fe._multiDrawCounts,fe._multiDrawCount);else if(fe.isInstancedMesh)pt.renderInstances(Et,jt,fe.count);else if(oe.isInstancedBufferGeometry){const ht=oe._maxInstanceCount!==void 0?oe._maxInstanceCount:1/0,Xt=Math.min(oe.instanceCount,ht);pt.renderInstances(Et,jt,Xt)}else pt.render(Et,jt)};function sn(j,ne,oe){j.transparent===!0&&j.side===Eo&&j.forceSinglePass===!1?(j.side=pa,j.needsUpdate=!0,tn(j,ne,oe),j.side=Dl,j.needsUpdate=!0,tn(j,ne,oe),j.side=Eo):tn(j,ne,oe)}this.compile=function(j,ne,oe=null){oe===null&&(oe=j),x=Nt.get(oe),x.init(),E.push(x),oe.traverseVisible(function(fe){fe.isLight&&fe.layers.test(ne.layers)&&(x.pushLight(fe),fe.castShadow&&x.pushShadow(fe))}),j!==oe&&j.traverseVisible(function(fe){fe.isLight&&fe.layers.test(ne.layers)&&(x.pushLight(fe),fe.castShadow&&x.pushShadow(fe))}),x.setupLights(A._useLegacyLights);const de=new Set;return j.traverse(function(fe){const Re=fe.material;if(Re)if(Array.isArray(Re))for(let Le=0;Le<Re.length;Le++){const Fe=Re[Le];sn(Fe,oe,fe),de.add(Fe)}else sn(Re,oe,fe),de.add(Re)}),E.pop(),x=null,de},this.compileAsync=function(j,ne,oe=null){const de=this.compile(j,ne,oe);return new Promise(fe=>{function Re(){if(de.forEach(function(Le){st.get(Le).currentProgram.isReady()&&de.delete(Le)}),de.size===0){fe(j);return}setTimeout(Re,10)}Ae.get("KHR_parallel_shader_compile")!==null?Re():setTimeout(Re,10)})};let gn=null;function Tn(j){gn&&gn(j)}function jn(){yr.stop()}function fn(){yr.start()}const yr=new cB;yr.setAnimationLoop(Tn),typeof self<"u"&&yr.setContext(self),this.setAnimationLoop=function(j){gn=j,vt.setAnimationLoop(j),j===null?yr.stop():yr.start()},vt.addEventListener("sessionstart",jn),vt.addEventListener("sessionend",fn),this.render=function(j,ne){if(ne!==void 0&&ne.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(T===!0)return;j.matrixWorldAutoUpdate===!0&&j.updateMatrixWorld(),ne.parent===null&&ne.matrixWorldAutoUpdate===!0&&ne.updateMatrixWorld(),vt.enabled===!0&&vt.isPresenting===!0&&(vt.cameraAutoUpdate===!0&&vt.updateCamera(ne),ne=vt.getCamera()),j.isScene===!0&&j.onBeforeRender(A,j,ne,N),x=Nt.get(j,E.length),x.init(),E.push(x),He.multiplyMatrices(ne.projectionMatrix,ne.matrixWorldInverse),ce.setFromProjectionMatrix(He),Oe=this.localClippingEnabled,be=Vt.init(this.clippingPlanes,Oe),S=yt.get(j,_.length),S.init(),_.push(S),Fr(j,ne,0,A.sortObjects),S.finish(),A.sortObjects===!0&&S.sort(X,ae),this.info.render.frame++,be===!0&&Vt.beginShadows();const oe=x.state.shadowsArray;if(Ke.render(oe,j,ne),be===!0&&Vt.endShadows(),this.info.autoReset===!0&&this.info.reset(),an.render(S,j),x.setupLights(A._useLegacyLights),ne.isArrayCamera){const de=ne.cameras;for(let fe=0,Re=de.length;fe<Re;fe++){const Le=de[fe];ao(S,j,Le,Le.viewport)}}else ao(S,j,ne);N!==null&&(J.updateMultisampleRenderTarget(N),J.updateRenderTargetMipmap(N)),j.isScene===!0&&j.onAfterRender(A,j,ne),pe.resetDefaultState(),F=-1,D=null,E.pop(),E.length>0?x=E[E.length-1]:x=null,_.pop(),_.length>0?S=_[_.length-1]:S=null};function Fr(j,ne,oe,de){if(j.visible===!1)return;if(j.layers.test(ne.layers)){if(j.isGroup)oe=j.renderOrder;else if(j.isLOD)j.autoUpdate===!0&&j.update(ne);else if(j.isLight)x.pushLight(j),j.castShadow&&x.pushShadow(j);else if(j.isSprite){if(!j.frustumCulled||ce.intersectsSprite(j)){de&&Ue.setFromMatrixPosition(j.matrixWorld).applyMatrix4(He);const Le=Ge.update(j),Fe=j.material;Fe.visible&&S.push(j,Le,Fe,oe,Ue.z,null)}}else if((j.isMesh||j.isLine||j.isPoints)&&(!j.frustumCulled||ce.intersectsObject(j))){const Le=Ge.update(j),Fe=j.material;if(de&&(j.boundingSphere!==void 0?(j.boundingSphere===null&&j.computeBoundingSphere(),Ue.copy(j.boundingSphere.center)):(Le.boundingSphere===null&&Le.computeBoundingSphere(),Ue.copy(Le.boundingSphere.center)),Ue.applyMatrix4(j.matrixWorld).applyMatrix4(He)),Array.isArray(Fe)){const Ce=Le.groups;for(let Mt=0,Ze=Ce.length;Mt<Ze;Mt++){const tt=Ce[Mt],Et=Fe[tt.materialIndex];Et&&Et.visible&&S.push(j,Le,Et,oe,Ue.z,tt)}}else Fe.visible&&S.push(j,Le,Fe,oe,Ue.z,null)}}const Re=j.children;for(let Le=0,Fe=Re.length;Le<Fe;Le++)Fr(Re[Le],ne,oe,de)}function ao(j,ne,oe,de){const fe=j.opaque,Re=j.transmissive,Le=j.transparent;x.setupLightsView(oe),be===!0&&Vt.setGlobalState(A.clippingPlanes,oe),Re.length>0&&Ba(fe,Re,ne,oe),de&&Ne.viewport(U.copy(de)),fe.length>0&&gi(fe,ne,oe),Re.length>0&&gi(Re,ne,oe),Le.length>0&&gi(Le,ne,oe),Ne.buffers.depth.setTest(!0),Ne.buffers.depth.setMask(!0),Ne.buffers.color.setMask(!0),Ne.setPolygonOffset(!1)}function Ba(j,ne,oe,de){if((oe.isScene===!0?oe.overrideMaterial:null)!==null)return;const Re=We.isWebGL2;ke===null&&(ke=new ro(1,1,{generateMipmaps:!0,type:Ae.has("EXT_color_buffer_half_float")?ha:Ds,minFilter:rc,samples:Re?4:0})),A.getDrawingBufferSize(Je),Re?ke.setSize(Je.x,Je.y):ke.setSize(ux(Je.x),ux(Je.y));const Le=A.getRenderTarget();A.setRenderTarget(ke),A.getClearColor(Q),H=A.getClearAlpha(),H<1&&A.setClearColor(16777215,.5),A.clear();const Fe=A.toneMapping;A.toneMapping=ks,gi(j,oe,de),J.updateMultisampleRenderTarget(ke),J.updateRenderTargetMipmap(ke);let Ce=!1;for(let Mt=0,Ze=ne.length;Mt<Ze;Mt++){const tt=ne[Mt],Et=tt.object,Ft=tt.geometry,jt=tt.material,Yt=tt.group;if(jt.side===Eo&&Et.layers.test(de.layers)){const pt=jt.side;jt.side=pa,jt.needsUpdate=!0,Zr(Et,oe,de,Ft,jt,Yt),jt.side=pt,jt.needsUpdate=!0,Ce=!0}}Ce===!0&&(J.updateMultisampleRenderTarget(ke),J.updateRenderTargetMipmap(ke)),A.setRenderTarget(Le),A.setClearColor(Q,H),A.toneMapping=Fe}function gi(j,ne,oe){const de=ne.isScene===!0?ne.overrideMaterial:null;for(let fe=0,Re=j.length;fe<Re;fe++){const Le=j[fe],Fe=Le.object,Ce=Le.geometry,Mt=de===null?Le.material:de,Ze=Le.group;Fe.layers.test(oe.layers)&&Zr(Fe,ne,oe,Ce,Mt,Ze)}}function Zr(j,ne,oe,de,fe,Re){j.onBeforeRender(A,ne,oe,de,fe,Re),j.modelViewMatrix.multiplyMatrices(oe.matrixWorldInverse,j.matrixWorld),j.normalMatrix.getNormalMatrix(j.modelViewMatrix),fe.onBeforeRender(A,ne,oe,de,j,Re),fe.transparent===!0&&fe.side===Eo&&fe.forceSinglePass===!1?(fe.side=pa,fe.needsUpdate=!0,A.renderBufferDirect(oe,ne,de,fe,j,Re),fe.side=Dl,fe.needsUpdate=!0,A.renderBufferDirect(oe,ne,de,fe,j,Re),fe.side=Eo):A.renderBufferDirect(oe,ne,de,fe,j,Re),j.onAfterRender(A,ne,oe,de,fe,Re)}function tn(j,ne,oe){ne.isScene!==!0&&(ne=qe);const de=st.get(j),fe=x.state.lights,Re=x.state.shadowsArray,Le=fe.state.version,Fe=Tt.getParameters(j,fe.state,Re,ne,oe),Ce=Tt.getProgramCacheKey(Fe);let Mt=de.programs;de.environment=j.isMeshStandardMaterial?ne.environment:null,de.fog=ne.fog,de.envMap=(j.isMeshStandardMaterial?we:$).get(j.envMap||de.environment),Mt===void 0&&(j.addEventListener("dispose",dt),Mt=new Map,de.programs=Mt);let Ze=Mt.get(Ce);if(Ze!==void 0){if(de.currentProgram===Ze&&de.lightsStateVersion===Le)return $l(j,Fe),Ze}else Fe.uniforms=Tt.getUniforms(j),j.onBuild(oe,Fe,A),j.onBeforeCompile(Fe,A),Ze=Tt.acquireProgram(Fe,Ce),Mt.set(Ce,Ze),de.uniforms=Fe.uniforms;const tt=de.uniforms;return(!j.isShaderMaterial&&!j.isRawShaderMaterial||j.clipping===!0)&&(tt.clippingPlanes=Vt.uniform),$l(j,Fe),de.needsLights=ge(j),de.lightsStateVersion=Le,de.needsLights&&(tt.ambientLightColor.value=fe.state.ambient,tt.lightProbe.value=fe.state.probe,tt.directionalLights.value=fe.state.directional,tt.directionalLightShadows.value=fe.state.directionalShadow,tt.spotLights.value=fe.state.spot,tt.spotLightShadows.value=fe.state.spotShadow,tt.rectAreaLights.value=fe.state.rectArea,tt.ltc_1.value=fe.state.rectAreaLTC1,tt.ltc_2.value=fe.state.rectAreaLTC2,tt.pointLights.value=fe.state.point,tt.pointLightShadows.value=fe.state.pointShadow,tt.hemisphereLights.value=fe.state.hemi,tt.directionalShadowMap.value=fe.state.directionalShadowMap,tt.directionalShadowMatrix.value=fe.state.directionalShadowMatrix,tt.spotShadowMap.value=fe.state.spotShadowMap,tt.spotLightMatrix.value=fe.state.spotLightMatrix,tt.spotLightMap.value=fe.state.spotLightMap,tt.pointShadowMap.value=fe.state.pointShadowMap,tt.pointShadowMatrix.value=fe.state.pointShadowMatrix),de.currentProgram=Ze,de.uniformsList=null,Ze}function Ws(j){if(j.uniformsList===null){const ne=j.currentProgram.getUniforms();j.uniformsList=Jy.seqWithValue(ne.seq,j.uniforms)}return j.uniformsList}function $l(j,ne){const oe=st.get(j);oe.outputColorSpace=ne.outputColorSpace,oe.batching=ne.batching,oe.instancing=ne.instancing,oe.instancingColor=ne.instancingColor,oe.skinning=ne.skinning,oe.morphTargets=ne.morphTargets,oe.morphNormals=ne.morphNormals,oe.morphColors=ne.morphColors,oe.morphTargetsCount=ne.morphTargetsCount,oe.numClippingPlanes=ne.numClippingPlanes,oe.numIntersection=ne.numClipIntersection,oe.vertexAlphas=ne.vertexAlphas,oe.vertexTangents=ne.vertexTangents,oe.toneMapping=ne.toneMapping}function V(j,ne,oe,de,fe){ne.isScene!==!0&&(ne=qe),J.resetTextureUnits();const Re=ne.fog,Le=de.isMeshStandardMaterial?ne.environment:null,Fe=N===null?A.outputColorSpace:N.isXRRenderTarget===!0?N.texture.colorSpace:js,Ce=(de.isMeshStandardMaterial?we:$).get(de.envMap||Le),Mt=de.vertexColors===!0&&!!oe.attributes.color&&oe.attributes.color.itemSize===4,Ze=!!oe.attributes.tangent&&(!!de.normalMap||de.anisotropy>0),tt=!!oe.morphAttributes.position,Et=!!oe.morphAttributes.normal,Ft=!!oe.morphAttributes.color;let jt=ks;de.toneMapped&&(N===null||N.isXRRenderTarget===!0)&&(jt=A.toneMapping);const Yt=oe.morphAttributes.position||oe.morphAttributes.normal||oe.morphAttributes.color,pt=Yt!==void 0?Yt.length:0,ht=st.get(de),Xt=x.state.lights;if(be===!0&&(Oe===!0||j!==D)){const on=j===D&&de.id===F;Vt.setState(de,j,on)}let Gt=!1;de.version===ht.__version?(ht.needsLights&&ht.lightsStateVersion!==Xt.state.version||ht.outputColorSpace!==Fe||fe.isBatchedMesh&&ht.batching===!1||!fe.isBatchedMesh&&ht.batching===!0||fe.isInstancedMesh&&ht.instancing===!1||!fe.isInstancedMesh&&ht.instancing===!0||fe.isSkinnedMesh&&ht.skinning===!1||!fe.isSkinnedMesh&&ht.skinning===!0||fe.isInstancedMesh&&ht.instancingColor===!0&&fe.instanceColor===null||fe.isInstancedMesh&&ht.instancingColor===!1&&fe.instanceColor!==null||ht.envMap!==Ce||de.fog===!0&&ht.fog!==Re||ht.numClippingPlanes!==void 0&&(ht.numClippingPlanes!==Vt.numPlanes||ht.numIntersection!==Vt.numIntersection)||ht.vertexAlphas!==Mt||ht.vertexTangents!==Ze||ht.morphTargets!==tt||ht.morphNormals!==Et||ht.morphColors!==Ft||ht.toneMapping!==jt||We.isWebGL2===!0&&ht.morphTargetsCount!==pt)&&(Gt=!0):(Gt=!0,ht.__version=de.version);let Kt=ht.currentProgram;Gt===!0&&(Kt=tn(de,ne,fe));let kn=!1,Qn=!1,Hn=!1;const vn=Kt.getUniforms(),ln=ht.uniforms;if(Ne.useProgram(Kt.program)&&(kn=!0,Qn=!0,Hn=!0),de.id!==F&&(F=de.id,Qn=!0),kn||D!==j){vn.setValue(K,"projectionMatrix",j.projectionMatrix),vn.setValue(K,"viewMatrix",j.matrixWorldInverse);const on=vn.map.cameraPosition;on!==void 0&&on.setValue(K,Ue.setFromMatrixPosition(j.matrixWorld)),We.logarithmicDepthBuffer&&vn.setValue(K,"logDepthBufFC",2/(Math.log(j.far+1)/Math.LN2)),(de.isMeshPhongMaterial||de.isMeshToonMaterial||de.isMeshLambertMaterial||de.isMeshBasicMaterial||de.isMeshStandardMaterial||de.isShaderMaterial)&&vn.setValue(K,"isOrthographic",j.isOrthographicCamera===!0),D!==j&&(D=j,Qn=!0,Hn=!0)}if(fe.isSkinnedMesh){vn.setOptional(K,fe,"bindMatrix"),vn.setOptional(K,fe,"bindMatrixInverse");const on=fe.skeleton;on&&(We.floatVertexTextures?(on.boneTexture===null&&on.computeBoneTexture(),vn.setValue(K,"boneTexture",on.boneTexture,J)):console.warn("THREE.WebGLRenderer: SkinnedMesh can only be used with WebGL 2. With WebGL 1 OES_texture_float and vertex textures support is required."))}fe.isBatchedMesh&&(vn.setOptional(K,fe,"batchingTexture"),vn.setValue(K,"batchingTexture",fe._matricesTexture,J));const sr=oe.morphAttributes;if((sr.position!==void 0||sr.normal!==void 0||sr.color!==void 0&&We.isWebGL2===!0)&&rn.update(fe,oe,Kt),(Qn||ht.receiveShadow!==fe.receiveShadow)&&(ht.receiveShadow=fe.receiveShadow,vn.setValue(K,"receiveShadow",fe.receiveShadow)),de.isMeshGouraudMaterial&&de.envMap!==null&&(ln.envMap.value=Ce,ln.flipEnvMap.value=Ce.isCubeTexture&&Ce.isRenderTargetTexture===!1?-1:1),Qn&&(vn.setValue(K,"toneMappingExposure",A.toneMappingExposure),ht.needsLights&&Y(ln,Hn),Re&&de.fog===!0&&ft.refreshFogUniforms(ln,Re),ft.refreshMaterialUniforms(ln,de,he,Z,ke),Jy.upload(K,Ws(ht),ln,J)),de.isShaderMaterial&&de.uniformsNeedUpdate===!0&&(Jy.upload(K,Ws(ht),ln,J),de.uniformsNeedUpdate=!1),de.isSpriteMaterial&&vn.setValue(K,"center",fe.center),vn.setValue(K,"modelViewMatrix",fe.modelViewMatrix),vn.setValue(K,"normalMatrix",fe.normalMatrix),vn.setValue(K,"modelMatrix",fe.matrixWorld),de.isShaderMaterial||de.isRawShaderMaterial){const on=de.uniformsGroups;for(let yn=0,Vn=on.length;yn<Vn;yn++)if(We.isWebGL2){const Ni=on[yn];ze.update(Ni,Kt),ze.bind(Ni,Kt)}else console.warn("THREE.WebGLRenderer: Uniform Buffer Objects can only be used with WebGL 2.")}return Kt}function Y(j,ne){j.ambientLightColor.needsUpdate=ne,j.lightProbe.needsUpdate=ne,j.directionalLights.needsUpdate=ne,j.directionalLightShadows.needsUpdate=ne,j.pointLights.needsUpdate=ne,j.pointLightShadows.needsUpdate=ne,j.spotLights.needsUpdate=ne,j.spotLightShadows.needsUpdate=ne,j.rectAreaLights.needsUpdate=ne,j.hemisphereLights.needsUpdate=ne}function ge(j){return j.isMeshLambertMaterial||j.isMeshToonMaterial||j.isMeshPhongMaterial||j.isMeshStandardMaterial||j.isShadowMaterial||j.isShaderMaterial&&j.lights===!0}this.getActiveCubeFace=function(){return P},this.getActiveMipmapLevel=function(){return O},this.getRenderTarget=function(){return N},this.setRenderTargetTextures=function(j,ne,oe){st.get(j.texture).__webglTexture=ne,st.get(j.depthTexture).__webglTexture=oe;const de=st.get(j);de.__hasExternalTextures=!0,de.__hasExternalTextures&&(de.__autoAllocateDepthBuffer=oe===void 0,de.__autoAllocateDepthBuffer||Ae.has("WEBGL_multisampled_render_to_texture")===!0&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),de.__useRenderToTexture=!1))},this.setRenderTargetFramebuffer=function(j,ne){const oe=st.get(j);oe.__webglFramebuffer=ne,oe.__useDefaultFramebuffer=ne===void 0},this.setRenderTarget=function(j,ne=0,oe=0){N=j,P=ne,O=oe;let de=!0,fe=null,Re=!1,Le=!1;if(j){const Ce=st.get(j);Ce.__useDefaultFramebuffer!==void 0?(Ne.bindFramebuffer(K.FRAMEBUFFER,null),de=!1):Ce.__webglFramebuffer===void 0?J.setupRenderTarget(j):Ce.__hasExternalTextures&&J.rebindTextures(j,st.get(j.texture).__webglTexture,st.get(j.depthTexture).__webglTexture);const Mt=j.texture;(Mt.isData3DTexture||Mt.isDataArrayTexture||Mt.isCompressedArrayTexture)&&(Le=!0);const Ze=st.get(j).__webglFramebuffer;j.isWebGLCubeRenderTarget?(Array.isArray(Ze[ne])?fe=Ze[ne][oe]:fe=Ze[ne],Re=!0):We.isWebGL2&&j.samples>0&&J.useMultisampledRTT(j)===!1?fe=st.get(j).__webglMultisampledFramebuffer:Array.isArray(Ze)?fe=Ze[oe]:fe=Ze,U.copy(j.viewport),G.copy(j.scissor),q=j.scissorTest}else U.copy(z).multiplyScalar(he).floor(),G.copy(re).multiplyScalar(he).floor(),q=le;if(Ne.bindFramebuffer(K.FRAMEBUFFER,fe)&&We.drawBuffers&&de&&Ne.drawBuffers(j,fe),Ne.viewport(U),Ne.scissor(G),Ne.setScissorTest(q),Re){const Ce=st.get(j.texture);K.framebufferTexture2D(K.FRAMEBUFFER,K.COLOR_ATTACHMENT0,K.TEXTURE_CUBE_MAP_POSITIVE_X+ne,Ce.__webglTexture,oe)}else if(Le){const Ce=st.get(j.texture),Mt=ne||0;K.framebufferTextureLayer(K.FRAMEBUFFER,K.COLOR_ATTACHMENT0,Ce.__webglTexture,oe||0,Mt)}F=-1},this.readRenderTargetPixels=function(j,ne,oe,de,fe,Re,Le){if(!(j&&j.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let Fe=st.get(j).__webglFramebuffer;if(j.isWebGLCubeRenderTarget&&Le!==void 0&&(Fe=Fe[Le]),Fe){Ne.bindFramebuffer(K.FRAMEBUFFER,Fe);try{const Ce=j.texture,Mt=Ce.format,Ze=Ce.type;if(Mt!==Ki&&bt.convert(Mt)!==K.getParameter(K.IMPLEMENTATION_COLOR_READ_FORMAT)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}const tt=Ze===ha&&(Ae.has("EXT_color_buffer_half_float")||We.isWebGL2&&Ae.has("EXT_color_buffer_float"));if(Ze!==Ds&&bt.convert(Ze)!==K.getParameter(K.IMPLEMENTATION_COLOR_READ_TYPE)&&!(Ze===Ri&&(We.isWebGL2||Ae.has("OES_texture_float")||Ae.has("WEBGL_color_buffer_float")))&&!tt){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}ne>=0&&ne<=j.width-de&&oe>=0&&oe<=j.height-fe&&K.readPixels(ne,oe,de,fe,bt.convert(Mt),bt.convert(Ze),Re)}finally{const Ce=N!==null?st.get(N).__webglFramebuffer:null;Ne.bindFramebuffer(K.FRAMEBUFFER,Ce)}}},this.copyFramebufferToTexture=function(j,ne,oe=0){const de=Math.pow(2,-oe),fe=Math.floor(ne.image.width*de),Re=Math.floor(ne.image.height*de);J.setTexture2D(ne,0),K.copyTexSubImage2D(K.TEXTURE_2D,oe,0,0,j.x,j.y,fe,Re),Ne.unbindTexture()},this.copyTextureToTexture=function(j,ne,oe,de=0){const fe=ne.image.width,Re=ne.image.height,Le=bt.convert(oe.format),Fe=bt.convert(oe.type);J.setTexture2D(oe,0),K.pixelStorei(K.UNPACK_FLIP_Y_WEBGL,oe.flipY),K.pixelStorei(K.UNPACK_PREMULTIPLY_ALPHA_WEBGL,oe.premultiplyAlpha),K.pixelStorei(K.UNPACK_ALIGNMENT,oe.unpackAlignment),ne.isDataTexture?K.texSubImage2D(K.TEXTURE_2D,de,j.x,j.y,fe,Re,Le,Fe,ne.image.data):ne.isCompressedTexture?K.compressedTexSubImage2D(K.TEXTURE_2D,de,j.x,j.y,ne.mipmaps[0].width,ne.mipmaps[0].height,Le,ne.mipmaps[0].data):K.texSubImage2D(K.TEXTURE_2D,de,j.x,j.y,Le,Fe,ne.image),de===0&&oe.generateMipmaps&&K.generateMipmap(K.TEXTURE_2D),Ne.unbindTexture()},this.copyTextureToTexture3D=function(j,ne,oe,de,fe=0){if(A.isWebGL1Renderer){console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: can only be used with WebGL2.");return}const Re=j.max.x-j.min.x+1,Le=j.max.y-j.min.y+1,Fe=j.max.z-j.min.z+1,Ce=bt.convert(de.format),Mt=bt.convert(de.type);let Ze;if(de.isData3DTexture)J.setTexture3D(de,0),Ze=K.TEXTURE_3D;else if(de.isDataArrayTexture||de.isCompressedArrayTexture)J.setTexture2DArray(de,0),Ze=K.TEXTURE_2D_ARRAY;else{console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.");return}K.pixelStorei(K.UNPACK_FLIP_Y_WEBGL,de.flipY),K.pixelStorei(K.UNPACK_PREMULTIPLY_ALPHA_WEBGL,de.premultiplyAlpha),K.pixelStorei(K.UNPACK_ALIGNMENT,de.unpackAlignment);const tt=K.getParameter(K.UNPACK_ROW_LENGTH),Et=K.getParameter(K.UNPACK_IMAGE_HEIGHT),Ft=K.getParameter(K.UNPACK_SKIP_PIXELS),jt=K.getParameter(K.UNPACK_SKIP_ROWS),Yt=K.getParameter(K.UNPACK_SKIP_IMAGES),pt=oe.isCompressedTexture?oe.mipmaps[fe]:oe.image;K.pixelStorei(K.UNPACK_ROW_LENGTH,pt.width),K.pixelStorei(K.UNPACK_IMAGE_HEIGHT,pt.height),K.pixelStorei(K.UNPACK_SKIP_PIXELS,j.min.x),K.pixelStorei(K.UNPACK_SKIP_ROWS,j.min.y),K.pixelStorei(K.UNPACK_SKIP_IMAGES,j.min.z),oe.isDataTexture||oe.isData3DTexture?K.texSubImage3D(Ze,fe,ne.x,ne.y,ne.z,Re,Le,Fe,Ce,Mt,pt.data):oe.isCompressedArrayTexture?(console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: untested support for compressed srcTexture."),K.compressedTexSubImage3D(Ze,fe,ne.x,ne.y,ne.z,Re,Le,Fe,Ce,pt.data)):K.texSubImage3D(Ze,fe,ne.x,ne.y,ne.z,Re,Le,Fe,Ce,Mt,pt),K.pixelStorei(K.UNPACK_ROW_LENGTH,tt),K.pixelStorei(K.UNPACK_IMAGE_HEIGHT,Et),K.pixelStorei(K.UNPACK_SKIP_PIXELS,Ft),K.pixelStorei(K.UNPACK_SKIP_ROWS,jt),K.pixelStorei(K.UNPACK_SKIP_IMAGES,Yt),fe===0&&de.generateMipmaps&&K.generateMipmap(Ze),Ne.unbindTexture()},this.initTexture=function(j){j.isCubeTexture?J.setTextureCube(j,0):j.isData3DTexture?J.setTexture3D(j,0):j.isDataArrayTexture||j.isCompressedArrayTexture?J.setTexture2DArray(j,0):J.setTexture2D(j,0),Ne.unbindTexture()},this.resetState=function(){P=0,O=0,N=null,Ne.reset(),pe.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}get coordinateSystem(){return ss}get outputColorSpace(){return this._outputColorSpace}set outputColorSpace(e){this._outputColorSpace=e;const t=this.getContext();t.drawingBufferColorSpace=e===u_?"display-p3":"srgb",t.unpackColorSpace=qn.workingColorSpace===mv?"display-p3":"srgb"}get outputEncoding(){return console.warn("THREE.WebGLRenderer: Property .outputEncoding has been removed. Use .outputColorSpace instead."),this.outputColorSpace===ri?Zu:pC}set outputEncoding(e){console.warn("THREE.WebGLRenderer: Property .outputEncoding has been removed. Use .outputColorSpace instead."),this.outputColorSpace=e===Zu?ri:js}get useLegacyLights(){return console.warn("THREE.WebGLRenderer: The property .useLegacyLights has been deprecated. Migrate your lighting according to the following guide: https://discourse.threejs.org/t/updates-to-lighting-in-three-js-r155/53733."),this._useLegacyLights}set useLegacyLights(e){console.warn("THREE.WebGLRenderer: The property .useLegacyLights has been deprecated. Migrate your lighting according to the following guide: https://discourse.threejs.org/t/updates-to-lighting-in-three-js-r155/53733."),this._useLegacyLights=e}}class yB extends AC{}yB.prototype.isWebGL1Renderer=!0;class p_{constructor(e,t=25e-5){this.isFogExp2=!0,this.name="",this.color=new wt(e),this.density=t}clone(){return new p_(this.color,this.density)}toJSON(){return{type:"FogExp2",name:this.name,color:this.color.getHex(),density:this.density}}}class m_{constructor(e,t=1,r=1e3){this.isFog=!0,this.name="",this.color=new wt(e),this.near=t,this.far=r}clone(){return new m_(this.color,this.near,this.far)}toJSON(){return{type:"Fog",name:this.name,color:this.color.getHex(),near:this.near,far:this.far}}}class gg extends Nn{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,t){return super.copy(e,t),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const t=super.toJSON(e);return this.fog!==null&&(t.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(t.object.backgroundBlurriness=this.backgroundBlurriness),this.backgroundIntensity!==1&&(t.object.backgroundIntensity=this.backgroundIntensity),t}}class g_{constructor(e,t){this.isInterleavedBuffer=!0,this.array=e,this.stride=t,this.count=e!==void 0?e.length/t:0,this.usage=pg,this._updateRange={offset:0,count:-1},this.updateRanges=[],this.version=0,this.uuid=no()}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}get updateRange(){return console.warn("THREE.InterleavedBuffer: updateRange() is deprecated and will be removed in r169. Use addUpdateRange() instead."),this._updateRange}setUsage(e){return this.usage=e,this}addUpdateRange(e,t){this.updateRanges.push({start:e,count:t})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}copyAt(e,t,r){e*=this.stride,r*=t.stride;for(let i=0,a=this.stride;i<a;i++)this.array[e+i]=t.array[r+i];return this}set(e,t=0){return this.array.set(e,t),this}clone(e){e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=no()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const t=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),r=new this.constructor(t,this.stride);return r.setUsage(this.usage),r}onUpload(e){return this.onUploadCallback=e,this}toJSON(e){return e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=no()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const sa=new ie;class kf{constructor(e,t,r,i=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=e,this.itemSize=t,this.offset=r,this.normalized=i}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(e){this.data.needsUpdate=e}applyMatrix4(e){for(let t=0,r=this.data.count;t<r;t++)sa.fromBufferAttribute(this,t),sa.applyMatrix4(e),this.setXYZ(t,sa.x,sa.y,sa.z);return this}applyNormalMatrix(e){for(let t=0,r=this.count;t<r;t++)sa.fromBufferAttribute(this,t),sa.applyNormalMatrix(e),this.setXYZ(t,sa.x,sa.y,sa.z);return this}transformDirection(e){for(let t=0,r=this.count;t<r;t++)sa.fromBufferAttribute(this,t),sa.transformDirection(e),this.setXYZ(t,sa.x,sa.y,sa.z);return this}setX(e,t){return this.normalized&&(t=pn(t,this.array)),this.data.array[e*this.data.stride+this.offset]=t,this}setY(e,t){return this.normalized&&(t=pn(t,this.array)),this.data.array[e*this.data.stride+this.offset+1]=t,this}setZ(e,t){return this.normalized&&(t=pn(t,this.array)),this.data.array[e*this.data.stride+this.offset+2]=t,this}setW(e,t){return this.normalized&&(t=pn(t,this.array)),this.data.array[e*this.data.stride+this.offset+3]=t,this}getX(e){let t=this.data.array[e*this.data.stride+this.offset];return this.normalized&&(t=La(t,this.array)),t}getY(e){let t=this.data.array[e*this.data.stride+this.offset+1];return this.normalized&&(t=La(t,this.array)),t}getZ(e){let t=this.data.array[e*this.data.stride+this.offset+2];return this.normalized&&(t=La(t,this.array)),t}getW(e){let t=this.data.array[e*this.data.stride+this.offset+3];return this.normalized&&(t=La(t,this.array)),t}setXY(e,t,r){return e=e*this.data.stride+this.offset,this.normalized&&(t=pn(t,this.array),r=pn(r,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=r,this}setXYZ(e,t,r,i){return e=e*this.data.stride+this.offset,this.normalized&&(t=pn(t,this.array),r=pn(r,this.array),i=pn(i,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=r,this.data.array[e+2]=i,this}setXYZW(e,t,r,i,a){return e=e*this.data.stride+this.offset,this.normalized&&(t=pn(t,this.array),r=pn(r,this.array),i=pn(i,this.array),a=pn(a,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=r,this.data.array[e+2]=i,this.data.array[e+3]=a,this}clone(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");const t=[];for(let r=0;r<this.count;r++){const i=r*this.data.stride+this.offset;for(let a=0;a<this.itemSize;a++)t.push(this.data.array[i+a])}return new Fn(new this.array.constructor(t),this.itemSize,this.normalized)}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new kf(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");const t=[];for(let r=0;r<this.count;r++){const i=r*this.data.stride+this.offset;for(let a=0;a<this.itemSize;a++)t.push(this.data.array[i+a])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:t,normalized:this.normalized}}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}class TC extends Ii{constructor(e){super(),this.isSpriteMaterial=!0,this.type="SpriteMaterial",this.color=new wt(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}let pd;const ym=new ie,md=new ie,gd=new ie,vd=new Ve,xm=new Ve,xB=new en,ry=new ie,_m=new ie,iy=new ie,zR=new Ve,h1=new Ve,jR=new Ve;class _B extends Nn{constructor(e=new TC){if(super(),this.isSprite=!0,this.type="Sprite",pd===void 0){pd=new mn;const t=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),r=new g_(t,5);pd.setIndex([0,1,2,0,2,3]),pd.setAttribute("position",new kf(r,3,0,!1)),pd.setAttribute("uv",new kf(r,2,3,!1))}this.geometry=pd,this.material=e,this.center=new Ve(.5,.5)}raycast(e,t){e.camera===null&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),md.setFromMatrixScale(this.matrixWorld),xB.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),gd.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&md.multiplyScalar(-gd.z);const r=this.material.rotation;let i,a;r!==0&&(a=Math.cos(r),i=Math.sin(r));const o=this.center;ay(ry.set(-.5,-.5,0),gd,o,md,i,a),ay(_m.set(.5,-.5,0),gd,o,md,i,a),ay(iy.set(.5,.5,0),gd,o,md,i,a),zR.set(0,0),h1.set(1,0),jR.set(1,1);let s=e.ray.intersectTriangle(ry,_m,iy,!1,ym);if(s===null&&(ay(_m.set(-.5,.5,0),gd,o,md,i,a),h1.set(0,1),s=e.ray.intersectTriangle(ry,iy,_m,!1,ym),s===null))return;const u=e.ray.origin.distanceTo(ym);u<e.near||u>e.far||t.push({distance:u,point:ym.clone(),uv:Na.getInterpolation(ym,ry,_m,iy,zR,h1,jR,new Ve),face:null,object:this})}copy(e,t){return super.copy(e,t),e.center!==void 0&&this.center.copy(e.center),this.material=e.material,this}}function ay(n,e,t,r,i,a){vd.subVectors(n,t).addScalar(.5).multiply(r),i!==void 0?(xm.x=a*vd.x-i*vd.y,xm.y=i*vd.x+a*vd.y):xm.copy(vd),n.copy(e),n.x+=xm.x,n.y+=xm.y,n.applyMatrix4(xB)}const oy=new ie,HR=new ie;class bB extends Nn{constructor(){super(),this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]},isLOD:{value:!0}}),this.autoUpdate=!0}copy(e){super.copy(e,!1);const t=e.levels;for(let r=0,i=t.length;r<i;r++){const a=t[r];this.addLevel(a.object.clone(),a.distance,a.hysteresis)}return this.autoUpdate=e.autoUpdate,this}addLevel(e,t=0,r=0){t=Math.abs(t);const i=this.levels;let a;for(a=0;a<i.length&&!(t<i[a].distance);a++);return i.splice(a,0,{distance:t,hysteresis:r,object:e}),this.add(e),this}getCurrentLevel(){return this._currentLevel}getObjectForDistance(e){const t=this.levels;if(t.length>0){let r,i;for(r=1,i=t.length;r<i;r++){let a=t[r].distance;if(t[r].object.visible&&(a-=a*t[r].hysteresis),e<a)break}return t[r-1].object}return null}raycast(e,t){if(this.levels.length>0){oy.setFromMatrixPosition(this.matrixWorld);const i=e.ray.origin.distanceTo(oy);this.getObjectForDistance(i).raycast(e,t)}}update(e){const t=this.levels;if(t.length>1){oy.setFromMatrixPosition(e.matrixWorld),HR.setFromMatrixPosition(this.matrixWorld);const r=oy.distanceTo(HR)/e.zoom;t[0].object.visible=!0;let i,a;for(i=1,a=t.length;i<a;i++){let o=t[i].distance;if(t[i].object.visible&&(o-=o*t[i].hysteresis),r>=o)t[i-1].object.visible=!1,t[i].object.visible=!0;else break}for(this._currentLevel=i-1;i<a;i++)t[i].object.visible=!1}}toJSON(e){const t=super.toJSON(e);this.autoUpdate===!1&&(t.object.autoUpdate=!1),t.object.levels=[];const r=this.levels;for(let i=0,a=r.length;i<a;i++){const o=r[i];t.object.levels.push({object:o.object.uuid,distance:o.distance,hysteresis:o.hysteresis})}return t}}const VR=new ie,GR=new $n,WR=new $n,$q=new ie,qR=new en,sy=new ie,d1=new Ji,$R=new en,p1=new Hf;class SB extends Ur{constructor(e,t){super(e,t),this.isSkinnedMesh=!0,this.type="SkinnedMesh",this.bindMode=QE,this.bindMatrix=new en,this.bindMatrixInverse=new en,this.boundingBox=null,this.boundingSphere=null}computeBoundingBox(){const e=this.geometry;this.boundingBox===null&&(this.boundingBox=new ma),this.boundingBox.makeEmpty();const t=e.getAttribute("position");for(let r=0;r<t.count;r++)this.getVertexPosition(r,sy),this.boundingBox.expandByPoint(sy)}computeBoundingSphere(){const e=this.geometry;this.boundingSphere===null&&(this.boundingSphere=new Ji),this.boundingSphere.makeEmpty();const t=e.getAttribute("position");for(let r=0;r<t.count;r++)this.getVertexPosition(r,sy),this.boundingSphere.expandByPoint(sy)}copy(e,t){return super.copy(e,t),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}raycast(e,t){const r=this.material,i=this.matrixWorld;r!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),d1.copy(this.boundingSphere),d1.applyMatrix4(i),e.ray.intersectsSphere(d1)!==!1&&($R.copy(i).invert(),p1.copy(e.ray).applyMatrix4($R),!(this.boundingBox!==null&&p1.intersectsBox(this.boundingBox)===!1)&&this._computeIntersections(e,t,p1)))}getVertexPosition(e,t){return super.getVertexPosition(e,t),this.applyBoneTransform(e,t),t}bind(e,t){this.skeleton=e,t===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),t=this.matrixWorld),this.bindMatrix.copy(t),this.bindMatrixInverse.copy(t).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const e=new $n,t=this.geometry.attributes.skinWeight;for(let r=0,i=t.count;r<i;r++){e.fromBufferAttribute(t,r);const a=1/e.manhattanLength();a!==1/0?e.multiplyScalar(a):e.set(1,0,0,0),t.setXYZW(r,e.x,e.y,e.z,e.w)}}updateMatrixWorld(e){super.updateMatrixWorld(e),this.bindMode===QE?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode===UF?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}applyBoneTransform(e,t){const r=this.skeleton,i=this.geometry;GR.fromBufferAttribute(i.attributes.skinIndex,e),WR.fromBufferAttribute(i.attributes.skinWeight,e),VR.copy(t).applyMatrix4(this.bindMatrix),t.set(0,0,0);for(let a=0;a<4;a++){const o=WR.getComponent(a);if(o!==0){const s=GR.getComponent(a);qR.multiplyMatrices(r.bones[s].matrixWorld,r.boneInverses[s]),t.addScaledVector($q.copy(VR).applyMatrix4(qR),o)}}return t.applyMatrix4(this.bindMatrixInverse)}boneTransform(e,t){return console.warn("THREE.SkinnedMesh: .boneTransform() was renamed to .applyBoneTransform() in r151."),this.applyBoneTransform(e,t)}}class CC extends Nn{constructor(){super(),this.isBone=!0,this.type="Bone"}}class Rf extends Mr{constructor(e=null,t=1,r=1,i,a,o,s,u,c=kr,h=kr,d,g){super(null,o,s,u,c,h,i,a,d,g),this.isDataTexture=!0,this.image={data:e,width:t,height:r},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}const XR=new en,Xq=new en;class v_{constructor(e=[],t=[]){this.uuid=no(),this.bones=e.slice(0),this.boneInverses=t,this.boneMatrices=null,this.boneTexture=null,this.init()}init(){const e=this.bones,t=this.boneInverses;if(this.boneMatrices=new Float32Array(e.length*16),t.length===0)this.calculateInverses();else if(e.length!==t.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let r=0,i=this.bones.length;r<i;r++)this.boneInverses.push(new en)}}calculateInverses(){this.boneInverses.length=0;for(let e=0,t=this.bones.length;e<t;e++){const r=new en;this.bones[e]&&r.copy(this.bones[e].matrixWorld).invert(),this.boneInverses.push(r)}}pose(){for(let e=0,t=this.bones.length;e<t;e++){const r=this.bones[e];r&&r.matrixWorld.copy(this.boneInverses[e]).invert()}for(let e=0,t=this.bones.length;e<t;e++){const r=this.bones[e];r&&(r.parent&&r.parent.isBone?(r.matrix.copy(r.parent.matrixWorld).invert(),r.matrix.multiply(r.matrixWorld)):r.matrix.copy(r.matrixWorld),r.matrix.decompose(r.position,r.quaternion,r.scale))}}update(){const e=this.bones,t=this.boneInverses,r=this.boneMatrices,i=this.boneTexture;for(let a=0,o=e.length;a<o;a++){const s=e[a]?e[a].matrixWorld:Xq;XR.multiplyMatrices(s,t[a]),XR.toArray(r,a*16)}i!==null&&(i.needsUpdate=!0)}clone(){return new v_(this.bones,this.boneInverses)}computeBoneTexture(){let e=Math.sqrt(this.bones.length*4);e=Math.ceil(e/4)*4,e=Math.max(e,4);const t=new Float32Array(e*e*4);t.set(this.boneMatrices);const r=new Rf(t,e,e,Ki,Ri);return r.needsUpdate=!0,this.boneMatrices=t,this.boneTexture=r,this}getBoneByName(e){for(let t=0,r=this.bones.length;t<r;t++){const i=this.bones[t];if(i.name===e)return i}}dispose(){this.boneTexture!==null&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(e,t){this.uuid=e.uuid;for(let r=0,i=e.bones.length;r<i;r++){const a=e.bones[r];let o=t[a];o===void 0&&(console.warn("THREE.Skeleton: No bone found with UUID:",a),o=new CC),this.bones.push(o),this.boneInverses.push(new en().fromArray(e.boneInverses[r]))}return this.init(),this}toJSON(){const e={metadata:{version:4.6,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};e.uuid=this.uuid;const t=this.bones,r=this.boneInverses;for(let i=0,a=t.length;i<a;i++){const o=t[i];e.bones.push(o.uuid);const s=r[i];e.boneInverses.push(s.toArray())}return e}}class Gd extends Fn{constructor(e,t,r,i=1){super(e,t,r),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=i}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}toJSON(){const e=super.toJSON();return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}const yd=new en,YR=new en,ly=[],KR=new ma,Yq=new en,bm=new Ur,Sm=new Ji;class wB extends Ur{constructor(e,t,r){super(e,t),this.isInstancedMesh=!0,this.instanceMatrix=new Gd(new Float32Array(r*16),16),this.instanceColor=null,this.count=r,this.boundingBox=null,this.boundingSphere=null;for(let i=0;i<r;i++)this.setMatrixAt(i,Yq)}computeBoundingBox(){const e=this.geometry,t=this.count;this.boundingBox===null&&(this.boundingBox=new ma),e.boundingBox===null&&e.computeBoundingBox(),this.boundingBox.makeEmpty();for(let r=0;r<t;r++)this.getMatrixAt(r,yd),KR.copy(e.boundingBox).applyMatrix4(yd),this.boundingBox.union(KR)}computeBoundingSphere(){const e=this.geometry,t=this.count;this.boundingSphere===null&&(this.boundingSphere=new Ji),e.boundingSphere===null&&e.computeBoundingSphere(),this.boundingSphere.makeEmpty();for(let r=0;r<t;r++)this.getMatrixAt(r,yd),Sm.copy(e.boundingSphere).applyMatrix4(yd),this.boundingSphere.union(Sm)}copy(e,t){return super.copy(e,t),this.instanceMatrix.copy(e.instanceMatrix),e.instanceColor!==null&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}getColorAt(e,t){t.fromArray(this.instanceColor.array,e*3)}getMatrixAt(e,t){t.fromArray(this.instanceMatrix.array,e*16)}raycast(e,t){const r=this.matrixWorld,i=this.count;if(bm.geometry=this.geometry,bm.material=this.material,bm.material!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),Sm.copy(this.boundingSphere),Sm.applyMatrix4(r),e.ray.intersectsSphere(Sm)!==!1))for(let a=0;a<i;a++){this.getMatrixAt(a,yd),YR.multiplyMatrices(r,yd),bm.matrixWorld=YR,bm.raycast(e,ly);for(let o=0,s=ly.length;o<s;o++){const u=ly[o];u.instanceId=a,u.object=this,t.push(u)}ly.length=0}}setColorAt(e,t){this.instanceColor===null&&(this.instanceColor=new Gd(new Float32Array(this.instanceMatrix.count*3),3)),t.toArray(this.instanceColor.array,e*3)}setMatrixAt(e,t){t.toArray(this.instanceMatrix.array,e*16)}updateMorphTargets(){}dispose(){this.dispatchEvent({type:"dispose"})}}function Kq(n,e){return n.z-e.z}function Zq(n,e){return e.z-n.z}class Jq{constructor(){this.index=0,this.pool=[],this.list=[]}push(e,t){const r=this.pool,i=this.list;this.index>=r.length&&r.push({start:-1,count:-1,z:-1});const a=r[this.index];i.push(a),this.index++,a.start=e.start,a.count=e.count,a.z=t}reset(){this.list.length=0,this.index=0}}const xd="batchId",Du=new en,ZR=new en,Qq=new en,JR=new en,m1=new xv,uy=new ma,tf=new Ji,wm=new ie,g1=new Jq,Wi=new Ur,cy=[];function e7(n,e,t=0){const r=e.itemSize;if(n.isInterleavedBufferAttribute||n.array.constructor!==e.array.constructor){const i=n.count;for(let a=0;a<i;a++)for(let o=0;o<r;o++)e.setComponent(a+t,o,n.getComponent(a,o))}else e.array.set(n.array,t*r);e.needsUpdate=!0}class MB extends Ur{get maxGeometryCount(){return this._maxGeometryCount}constructor(e,t,r=t*2,i){super(new mn,i),this.isBatchedMesh=!0,this.perObjectFrustumCulled=!0,this.sortObjects=!0,this.boundingBox=null,this.boundingSphere=null,this.customSort=null,this._drawRanges=[],this._reservedRanges=[],this._visibility=[],this._active=[],this._bounds=[],this._maxGeometryCount=e,this._maxVertexCount=t,this._maxIndexCount=r,this._geometryInitialized=!1,this._geometryCount=0,this._multiDrawCounts=new Int32Array(e),this._multiDrawStarts=new Int32Array(e),this._multiDrawCount=0,this._visibilityChanged=!0,this._matricesTexture=null,this._initMatricesTexture()}_initMatricesTexture(){let e=Math.sqrt(this._maxGeometryCount*4);e=Math.ceil(e/4)*4,e=Math.max(e,4);const t=new Float32Array(e*e*4),r=new Rf(t,e,e,Ki,Ri);this._matricesTexture=r}_initializeGeometry(e){const t=this.geometry,r=this._maxVertexCount,i=this._maxGeometryCount,a=this._maxIndexCount;if(this._geometryInitialized===!1){for(const s in e.attributes){const u=e.getAttribute(s),{array:c,itemSize:h,normalized:d}=u,g=new c.constructor(r*h),y=new u.constructor(g,h,d);y.setUsage(u.usage),t.setAttribute(s,y)}if(e.getIndex()!==null){const s=r>65536?new Uint32Array(a):new Uint16Array(a);t.setIndex(new Fn(s,1))}const o=i>65536?new Uint32Array(r):new Uint16Array(r);t.setAttribute(xd,new Fn(o,1)),this._geometryInitialized=!0}}_validateGeometry(e){if(e.getAttribute(xd))throw new Error(`BatchedMesh: Geometry cannot use attribute "${xd}"`);const t=this.geometry;if(!!e.getIndex()!=!!t.getIndex())throw new Error('BatchedMesh: All geometries must consistently have "index".');for(const r in t.attributes){if(r===xd)continue;if(!e.hasAttribute(r))throw new Error(`BatchedMesh: Added geometry missing "${r}". All geometries must have consistent attributes.`);const i=e.getAttribute(r),a=t.getAttribute(r);if(i.itemSize!==a.itemSize||i.normalized!==a.normalized)throw new Error("BatchedMesh: All attributes must have a consistent itemSize and normalized value.")}}setCustomSort(e){return this.customSort=e,this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new ma);const e=this._geometryCount,t=this.boundingBox,r=this._active;t.makeEmpty();for(let i=0;i<e;i++)r[i]!==!1&&(this.getMatrixAt(i,Du),this.getBoundingBoxAt(i,uy).applyMatrix4(Du),t.union(uy))}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new Ji);const e=this._geometryCount,t=this.boundingSphere,r=this._active;t.makeEmpty();for(let i=0;i<e;i++)r[i]!==!1&&(this.getMatrixAt(i,Du),this.getBoundingSphereAt(i,tf).applyMatrix4(Du),t.union(tf))}addGeometry(e,t=-1,r=-1){if(this._initializeGeometry(e),this._validateGeometry(e),this._geometryCount>=this._maxGeometryCount)throw new Error("BatchedMesh: Maximum geometry count reached.");const i={vertexStart:-1,vertexCount:-1,indexStart:-1,indexCount:-1};let a=null;const o=this._reservedRanges,s=this._drawRanges,u=this._bounds;this._geometryCount!==0&&(a=o[o.length-1]),t===-1?i.vertexCount=e.getAttribute("position").count:i.vertexCount=t,a===null?i.vertexStart=0:i.vertexStart=a.vertexStart+a.vertexCount;const c=e.getIndex(),h=c!==null;if(h&&(r===-1?i.indexCount=c.count:i.indexCount=r,a===null?i.indexStart=0:i.indexStart=a.indexStart+a.indexCount),i.indexStart!==-1&&i.indexStart+i.indexCount>this._maxIndexCount||i.vertexStart+i.vertexCount>this._maxVertexCount)throw new Error("BatchedMesh: Reserved space request exceeds the maximum buffer size.");const d=this._visibility,g=this._active,y=this._matricesTexture,b=this._matricesTexture.image.data;d.push(!0),g.push(!0);const S=this._geometryCount;this._geometryCount++,Qq.toArray(b,S*16),y.needsUpdate=!0,o.push(i),s.push({start:h?i.indexStart:i.vertexStart,count:-1}),u.push({boxInitialized:!1,box:new ma,sphereInitialized:!1,sphere:new Ji});const x=this.geometry.getAttribute(xd);for(let _=0;_<i.vertexCount;_++)x.setX(i.vertexStart+_,S);return x.needsUpdate=!0,this.setGeometryAt(S,e),S}setGeometryAt(e,t){if(e>=this._geometryCount)throw new Error("BatchedMesh: Maximum geometry count reached.");this._validateGeometry(t);const r=this.geometry,i=r.getIndex()!==null,a=r.getIndex(),o=t.getIndex(),s=this._reservedRanges[e];if(i&&o.count>s.indexCount||t.attributes.position.count>s.vertexCount)throw new Error("BatchedMesh: Reserved space not large enough for provided geometry.");const u=s.vertexStart,c=s.vertexCount;for(const y in r.attributes){if(y===xd)continue;const b=t.getAttribute(y),S=r.getAttribute(y);e7(b,S,u);const x=b.itemSize;for(let _=b.count,E=c;_<E;_++){const A=u+_;for(let T=0;T<x;T++)S.setComponent(A,T,0)}S.needsUpdate=!0}if(i){const y=s.indexStart;for(let b=0;b<o.count;b++)a.setX(y+b,u+o.getX(b));for(let b=o.count,S=s.indexCount;b<S;b++)a.setX(y+b,u);a.needsUpdate=!0}const h=this._bounds[e];t.boundingBox!==null?(h.box.copy(t.boundingBox),h.boxInitialized=!0):h.boxInitialized=!1,t.boundingSphere!==null?(h.sphere.copy(t.boundingSphere),h.sphereInitialized=!0):h.sphereInitialized=!1;const d=this._drawRanges[e],g=t.getAttribute("position");return d.count=i?o.count:g.count,this._visibilityChanged=!0,e}deleteGeometry(e){const t=this._active;return e>=t.length||t[e]===!1?this:(t[e]=!1,this._visibilityChanged=!0,this)}getBoundingBoxAt(e,t){if(this._active[e]===!1)return this;const i=this._bounds[e],a=i.box,o=this.geometry;if(i.boxInitialized===!1){a.makeEmpty();const s=o.index,u=o.attributes.position,c=this._drawRanges[e];for(let h=c.start,d=c.start+c.count;h<d;h++){let g=h;s&&(g=s.getX(g)),a.expandByPoint(wm.fromBufferAttribute(u,g))}i.boxInitialized=!0}return t.copy(a),t}getBoundingSphereAt(e,t){if(this._active[e]===!1)return this;const i=this._bounds[e],a=i.sphere,o=this.geometry;if(i.sphereInitialized===!1){a.makeEmpty(),this.getBoundingBoxAt(e,uy),uy.getCenter(a.center);const s=o.index,u=o.attributes.position,c=this._drawRanges[e];let h=0;for(let d=c.start,g=c.start+c.count;d<g;d++){let y=d;s&&(y=s.getX(y)),wm.fromBufferAttribute(u,y),h=Math.max(h,a.center.distanceToSquared(wm))}a.radius=Math.sqrt(h),i.sphereInitialized=!0}return t.copy(a),t}setMatrixAt(e,t){const r=this._active,i=this._matricesTexture,a=this._matricesTexture.image.data,o=this._geometryCount;return e>=o||r[e]===!1?this:(t.toArray(a,e*16),i.needsUpdate=!0,this)}getMatrixAt(e,t){const r=this._active,i=this._matricesTexture.image.data,a=this._geometryCount;return e>=a||r[e]===!1?null:t.fromArray(i,e*16)}setVisibleAt(e,t){const r=this._visibility,i=this._active,a=this._geometryCount;return e>=a||i[e]===!1||r[e]===t?this:(r[e]=t,this._visibilityChanged=!0,this)}getVisibleAt(e){const t=this._visibility,r=this._active,i=this._geometryCount;return e>=i||r[e]===!1?!1:t[e]}raycast(e,t){const r=this._visibility,i=this._active,a=this._drawRanges,o=this._geometryCount,s=this.matrixWorld,u=this.geometry;Wi.material=this.material,Wi.geometry.index=u.index,Wi.geometry.attributes=u.attributes,Wi.geometry.boundingBox===null&&(Wi.geometry.boundingBox=new ma),Wi.geometry.boundingSphere===null&&(Wi.geometry.boundingSphere=new Ji);for(let c=0;c<o;c++){if(!r[c]||!i[c])continue;const h=a[c];Wi.geometry.setDrawRange(h.start,h.count),this.getMatrixAt(c,Wi.matrixWorld).premultiply(s),this.getBoundingBoxAt(c,Wi.geometry.boundingBox),this.getBoundingSphereAt(c,Wi.geometry.boundingSphere),Wi.raycast(e,cy);for(let d=0,g=cy.length;d<g;d++){const y=cy[d];y.object=this,y.batchId=c,t.push(y)}cy.length=0}Wi.material=null,Wi.geometry.index=null,Wi.geometry.attributes={},Wi.geometry.setDrawRange(0,1/0)}copy(e){return super.copy(e),this.geometry=e.geometry.clone(),this.perObjectFrustumCulled=e.perObjectFrustumCulled,this.sortObjects=e.sortObjects,this.boundingBox=e.boundingBox!==null?e.boundingBox.clone():null,this.boundingSphere=e.boundingSphere!==null?e.boundingSphere.clone():null,this._drawRanges=e._drawRanges.map(t=>({...t})),this._reservedRanges=e._reservedRanges.map(t=>({...t})),this._visibility=e._visibility.slice(),this._active=e._active.slice(),this._bounds=e._bounds.map(t=>({boxInitialized:t.boxInitialized,box:t.box.clone(),sphereInitialized:t.sphereInitialized,sphere:t.sphere.clone()})),this._maxGeometryCount=e._maxGeometryCount,this._maxVertexCount=e._maxVertexCount,this._maxIndexCount=e._maxIndexCount,this._geometryInitialized=e._geometryInitialized,this._geometryCount=e._geometryCount,this._multiDrawCounts=e._multiDrawCounts.slice(),this._multiDrawStarts=e._multiDrawStarts.slice(),this._matricesTexture=e._matricesTexture.clone(),this._matricesTexture.image.data=this._matricesTexture.image.slice(),this}dispose(){return this.geometry.dispose(),this._matricesTexture.dispose(),this._matricesTexture=null,this}onBeforeRender(e,t,r,i,a){if(!this._visibilityChanged&&!this.perObjectFrustumCulled&&!this.sortObjects)return;const o=i.getIndex(),s=o===null?1:o.array.BYTES_PER_ELEMENT,u=this._visibility,c=this._multiDrawStarts,h=this._multiDrawCounts,d=this._drawRanges,g=this.perObjectFrustumCulled;g&&(JR.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse).multiply(this.matrixWorld),m1.setFromProjectionMatrix(JR,e.isWebGPURenderer?jd:ss));let y=0;if(this.sortObjects){ZR.copy(this.matrixWorld).invert(),wm.setFromMatrixPosition(r.matrixWorld).applyMatrix4(ZR);for(let x=0,_=u.length;x<_;x++)if(u[x]){this.getMatrixAt(x,Du),this.getBoundingSphereAt(x,tf).applyMatrix4(Du);let E=!1;if(g&&(E=!m1.intersectsSphere(tf)),!E){const A=wm.distanceTo(tf.center);g1.push(d[x],A)}}const b=g1.list,S=this.customSort;S===null?b.sort(a.transparent?Zq:Kq):S.call(this,b,r);for(let x=0,_=b.length;x<_;x++){const E=b[x];c[y]=E.start*s,h[y]=E.count,y++}g1.reset()}else for(let b=0,S=u.length;b<S;b++)if(u[b]){let x=!1;if(g&&(this.getMatrixAt(b,Du),this.getBoundingSphereAt(b,tf).applyMatrix4(Du),x=!m1.intersectsSphere(tf)),!x){const _=d[b];c[y]=_.start*s,h[y]=_.count,y++}}this._multiDrawCount=y,this._visibilityChanged=!1}onBeforeShadow(e,t,r,i,a,o){this.onBeforeRender(e,null,i,a,o)}}class ga extends Ii{constructor(e){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new wt(16777215),this.map=null,this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}}const QR=new ie,eO=new ie,tO=new en,v1=new Hf,fy=new Ji;class ic extends Nn{constructor(e=new mn,t=new ga){super(),this.isLine=!0,this.type="Line",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}computeLineDistances(){const e=this.geometry;if(e.index===null){const t=e.attributes.position,r=[0];for(let i=1,a=t.count;i<a;i++)QR.fromBufferAttribute(t,i-1),eO.fromBufferAttribute(t,i),r[i]=r[i-1],r[i]+=QR.distanceTo(eO);e.setAttribute("lineDistance",new Dt(r,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(e,t){const r=this.geometry,i=this.matrixWorld,a=e.params.Line.threshold,o=r.drawRange;if(r.boundingSphere===null&&r.computeBoundingSphere(),fy.copy(r.boundingSphere),fy.applyMatrix4(i),fy.radius+=a,e.ray.intersectsSphere(fy)===!1)return;tO.copy(i).invert(),v1.copy(e.ray).applyMatrix4(tO);const s=a/((this.scale.x+this.scale.y+this.scale.z)/3),u=s*s,c=new ie,h=new ie,d=new ie,g=new ie,y=this.isLineSegments?2:1,b=r.index,x=r.attributes.position;if(b!==null){const _=Math.max(0,o.start),E=Math.min(b.count,o.start+o.count);for(let A=_,T=E-1;A<T;A+=y){const P=b.getX(A),O=b.getX(A+1);if(c.fromBufferAttribute(x,P),h.fromBufferAttribute(x,O),v1.distanceSqToSegment(c,h,g,d)>u)continue;g.applyMatrix4(this.matrixWorld);const F=e.ray.origin.distanceTo(g);F<e.near||F>e.far||t.push({distance:F,point:d.clone().applyMatrix4(this.matrixWorld),index:A,face:null,faceIndex:null,object:this})}}else{const _=Math.max(0,o.start),E=Math.min(x.count,o.start+o.count);for(let A=_,T=E-1;A<T;A+=y){if(c.fromBufferAttribute(x,A),h.fromBufferAttribute(x,A+1),v1.distanceSqToSegment(c,h,g,d)>u)continue;g.applyMatrix4(this.matrixWorld);const O=e.ray.origin.distanceTo(g);O<e.near||O>e.far||t.push({distance:O,point:d.clone().applyMatrix4(this.matrixWorld),index:A,face:null,faceIndex:null,object:this})}}}updateMorphTargets(){const t=this.geometry.morphAttributes,r=Object.keys(t);if(r.length>0){const i=t[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let a=0,o=i.length;a<o;a++){const s=i[a].name||String(a);this.morphTargetInfluences.push(0),this.morphTargetDictionary[s]=a}}}}}const nO=new ie,rO=new ie;class Vs extends ic{constructor(e,t){super(e,t),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const e=this.geometry;if(e.index===null){const t=e.attributes.position,r=[];for(let i=0,a=t.count;i<a;i+=2)nO.fromBufferAttribute(t,i),rO.fromBufferAttribute(t,i+1),r[i]=i===0?0:r[i-1],r[i+1]=r[i]+nO.distanceTo(rO);e.setAttribute("lineDistance",new Dt(r,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class EB extends ic{constructor(e,t){super(e,t),this.isLineLoop=!0,this.type="LineLoop"}}class PC extends Ii{constructor(e){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new wt(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}const iO=new en,RA=new Hf,hy=new Ji,dy=new ie;class AB extends Nn{constructor(e=new mn,t=new PC){super(),this.isPoints=!0,this.type="Points",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}raycast(e,t){const r=this.geometry,i=this.matrixWorld,a=e.params.Points.threshold,o=r.drawRange;if(r.boundingSphere===null&&r.computeBoundingSphere(),hy.copy(r.boundingSphere),hy.applyMatrix4(i),hy.radius+=a,e.ray.intersectsSphere(hy)===!1)return;iO.copy(i).invert(),RA.copy(e.ray).applyMatrix4(iO);const s=a/((this.scale.x+this.scale.y+this.scale.z)/3),u=s*s,c=r.index,d=r.attributes.position;if(c!==null){const g=Math.max(0,o.start),y=Math.min(c.count,o.start+o.count);for(let b=g,S=y;b<S;b++){const x=c.getX(b);dy.fromBufferAttribute(d,x),aO(dy,x,u,i,e,t,this)}}else{const g=Math.max(0,o.start),y=Math.min(d.count,o.start+o.count);for(let b=g,S=y;b<S;b++)dy.fromBufferAttribute(d,b),aO(dy,b,u,i,e,t,this)}}updateMorphTargets(){const t=this.geometry.morphAttributes,r=Object.keys(t);if(r.length>0){const i=t[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let a=0,o=i.length;a<o;a++){const s=i[a].name||String(a);this.morphTargetInfluences.push(0),this.morphTargetDictionary[s]=a}}}}}function aO(n,e,t,r,i,a,o){const s=RA.distanceSqToPoint(n);if(s<t){const u=new ie;RA.closestPointToPoint(n,u),u.applyMatrix4(r);const c=i.ray.origin.distanceTo(u);if(c<i.near||c>i.far)return;a.push({distance:c,distanceToRay:Math.sqrt(s),point:u,index:e,face:null,object:o})}}class t7 extends Mr{constructor(e,t,r,i,a,o,s,u,c){super(e,t,r,i,a,o,s,u,c),this.isVideoTexture=!0,this.minFilter=o!==void 0?o:dr,this.magFilter=a!==void 0?a:dr,this.generateMipmaps=!1;const h=this;function d(){h.needsUpdate=!0,e.requestVideoFrameCallback(d)}"requestVideoFrameCallback"in e&&e.requestVideoFrameCallback(d)}clone(){return new this.constructor(this.image).copy(this)}update(){const e=this.image;"requestVideoFrameCallback"in e===!1&&e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}class n7 extends Mr{constructor(e,t){super({width:e,height:t}),this.isFramebufferTexture=!0,this.magFilter=kr,this.minFilter=kr,this.generateMipmaps=!1,this.needsUpdate=!0}}class y_ extends Mr{constructor(e,t,r,i,a,o,s,u,c,h,d,g){super(null,o,s,u,c,h,i,a,d,g),this.isCompressedTexture=!0,this.image={width:t,height:r},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}}class r7 extends y_{constructor(e,t,r,i,a,o){super(e,t,r,a,o),this.isCompressedArrayTexture=!0,this.image.depth=i,this.wrapR=Yi}}class i7 extends y_{constructor(e,t,r){super(void 0,e[0].width,e[0].height,t,r,zs),this.isCompressedCubeTexture=!0,this.isCubeTexture=!0,this.image=e}}class a7 extends Mr{constructor(e,t,r,i,a,o,s,u,c){super(e,t,r,i,a,o,s,u,c),this.isCanvasTexture=!0,this.needsUpdate=!0}}let cs=class{constructor(){this.type="Curve",this.arcLengthDivisions=200}getPoint(){return console.warn("THREE.Curve: .getPoint() not implemented."),null}getPointAt(e,t){const r=this.getUtoTmapping(e);return this.getPoint(r,t)}getPoints(e=5){const t=[];for(let r=0;r<=e;r++)t.push(this.getPoint(r/e));return t}getSpacedPoints(e=5){const t=[];for(let r=0;r<=e;r++)t.push(this.getPointAt(r/e));return t}getLength(){const e=this.getLengths();return e[e.length-1]}getLengths(e=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const t=[];let r,i=this.getPoint(0),a=0;t.push(0);for(let o=1;o<=e;o++)r=this.getPoint(o/e),a+=r.distanceTo(i),t.push(a),i=r;return this.cacheArcLengths=t,t}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(e,t){const r=this.getLengths();let i=0;const a=r.length;let o;t?o=t:o=e*r[a-1];let s=0,u=a-1,c;for(;s<=u;)if(i=Math.floor(s+(u-s)/2),c=r[i]-o,c<0)s=i+1;else if(c>0)u=i-1;else{u=i;break}if(i=u,r[i]===o)return i/(a-1);const h=r[i],g=r[i+1]-h,y=(o-h)/g;return(i+y)/(a-1)}getTangent(e,t){let i=e-1e-4,a=e+1e-4;i<0&&(i=0),a>1&&(a=1);const o=this.getPoint(i),s=this.getPoint(a),u=t||(o.isVector2?new Ve:new ie);return u.copy(s).sub(o).normalize(),u}getTangentAt(e,t){const r=this.getUtoTmapping(e);return this.getTangent(r,t)}computeFrenetFrames(e,t){const r=new ie,i=[],a=[],o=[],s=new ie,u=new en;for(let y=0;y<=e;y++){const b=y/e;i[y]=this.getTangentAt(b,new ie)}a[0]=new ie,o[0]=new ie;let c=Number.MAX_VALUE;const h=Math.abs(i[0].x),d=Math.abs(i[0].y),g=Math.abs(i[0].z);h<=c&&(c=h,r.set(1,0,0)),d<=c&&(c=d,r.set(0,1,0)),g<=c&&r.set(0,0,1),s.crossVectors(i[0],r).normalize(),a[0].crossVectors(i[0],s),o[0].crossVectors(i[0],a[0]);for(let y=1;y<=e;y++){if(a[y]=a[y-1].clone(),o[y]=o[y-1].clone(),s.crossVectors(i[y-1],i[y]),s.length()>Number.EPSILON){s.normalize();const b=Math.acos(Cr(i[y-1].dot(i[y]),-1,1));a[y].applyMatrix4(u.makeRotationAxis(s,b))}o[y].crossVectors(i[y],a[y])}if(t===!0){let y=Math.acos(Cr(a[0].dot(a[e]),-1,1));y/=e,i[0].dot(s.crossVectors(a[0],a[e]))>0&&(y=-y);for(let b=1;b<=e;b++)a[b].applyMatrix4(u.makeRotationAxis(i[b],y*b)),o[b].crossVectors(i[b],a[b])}return{tangents:i,normals:a,binormals:o}}clone(){return new this.constructor().copy(this)}copy(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}toJSON(){const e={metadata:{version:4.6,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}fromJSON(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}};class x_ extends cs{constructor(e=0,t=0,r=1,i=1,a=0,o=Math.PI*2,s=!1,u=0){super(),this.isEllipseCurve=!0,this.type="EllipseCurve",this.aX=e,this.aY=t,this.xRadius=r,this.yRadius=i,this.aStartAngle=a,this.aEndAngle=o,this.aClockwise=s,this.aRotation=u}getPoint(e,t){const r=t||new Ve,i=Math.PI*2;let a=this.aEndAngle-this.aStartAngle;const o=Math.abs(a)<Number.EPSILON;for(;a<0;)a+=i;for(;a>i;)a-=i;a<Number.EPSILON&&(o?a=0:a=i),this.aClockwise===!0&&!o&&(a===i?a=-i:a=a-i);const s=this.aStartAngle+e*a;let u=this.aX+this.xRadius*Math.cos(s),c=this.aY+this.yRadius*Math.sin(s);if(this.aRotation!==0){const h=Math.cos(this.aRotation),d=Math.sin(this.aRotation),g=u-this.aX,y=c-this.aY;u=g*h-y*d+this.aX,c=g*d+y*h+this.aY}return r.set(u,c)}copy(e){return super.copy(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}toJSON(){const e=super.toJSON();return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}fromJSON(e){return super.fromJSON(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}}class TB extends x_{constructor(e,t,r,i,a,o){super(e,t,r,r,i,a,o),this.isArcCurve=!0,this.type="ArcCurve"}}function RC(){let n=0,e=0,t=0,r=0;function i(a,o,s,u){n=a,e=s,t=-3*a+3*o-2*s-u,r=2*a-2*o+s+u}return{initCatmullRom:function(a,o,s,u,c){i(o,s,c*(s-a),c*(u-o))},initNonuniformCatmullRom:function(a,o,s,u,c,h,d){let g=(o-a)/c-(s-a)/(c+h)+(s-o)/h,y=(s-o)/h-(u-o)/(h+d)+(u-s)/d;g*=h,y*=h,i(o,s,g,y)},calc:function(a){const o=a*a,s=o*a;return n+e*a+t*o+r*s}}}const py=new ie,y1=new RC,x1=new RC,_1=new RC;class CB extends cs{constructor(e=[],t=!1,r="centripetal",i=.5){super(),this.isCatmullRomCurve3=!0,this.type="CatmullRomCurve3",this.points=e,this.closed=t,this.curveType=r,this.tension=i}getPoint(e,t=new ie){const r=t,i=this.points,a=i.length,o=(a-(this.closed?0:1))*e;let s=Math.floor(o),u=o-s;this.closed?s+=s>0?0:(Math.floor(Math.abs(s)/a)+1)*a:u===0&&s===a-1&&(s=a-2,u=1);let c,h;this.closed||s>0?c=i[(s-1)%a]:(py.subVectors(i[0],i[1]).add(i[0]),c=py);const d=i[s%a],g=i[(s+1)%a];if(this.closed||s+2<a?h=i[(s+2)%a]:(py.subVectors(i[a-1],i[a-2]).add(i[a-1]),h=py),this.curveType==="centripetal"||this.curveType==="chordal"){const y=this.curveType==="chordal"?.5:.25;let b=Math.pow(c.distanceToSquared(d),y),S=Math.pow(d.distanceToSquared(g),y),x=Math.pow(g.distanceToSquared(h),y);S<1e-4&&(S=1),b<1e-4&&(b=S),x<1e-4&&(x=S),y1.initNonuniformCatmullRom(c.x,d.x,g.x,h.x,b,S,x),x1.initNonuniformCatmullRom(c.y,d.y,g.y,h.y,b,S,x),_1.initNonuniformCatmullRom(c.z,d.z,g.z,h.z,b,S,x)}else this.curveType==="catmullrom"&&(y1.initCatmullRom(c.x,d.x,g.x,h.x,this.tension),x1.initCatmullRom(c.y,d.y,g.y,h.y,this.tension),_1.initCatmullRom(c.z,d.z,g.z,h.z,this.tension));return r.set(y1.calc(u),x1.calc(u),_1.calc(u)),r}copy(e){super.copy(e),this.points=[];for(let t=0,r=e.points.length;t<r;t++){const i=e.points[t];this.points.push(i.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,r=this.points.length;t<r;t++){const i=this.points[t];e.points.push(i.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,r=e.points.length;t<r;t++){const i=e.points[t];this.points.push(new ie().fromArray(i))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}}function oO(n,e,t,r,i){const a=(r-e)*.5,o=(i-t)*.5,s=n*n,u=n*s;return(2*t-2*r+a+o)*u+(-3*t+3*r-2*a-o)*s+a*n+t}function o7(n,e){const t=1-n;return t*t*e}function s7(n,e){return 2*(1-n)*n*e}function l7(n,e){return n*n*e}function Xm(n,e,t,r){return o7(n,e)+s7(n,t)+l7(n,r)}function u7(n,e){const t=1-n;return t*t*t*e}function c7(n,e){const t=1-n;return 3*t*t*n*e}function f7(n,e){return 3*(1-n)*n*n*e}function h7(n,e){return n*n*n*e}function Ym(n,e,t,r,i){return u7(n,e)+c7(n,t)+f7(n,r)+h7(n,i)}class OC extends cs{constructor(e=new Ve,t=new Ve,r=new Ve,i=new Ve){super(),this.isCubicBezierCurve=!0,this.type="CubicBezierCurve",this.v0=e,this.v1=t,this.v2=r,this.v3=i}getPoint(e,t=new Ve){const r=t,i=this.v0,a=this.v1,o=this.v2,s=this.v3;return r.set(Ym(e,i.x,a.x,o.x,s.x),Ym(e,i.y,a.y,o.y,s.y)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class PB extends cs{constructor(e=new ie,t=new ie,r=new ie,i=new ie){super(),this.isCubicBezierCurve3=!0,this.type="CubicBezierCurve3",this.v0=e,this.v1=t,this.v2=r,this.v3=i}getPoint(e,t=new ie){const r=t,i=this.v0,a=this.v1,o=this.v2,s=this.v3;return r.set(Ym(e,i.x,a.x,o.x,s.x),Ym(e,i.y,a.y,o.y,s.y),Ym(e,i.z,a.z,o.z,s.z)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class IC extends cs{constructor(e=new Ve,t=new Ve){super(),this.isLineCurve=!0,this.type="LineCurve",this.v1=e,this.v2=t}getPoint(e,t=new Ve){const r=t;return e===1?r.copy(this.v2):(r.copy(this.v2).sub(this.v1),r.multiplyScalar(e).add(this.v1)),r}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e,t=new Ve){return t.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,t){return this.getTangent(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class RB extends cs{constructor(e=new ie,t=new ie){super(),this.isLineCurve3=!0,this.type="LineCurve3",this.v1=e,this.v2=t}getPoint(e,t=new ie){const r=t;return e===1?r.copy(this.v2):(r.copy(this.v2).sub(this.v1),r.multiplyScalar(e).add(this.v1)),r}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e,t=new ie){return t.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,t){return this.getTangent(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class NC extends cs{constructor(e=new Ve,t=new Ve,r=new Ve){super(),this.isQuadraticBezierCurve=!0,this.type="QuadraticBezierCurve",this.v0=e,this.v1=t,this.v2=r}getPoint(e,t=new Ve){const r=t,i=this.v0,a=this.v1,o=this.v2;return r.set(Xm(e,i.x,a.x,o.x),Xm(e,i.y,a.y,o.y)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class LC extends cs{constructor(e=new ie,t=new ie,r=new ie){super(),this.isQuadraticBezierCurve3=!0,this.type="QuadraticBezierCurve3",this.v0=e,this.v1=t,this.v2=r}getPoint(e,t=new ie){const r=t,i=this.v0,a=this.v1,o=this.v2;return r.set(Xm(e,i.x,a.x,o.x),Xm(e,i.y,a.y,o.y),Xm(e,i.z,a.z,o.z)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class kC extends cs{constructor(e=[]){super(),this.isSplineCurve=!0,this.type="SplineCurve",this.points=e}getPoint(e,t=new Ve){const r=t,i=this.points,a=(i.length-1)*e,o=Math.floor(a),s=a-o,u=i[o===0?o:o-1],c=i[o],h=i[o>i.length-2?i.length-1:o+1],d=i[o>i.length-3?i.length-1:o+2];return r.set(oO(s,u.x,c.x,h.x,d.x),oO(s,u.y,c.y,h.y,d.y)),r}copy(e){super.copy(e),this.points=[];for(let t=0,r=e.points.length;t<r;t++){const i=e.points[t];this.points.push(i.clone())}return this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,r=this.points.length;t<r;t++){const i=this.points[t];e.points.push(i.toArray())}return e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,r=e.points.length;t<r;t++){const i=e.points[t];this.points.push(new Ve().fromArray(i))}return this}}var cx=Object.freeze({__proto__:null,ArcCurve:TB,CatmullRomCurve3:CB,CubicBezierCurve:OC,CubicBezierCurve3:PB,EllipseCurve:x_,LineCurve:IC,LineCurve3:RB,QuadraticBezierCurve:NC,QuadraticBezierCurve3:LC,SplineCurve:kC});class OB extends cs{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(e){this.curves.push(e)}closePath(){const e=this.curves[0].getPoint(0),t=this.curves[this.curves.length-1].getPoint(1);if(!e.equals(t)){const r=e.isVector2===!0?"LineCurve":"LineCurve3";this.curves.push(new cx[r](t,e))}return this}getPoint(e,t){const r=e*this.getLength(),i=this.getCurveLengths();let a=0;for(;a<i.length;){if(i[a]>=r){const o=i[a]-r,s=this.curves[a],u=s.getLength(),c=u===0?0:1-o/u;return s.getPointAt(c,t)}a++}return null}getLength(){const e=this.getCurveLengths();return e[e.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const e=[];let t=0;for(let r=0,i=this.curves.length;r<i;r++)t+=this.curves[r].getLength(),e.push(t);return this.cacheLengths=e,e}getSpacedPoints(e=40){const t=[];for(let r=0;r<=e;r++)t.push(this.getPoint(r/e));return this.autoClose&&t.push(t[0]),t}getPoints(e=12){const t=[];let r;for(let i=0,a=this.curves;i<a.length;i++){const o=a[i],s=o.isEllipseCurve?e*2:o.isLineCurve||o.isLineCurve3?1:o.isSplineCurve?e*o.points.length:e,u=o.getPoints(s);for(let c=0;c<u.length;c++){const h=u[c];r&&r.equals(h)||(t.push(h),r=h)}}return this.autoClose&&t.length>1&&!t[t.length-1].equals(t[0])&&t.push(t[0]),t}copy(e){super.copy(e),this.curves=[];for(let t=0,r=e.curves.length;t<r;t++){const i=e.curves[t];this.curves.push(i.clone())}return this.autoClose=e.autoClose,this}toJSON(){const e=super.toJSON();e.autoClose=this.autoClose,e.curves=[];for(let t=0,r=this.curves.length;t<r;t++){const i=this.curves[t];e.curves.push(i.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.autoClose=e.autoClose,this.curves=[];for(let t=0,r=e.curves.length;t<r;t++){const i=e.curves[t];this.curves.push(new cx[i.type]().fromJSON(i))}return this}}let vg=class extends OB{constructor(e){super(),this.type="Path",this.currentPoint=new Ve,e&&this.setFromPoints(e)}setFromPoints(e){this.moveTo(e[0].x,e[0].y);for(let t=1,r=e.length;t<r;t++)this.lineTo(e[t].x,e[t].y);return this}moveTo(e,t){return this.currentPoint.set(e,t),this}lineTo(e,t){const r=new IC(this.currentPoint.clone(),new Ve(e,t));return this.curves.push(r),this.currentPoint.set(e,t),this}quadraticCurveTo(e,t,r,i){const a=new NC(this.currentPoint.clone(),new Ve(e,t),new Ve(r,i));return this.curves.push(a),this.currentPoint.set(r,i),this}bezierCurveTo(e,t,r,i,a,o){const s=new OC(this.currentPoint.clone(),new Ve(e,t),new Ve(r,i),new Ve(a,o));return this.curves.push(s),this.currentPoint.set(a,o),this}splineThru(e){const t=[this.currentPoint.clone()].concat(e),r=new kC(t);return this.curves.push(r),this.currentPoint.copy(e[e.length-1]),this}arc(e,t,r,i,a,o){const s=this.currentPoint.x,u=this.currentPoint.y;return this.absarc(e+s,t+u,r,i,a,o),this}absarc(e,t,r,i,a,o){return this.absellipse(e,t,r,r,i,a,o),this}ellipse(e,t,r,i,a,o,s,u){const c=this.currentPoint.x,h=this.currentPoint.y;return this.absellipse(e+c,t+h,r,i,a,o,s,u),this}absellipse(e,t,r,i,a,o,s,u){const c=new x_(e,t,r,i,a,o,s,u);if(this.curves.length>0){const d=c.getPoint(0);d.equals(this.currentPoint)||this.lineTo(d.x,d.y)}this.curves.push(c);const h=c.getPoint(1);return this.currentPoint.copy(h),this}copy(e){return super.copy(e),this.currentPoint.copy(e.currentPoint),this}toJSON(){const e=super.toJSON();return e.currentPoint=this.currentPoint.toArray(),e}fromJSON(e){return super.fromJSON(e),this.currentPoint.fromArray(e.currentPoint),this}};class _v extends mn{constructor(e=[new Ve(0,-.5),new Ve(.5,0),new Ve(0,.5)],t=12,r=0,i=Math.PI*2){super(),this.type="LatheGeometry",this.parameters={points:e,segments:t,phiStart:r,phiLength:i},t=Math.floor(t),i=Cr(i,0,Math.PI*2);const a=[],o=[],s=[],u=[],c=[],h=1/t,d=new ie,g=new Ve,y=new ie,b=new ie,S=new ie;let x=0,_=0;for(let E=0;E<=e.length-1;E++)switch(E){case 0:x=e[E+1].x-e[E].x,_=e[E+1].y-e[E].y,y.x=_*1,y.y=-x,y.z=_*0,S.copy(y),y.normalize(),u.push(y.x,y.y,y.z);break;case e.length-1:u.push(S.x,S.y,S.z);break;default:x=e[E+1].x-e[E].x,_=e[E+1].y-e[E].y,y.x=_*1,y.y=-x,y.z=_*0,b.copy(y),y.x+=S.x,y.y+=S.y,y.z+=S.z,y.normalize(),u.push(y.x,y.y,y.z),S.copy(b)}for(let E=0;E<=t;E++){const A=r+E*h*i,T=Math.sin(A),P=Math.cos(A);for(let O=0;O<=e.length-1;O++){d.x=e[O].x*T,d.y=e[O].y,d.z=e[O].x*P,o.push(d.x,d.y,d.z),g.x=E/t,g.y=O/(e.length-1),s.push(g.x,g.y);const N=u[3*O+0]*T,F=u[3*O+1],D=u[3*O+0]*P;c.push(N,F,D)}}for(let E=0;E<t;E++)for(let A=0;A<e.length-1;A++){const T=A+E*e.length,P=T,O=T+e.length,N=T+e.length+1,F=T+1;a.push(P,O,F),a.push(N,F,O)}this.setIndex(a),this.setAttribute("position",new Dt(o,3)),this.setAttribute("uv",new Dt(s,2)),this.setAttribute("normal",new Dt(c,3))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new _v(e.points,e.segments,e.phiStart,e.phiLength)}}class __ extends _v{constructor(e=1,t=1,r=4,i=8){const a=new vg;a.absarc(0,-t/2,e,Math.PI*1.5,0),a.absarc(0,t/2,e,0,Math.PI*.5),super(a.getPoints(r),i),this.type="CapsuleGeometry",this.parameters={radius:e,length:t,capSegments:r,radialSegments:i}}static fromJSON(e){return new __(e.radius,e.length,e.capSegments,e.radialSegments)}}class b_ extends mn{constructor(e=1,t=32,r=0,i=Math.PI*2){super(),this.type="CircleGeometry",this.parameters={radius:e,segments:t,thetaStart:r,thetaLength:i},t=Math.max(3,t);const a=[],o=[],s=[],u=[],c=new ie,h=new Ve;o.push(0,0,0),s.push(0,0,1),u.push(.5,.5);for(let d=0,g=3;d<=t;d++,g+=3){const y=r+d/t*i;c.x=e*Math.cos(y),c.y=e*Math.sin(y),o.push(c.x,c.y,c.z),s.push(0,0,1),h.x=(o[g]/e+1)/2,h.y=(o[g+1]/e+1)/2,u.push(h.x,h.y)}for(let d=1;d<=t;d++)a.push(d,d+1,0);this.setIndex(a),this.setAttribute("position",new Dt(o,3)),this.setAttribute("normal",new Dt(s,3)),this.setAttribute("uv",new Dt(u,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new b_(e.radius,e.segments,e.thetaStart,e.thetaLength)}}class pp extends mn{constructor(e=1,t=1,r=1,i=32,a=1,o=!1,s=0,u=Math.PI*2){super(),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:t,height:r,radialSegments:i,heightSegments:a,openEnded:o,thetaStart:s,thetaLength:u};const c=this;i=Math.floor(i),a=Math.floor(a);const h=[],d=[],g=[],y=[];let b=0;const S=[],x=r/2;let _=0;E(),o===!1&&(e>0&&A(!0),t>0&&A(!1)),this.setIndex(h),this.setAttribute("position",new Dt(d,3)),this.setAttribute("normal",new Dt(g,3)),this.setAttribute("uv",new Dt(y,2));function E(){const T=new ie,P=new ie;let O=0;const N=(t-e)/r;for(let F=0;F<=a;F++){const D=[],U=F/a,G=U*(t-e)+e;for(let q=0;q<=i;q++){const Q=q/i,H=Q*u+s,te=Math.sin(H),Z=Math.cos(H);P.x=G*te,P.y=-U*r+x,P.z=G*Z,d.push(P.x,P.y,P.z),T.set(te,N,Z).normalize(),g.push(T.x,T.y,T.z),y.push(Q,1-U),D.push(b++)}S.push(D)}for(let F=0;F<i;F++)for(let D=0;D<a;D++){const U=S[D][F],G=S[D+1][F],q=S[D+1][F+1],Q=S[D][F+1];h.push(U,G,Q),h.push(G,q,Q),O+=6}c.addGroup(_,O,0),_+=O}function A(T){const P=b,O=new Ve,N=new ie;let F=0;const D=T===!0?e:t,U=T===!0?1:-1;for(let q=1;q<=i;q++)d.push(0,x*U,0),g.push(0,U,0),y.push(.5,.5),b++;const G=b;for(let q=0;q<=i;q++){const H=q/i*u+s,te=Math.cos(H),Z=Math.sin(H);N.x=D*Z,N.y=x*U,N.z=D*te,d.push(N.x,N.y,N.z),g.push(0,U,0),O.x=te*.5+.5,O.y=Z*.5*U+.5,y.push(O.x,O.y),b++}for(let q=0;q<i;q++){const Q=P+q,H=G+q;T===!0?h.push(H,H+1,Q):h.push(H+1,H,Q),F+=3}c.addGroup(_,F,T===!0?1:2),_+=F}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new pp(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class S_ extends pp{constructor(e=1,t=1,r=32,i=1,a=!1,o=0,s=Math.PI*2){super(0,e,t,r,i,a,o,s),this.type="ConeGeometry",this.parameters={radius:e,height:t,radialSegments:r,heightSegments:i,openEnded:a,thetaStart:o,thetaLength:s}}static fromJSON(e){return new S_(e.radius,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class lc extends mn{constructor(e=[],t=[],r=1,i=0){super(),this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:t,radius:r,detail:i};const a=[],o=[];s(i),c(r),h(),this.setAttribute("position",new Dt(a,3)),this.setAttribute("normal",new Dt(a.slice(),3)),this.setAttribute("uv",new Dt(o,2)),i===0?this.computeVertexNormals():this.normalizeNormals();function s(E){const A=new ie,T=new ie,P=new ie;for(let O=0;O<t.length;O+=3)y(t[O+0],A),y(t[O+1],T),y(t[O+2],P),u(A,T,P,E)}function u(E,A,T,P){const O=P+1,N=[];for(let F=0;F<=O;F++){N[F]=[];const D=E.clone().lerp(T,F/O),U=A.clone().lerp(T,F/O),G=O-F;for(let q=0;q<=G;q++)q===0&&F===O?N[F][q]=D:N[F][q]=D.clone().lerp(U,q/G)}for(let F=0;F<O;F++)for(let D=0;D<2*(O-F)-1;D++){const U=Math.floor(D/2);D%2===0?(g(N[F][U+1]),g(N[F+1][U]),g(N[F][U])):(g(N[F][U+1]),g(N[F+1][U+1]),g(N[F+1][U]))}}function c(E){const A=new ie;for(let T=0;T<a.length;T+=3)A.x=a[T+0],A.y=a[T+1],A.z=a[T+2],A.normalize().multiplyScalar(E),a[T+0]=A.x,a[T+1]=A.y,a[T+2]=A.z}function h(){const E=new ie;for(let A=0;A<a.length;A+=3){E.x=a[A+0],E.y=a[A+1],E.z=a[A+2];const T=x(E)/2/Math.PI+.5,P=_(E)/Math.PI+.5;o.push(T,1-P)}b(),d()}function d(){for(let E=0;E<o.length;E+=6){const A=o[E+0],T=o[E+2],P=o[E+4],O=Math.max(A,T,P),N=Math.min(A,T,P);O>.9&&N<.1&&(A<.2&&(o[E+0]+=1),T<.2&&(o[E+2]+=1),P<.2&&(o[E+4]+=1))}}function g(E){a.push(E.x,E.y,E.z)}function y(E,A){const T=E*3;A.x=e[T+0],A.y=e[T+1],A.z=e[T+2]}function b(){const E=new ie,A=new ie,T=new ie,P=new ie,O=new Ve,N=new Ve,F=new Ve;for(let D=0,U=0;D<a.length;D+=9,U+=6){E.set(a[D+0],a[D+1],a[D+2]),A.set(a[D+3],a[D+4],a[D+5]),T.set(a[D+6],a[D+7],a[D+8]),O.set(o[U+0],o[U+1]),N.set(o[U+2],o[U+3]),F.set(o[U+4],o[U+5]),P.copy(E).add(A).add(T).divideScalar(3);const G=x(P);S(O,U+0,E,G),S(N,U+2,A,G),S(F,U+4,T,G)}}function S(E,A,T,P){P<0&&E.x===1&&(o[A]=E.x-1),T.x===0&&T.z===0&&(o[A]=P/2/Math.PI+.5)}function x(E){return Math.atan2(E.z,-E.x)}function _(E){return Math.atan2(-E.y,Math.sqrt(E.x*E.x+E.z*E.z))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new lc(e.vertices,e.indices,e.radius,e.details)}}class w_ extends lc{constructor(e=1,t=0){const r=(1+Math.sqrt(5))/2,i=1/r,a=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-i,-r,0,-i,r,0,i,-r,0,i,r,-i,-r,0,-i,r,0,i,-r,0,i,r,0,-r,0,-i,r,0,-i,-r,0,i,r,0,i],o=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];super(a,o,e,t),this.type="DodecahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new w_(e.radius,e.detail)}}const my=new ie,gy=new ie,b1=new ie,vy=new Na;class IB extends mn{constructor(e=null,t=1){if(super(),this.type="EdgesGeometry",this.parameters={geometry:e,thresholdAngle:t},e!==null){const i=Math.pow(10,4),a=Math.cos(Cf*t),o=e.getIndex(),s=e.getAttribute("position"),u=o?o.count:s.count,c=[0,0,0],h=["a","b","c"],d=new Array(3),g={},y=[];for(let b=0;b<u;b+=3){o?(c[0]=o.getX(b),c[1]=o.getX(b+1),c[2]=o.getX(b+2)):(c[0]=b,c[1]=b+1,c[2]=b+2);const{a:S,b:x,c:_}=vy;if(S.fromBufferAttribute(s,c[0]),x.fromBufferAttribute(s,c[1]),_.fromBufferAttribute(s,c[2]),vy.getNormal(b1),d[0]=`${Math.round(S.x*i)},${Math.round(S.y*i)},${Math.round(S.z*i)}`,d[1]=`${Math.round(x.x*i)},${Math.round(x.y*i)},${Math.round(x.z*i)}`,d[2]=`${Math.round(_.x*i)},${Math.round(_.y*i)},${Math.round(_.z*i)}`,!(d[0]===d[1]||d[1]===d[2]||d[2]===d[0]))for(let E=0;E<3;E++){const A=(E+1)%3,T=d[E],P=d[A],O=vy[h[E]],N=vy[h[A]],F=`${T}_${P}`,D=`${P}_${T}`;D in g&&g[D]?(b1.dot(g[D].normal)<=a&&(y.push(O.x,O.y,O.z),y.push(N.x,N.y,N.z)),g[D]=null):F in g||(g[F]={index0:c[E],index1:c[A],normal:b1.clone()})}}for(const b in g)if(g[b]){const{index0:S,index1:x}=g[b];my.fromBufferAttribute(s,S),gy.fromBufferAttribute(s,x),y.push(my.x,my.y,my.z),y.push(gy.x,gy.y,gy.z)}this.setAttribute("position",new Dt(y,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}let Qu=class extends vg{constructor(e){super(e),this.uuid=no(),this.type="Shape",this.holes=[]}getPointsHoles(e){const t=[];for(let r=0,i=this.holes.length;r<i;r++)t[r]=this.holes[r].getPoints(e);return t}extractPoints(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}}copy(e){super.copy(e),this.holes=[];for(let t=0,r=e.holes.length;t<r;t++){const i=e.holes[t];this.holes.push(i.clone())}return this}toJSON(){const e=super.toJSON();e.uuid=this.uuid,e.holes=[];for(let t=0,r=this.holes.length;t<r;t++){const i=this.holes[t];e.holes.push(i.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.uuid=e.uuid,this.holes=[];for(let t=0,r=e.holes.length;t<r;t++){const i=e.holes[t];this.holes.push(new vg().fromJSON(i))}return this}};const d7={triangulate:function(n,e,t=2){const r=e&&e.length,i=r?e[0]*t:n.length;let a=NB(n,0,i,t,!0);const o=[];if(!a||a.next===a.prev)return o;let s,u,c,h,d,g,y;if(r&&(a=y7(n,e,a,t)),n.length>80*t){s=c=n[0],u=h=n[1];for(let b=t;b<i;b+=t)d=n[b],g=n[b+1],d<s&&(s=d),g<u&&(u=g),d>c&&(c=d),g>h&&(h=g);y=Math.max(c-s,h-u),y=y!==0?32767/y:0}return yg(a,o,t,s,u,y,0),o}};function NB(n,e,t,r,i){let a,o;if(i===P7(n,e,t,r)>0)for(a=e;a<t;a+=r)o=sO(a,n[a],n[a+1],o);else for(a=t-r;a>=e;a-=r)o=sO(a,n[a],n[a+1],o);return o&&M_(o,o.next)&&(_g(o),o=o.next),o}function Df(n,e){if(!n)return n;e||(e=n);let t=n,r;do if(r=!1,!t.steiner&&(M_(t,t.next)||Sr(t.prev,t,t.next)===0)){if(_g(t),t=e=t.prev,t===t.next)break;r=!0}else t=t.next;while(r||t!==e);return e}function yg(n,e,t,r,i,a,o){if(!n)return;!o&&a&&w7(n,r,i,a);let s=n,u,c;for(;n.prev!==n.next;){if(u=n.prev,c=n.next,a?m7(n,r,i,a):p7(n)){e.push(u.i/t|0),e.push(n.i/t|0),e.push(c.i/t|0),_g(n),n=c.next,s=c.next;continue}if(n=c,n===s){o?o===1?(n=g7(Df(n),e,t),yg(n,e,t,r,i,a,2)):o===2&&v7(n,e,t,r,i,a):yg(Df(n),e,t,r,i,a,1);break}}}function p7(n){const e=n.prev,t=n,r=n.next;if(Sr(e,t,r)>=0)return!1;const i=e.x,a=t.x,o=r.x,s=e.y,u=t.y,c=r.y,h=i<a?i<o?i:o:a<o?a:o,d=s<u?s<c?s:c:u<c?u:c,g=i>a?i>o?i:o:a>o?a:o,y=s>u?s>c?s:c:u>c?u:c;let b=r.next;for(;b!==e;){if(b.x>=h&&b.x<=g&&b.y>=d&&b.y<=y&&Id(i,s,a,u,o,c,b.x,b.y)&&Sr(b.prev,b,b.next)>=0)return!1;b=b.next}return!0}function m7(n,e,t,r){const i=n.prev,a=n,o=n.next;if(Sr(i,a,o)>=0)return!1;const s=i.x,u=a.x,c=o.x,h=i.y,d=a.y,g=o.y,y=s<u?s<c?s:c:u<c?u:c,b=h<d?h<g?h:g:d<g?d:g,S=s>u?s>c?s:c:u>c?u:c,x=h>d?h>g?h:g:d>g?d:g,_=OA(y,b,e,t,r),E=OA(S,x,e,t,r);let A=n.prevZ,T=n.nextZ;for(;A&&A.z>=_&&T&&T.z<=E;){if(A.x>=y&&A.x<=S&&A.y>=b&&A.y<=x&&A!==i&&A!==o&&Id(s,h,u,d,c,g,A.x,A.y)&&Sr(A.prev,A,A.next)>=0||(A=A.prevZ,T.x>=y&&T.x<=S&&T.y>=b&&T.y<=x&&T!==i&&T!==o&&Id(s,h,u,d,c,g,T.x,T.y)&&Sr(T.prev,T,T.next)>=0))return!1;T=T.nextZ}for(;A&&A.z>=_;){if(A.x>=y&&A.x<=S&&A.y>=b&&A.y<=x&&A!==i&&A!==o&&Id(s,h,u,d,c,g,A.x,A.y)&&Sr(A.prev,A,A.next)>=0)return!1;A=A.prevZ}for(;T&&T.z<=E;){if(T.x>=y&&T.x<=S&&T.y>=b&&T.y<=x&&T!==i&&T!==o&&Id(s,h,u,d,c,g,T.x,T.y)&&Sr(T.prev,T,T.next)>=0)return!1;T=T.nextZ}return!0}function g7(n,e,t){let r=n;do{const i=r.prev,a=r.next.next;!M_(i,a)&&LB(i,r,r.next,a)&&xg(i,a)&&xg(a,i)&&(e.push(i.i/t|0),e.push(r.i/t|0),e.push(a.i/t|0),_g(r),_g(r.next),r=n=a),r=r.next}while(r!==n);return Df(r)}function v7(n,e,t,r,i,a){let o=n;do{let s=o.next.next;for(;s!==o.prev;){if(o.i!==s.i&&A7(o,s)){let u=kB(o,s);o=Df(o,o.next),u=Df(u,u.next),yg(o,e,t,r,i,a,0),yg(u,e,t,r,i,a,0);return}s=s.next}o=o.next}while(o!==n)}function y7(n,e,t,r){const i=[];let a,o,s,u,c;for(a=0,o=e.length;a<o;a++)s=e[a]*r,u=a<o-1?e[a+1]*r:n.length,c=NB(n,s,u,r,!1),c===c.next&&(c.steiner=!0),i.push(E7(c));for(i.sort(x7),a=0;a<i.length;a++)t=_7(i[a],t);return t}function x7(n,e){return n.x-e.x}function _7(n,e){const t=b7(n,e);if(!t)return e;const r=kB(t,n);return Df(r,r.next),Df(t,t.next)}function b7(n,e){let t=e,r=-1/0,i;const a=n.x,o=n.y;do{if(o<=t.y&&o>=t.next.y&&t.next.y!==t.y){const g=t.x+(o-t.y)*(t.next.x-t.x)/(t.next.y-t.y);if(g<=a&&g>r&&(r=g,i=t.x<t.next.x?t:t.next,g===a))return i}t=t.next}while(t!==e);if(!i)return null;const s=i,u=i.x,c=i.y;let h=1/0,d;t=i;do a>=t.x&&t.x>=u&&a!==t.x&&Id(o<c?a:r,o,u,c,o<c?r:a,o,t.x,t.y)&&(d=Math.abs(o-t.y)/(a-t.x),xg(t,n)&&(d<h||d===h&&(t.x>i.x||t.x===i.x&&S7(i,t)))&&(i=t,h=d)),t=t.next;while(t!==s);return i}function S7(n,e){return Sr(n.prev,n,e.prev)<0&&Sr(e.next,n,n.next)<0}function w7(n,e,t,r){let i=n;do i.z===0&&(i.z=OA(i.x,i.y,e,t,r)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next;while(i!==n);i.prevZ.nextZ=null,i.prevZ=null,M7(i)}function M7(n){let e,t,r,i,a,o,s,u,c=1;do{for(t=n,n=null,a=null,o=0;t;){for(o++,r=t,s=0,e=0;e<c&&(s++,r=r.nextZ,!!r);e++);for(u=c;s>0||u>0&&r;)s!==0&&(u===0||!r||t.z<=r.z)?(i=t,t=t.nextZ,s--):(i=r,r=r.nextZ,u--),a?a.nextZ=i:n=i,i.prevZ=a,a=i;t=r}a.nextZ=null,c*=2}while(o>1);return n}function OA(n,e,t,r,i){return n=(n-t)*i|0,e=(e-r)*i|0,n=(n|n<<8)&16711935,n=(n|n<<4)&252645135,n=(n|n<<2)&858993459,n=(n|n<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,n|e<<1}function E7(n){let e=n,t=n;do(e.x<t.x||e.x===t.x&&e.y<t.y)&&(t=e),e=e.next;while(e!==n);return t}function Id(n,e,t,r,i,a,o,s){return(i-o)*(e-s)>=(n-o)*(a-s)&&(n-o)*(r-s)>=(t-o)*(e-s)&&(t-o)*(a-s)>=(i-o)*(r-s)}function A7(n,e){return n.next.i!==e.i&&n.prev.i!==e.i&&!T7(n,e)&&(xg(n,e)&&xg(e,n)&&C7(n,e)&&(Sr(n.prev,n,e.prev)||Sr(n,e.prev,e))||M_(n,e)&&Sr(n.prev,n,n.next)>0&&Sr(e.prev,e,e.next)>0)}function Sr(n,e,t){return(e.y-n.y)*(t.x-e.x)-(e.x-n.x)*(t.y-e.y)}function M_(n,e){return n.x===e.x&&n.y===e.y}function LB(n,e,t,r){const i=xy(Sr(n,e,t)),a=xy(Sr(n,e,r)),o=xy(Sr(t,r,n)),s=xy(Sr(t,r,e));return!!(i!==a&&o!==s||i===0&&yy(n,t,e)||a===0&&yy(n,r,e)||o===0&&yy(t,n,r)||s===0&&yy(t,e,r))}function yy(n,e,t){return e.x<=Math.max(n.x,t.x)&&e.x>=Math.min(n.x,t.x)&&e.y<=Math.max(n.y,t.y)&&e.y>=Math.min(n.y,t.y)}function xy(n){return n>0?1:n<0?-1:0}function T7(n,e){let t=n;do{if(t.i!==n.i&&t.next.i!==n.i&&t.i!==e.i&&t.next.i!==e.i&&LB(t,t.next,n,e))return!0;t=t.next}while(t!==n);return!1}function xg(n,e){return Sr(n.prev,n,n.next)<0?Sr(n,e,n.next)>=0&&Sr(n,n.prev,e)>=0:Sr(n,e,n.prev)<0||Sr(n,n.next,e)<0}function C7(n,e){let t=n,r=!1;const i=(n.x+e.x)/2,a=(n.y+e.y)/2;do t.y>a!=t.next.y>a&&t.next.y!==t.y&&i<(t.next.x-t.x)*(a-t.y)/(t.next.y-t.y)+t.x&&(r=!r),t=t.next;while(t!==n);return r}function kB(n,e){const t=new IA(n.i,n.x,n.y),r=new IA(e.i,e.x,e.y),i=n.next,a=e.prev;return n.next=e,e.prev=n,t.next=i,i.prev=t,r.next=t,t.prev=r,a.next=r,r.prev=a,r}function sO(n,e,t,r){const i=new IA(n,e,t);return r?(i.next=r.next,i.prev=r,r.next.prev=i,r.next=i):(i.prev=i,i.next=i),i}function _g(n){n.next.prev=n.prev,n.prev.next=n.next,n.prevZ&&(n.prevZ.nextZ=n.nextZ),n.nextZ&&(n.nextZ.prevZ=n.prevZ)}function IA(n,e,t){this.i=n,this.x=e,this.y=t,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function P7(n,e,t,r){let i=0;for(let a=e,o=t-r;a<t;a+=r)i+=(n[o]-n[a])*(n[a+1]+n[o+1]),o=a;return i}class Us{static area(e){const t=e.length;let r=0;for(let i=t-1,a=0;a<t;i=a++)r+=e[i].x*e[a].y-e[a].x*e[i].y;return r*.5}static isClockWise(e){return Us.area(e)<0}static triangulateShape(e,t){const r=[],i=[],a=[];lO(e),uO(r,e);let o=e.length;t.forEach(lO);for(let u=0;u<t.length;u++)i.push(o),o+=t[u].length,uO(r,t[u]);const s=d7.triangulate(r,i);for(let u=0;u<s.length;u+=3)a.push(s.slice(u,u+3));return a}}function lO(n){const e=n.length;e>2&&n[e-1].equals(n[0])&&n.pop()}function uO(n,e){for(let t=0;t<e.length;t++)n.push(e[t].x),n.push(e[t].y)}class E_ extends mn{constructor(e=new Qu([new Ve(.5,.5),new Ve(-.5,.5),new Ve(-.5,-.5),new Ve(.5,-.5)]),t={}){super(),this.type="ExtrudeGeometry",this.parameters={shapes:e,options:t},e=Array.isArray(e)?e:[e];const r=this,i=[],a=[];for(let s=0,u=e.length;s<u;s++){const c=e[s];o(c)}this.setAttribute("position",new Dt(i,3)),this.setAttribute("uv",new Dt(a,2)),this.computeVertexNormals();function o(s){const u=[],c=t.curveSegments!==void 0?t.curveSegments:12,h=t.steps!==void 0?t.steps:1,d=t.depth!==void 0?t.depth:1;let g=t.bevelEnabled!==void 0?t.bevelEnabled:!0,y=t.bevelThickness!==void 0?t.bevelThickness:.2,b=t.bevelSize!==void 0?t.bevelSize:y-.1,S=t.bevelOffset!==void 0?t.bevelOffset:0,x=t.bevelSegments!==void 0?t.bevelSegments:3;const _=t.extrudePath,E=t.UVGenerator!==void 0?t.UVGenerator:R7;let A,T=!1,P,O,N,F;_&&(A=_.getSpacedPoints(h),T=!0,g=!1,P=_.computeFrenetFrames(h,!1),O=new ie,N=new ie,F=new ie),g||(x=0,y=0,b=0,S=0);const D=s.extractPoints(c);let U=D.shape;const G=D.holes;if(!Us.isClockWise(U)){U=U.reverse();for(let K=0,je=G.length;K<je;K++){const Ae=G[K];Us.isClockWise(Ae)&&(G[K]=Ae.reverse())}}const Q=Us.triangulateShape(U,G),H=U;for(let K=0,je=G.length;K<je;K++){const Ae=G[K];U=U.concat(Ae)}function te(K,je,Ae){return je||console.error("THREE.ExtrudeGeometry: vec does not exist"),K.clone().addScaledVector(je,Ae)}const Z=U.length,he=Q.length;function X(K,je,Ae){let We,Ne,gt;const st=K.x-je.x,J=K.y-je.y,$=Ae.x-K.x,we=Ae.y-K.y,Xe=st*st+J*J,$e=st*we-J*$;if(Math.abs($e)>Number.EPSILON){const Ge=Math.sqrt(Xe),Tt=Math.sqrt($*$+we*we),ft=je.x-J/Ge,yt=je.y+st/Ge,Nt=Ae.x-we/Tt,Vt=Ae.y+$/Tt,Ke=((Nt-ft)*we-(Vt-yt)*$)/(st*we-J*$);We=ft+st*Ke-K.x,Ne=yt+J*Ke-K.y;const an=We*We+Ne*Ne;if(an<=2)return new Ve(We,Ne);gt=Math.sqrt(an/2)}else{let Ge=!1;st>Number.EPSILON?$>Number.EPSILON&&(Ge=!0):st<-Number.EPSILON?$<-Number.EPSILON&&(Ge=!0):Math.sign(J)===Math.sign(we)&&(Ge=!0),Ge?(We=-J,Ne=st,gt=Math.sqrt(Xe)):(We=st,Ne=J,gt=Math.sqrt(Xe/2))}return new Ve(We/gt,Ne/gt)}const ae=[];for(let K=0,je=H.length,Ae=je-1,We=K+1;K<je;K++,Ae++,We++)Ae===je&&(Ae=0),We===je&&(We=0),ae[K]=X(H[K],H[Ae],H[We]);const z=[];let re,le=ae.concat();for(let K=0,je=G.length;K<je;K++){const Ae=G[K];re=[];for(let We=0,Ne=Ae.length,gt=Ne-1,st=We+1;We<Ne;We++,gt++,st++)gt===Ne&&(gt=0),st===Ne&&(st=0),re[We]=X(Ae[We],Ae[gt],Ae[st]);z.push(re),le=le.concat(re)}for(let K=0;K<x;K++){const je=K/x,Ae=y*Math.cos(je*Math.PI/2),We=b*Math.sin(je*Math.PI/2)+S;for(let Ne=0,gt=H.length;Ne<gt;Ne++){const st=te(H[Ne],ae[Ne],We);He(st.x,st.y,-Ae)}for(let Ne=0,gt=G.length;Ne<gt;Ne++){const st=G[Ne];re=z[Ne];for(let J=0,$=st.length;J<$;J++){const we=te(st[J],re[J],We);He(we.x,we.y,-Ae)}}}const ce=b+S;for(let K=0;K<Z;K++){const je=g?te(U[K],le[K],ce):U[K];T?(N.copy(P.normals[0]).multiplyScalar(je.x),O.copy(P.binormals[0]).multiplyScalar(je.y),F.copy(A[0]).add(N).add(O),He(F.x,F.y,F.z)):He(je.x,je.y,0)}for(let K=1;K<=h;K++)for(let je=0;je<Z;je++){const Ae=g?te(U[je],le[je],ce):U[je];T?(N.copy(P.normals[K]).multiplyScalar(Ae.x),O.copy(P.binormals[K]).multiplyScalar(Ae.y),F.copy(A[K]).add(N).add(O),He(F.x,F.y,F.z)):He(Ae.x,Ae.y,d/h*K)}for(let K=x-1;K>=0;K--){const je=K/x,Ae=y*Math.cos(je*Math.PI/2),We=b*Math.sin(je*Math.PI/2)+S;for(let Ne=0,gt=H.length;Ne<gt;Ne++){const st=te(H[Ne],ae[Ne],We);He(st.x,st.y,d+Ae)}for(let Ne=0,gt=G.length;Ne<gt;Ne++){const st=G[Ne];re=z[Ne];for(let J=0,$=st.length;J<$;J++){const we=te(st[J],re[J],We);T?He(we.x,we.y+A[h-1].y,A[h-1].x+Ae):He(we.x,we.y,d+Ae)}}}be(),Oe();function be(){const K=i.length/3;if(g){let je=0,Ae=Z*je;for(let We=0;We<he;We++){const Ne=Q[We];Je(Ne[2]+Ae,Ne[1]+Ae,Ne[0]+Ae)}je=h+x*2,Ae=Z*je;for(let We=0;We<he;We++){const Ne=Q[We];Je(Ne[0]+Ae,Ne[1]+Ae,Ne[2]+Ae)}}else{for(let je=0;je<he;je++){const Ae=Q[je];Je(Ae[2],Ae[1],Ae[0])}for(let je=0;je<he;je++){const Ae=Q[je];Je(Ae[0]+Z*h,Ae[1]+Z*h,Ae[2]+Z*h)}}r.addGroup(K,i.length/3-K,0)}function Oe(){const K=i.length/3;let je=0;ke(H,je),je+=H.length;for(let Ae=0,We=G.length;Ae<We;Ae++){const Ne=G[Ae];ke(Ne,je),je+=Ne.length}r.addGroup(K,i.length/3-K,1)}function ke(K,je){let Ae=K.length;for(;--Ae>=0;){const We=Ae;let Ne=Ae-1;Ne<0&&(Ne=K.length-1);for(let gt=0,st=h+x*2;gt<st;gt++){const J=Z*gt,$=Z*(gt+1),we=je+We+J,Xe=je+Ne+J,$e=je+Ne+$,Ge=je+We+$;Ue(we,Xe,$e,Ge)}}}function He(K,je,Ae){u.push(K),u.push(je),u.push(Ae)}function Je(K,je,Ae){qe(K),qe(je),qe(Ae);const We=i.length/3,Ne=E.generateTopUV(r,i,We-3,We-2,We-1);Qe(Ne[0]),Qe(Ne[1]),Qe(Ne[2])}function Ue(K,je,Ae,We){qe(K),qe(je),qe(We),qe(je),qe(Ae),qe(We);const Ne=i.length/3,gt=E.generateSideWallUV(r,i,Ne-6,Ne-3,Ne-2,Ne-1);Qe(gt[0]),Qe(gt[1]),Qe(gt[3]),Qe(gt[1]),Qe(gt[2]),Qe(gt[3])}function qe(K){i.push(u[K*3+0]),i.push(u[K*3+1]),i.push(u[K*3+2])}function Qe(K){a.push(K.x),a.push(K.y)}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),t=this.parameters.shapes,r=this.parameters.options;return O7(t,r,e)}static fromJSON(e,t){const r=[];for(let a=0,o=e.shapes.length;a<o;a++){const s=t[e.shapes[a]];r.push(s)}const i=e.options.extrudePath;return i!==void 0&&(e.options.extrudePath=new cx[i.type]().fromJSON(i)),new E_(r,e.options)}}const R7={generateTopUV:function(n,e,t,r,i){const a=e[t*3],o=e[t*3+1],s=e[r*3],u=e[r*3+1],c=e[i*3],h=e[i*3+1];return[new Ve(a,o),new Ve(s,u),new Ve(c,h)]},generateSideWallUV:function(n,e,t,r,i,a){const o=e[t*3],s=e[t*3+1],u=e[t*3+2],c=e[r*3],h=e[r*3+1],d=e[r*3+2],g=e[i*3],y=e[i*3+1],b=e[i*3+2],S=e[a*3],x=e[a*3+1],_=e[a*3+2];return Math.abs(s-h)<Math.abs(o-c)?[new Ve(o,1-u),new Ve(c,1-d),new Ve(g,1-b),new Ve(S,1-_)]:[new Ve(s,1-u),new Ve(h,1-d),new Ve(y,1-b),new Ve(x,1-_)]}};function O7(n,e,t){if(t.shapes=[],Array.isArray(n))for(let r=0,i=n.length;r<i;r++){const a=n[r];t.shapes.push(a.uuid)}else t.shapes.push(n.uuid);return t.options=Object.assign({},e),e.extrudePath!==void 0&&(t.options.extrudePath=e.extrudePath.toJSON()),t}class bv extends lc{constructor(e=1,t=0){const r=(1+Math.sqrt(5))/2,i=[-1,r,0,1,r,0,-1,-r,0,1,-r,0,0,-1,r,0,1,r,0,-1,-r,0,1,-r,r,0,-1,r,0,1,-r,0,-1,-r,0,1],a=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];super(i,a,e,t),this.type="IcosahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new bv(e.radius,e.detail)}}class Sv extends lc{constructor(e=1,t=0){const r=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],i=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];super(r,i,e,t),this.type="OctahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new Sv(e.radius,e.detail)}}class A_ extends mn{constructor(e=.5,t=1,r=32,i=1,a=0,o=Math.PI*2){super(),this.type="RingGeometry",this.parameters={innerRadius:e,outerRadius:t,thetaSegments:r,phiSegments:i,thetaStart:a,thetaLength:o},r=Math.max(3,r),i=Math.max(1,i);const s=[],u=[],c=[],h=[];let d=e;const g=(t-e)/i,y=new ie,b=new Ve;for(let S=0;S<=i;S++){for(let x=0;x<=r;x++){const _=a+x/r*o;y.x=d*Math.cos(_),y.y=d*Math.sin(_),u.push(y.x,y.y,y.z),c.push(0,0,1),b.x=(y.x/t+1)/2,b.y=(y.y/t+1)/2,h.push(b.x,b.y)}d+=g}for(let S=0;S<i;S++){const x=S*(r+1);for(let _=0;_<r;_++){const E=_+x,A=E,T=E+r+1,P=E+r+2,O=E+1;s.push(A,T,O),s.push(T,P,O)}}this.setIndex(s),this.setAttribute("position",new Dt(u,3)),this.setAttribute("normal",new Dt(c,3)),this.setAttribute("uv",new Dt(h,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new A_(e.innerRadius,e.outerRadius,e.thetaSegments,e.phiSegments,e.thetaStart,e.thetaLength)}}class T_ extends mn{constructor(e=new Qu([new Ve(0,.5),new Ve(-.5,-.5),new Ve(.5,-.5)]),t=12){super(),this.type="ShapeGeometry",this.parameters={shapes:e,curveSegments:t};const r=[],i=[],a=[],o=[];let s=0,u=0;if(Array.isArray(e)===!1)c(e);else for(let h=0;h<e.length;h++)c(e[h]),this.addGroup(s,u,h),s+=u,u=0;this.setIndex(r),this.setAttribute("position",new Dt(i,3)),this.setAttribute("normal",new Dt(a,3)),this.setAttribute("uv",new Dt(o,2));function c(h){const d=i.length/3,g=h.extractPoints(t);let y=g.shape;const b=g.holes;Us.isClockWise(y)===!1&&(y=y.reverse());for(let x=0,_=b.length;x<_;x++){const E=b[x];Us.isClockWise(E)===!0&&(b[x]=E.reverse())}const S=Us.triangulateShape(y,b);for(let x=0,_=b.length;x<_;x++){const E=b[x];y=y.concat(E)}for(let x=0,_=y.length;x<_;x++){const E=y[x];i.push(E.x,E.y,0),a.push(0,0,1),o.push(E.x,E.y)}for(let x=0,_=S.length;x<_;x++){const E=S[x],A=E[0]+d,T=E[1]+d,P=E[2]+d;r.push(A,T,P),u+=3}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),t=this.parameters.shapes;return I7(t,e)}static fromJSON(e,t){const r=[];for(let i=0,a=e.shapes.length;i<a;i++){const o=t[e.shapes[i]];r.push(o)}return new T_(r,e.curveSegments)}}function I7(n,e){if(e.shapes=[],Array.isArray(n))for(let t=0,r=n.length;t<r;t++){const i=n[t];e.shapes.push(i.uuid)}else e.shapes.push(n.uuid);return e}class wv extends mn{constructor(e=1,t=32,r=16,i=0,a=Math.PI*2,o=0,s=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:t,heightSegments:r,phiStart:i,phiLength:a,thetaStart:o,thetaLength:s},t=Math.max(3,Math.floor(t)),r=Math.max(2,Math.floor(r));const u=Math.min(o+s,Math.PI);let c=0;const h=[],d=new ie,g=new ie,y=[],b=[],S=[],x=[];for(let _=0;_<=r;_++){const E=[],A=_/r;let T=0;_===0&&o===0?T=.5/t:_===r&&u===Math.PI&&(T=-.5/t);for(let P=0;P<=t;P++){const O=P/t;d.x=-e*Math.cos(i+O*a)*Math.sin(o+A*s),d.y=e*Math.cos(o+A*s),d.z=e*Math.sin(i+O*a)*Math.sin(o+A*s),b.push(d.x,d.y,d.z),g.copy(d).normalize(),S.push(g.x,g.y,g.z),x.push(O+T,1-A),E.push(c++)}h.push(E)}for(let _=0;_<r;_++)for(let E=0;E<t;E++){const A=h[_][E+1],T=h[_][E],P=h[_+1][E],O=h[_+1][E+1];(_!==0||o>0)&&y.push(A,T,O),(_!==r-1||u<Math.PI)&&y.push(T,P,O)}this.setIndex(y),this.setAttribute("position",new Dt(b,3)),this.setAttribute("normal",new Dt(S,3)),this.setAttribute("uv",new Dt(x,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new wv(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}}class C_ extends lc{constructor(e=1,t=0){const r=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],i=[2,1,0,0,3,2,1,3,0,2,3,1];super(r,i,e,t),this.type="TetrahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new C_(e.radius,e.detail)}}class P_ extends mn{constructor(e=1,t=.4,r=12,i=48,a=Math.PI*2){super(),this.type="TorusGeometry",this.parameters={radius:e,tube:t,radialSegments:r,tubularSegments:i,arc:a},r=Math.floor(r),i=Math.floor(i);const o=[],s=[],u=[],c=[],h=new ie,d=new ie,g=new ie;for(let y=0;y<=r;y++)for(let b=0;b<=i;b++){const S=b/i*a,x=y/r*Math.PI*2;d.x=(e+t*Math.cos(x))*Math.cos(S),d.y=(e+t*Math.cos(x))*Math.sin(S),d.z=t*Math.sin(x),s.push(d.x,d.y,d.z),h.x=e*Math.cos(S),h.y=e*Math.sin(S),g.subVectors(d,h).normalize(),u.push(g.x,g.y,g.z),c.push(b/i),c.push(y/r)}for(let y=1;y<=r;y++)for(let b=1;b<=i;b++){const S=(i+1)*y+b-1,x=(i+1)*(y-1)+b-1,_=(i+1)*(y-1)+b,E=(i+1)*y+b;o.push(S,x,E),o.push(x,_,E)}this.setIndex(o),this.setAttribute("position",new Dt(s,3)),this.setAttribute("normal",new Dt(u,3)),this.setAttribute("uv",new Dt(c,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new P_(e.radius,e.tube,e.radialSegments,e.tubularSegments,e.arc)}}class R_ extends mn{constructor(e=1,t=.4,r=64,i=8,a=2,o=3){super(),this.type="TorusKnotGeometry",this.parameters={radius:e,tube:t,tubularSegments:r,radialSegments:i,p:a,q:o},r=Math.floor(r),i=Math.floor(i);const s=[],u=[],c=[],h=[],d=new ie,g=new ie,y=new ie,b=new ie,S=new ie,x=new ie,_=new ie;for(let A=0;A<=r;++A){const T=A/r*a*Math.PI*2;E(T,a,o,e,y),E(T+.01,a,o,e,b),x.subVectors(b,y),_.addVectors(b,y),S.crossVectors(x,_),_.crossVectors(S,x),S.normalize(),_.normalize();for(let P=0;P<=i;++P){const O=P/i*Math.PI*2,N=-t*Math.cos(O),F=t*Math.sin(O);d.x=y.x+(N*_.x+F*S.x),d.y=y.y+(N*_.y+F*S.y),d.z=y.z+(N*_.z+F*S.z),u.push(d.x,d.y,d.z),g.subVectors(d,y).normalize(),c.push(g.x,g.y,g.z),h.push(A/r),h.push(P/i)}}for(let A=1;A<=r;A++)for(let T=1;T<=i;T++){const P=(i+1)*(A-1)+(T-1),O=(i+1)*A+(T-1),N=(i+1)*A+T,F=(i+1)*(A-1)+T;s.push(P,O,F),s.push(O,N,F)}this.setIndex(s),this.setAttribute("position",new Dt(u,3)),this.setAttribute("normal",new Dt(c,3)),this.setAttribute("uv",new Dt(h,2));function E(A,T,P,O,N){const F=Math.cos(A),D=Math.sin(A),U=P/T*A,G=Math.cos(U);N.x=O*(2+G)*.5*F,N.y=O*(2+G)*D*.5,N.z=O*Math.sin(U)*.5}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new R_(e.radius,e.tube,e.tubularSegments,e.radialSegments,e.p,e.q)}}class O_ extends mn{constructor(e=new LC(new ie(-1,-1,0),new ie(-1,1,0),new ie(1,1,0)),t=64,r=1,i=8,a=!1){super(),this.type="TubeGeometry",this.parameters={path:e,tubularSegments:t,radius:r,radialSegments:i,closed:a};const o=e.computeFrenetFrames(t,a);this.tangents=o.tangents,this.normals=o.normals,this.binormals=o.binormals;const s=new ie,u=new ie,c=new Ve;let h=new ie;const d=[],g=[],y=[],b=[];S(),this.setIndex(b),this.setAttribute("position",new Dt(d,3)),this.setAttribute("normal",new Dt(g,3)),this.setAttribute("uv",new Dt(y,2));function S(){for(let A=0;A<t;A++)x(A);x(a===!1?t:0),E(),_()}function x(A){h=e.getPointAt(A/t,h);const T=o.normals[A],P=o.binormals[A];for(let O=0;O<=i;O++){const N=O/i*Math.PI*2,F=Math.sin(N),D=-Math.cos(N);u.x=D*T.x+F*P.x,u.y=D*T.y+F*P.y,u.z=D*T.z+F*P.z,u.normalize(),g.push(u.x,u.y,u.z),s.x=h.x+r*u.x,s.y=h.y+r*u.y,s.z=h.z+r*u.z,d.push(s.x,s.y,s.z)}}function _(){for(let A=1;A<=t;A++)for(let T=1;T<=i;T++){const P=(i+1)*(A-1)+(T-1),O=(i+1)*A+(T-1),N=(i+1)*A+T,F=(i+1)*(A-1)+T;b.push(P,O,F),b.push(O,N,F)}}function E(){for(let A=0;A<=t;A++)for(let T=0;T<=i;T++)c.x=A/t,c.y=T/i,y.push(c.x,c.y)}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON();return e.path=this.parameters.path.toJSON(),e}static fromJSON(e){return new O_(new cx[e.path.type]().fromJSON(e.path),e.tubularSegments,e.radius,e.radialSegments,e.closed)}}class DB extends mn{constructor(e=null){if(super(),this.type="WireframeGeometry",this.parameters={geometry:e},e!==null){const t=[],r=new Set,i=new ie,a=new ie;if(e.index!==null){const o=e.attributes.position,s=e.index;let u=e.groups;u.length===0&&(u=[{start:0,count:s.count,materialIndex:0}]);for(let c=0,h=u.length;c<h;++c){const d=u[c],g=d.start,y=d.count;for(let b=g,S=g+y;b<S;b+=3)for(let x=0;x<3;x++){const _=s.getX(b+x),E=s.getX(b+(x+1)%3);i.fromBufferAttribute(o,_),a.fromBufferAttribute(o,E),cO(i,a,r)===!0&&(t.push(i.x,i.y,i.z),t.push(a.x,a.y,a.z))}}}else{const o=e.attributes.position;for(let s=0,u=o.count/3;s<u;s++)for(let c=0;c<3;c++){const h=3*s+c,d=3*s+(c+1)%3;i.fromBufferAttribute(o,h),a.fromBufferAttribute(o,d),cO(i,a,r)===!0&&(t.push(i.x,i.y,i.z),t.push(a.x,a.y,a.z))}}this.setAttribute("position",new Dt(t,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}function cO(n,e,t){const r=`${n.x},${n.y},${n.z}-${e.x},${e.y},${e.z}`,i=`${e.x},${e.y},${e.z}-${n.x},${n.y},${n.z}`;return t.has(r)===!0||t.has(i)===!0?!1:(t.add(r),t.add(i),!0)}var fO=Object.freeze({__proto__:null,BoxGeometry:Vf,CapsuleGeometry:__,CircleGeometry:b_,ConeGeometry:S_,CylinderGeometry:pp,DodecahedronGeometry:w_,EdgesGeometry:IB,ExtrudeGeometry:E_,IcosahedronGeometry:bv,LatheGeometry:_v,OctahedronGeometry:Sv,PlaneGeometry:hp,PolyhedronGeometry:lc,RingGeometry:A_,ShapeGeometry:T_,SphereGeometry:wv,TetrahedronGeometry:C_,TorusGeometry:P_,TorusKnotGeometry:R_,TubeGeometry:O_,WireframeGeometry:DB});class UB extends Ii{constructor(e){super(),this.isShadowMaterial=!0,this.type="ShadowMaterial",this.color=new wt(0),this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.fog=e.fog,this}}class FB extends Da{constructor(e){super(e),this.isRawShaderMaterial=!0,this.type="RawShaderMaterial"}}class DC extends Ii{constructor(e){super(),this.isMeshStandardMaterial=!0,this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new wt(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new wt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=oc,this.normalScale=new Ve(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapIntensity=e.envMapIntensity,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class BB extends DC{constructor(e){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.anisotropyRotation=0,this.anisotropyMap=null,this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new Ve(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return Cr(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(t){this.ior=(1+.4*t)/(1-.4*t)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new wt(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=1/0,this.attenuationColor=new wt(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new wt(1,1,1),this.specularColorMap=null,this._anisotropy=0,this._clearcoat=0,this._iridescence=0,this._sheen=0,this._transmission=0,this.setValues(e)}get anisotropy(){return this._anisotropy}set anisotropy(e){this._anisotropy>0!=e>0&&this.version++,this._anisotropy=e}get clearcoat(){return this._clearcoat}set clearcoat(e){this._clearcoat>0!=e>0&&this.version++,this._clearcoat=e}get iridescence(){return this._iridescence}set iridescence(e){this._iridescence>0!=e>0&&this.version++,this._iridescence=e}get sheen(){return this._sheen}set sheen(e){this._sheen>0!=e>0&&this.version++,this._sheen=e}get transmission(){return this._transmission}set transmission(e){this._transmission>0!=e>0&&this.version++,this._transmission=e}copy(e){return super.copy(e),this.defines={STANDARD:"",PHYSICAL:""},this.anisotropy=e.anisotropy,this.anisotropyRotation=e.anisotropyRotation,this.anisotropyMap=e.anisotropyMap,this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.ior=e.ior,this.iridescence=e.iridescence,this.iridescenceMap=e.iridescenceMap,this.iridescenceIOR=e.iridescenceIOR,this.iridescenceThicknessRange=[...e.iridescenceThicknessRange],this.iridescenceThicknessMap=e.iridescenceThicknessMap,this.sheen=e.sheen,this.sheenColor.copy(e.sheenColor),this.sheenColorMap=e.sheenColorMap,this.sheenRoughness=e.sheenRoughness,this.sheenRoughnessMap=e.sheenRoughnessMap,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationColor.copy(e.attenuationColor),this.specularIntensity=e.specularIntensity,this.specularIntensityMap=e.specularIntensityMap,this.specularColor.copy(e.specularColor),this.specularColorMap=e.specularColorMap,this}}class zB extends Ii{constructor(e){super(),this.isMeshPhongMaterial=!0,this.type="MeshPhongMaterial",this.color=new wt(16777215),this.specular=new wt(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new wt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=oc,this.normalScale=new Ve(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=pv,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class jB extends Ii{constructor(e){super(),this.isMeshToonMaterial=!0,this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new wt(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new wt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=oc,this.normalScale=new Ve(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}class HB extends Ii{constructor(e){super(),this.isMeshNormalMaterial=!0,this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=oc,this.normalScale=new Ve(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this}}class VB extends Ii{constructor(e){super(),this.isMeshLambertMaterial=!0,this.type="MeshLambertMaterial",this.color=new wt(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new wt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=oc,this.normalScale=new Ve(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=pv,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class GB extends Ii{constructor(e){super(),this.isMeshMatcapMaterial=!0,this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new wt(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=oc,this.normalScale=new Ve(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.flatShading=e.flatShading,this.fog=e.fog,this}}class WB extends ga{constructor(e){super(),this.isLineDashedMaterial=!0,this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}copy(e){return super.copy(e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this}}function _f(n,e,t){return!n||!t&&n.constructor===e?n:typeof e.BYTES_PER_ELEMENT=="number"?new e(n):Array.prototype.slice.call(n)}function qB(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}function $B(n){function e(i,a){return n[i]-n[a]}const t=n.length,r=new Array(t);for(let i=0;i!==t;++i)r[i]=i;return r.sort(e),r}function NA(n,e,t){const r=n.length,i=new n.constructor(r);for(let a=0,o=0;o!==r;++a){const s=t[a]*e;for(let u=0;u!==e;++u)i[o++]=n[s+u]}return i}function UC(n,e,t,r){let i=1,a=n[0];for(;a!==void 0&&a[r]===void 0;)a=n[i++];if(a===void 0)return;let o=a[r];if(o!==void 0)if(Array.isArray(o))do o=a[r],o!==void 0&&(e.push(a.time),t.push.apply(t,o)),a=n[i++];while(a!==void 0);else if(o.toArray!==void 0)do o=a[r],o!==void 0&&(e.push(a.time),o.toArray(t,t.length)),a=n[i++];while(a!==void 0);else do o=a[r],o!==void 0&&(e.push(a.time),t.push(o)),a=n[i++];while(a!==void 0)}function N7(n,e,t,r,i=30){const a=n.clone();a.name=e;const o=[];for(let u=0;u<a.tracks.length;++u){const c=a.tracks[u],h=c.getValueSize(),d=[],g=[];for(let y=0;y<c.times.length;++y){const b=c.times[y]*i;if(!(b<t||b>=r)){d.push(c.times[y]);for(let S=0;S<h;++S)g.push(c.values[y*h+S])}}d.length!==0&&(c.times=_f(d,c.times.constructor),c.values=_f(g,c.values.constructor),o.push(c))}a.tracks=o;let s=1/0;for(let u=0;u<a.tracks.length;++u)s>a.tracks[u].times[0]&&(s=a.tracks[u].times[0]);for(let u=0;u<a.tracks.length;++u)a.tracks[u].shift(-1*s);return a.resetDuration(),a}function L7(n,e=0,t=n,r=30){r<=0&&(r=30);const i=t.tracks.length,a=e/r;for(let o=0;o<i;++o){const s=t.tracks[o],u=s.ValueTypeName;if(u==="bool"||u==="string")continue;const c=n.tracks.find(function(_){return _.name===s.name&&_.ValueTypeName===u});if(c===void 0)continue;let h=0;const d=s.getValueSize();s.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(h=d/3);let g=0;const y=c.getValueSize();c.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(g=y/3);const b=s.times.length-1;let S;if(a<=s.times[0]){const _=h,E=d-h;S=s.values.slice(_,E)}else if(a>=s.times[b]){const _=b*d+h,E=_+d-h;S=s.values.slice(_,E)}else{const _=s.createInterpolant(),E=h,A=d-h;_.evaluate(a),S=_.resultBuffer.slice(E,A)}u==="quaternion"&&new Zi().fromArray(S).normalize().conjugate().toArray(S);const x=c.times.length;for(let _=0;_<x;++_){const E=_*y+g;if(u==="quaternion")Zi.multiplyQuaternionsFlat(c.values,E,S,0,c.values,E);else{const A=y-g*2;for(let T=0;T<A;++T)c.values[E+T]-=S[T]}}}return n.blendMode=dC,n}const k7={convertArray:_f,isTypedArray:qB,getKeyframeOrder:$B,sortedArray:NA,flattenJSON:UC,subclip:N7,makeClipAdditive:L7};class Mv{constructor(e,t,r,i){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=i!==void 0?i:new t.constructor(r),this.sampleValues=t,this.valueSize=r,this.settings=null,this.DefaultSettings_={}}evaluate(e){const t=this.parameterPositions;let r=this._cachedIndex,i=t[r],a=t[r-1];e:{t:{let o;n:{r:if(!(e<i)){for(let s=r+2;;){if(i===void 0){if(e<a)break r;return r=t.length,this._cachedIndex=r,this.copySampleValue_(r-1)}if(r===s)break;if(a=i,i=t[++r],e<i)break t}o=t.length;break n}if(!(e>=a)){const s=t[1];e<s&&(r=2,a=s);for(let u=r-2;;){if(a===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(r===u)break;if(i=a,a=t[--r-1],e>=a)break t}o=r,r=0;break n}break e}for(;r<o;){const s=r+o>>>1;e<t[s]?o=s:r=s+1}if(i=t[r],a=t[r-1],a===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(i===void 0)return r=t.length,this._cachedIndex=r,this.copySampleValue_(r-1)}this._cachedIndex=r,this.intervalChanged_(r,a,i)}return this.interpolate_(r,a,e,i)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){const t=this.resultBuffer,r=this.sampleValues,i=this.valueSize,a=e*i;for(let o=0;o!==i;++o)t[o]=r[a+o];return t}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class XB extends Mv{constructor(e,t,r,i){super(e,t,r,i),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:gf,endingEnd:gf}}intervalChanged_(e,t,r){const i=this.parameterPositions;let a=e-2,o=e+1,s=i[a],u=i[o];if(s===void 0)switch(this.getSettings_().endingStart){case vf:a=e,s=2*t-r;break;case cg:a=i.length-2,s=t+i[a]-i[a+1];break;default:a=e,s=r}if(u===void 0)switch(this.getSettings_().endingEnd){case vf:o=e,u=2*r-t;break;case cg:o=1,u=r+i[1]-i[0];break;default:o=e-1,u=t}const c=(r-t)*.5,h=this.valueSize;this._weightPrev=c/(t-s),this._weightNext=c/(u-r),this._offsetPrev=a*h,this._offsetNext=o*h}interpolate_(e,t,r,i){const a=this.resultBuffer,o=this.sampleValues,s=this.valueSize,u=e*s,c=u-s,h=this._offsetPrev,d=this._offsetNext,g=this._weightPrev,y=this._weightNext,b=(r-t)/(i-t),S=b*b,x=S*b,_=-g*x+2*g*S-g*b,E=(1+g)*x+(-1.5-2*g)*S+(-.5+g)*b+1,A=(-1-y)*x+(1.5+y)*S+.5*b,T=y*x-y*S;for(let P=0;P!==s;++P)a[P]=_*o[h+P]+E*o[c+P]+A*o[u+P]+T*o[d+P];return a}}class FC extends Mv{constructor(e,t,r,i){super(e,t,r,i)}interpolate_(e,t,r,i){const a=this.resultBuffer,o=this.sampleValues,s=this.valueSize,u=e*s,c=u-s,h=(r-t)/(i-t),d=1-h;for(let g=0;g!==s;++g)a[g]=o[c+g]*d+o[u+g]*h;return a}}class YB extends Mv{constructor(e,t,r,i){super(e,t,r,i)}interpolate_(e){return this.copySampleValue_(e-1)}}class fs{constructor(e,t,r,i){if(e===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(t===void 0||t.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=_f(t,this.TimeBufferType),this.values=_f(r,this.ValueBufferType),this.setInterpolation(i||this.DefaultInterpolation)}static toJSON(e){const t=e.constructor;let r;if(t.toJSON!==this.toJSON)r=t.toJSON(e);else{r={name:e.name,times:_f(e.times,Array),values:_f(e.values,Array)};const i=e.getInterpolation();i!==e.DefaultInterpolation&&(r.interpolation=i)}return r.type=e.ValueTypeName,r}InterpolantFactoryMethodDiscrete(e){return new YB(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new FC(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new XB(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let t;switch(e){case lg:t=this.InterpolantFactoryMethodDiscrete;break;case ug:t=this.InterpolantFactoryMethodLinear;break;case Zy:t=this.InterpolantFactoryMethodSmooth;break}if(t===void 0){const r="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(e!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(r);return console.warn("THREE.KeyframeTrack:",r),this}return this.createInterpolant=t,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return lg;case this.InterpolantFactoryMethodLinear:return ug;case this.InterpolantFactoryMethodSmooth:return Zy}}getValueSize(){return this.values.length/this.times.length}shift(e){if(e!==0){const t=this.times;for(let r=0,i=t.length;r!==i;++r)t[r]+=e}return this}scale(e){if(e!==1){const t=this.times;for(let r=0,i=t.length;r!==i;++r)t[r]*=e}return this}trim(e,t){const r=this.times,i=r.length;let a=0,o=i-1;for(;a!==i&&r[a]<e;)++a;for(;o!==-1&&r[o]>t;)--o;if(++o,a!==0||o!==i){a>=o&&(o=Math.max(o,1),a=o-1);const s=this.getValueSize();this.times=r.slice(a,o),this.values=this.values.slice(a*s,o*s)}return this}validate(){let e=!0;const t=this.getValueSize();t-Math.floor(t)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);const r=this.times,i=this.values,a=r.length;a===0&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);let o=null;for(let s=0;s!==a;s++){const u=r[s];if(typeof u=="number"&&isNaN(u)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,s,u),e=!1;break}if(o!==null&&o>u){console.error("THREE.KeyframeTrack: Out of order keys.",this,s,u,o),e=!1;break}o=u}if(i!==void 0&&qB(i))for(let s=0,u=i.length;s!==u;++s){const c=i[s];if(isNaN(c)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,s,c),e=!1;break}}return e}optimize(){const e=this.times.slice(),t=this.values.slice(),r=this.getValueSize(),i=this.getInterpolation()===Zy,a=e.length-1;let o=1;for(let s=1;s<a;++s){let u=!1;const c=e[s],h=e[s+1];if(c!==h&&(s!==1||c!==e[0]))if(i)u=!0;else{const d=s*r,g=d-r,y=d+r;for(let b=0;b!==r;++b){const S=t[d+b];if(S!==t[g+b]||S!==t[y+b]){u=!0;break}}}if(u){if(s!==o){e[o]=e[s];const d=s*r,g=o*r;for(let y=0;y!==r;++y)t[g+y]=t[d+y]}++o}}if(a>0){e[o]=e[a];for(let s=a*r,u=o*r,c=0;c!==r;++c)t[u+c]=t[s+c];++o}return o!==e.length?(this.times=e.slice(0,o),this.values=t.slice(0,o*r)):(this.times=e,this.values=t),this}clone(){const e=this.times.slice(),t=this.values.slice(),r=this.constructor,i=new r(this.name,e,t);return i.createInterpolant=this.createInterpolant,i}}fs.prototype.TimeBufferType=Float32Array;fs.prototype.ValueBufferType=Float32Array;fs.prototype.DefaultInterpolation=ug;class Gf extends fs{}Gf.prototype.ValueTypeName="bool";Gf.prototype.ValueBufferType=Array;Gf.prototype.DefaultInterpolation=lg;Gf.prototype.InterpolantFactoryMethodLinear=void 0;Gf.prototype.InterpolantFactoryMethodSmooth=void 0;class BC extends fs{}BC.prototype.ValueTypeName="color";class bg extends fs{}bg.prototype.ValueTypeName="number";class KB extends Mv{constructor(e,t,r,i){super(e,t,r,i)}interpolate_(e,t,r,i){const a=this.resultBuffer,o=this.sampleValues,s=this.valueSize,u=(r-t)/(i-t);let c=e*s;for(let h=c+s;c!==h;c+=4)Zi.slerpFlat(a,0,o,c-s,o,c,u);return a}}class mp extends fs{InterpolantFactoryMethodLinear(e){return new KB(this.times,this.values,this.getValueSize(),e)}}mp.prototype.ValueTypeName="quaternion";mp.prototype.DefaultInterpolation=ug;mp.prototype.InterpolantFactoryMethodSmooth=void 0;class Wf extends fs{}Wf.prototype.ValueTypeName="string";Wf.prototype.ValueBufferType=Array;Wf.prototype.DefaultInterpolation=lg;Wf.prototype.InterpolantFactoryMethodLinear=void 0;Wf.prototype.InterpolantFactoryMethodSmooth=void 0;class Sg extends fs{}Sg.prototype.ValueTypeName="vector";class wg{constructor(e,t=-1,r,i=l_){this.name=e,this.tracks=r,this.duration=t,this.blendMode=i,this.uuid=no(),this.duration<0&&this.resetDuration()}static parse(e){const t=[],r=e.tracks,i=1/(e.fps||1);for(let o=0,s=r.length;o!==s;++o)t.push(U7(r[o]).scale(i));const a=new this(e.name,e.duration,t,e.blendMode);return a.uuid=e.uuid,a}static toJSON(e){const t=[],r=e.tracks,i={name:e.name,duration:e.duration,tracks:t,uuid:e.uuid,blendMode:e.blendMode};for(let a=0,o=r.length;a!==o;++a)t.push(fs.toJSON(r[a]));return i}static CreateFromMorphTargetSequence(e,t,r,i){const a=t.length,o=[];for(let s=0;s<a;s++){let u=[],c=[];u.push((s+a-1)%a,s,(s+1)%a),c.push(0,1,0);const h=$B(u);u=NA(u,1,h),c=NA(c,1,h),!i&&u[0]===0&&(u.push(a),c.push(c[0])),o.push(new bg(".morphTargetInfluences["+t[s].name+"]",u,c).scale(1/r))}return new this(e,-1,o)}static findByName(e,t){let r=e;if(!Array.isArray(e)){const i=e;r=i.geometry&&i.geometry.animations||i.animations}for(let i=0;i<r.length;i++)if(r[i].name===t)return r[i];return null}static CreateClipsFromMorphTargetSequences(e,t,r){const i={},a=/^([\w-]*?)([\d]+)$/;for(let s=0,u=e.length;s<u;s++){const c=e[s],h=c.name.match(a);if(h&&h.length>1){const d=h[1];let g=i[d];g||(i[d]=g=[]),g.push(c)}}const o=[];for(const s in i)o.push(this.CreateFromMorphTargetSequence(s,i[s],t,r));return o}static parseAnimation(e,t){if(!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const r=function(d,g,y,b,S){if(y.length!==0){const x=[],_=[];UC(y,x,_,b),x.length!==0&&S.push(new d(g,x,_))}},i=[],a=e.name||"default",o=e.fps||30,s=e.blendMode;let u=e.length||-1;const c=e.hierarchy||[];for(let d=0;d<c.length;d++){const g=c[d].keys;if(!(!g||g.length===0))if(g[0].morphTargets){const y={};let b;for(b=0;b<g.length;b++)if(g[b].morphTargets)for(let S=0;S<g[b].morphTargets.length;S++)y[g[b].morphTargets[S]]=-1;for(const S in y){const x=[],_=[];for(let E=0;E!==g[b].morphTargets.length;++E){const A=g[b];x.push(A.time),_.push(A.morphTarget===S?1:0)}i.push(new bg(".morphTargetInfluence["+S+"]",x,_))}u=y.length*o}else{const y=".bones["+t[d].name+"]";r(Sg,y+".position",g,"pos",i),r(mp,y+".quaternion",g,"rot",i),r(Sg,y+".scale",g,"scl",i)}}return i.length===0?null:new this(a,u,i,s)}resetDuration(){const e=this.tracks;let t=0;for(let r=0,i=e.length;r!==i;++r){const a=this.tracks[r];t=Math.max(t,a.times[a.times.length-1])}return this.duration=t,this}trim(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}validate(){let e=!0;for(let t=0;t<this.tracks.length;t++)e=e&&this.tracks[t].validate();return e}optimize(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}clone(){const e=[];for(let t=0;t<this.tracks.length;t++)e.push(this.tracks[t].clone());return new this.constructor(this.name,this.duration,e,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}}function D7(n){switch(n.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return bg;case"vector":case"vector2":case"vector3":case"vector4":return Sg;case"color":return BC;case"quaternion":return mp;case"bool":case"boolean":return Gf;case"string":return Wf}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+n)}function U7(n){if(n.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const e=D7(n.type);if(n.times===void 0){const t=[],r=[];UC(n.keys,t,r,"value"),n.times=t,n.values=r}return e.parse!==void 0?e.parse(n):new e(n.name,n.times,n.values,n.interpolation)}const Cl={enabled:!1,files:{},add:function(n,e){this.enabled!==!1&&(this.files[n]=e)},get:function(n){if(this.enabled!==!1)return this.files[n]},remove:function(n){delete this.files[n]},clear:function(){this.files={}}};class zC{constructor(e,t,r){const i=this;let a=!1,o=0,s=0,u;const c=[];this.onStart=void 0,this.onLoad=e,this.onProgress=t,this.onError=r,this.itemStart=function(h){s++,a===!1&&i.onStart!==void 0&&i.onStart(h,o,s),a=!0},this.itemEnd=function(h){o++,i.onProgress!==void 0&&i.onProgress(h,o,s),o===s&&(a=!1,i.onLoad!==void 0&&i.onLoad())},this.itemError=function(h){i.onError!==void 0&&i.onError(h)},this.resolveURL=function(h){return u?u(h):h},this.setURLModifier=function(h){return u=h,this},this.addHandler=function(h,d){return c.push(h,d),this},this.removeHandler=function(h){const d=c.indexOf(h);return d!==-1&&c.splice(d,2),this},this.getHandler=function(h){for(let d=0,g=c.length;d<g;d+=2){const y=c[d],b=c[d+1];if(y.global&&(y.lastIndex=0),y.test(h))return b}return null}}}const ZB=new zC;class Ua{constructor(e){this.manager=e!==void 0?e:ZB,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,t){const r=this;return new Promise(function(i,a){r.load(e,i,t,a)})}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}}Ua.DEFAULT_MATERIAL_NAME="__DEFAULT";const Ml={};class F7 extends Error{constructor(e,t){super(e),this.response=t}}class Ul extends Ua{constructor(e){super(e)}load(e,t,r,i){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const a=Cl.get(e);if(a!==void 0)return this.manager.itemStart(e),setTimeout(()=>{t&&t(a),this.manager.itemEnd(e)},0),a;if(Ml[e]!==void 0){Ml[e].push({onLoad:t,onProgress:r,onError:i});return}Ml[e]=[],Ml[e].push({onLoad:t,onProgress:r,onError:i});const o=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),s=this.mimeType,u=this.responseType;fetch(o).then(c=>{if(c.status===200||c.status===0){if(c.status===0&&console.warn("THREE.FileLoader: HTTP Status 0 received."),typeof ReadableStream>"u"||c.body===void 0||c.body.getReader===void 0)return c;const h=Ml[e],d=c.body.getReader(),g=c.headers.get("Content-Length")||c.headers.get("X-File-Size"),y=g?parseInt(g):0,b=y!==0;let S=0;const x=new ReadableStream({start(_){E();function E(){d.read().then(({done:A,value:T})=>{if(A)_.close();else{S+=T.byteLength;const P=new ProgressEvent("progress",{lengthComputable:b,loaded:S,total:y});for(let O=0,N=h.length;O<N;O++){const F=h[O];F.onProgress&&F.onProgress(P)}_.enqueue(T),E()}})}}});return new Response(x)}else throw new F7(`fetch for "${c.url}" responded with ${c.status}: ${c.statusText}`,c)}).then(c=>{switch(u){case"arraybuffer":return c.arrayBuffer();case"blob":return c.blob();case"document":return c.text().then(h=>new DOMParser().parseFromString(h,s));case"json":return c.json();default:if(s===void 0)return c.text();{const d=/charset="?([^;"\s]*)"?/i.exec(s),g=d&&d[1]?d[1].toLowerCase():void 0,y=new TextDecoder(g);return c.arrayBuffer().then(b=>y.decode(b))}}}).then(c=>{Cl.add(e,c);const h=Ml[e];delete Ml[e];for(let d=0,g=h.length;d<g;d++){const y=h[d];y.onLoad&&y.onLoad(c)}}).catch(c=>{const h=Ml[e];if(h===void 0)throw this.manager.itemError(e),c;delete Ml[e];for(let d=0,g=h.length;d<g;d++){const y=h[d];y.onError&&y.onError(c)}this.manager.itemError(e)}).finally(()=>{this.manager.itemEnd(e)}),this.manager.itemStart(e)}setResponseType(e){return this.responseType=e,this}setMimeType(e){return this.mimeType=e,this}}class B7 extends Ua{constructor(e){super(e)}load(e,t,r,i){const a=this,o=new Ul(this.manager);o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(s){try{t(a.parse(JSON.parse(s)))}catch(u){i?i(u):console.error(u),a.manager.itemError(e)}},r,i)}parse(e){const t=[];for(let r=0;r<e.length;r++){const i=wg.parse(e[r]);t.push(i)}return t}}class z7 extends Ua{constructor(e){super(e)}load(e,t,r,i){const a=this,o=[],s=new y_,u=new Ul(this.manager);u.setPath(this.path),u.setResponseType("arraybuffer"),u.setRequestHeader(this.requestHeader),u.setWithCredentials(a.withCredentials);let c=0;function h(d){u.load(e[d],function(g){const y=a.parse(g,!0);o[d]={width:y.width,height:y.height,format:y.format,mipmaps:y.mipmaps},c+=1,c===6&&(y.mipmapCount===1&&(s.minFilter=dr),s.image=o,s.format=y.format,s.needsUpdate=!0,t&&t(s))},r,i)}if(Array.isArray(e))for(let d=0,g=e.length;d<g;++d)h(d);else u.load(e,function(d){const g=a.parse(d,!0);if(g.isCubemap){const y=g.mipmaps.length/g.mipmapCount;for(let b=0;b<y;b++){o[b]={mipmaps:[]};for(let S=0;S<g.mipmapCount;S++)o[b].mipmaps.push(g.mipmaps[b*g.mipmapCount+S]),o[b].format=g.format,o[b].width=g.width,o[b].height=g.height}s.image=o}else s.image.width=g.width,s.image.height=g.height,s.mipmaps=g.mipmaps;g.mipmapCount===1&&(s.minFilter=dr),s.format=g.format,s.needsUpdate=!0,t&&t(s)},r,i);return s}}class Mg extends Ua{constructor(e){super(e)}load(e,t,r,i){this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const a=this,o=Cl.get(e);if(o!==void 0)return a.manager.itemStart(e),setTimeout(function(){t&&t(o),a.manager.itemEnd(e)},0),o;const s=mg("img");function u(){h(),Cl.add(e,this),t&&t(this),a.manager.itemEnd(e)}function c(d){h(),i&&i(d),a.manager.itemError(e),a.manager.itemEnd(e)}function h(){s.removeEventListener("load",u,!1),s.removeEventListener("error",c,!1)}return s.addEventListener("load",u,!1),s.addEventListener("error",c,!1),e.slice(0,5)!=="data:"&&this.crossOrigin!==void 0&&(s.crossOrigin=this.crossOrigin),a.manager.itemStart(e),s.src=e,s}}class JB extends Ua{constructor(e){super(e)}load(e,t,r,i){const a=new yv;a.colorSpace=ri;const o=new Mg(this.manager);o.setCrossOrigin(this.crossOrigin),o.setPath(this.path);let s=0;function u(c){o.load(e[c],function(h){a.images[c]=h,s++,s===6&&(a.needsUpdate=!0,t&&t(a))},void 0,i)}for(let c=0;c<e.length;++c)u(c);return a}}class jC extends Ua{constructor(e){super(e)}load(e,t,r,i){const a=this,o=new Rf,s=new Ul(this.manager);return s.setResponseType("arraybuffer"),s.setRequestHeader(this.requestHeader),s.setPath(this.path),s.setWithCredentials(a.withCredentials),s.load(e,function(u){let c;try{c=a.parse(u)}catch(h){if(i!==void 0)i(h);else{console.error(h);return}}c.image!==void 0?o.image=c.image:c.data!==void 0&&(o.image.width=c.width,o.image.height=c.height,o.image.data=c.data),o.wrapS=c.wrapS!==void 0?c.wrapS:Yi,o.wrapT=c.wrapT!==void 0?c.wrapT:Yi,o.magFilter=c.magFilter!==void 0?c.magFilter:dr,o.minFilter=c.minFilter!==void 0?c.minFilter:dr,o.anisotropy=c.anisotropy!==void 0?c.anisotropy:1,c.colorSpace!==void 0?o.colorSpace=c.colorSpace:c.encoding!==void 0&&(o.encoding=c.encoding),c.flipY!==void 0&&(o.flipY=c.flipY),c.format!==void 0&&(o.format=c.format),c.type!==void 0&&(o.type=c.type),c.mipmaps!==void 0&&(o.mipmaps=c.mipmaps,o.minFilter=rc),c.mipmapCount===1&&(o.minFilter=dr),c.generateMipmaps!==void 0&&(o.generateMipmaps=c.generateMipmaps),o.needsUpdate=!0,t&&t(o,c)},r,i),o}}class I_ extends Ua{constructor(e){super(e)}load(e,t,r,i){const a=new Mr,o=new Mg(this.manager);return o.setCrossOrigin(this.crossOrigin),o.setPath(this.path),o.load(e,function(s){a.image=s,a.needsUpdate=!0,t!==void 0&&t(a)},r,i),a}}class uc extends Nn{constructor(e,t=1){super(),this.isLight=!0,this.type="Light",this.color=new wt(e),this.intensity=t}dispose(){}copy(e,t){return super.copy(e,t),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const t=super.toJSON(e);return t.object.color=this.color.getHex(),t.object.intensity=this.intensity,this.groundColor!==void 0&&(t.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(t.object.distance=this.distance),this.angle!==void 0&&(t.object.angle=this.angle),this.decay!==void 0&&(t.object.decay=this.decay),this.penumbra!==void 0&&(t.object.penumbra=this.penumbra),this.shadow!==void 0&&(t.object.shadow=this.shadow.toJSON()),t}}class QB extends uc{constructor(e,t,r){super(e,r),this.isHemisphereLight=!0,this.type="HemisphereLight",this.position.copy(Nn.DEFAULT_UP),this.updateMatrix(),this.groundColor=new wt(t)}copy(e,t){return super.copy(e,t),this.groundColor.copy(e.groundColor),this}}const S1=new en,hO=new ie,dO=new ie;class HC{constructor(e){this.camera=e,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new Ve(512,512),this.map=null,this.mapPass=null,this.matrix=new en,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new xv,this._frameExtents=new Ve(1,1),this._viewportCount=1,this._viewports=[new $n(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const t=this.camera,r=this.matrix;hO.setFromMatrixPosition(e.matrixWorld),t.position.copy(hO),dO.setFromMatrixPosition(e.target.matrixWorld),t.lookAt(dO),t.updateMatrixWorld(),S1.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),this._frustum.setFromProjectionMatrix(S1),r.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),r.multiply(S1)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const e={};return this.bias!==0&&(e.bias=this.bias),this.normalBias!==0&&(e.normalBias=this.normalBias),this.radius!==1&&(e.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}class j7 extends HC{constructor(){super(new Dr(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1}updateMatrices(e){const t=this.camera,r=Hd*2*e.angle*this.focus,i=this.mapSize.width/this.mapSize.height,a=e.distance||t.far;(r!==t.fov||i!==t.aspect||a!==t.far)&&(t.fov=r,t.aspect=i,t.far=a,t.updateProjectionMatrix()),super.updateMatrices(e)}copy(e){return super.copy(e),this.focus=e.focus,this}}class ez extends uc{constructor(e,t,r=0,i=Math.PI/3,a=0,o=2){super(e,t),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(Nn.DEFAULT_UP),this.updateMatrix(),this.target=new Nn,this.distance=r,this.angle=i,this.penumbra=a,this.decay=o,this.map=null,this.shadow=new j7}get power(){return this.intensity*Math.PI}set power(e){this.intensity=e/Math.PI}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}const pO=new en,Mm=new ie,w1=new ie;class H7 extends HC{constructor(){super(new Dr(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new Ve(4,2),this._viewportCount=6,this._viewports=[new $n(2,1,1,1),new $n(0,1,1,1),new $n(3,1,1,1),new $n(1,1,1,1),new $n(3,0,1,1),new $n(1,0,1,1)],this._cubeDirections=[new ie(1,0,0),new ie(-1,0,0),new ie(0,0,1),new ie(0,0,-1),new ie(0,1,0),new ie(0,-1,0)],this._cubeUps=[new ie(0,1,0),new ie(0,1,0),new ie(0,1,0),new ie(0,1,0),new ie(0,0,1),new ie(0,0,-1)]}updateMatrices(e,t=0){const r=this.camera,i=this.matrix,a=e.distance||r.far;a!==r.far&&(r.far=a,r.updateProjectionMatrix()),Mm.setFromMatrixPosition(e.matrixWorld),r.position.copy(Mm),w1.copy(r.position),w1.add(this._cubeDirections[t]),r.up.copy(this._cubeUps[t]),r.lookAt(w1),r.updateMatrixWorld(),i.makeTranslation(-Mm.x,-Mm.y,-Mm.z),pO.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),this._frustum.setFromProjectionMatrix(pO)}}class tz extends uc{constructor(e,t,r=0,i=2){super(e,t),this.isPointLight=!0,this.type="PointLight",this.distance=r,this.decay=i,this.shadow=new H7}get power(){return this.intensity*4*Math.PI}set power(e){this.intensity=e/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}class V7 extends HC{constructor(){super(new Ju(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class nz extends uc{constructor(e,t){super(e,t),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(Nn.DEFAULT_UP),this.updateMatrix(),this.target=new Nn,this.shadow=new V7}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}class rz extends uc{constructor(e,t){super(e,t),this.isAmbientLight=!0,this.type="AmbientLight"}}class iz extends uc{constructor(e,t,r=10,i=10){super(e,t),this.isRectAreaLight=!0,this.type="RectAreaLight",this.width=r,this.height=i}get power(){return this.intensity*this.width*this.height*Math.PI}set power(e){this.intensity=e/(this.width*this.height*Math.PI)}copy(e){return super.copy(e),this.width=e.width,this.height=e.height,this}toJSON(e){const t=super.toJSON(e);return t.object.width=this.width,t.object.height=this.height,t}}class az{constructor(){this.isSphericalHarmonics3=!0,this.coefficients=[];for(let e=0;e<9;e++)this.coefficients.push(new ie)}set(e){for(let t=0;t<9;t++)this.coefficients[t].copy(e[t]);return this}zero(){for(let e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this}getAt(e,t){const r=e.x,i=e.y,a=e.z,o=this.coefficients;return t.copy(o[0]).multiplyScalar(.282095),t.addScaledVector(o[1],.488603*i),t.addScaledVector(o[2],.488603*a),t.addScaledVector(o[3],.488603*r),t.addScaledVector(o[4],1.092548*(r*i)),t.addScaledVector(o[5],1.092548*(i*a)),t.addScaledVector(o[6],.315392*(3*a*a-1)),t.addScaledVector(o[7],1.092548*(r*a)),t.addScaledVector(o[8],.546274*(r*r-i*i)),t}getIrradianceAt(e,t){const r=e.x,i=e.y,a=e.z,o=this.coefficients;return t.copy(o[0]).multiplyScalar(.886227),t.addScaledVector(o[1],2*.511664*i),t.addScaledVector(o[2],2*.511664*a),t.addScaledVector(o[3],2*.511664*r),t.addScaledVector(o[4],2*.429043*r*i),t.addScaledVector(o[5],2*.429043*i*a),t.addScaledVector(o[6],.743125*a*a-.247708),t.addScaledVector(o[7],2*.429043*r*a),t.addScaledVector(o[8],.429043*(r*r-i*i)),t}add(e){for(let t=0;t<9;t++)this.coefficients[t].add(e.coefficients[t]);return this}addScaledSH(e,t){for(let r=0;r<9;r++)this.coefficients[r].addScaledVector(e.coefficients[r],t);return this}scale(e){for(let t=0;t<9;t++)this.coefficients[t].multiplyScalar(e);return this}lerp(e,t){for(let r=0;r<9;r++)this.coefficients[r].lerp(e.coefficients[r],t);return this}equals(e){for(let t=0;t<9;t++)if(!this.coefficients[t].equals(e.coefficients[t]))return!1;return!0}copy(e){return this.set(e.coefficients)}clone(){return new this.constructor().copy(this)}fromArray(e,t=0){const r=this.coefficients;for(let i=0;i<9;i++)r[i].fromArray(e,t+i*3);return this}toArray(e=[],t=0){const r=this.coefficients;for(let i=0;i<9;i++)r[i].toArray(e,t+i*3);return e}static getBasisAt(e,t){const r=e.x,i=e.y,a=e.z;t[0]=.282095,t[1]=.488603*i,t[2]=.488603*a,t[3]=.488603*r,t[4]=1.092548*r*i,t[5]=1.092548*i*a,t[6]=.315392*(3*a*a-1),t[7]=1.092548*r*a,t[8]=.546274*(r*r-i*i)}}class oz extends uc{constructor(e=new az,t=1){super(void 0,t),this.isLightProbe=!0,this.sh=e}copy(e){return super.copy(e),this.sh.copy(e.sh),this}fromJSON(e){return this.intensity=e.intensity,this.sh.fromArray(e.sh),this}toJSON(e){const t=super.toJSON(e);return t.object.sh=this.sh.toArray(),t}}class N_ extends Ua{constructor(e){super(e),this.textures={}}load(e,t,r,i){const a=this,o=new Ul(a.manager);o.setPath(a.path),o.setRequestHeader(a.requestHeader),o.setWithCredentials(a.withCredentials),o.load(e,function(s){try{t(a.parse(JSON.parse(s)))}catch(u){i?i(u):console.error(u),a.manager.itemError(e)}},r,i)}parse(e){const t=this.textures;function r(a){return t[a]===void 0&&console.warn("THREE.MaterialLoader: Undefined texture",a),t[a]}const i=N_.createMaterialFromType(e.type);if(e.uuid!==void 0&&(i.uuid=e.uuid),e.name!==void 0&&(i.name=e.name),e.color!==void 0&&i.color!==void 0&&i.color.setHex(e.color),e.roughness!==void 0&&(i.roughness=e.roughness),e.metalness!==void 0&&(i.metalness=e.metalness),e.sheen!==void 0&&(i.sheen=e.sheen),e.sheenColor!==void 0&&(i.sheenColor=new wt().setHex(e.sheenColor)),e.sheenRoughness!==void 0&&(i.sheenRoughness=e.sheenRoughness),e.emissive!==void 0&&i.emissive!==void 0&&i.emissive.setHex(e.emissive),e.specular!==void 0&&i.specular!==void 0&&i.specular.setHex(e.specular),e.specularIntensity!==void 0&&(i.specularIntensity=e.specularIntensity),e.specularColor!==void 0&&i.specularColor!==void 0&&i.specularColor.setHex(e.specularColor),e.shininess!==void 0&&(i.shininess=e.shininess),e.clearcoat!==void 0&&(i.clearcoat=e.clearcoat),e.clearcoatRoughness!==void 0&&(i.clearcoatRoughness=e.clearcoatRoughness),e.iridescence!==void 0&&(i.iridescence=e.iridescence),e.iridescenceIOR!==void 0&&(i.iridescenceIOR=e.iridescenceIOR),e.iridescenceThicknessRange!==void 0&&(i.iridescenceThicknessRange=e.iridescenceThicknessRange),e.transmission!==void 0&&(i.transmission=e.transmission),e.thickness!==void 0&&(i.thickness=e.thickness),e.attenuationDistance!==void 0&&(i.attenuationDistance=e.attenuationDistance),e.attenuationColor!==void 0&&i.attenuationColor!==void 0&&i.attenuationColor.setHex(e.attenuationColor),e.anisotropy!==void 0&&(i.anisotropy=e.anisotropy),e.anisotropyRotation!==void 0&&(i.anisotropyRotation=e.anisotropyRotation),e.fog!==void 0&&(i.fog=e.fog),e.flatShading!==void 0&&(i.flatShading=e.flatShading),e.blending!==void 0&&(i.blending=e.blending),e.combine!==void 0&&(i.combine=e.combine),e.side!==void 0&&(i.side=e.side),e.shadowSide!==void 0&&(i.shadowSide=e.shadowSide),e.opacity!==void 0&&(i.opacity=e.opacity),e.transparent!==void 0&&(i.transparent=e.transparent),e.alphaTest!==void 0&&(i.alphaTest=e.alphaTest),e.alphaHash!==void 0&&(i.alphaHash=e.alphaHash),e.depthFunc!==void 0&&(i.depthFunc=e.depthFunc),e.depthTest!==void 0&&(i.depthTest=e.depthTest),e.depthWrite!==void 0&&(i.depthWrite=e.depthWrite),e.colorWrite!==void 0&&(i.colorWrite=e.colorWrite),e.blendSrc!==void 0&&(i.blendSrc=e.blendSrc),e.blendDst!==void 0&&(i.blendDst=e.blendDst),e.blendEquation!==void 0&&(i.blendEquation=e.blendEquation),e.blendSrcAlpha!==void 0&&(i.blendSrcAlpha=e.blendSrcAlpha),e.blendDstAlpha!==void 0&&(i.blendDstAlpha=e.blendDstAlpha),e.blendEquationAlpha!==void 0&&(i.blendEquationAlpha=e.blendEquationAlpha),e.blendColor!==void 0&&i.blendColor!==void 0&&i.blendColor.setHex(e.blendColor),e.blendAlpha!==void 0&&(i.blendAlpha=e.blendAlpha),e.stencilWriteMask!==void 0&&(i.stencilWriteMask=e.stencilWriteMask),e.stencilFunc!==void 0&&(i.stencilFunc=e.stencilFunc),e.stencilRef!==void 0&&(i.stencilRef=e.stencilRef),e.stencilFuncMask!==void 0&&(i.stencilFuncMask=e.stencilFuncMask),e.stencilFail!==void 0&&(i.stencilFail=e.stencilFail),e.stencilZFail!==void 0&&(i.stencilZFail=e.stencilZFail),e.stencilZPass!==void 0&&(i.stencilZPass=e.stencilZPass),e.stencilWrite!==void 0&&(i.stencilWrite=e.stencilWrite),e.wireframe!==void 0&&(i.wireframe=e.wireframe),e.wireframeLinewidth!==void 0&&(i.wireframeLinewidth=e.wireframeLinewidth),e.wireframeLinecap!==void 0&&(i.wireframeLinecap=e.wireframeLinecap),e.wireframeLinejoin!==void 0&&(i.wireframeLinejoin=e.wireframeLinejoin),e.rotation!==void 0&&(i.rotation=e.rotation),e.linewidth!==void 0&&(i.linewidth=e.linewidth),e.dashSize!==void 0&&(i.dashSize=e.dashSize),e.gapSize!==void 0&&(i.gapSize=e.gapSize),e.scale!==void 0&&(i.scale=e.scale),e.polygonOffset!==void 0&&(i.polygonOffset=e.polygonOffset),e.polygonOffsetFactor!==void 0&&(i.polygonOffsetFactor=e.polygonOffsetFactor),e.polygonOffsetUnits!==void 0&&(i.polygonOffsetUnits=e.polygonOffsetUnits),e.dithering!==void 0&&(i.dithering=e.dithering),e.alphaToCoverage!==void 0&&(i.alphaToCoverage=e.alphaToCoverage),e.premultipliedAlpha!==void 0&&(i.premultipliedAlpha=e.premultipliedAlpha),e.forceSinglePass!==void 0&&(i.forceSinglePass=e.forceSinglePass),e.visible!==void 0&&(i.visible=e.visible),e.toneMapped!==void 0&&(i.toneMapped=e.toneMapped),e.userData!==void 0&&(i.userData=e.userData),e.vertexColors!==void 0&&(typeof e.vertexColors=="number"?i.vertexColors=e.vertexColors>0:i.vertexColors=e.vertexColors),e.uniforms!==void 0)for(const a in e.uniforms){const o=e.uniforms[a];switch(i.uniforms[a]={},o.type){case"t":i.uniforms[a].value=r(o.value);break;case"c":i.uniforms[a].value=new wt().setHex(o.value);break;case"v2":i.uniforms[a].value=new Ve().fromArray(o.value);break;case"v3":i.uniforms[a].value=new ie().fromArray(o.value);break;case"v4":i.uniforms[a].value=new $n().fromArray(o.value);break;case"m3":i.uniforms[a].value=new xn().fromArray(o.value);break;case"m4":i.uniforms[a].value=new en().fromArray(o.value);break;default:i.uniforms[a].value=o.value}}if(e.defines!==void 0&&(i.defines=e.defines),e.vertexShader!==void 0&&(i.vertexShader=e.vertexShader),e.fragmentShader!==void 0&&(i.fragmentShader=e.fragmentShader),e.glslVersion!==void 0&&(i.glslVersion=e.glslVersion),e.extensions!==void 0)for(const a in e.extensions)i.extensions[a]=e.extensions[a];if(e.lights!==void 0&&(i.lights=e.lights),e.clipping!==void 0&&(i.clipping=e.clipping),e.size!==void 0&&(i.size=e.size),e.sizeAttenuation!==void 0&&(i.sizeAttenuation=e.sizeAttenuation),e.map!==void 0&&(i.map=r(e.map)),e.matcap!==void 0&&(i.matcap=r(e.matcap)),e.alphaMap!==void 0&&(i.alphaMap=r(e.alphaMap)),e.bumpMap!==void 0&&(i.bumpMap=r(e.bumpMap)),e.bumpScale!==void 0&&(i.bumpScale=e.bumpScale),e.normalMap!==void 0&&(i.normalMap=r(e.normalMap)),e.normalMapType!==void 0&&(i.normalMapType=e.normalMapType),e.normalScale!==void 0){let a=e.normalScale;Array.isArray(a)===!1&&(a=[a,a]),i.normalScale=new Ve().fromArray(a)}return e.displacementMap!==void 0&&(i.displacementMap=r(e.displacementMap)),e.displacementScale!==void 0&&(i.displacementScale=e.displacementScale),e.displacementBias!==void 0&&(i.displacementBias=e.displacementBias),e.roughnessMap!==void 0&&(i.roughnessMap=r(e.roughnessMap)),e.metalnessMap!==void 0&&(i.metalnessMap=r(e.metalnessMap)),e.emissiveMap!==void 0&&(i.emissiveMap=r(e.emissiveMap)),e.emissiveIntensity!==void 0&&(i.emissiveIntensity=e.emissiveIntensity),e.specularMap!==void 0&&(i.specularMap=r(e.specularMap)),e.specularIntensityMap!==void 0&&(i.specularIntensityMap=r(e.specularIntensityMap)),e.specularColorMap!==void 0&&(i.specularColorMap=r(e.specularColorMap)),e.envMap!==void 0&&(i.envMap=r(e.envMap)),e.envMapIntensity!==void 0&&(i.envMapIntensity=e.envMapIntensity),e.reflectivity!==void 0&&(i.reflectivity=e.reflectivity),e.refractionRatio!==void 0&&(i.refractionRatio=e.refractionRatio),e.lightMap!==void 0&&(i.lightMap=r(e.lightMap)),e.lightMapIntensity!==void 0&&(i.lightMapIntensity=e.lightMapIntensity),e.aoMap!==void 0&&(i.aoMap=r(e.aoMap)),e.aoMapIntensity!==void 0&&(i.aoMapIntensity=e.aoMapIntensity),e.gradientMap!==void 0&&(i.gradientMap=r(e.gradientMap)),e.clearcoatMap!==void 0&&(i.clearcoatMap=r(e.clearcoatMap)),e.clearcoatRoughnessMap!==void 0&&(i.clearcoatRoughnessMap=r(e.clearcoatRoughnessMap)),e.clearcoatNormalMap!==void 0&&(i.clearcoatNormalMap=r(e.clearcoatNormalMap)),e.clearcoatNormalScale!==void 0&&(i.clearcoatNormalScale=new Ve().fromArray(e.clearcoatNormalScale)),e.iridescenceMap!==void 0&&(i.iridescenceMap=r(e.iridescenceMap)),e.iridescenceThicknessMap!==void 0&&(i.iridescenceThicknessMap=r(e.iridescenceThicknessMap)),e.transmissionMap!==void 0&&(i.transmissionMap=r(e.transmissionMap)),e.thicknessMap!==void 0&&(i.thicknessMap=r(e.thicknessMap)),e.anisotropyMap!==void 0&&(i.anisotropyMap=r(e.anisotropyMap)),e.sheenColorMap!==void 0&&(i.sheenColorMap=r(e.sheenColorMap)),e.sheenRoughnessMap!==void 0&&(i.sheenRoughnessMap=r(e.sheenRoughnessMap)),i}setTextures(e){return this.textures=e,this}static createMaterialFromType(e){const t={ShadowMaterial:UB,SpriteMaterial:TC,RawShaderMaterial:FB,ShaderMaterial:Da,PointsMaterial:PC,MeshPhysicalMaterial:BB,MeshStandardMaterial:DC,MeshPhongMaterial:zB,MeshToonMaterial:jB,MeshNormalMaterial:HB,MeshLambertMaterial:VB,MeshDepthMaterial:d_,MeshDistanceMaterial:EC,MeshBasicMaterial:sc,MeshMatcapMaterial:GB,LineDashedMaterial:WB,LineBasicMaterial:ga,Material:Ii};return new t[e]}}class LA{static decodeText(e){if(typeof TextDecoder<"u")return new TextDecoder().decode(e);let t="";for(let r=0,i=e.length;r<i;r++)t+=String.fromCharCode(e[r]);try{return decodeURIComponent(escape(t))}catch{return t}}static extractUrlBase(e){const t=e.lastIndexOf("/");return t===-1?"./":e.slice(0,t+1)}static resolveURL(e,t){return typeof e!="string"||e===""?"":(/^https?:\/\//i.test(t)&&/^\//.test(e)&&(t=t.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:t+e)}}class sz extends mn{constructor(){super(),this.isInstancedBufferGeometry=!0,this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(e){return super.copy(e),this.instanceCount=e.instanceCount,this}toJSON(){const e=super.toJSON();return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}}class lz extends Ua{constructor(e){super(e)}load(e,t,r,i){const a=this,o=new Ul(a.manager);o.setPath(a.path),o.setRequestHeader(a.requestHeader),o.setWithCredentials(a.withCredentials),o.load(e,function(s){try{t(a.parse(JSON.parse(s)))}catch(u){i?i(u):console.error(u),a.manager.itemError(e)}},r,i)}parse(e){const t={},r={};function i(y,b){if(t[b]!==void 0)return t[b];const x=y.interleavedBuffers[b],_=a(y,x.buffer),E=Cd(x.type,_),A=new g_(E,x.stride);return A.uuid=x.uuid,t[b]=A,A}function a(y,b){if(r[b]!==void 0)return r[b];const x=y.arrayBuffers[b],_=new Uint32Array(x).buffer;return r[b]=_,_}const o=e.isInstancedBufferGeometry?new sz:new mn,s=e.data.index;if(s!==void 0){const y=Cd(s.type,s.array);o.setIndex(new Fn(y,1))}const u=e.data.attributes;for(const y in u){const b=u[y];let S;if(b.isInterleavedBufferAttribute){const x=i(e.data,b.data);S=new kf(x,b.itemSize,b.offset,b.normalized)}else{const x=Cd(b.type,b.array),_=b.isInstancedBufferAttribute?Gd:Fn;S=new _(x,b.itemSize,b.normalized)}b.name!==void 0&&(S.name=b.name),b.usage!==void 0&&S.setUsage(b.usage),o.setAttribute(y,S)}const c=e.data.morphAttributes;if(c)for(const y in c){const b=c[y],S=[];for(let x=0,_=b.length;x<_;x++){const E=b[x];let A;if(E.isInterleavedBufferAttribute){const T=i(e.data,E.data);A=new kf(T,E.itemSize,E.offset,E.normalized)}else{const T=Cd(E.type,E.array);A=new Fn(T,E.itemSize,E.normalized)}E.name!==void 0&&(A.name=E.name),S.push(A)}o.morphAttributes[y]=S}e.data.morphTargetsRelative&&(o.morphTargetsRelative=!0);const d=e.data.groups||e.data.drawcalls||e.data.offsets;if(d!==void 0)for(let y=0,b=d.length;y!==b;++y){const S=d[y];o.addGroup(S.start,S.count,S.materialIndex)}const g=e.data.boundingSphere;if(g!==void 0){const y=new ie;g.center!==void 0&&y.fromArray(g.center),o.boundingSphere=new Ji(y,g.radius)}return e.name&&(o.name=e.name),e.userData&&(o.userData=e.userData),o}}class G7 extends Ua{constructor(e){super(e)}load(e,t,r,i){const a=this,o=this.path===""?LA.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||o;const s=new Ul(this.manager);s.setPath(this.path),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials),s.load(e,function(u){let c=null;try{c=JSON.parse(u)}catch(d){i!==void 0&&i(d),console.error("THREE:ObjectLoader: Can't parse "+e+".",d.message);return}const h=c.metadata;if(h===void 0||h.type===void 0||h.type.toLowerCase()==="geometry"){i!==void 0&&i(new Error("THREE.ObjectLoader: Can't load "+e)),console.error("THREE.ObjectLoader: Can't load "+e);return}a.parse(c,t)},r,i)}async loadAsync(e,t){const r=this,i=this.path===""?LA.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||i;const a=new Ul(this.manager);a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials);const o=await a.loadAsync(e,t),s=JSON.parse(o),u=s.metadata;if(u===void 0||u.type===void 0||u.type.toLowerCase()==="geometry")throw new Error("THREE.ObjectLoader: Can't load "+e);return await r.parseAsync(s)}parse(e,t){const r=this.parseAnimations(e.animations),i=this.parseShapes(e.shapes),a=this.parseGeometries(e.geometries,i),o=this.parseImages(e.images,function(){t!==void 0&&t(c)}),s=this.parseTextures(e.textures,o),u=this.parseMaterials(e.materials,s),c=this.parseObject(e.object,a,u,s,r),h=this.parseSkeletons(e.skeletons,c);if(this.bindSkeletons(c,h),t!==void 0){let d=!1;for(const g in o)if(o[g].data instanceof HTMLImageElement){d=!0;break}d===!1&&t(c)}return c}async parseAsync(e){const t=this.parseAnimations(e.animations),r=this.parseShapes(e.shapes),i=this.parseGeometries(e.geometries,r),a=await this.parseImagesAsync(e.images),o=this.parseTextures(e.textures,a),s=this.parseMaterials(e.materials,o),u=this.parseObject(e.object,i,s,o,t),c=this.parseSkeletons(e.skeletons,u);return this.bindSkeletons(u,c),u}parseShapes(e){const t={};if(e!==void 0)for(let r=0,i=e.length;r<i;r++){const a=new Qu().fromJSON(e[r]);t[a.uuid]=a}return t}parseSkeletons(e,t){const r={},i={};if(t.traverse(function(a){a.isBone&&(i[a.uuid]=a)}),e!==void 0)for(let a=0,o=e.length;a<o;a++){const s=new v_().fromJSON(e[a],i);r[s.uuid]=s}return r}parseGeometries(e,t){const r={};if(e!==void 0){const i=new lz;for(let a=0,o=e.length;a<o;a++){let s;const u=e[a];switch(u.type){case"BufferGeometry":case"InstancedBufferGeometry":s=i.parse(u);break;default:u.type in fO?s=fO[u.type].fromJSON(u,t):console.warn(`THREE.ObjectLoader: Unsupported geometry type "${u.type}"`)}s.uuid=u.uuid,u.name!==void 0&&(s.name=u.name),u.userData!==void 0&&(s.userData=u.userData),r[u.uuid]=s}}return r}parseMaterials(e,t){const r={},i={};if(e!==void 0){const a=new N_;a.setTextures(t);for(let o=0,s=e.length;o<s;o++){const u=e[o];r[u.uuid]===void 0&&(r[u.uuid]=a.parse(u)),i[u.uuid]=r[u.uuid]}}return i}parseAnimations(e){const t={};if(e!==void 0)for(let r=0;r<e.length;r++){const i=e[r],a=wg.parse(i);t[a.uuid]=a}return t}parseImages(e,t){const r=this,i={};let a;function o(u){return r.manager.itemStart(u),a.load(u,function(){r.manager.itemEnd(u)},void 0,function(){r.manager.itemError(u),r.manager.itemEnd(u)})}function s(u){if(typeof u=="string"){const c=u,h=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(c)?c:r.resourcePath+c;return o(h)}else return u.data?{data:Cd(u.type,u.data),width:u.width,height:u.height}:null}if(e!==void 0&&e.length>0){const u=new zC(t);a=new Mg(u),a.setCrossOrigin(this.crossOrigin);for(let c=0,h=e.length;c<h;c++){const d=e[c],g=d.url;if(Array.isArray(g)){const y=[];for(let b=0,S=g.length;b<S;b++){const x=g[b],_=s(x);_!==null&&(_ instanceof HTMLImageElement?y.push(_):y.push(new Rf(_.data,_.width,_.height)))}i[d.uuid]=new yf(y)}else{const y=s(d.url);i[d.uuid]=new yf(y)}}}return i}async parseImagesAsync(e){const t=this,r={};let i;async function a(o){if(typeof o=="string"){const s=o,u=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(s)?s:t.resourcePath+s;return await i.loadAsync(u)}else return o.data?{data:Cd(o.type,o.data),width:o.width,height:o.height}:null}if(e!==void 0&&e.length>0){i=new Mg(this.manager),i.setCrossOrigin(this.crossOrigin);for(let o=0,s=e.length;o<s;o++){const u=e[o],c=u.url;if(Array.isArray(c)){const h=[];for(let d=0,g=c.length;d<g;d++){const y=c[d],b=await a(y);b!==null&&(b instanceof HTMLImageElement?h.push(b):h.push(new Rf(b.data,b.width,b.height)))}r[u.uuid]=new yf(h)}else{const h=await a(u.url);r[u.uuid]=new yf(h)}}}return r}parseTextures(e,t){function r(a,o){return typeof a=="number"?a:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",a),o[a])}const i={};if(e!==void 0)for(let a=0,o=e.length;a<o;a++){const s=e[a];s.image===void 0&&console.warn('THREE.ObjectLoader: No "image" specified for',s.uuid),t[s.image]===void 0&&console.warn("THREE.ObjectLoader: Undefined image",s.image);const u=t[s.image],c=u.data;let h;Array.isArray(c)?(h=new yv,c.length===6&&(h.needsUpdate=!0)):(c&&c.data?h=new Rf:h=new Mr,c&&(h.needsUpdate=!0)),h.source=u,h.uuid=s.uuid,s.name!==void 0&&(h.name=s.name),s.mapping!==void 0&&(h.mapping=r(s.mapping,W7)),s.channel!==void 0&&(h.channel=s.channel),s.offset!==void 0&&h.offset.fromArray(s.offset),s.repeat!==void 0&&h.repeat.fromArray(s.repeat),s.center!==void 0&&h.center.fromArray(s.center),s.rotation!==void 0&&(h.rotation=s.rotation),s.wrap!==void 0&&(h.wrapS=r(s.wrap[0],mO),h.wrapT=r(s.wrap[1],mO)),s.format!==void 0&&(h.format=s.format),s.internalFormat!==void 0&&(h.internalFormat=s.internalFormat),s.type!==void 0&&(h.type=s.type),s.colorSpace!==void 0&&(h.colorSpace=s.colorSpace),s.encoding!==void 0&&(h.encoding=s.encoding),s.minFilter!==void 0&&(h.minFilter=r(s.minFilter,gO)),s.magFilter!==void 0&&(h.magFilter=r(s.magFilter,gO)),s.anisotropy!==void 0&&(h.anisotropy=s.anisotropy),s.flipY!==void 0&&(h.flipY=s.flipY),s.generateMipmaps!==void 0&&(h.generateMipmaps=s.generateMipmaps),s.premultiplyAlpha!==void 0&&(h.premultiplyAlpha=s.premultiplyAlpha),s.unpackAlignment!==void 0&&(h.unpackAlignment=s.unpackAlignment),s.compareFunction!==void 0&&(h.compareFunction=s.compareFunction),s.userData!==void 0&&(h.userData=s.userData),i[s.uuid]=h}return i}parseObject(e,t,r,i,a){let o;function s(g){return t[g]===void 0&&console.warn("THREE.ObjectLoader: Undefined geometry",g),t[g]}function u(g){if(g!==void 0){if(Array.isArray(g)){const y=[];for(let b=0,S=g.length;b<S;b++){const x=g[b];r[x]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",x),y.push(r[x])}return y}return r[g]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",g),r[g]}}function c(g){return i[g]===void 0&&console.warn("THREE.ObjectLoader: Undefined texture",g),i[g]}let h,d;switch(e.type){case"Scene":o=new gg,e.background!==void 0&&(Number.isInteger(e.background)?o.background=new wt(e.background):o.background=c(e.background)),e.environment!==void 0&&(o.environment=c(e.environment)),e.fog!==void 0&&(e.fog.type==="Fog"?o.fog=new m_(e.fog.color,e.fog.near,e.fog.far):e.fog.type==="FogExp2"&&(o.fog=new p_(e.fog.color,e.fog.density)),e.fog.name!==""&&(o.fog.name=e.fog.name)),e.backgroundBlurriness!==void 0&&(o.backgroundBlurriness=e.backgroundBlurriness),e.backgroundIntensity!==void 0&&(o.backgroundIntensity=e.backgroundIntensity);break;case"PerspectiveCamera":o=new Dr(e.fov,e.aspect,e.near,e.far),e.focus!==void 0&&(o.focus=e.focus),e.zoom!==void 0&&(o.zoom=e.zoom),e.filmGauge!==void 0&&(o.filmGauge=e.filmGauge),e.filmOffset!==void 0&&(o.filmOffset=e.filmOffset),e.view!==void 0&&(o.view=Object.assign({},e.view));break;case"OrthographicCamera":o=new Ju(e.left,e.right,e.top,e.bottom,e.near,e.far),e.zoom!==void 0&&(o.zoom=e.zoom),e.view!==void 0&&(o.view=Object.assign({},e.view));break;case"AmbientLight":o=new rz(e.color,e.intensity);break;case"DirectionalLight":o=new nz(e.color,e.intensity);break;case"PointLight":o=new tz(e.color,e.intensity,e.distance,e.decay);break;case"RectAreaLight":o=new iz(e.color,e.intensity,e.width,e.height);break;case"SpotLight":o=new ez(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay);break;case"HemisphereLight":o=new QB(e.color,e.groundColor,e.intensity);break;case"LightProbe":o=new oz().fromJSON(e);break;case"SkinnedMesh":h=s(e.geometry),d=u(e.material),o=new SB(h,d),e.bindMode!==void 0&&(o.bindMode=e.bindMode),e.bindMatrix!==void 0&&o.bindMatrix.fromArray(e.bindMatrix),e.skeleton!==void 0&&(o.skeleton=e.skeleton);break;case"Mesh":h=s(e.geometry),d=u(e.material),o=new Ur(h,d);break;case"InstancedMesh":h=s(e.geometry),d=u(e.material);const g=e.count,y=e.instanceMatrix,b=e.instanceColor;o=new wB(h,d,g),o.instanceMatrix=new Gd(new Float32Array(y.array),16),b!==void 0&&(o.instanceColor=new Gd(new Float32Array(b.array),b.itemSize));break;case"BatchedMesh":h=s(e.geometry),d=u(e.material),o=new MB(e.maxGeometryCount,e.maxVertexCount,e.maxIndexCount,d),o.geometry=h,o.perObjectFrustumCulled=e.perObjectFrustumCulled,o.sortObjects=e.sortObjects,o._drawRanges=e.drawRanges,o._reservedRanges=e.reservedRanges,o._visibility=e.visibility,o._active=e.active,o._bounds=e.bounds.map(S=>{const x=new ma;x.min.fromArray(S.boxMin),x.max.fromArray(S.boxMax);const _=new Ji;return _.radius=S.sphereRadius,_.center.fromArray(S.sphereCenter),{boxInitialized:S.boxInitialized,box:x,sphereInitialized:S.sphereInitialized,sphere:_}}),o._maxGeometryCount=e.maxGeometryCount,o._maxVertexCount=e.maxVertexCount,o._maxIndexCount=e.maxIndexCount,o._geometryInitialized=e.geometryInitialized,o._geometryCount=e.geometryCount,o._matricesTexture=c(e.matricesTexture.uuid);break;case"LOD":o=new bB;break;case"Line":o=new ic(s(e.geometry),u(e.material));break;case"LineLoop":o=new EB(s(e.geometry),u(e.material));break;case"LineSegments":o=new Vs(s(e.geometry),u(e.material));break;case"PointCloud":case"Points":o=new AB(s(e.geometry),u(e.material));break;case"Sprite":o=new _B(u(e.material));break;case"Group":o=new Od;break;case"Bone":o=new CC;break;default:o=new Nn}if(o.uuid=e.uuid,e.name!==void 0&&(o.name=e.name),e.matrix!==void 0?(o.matrix.fromArray(e.matrix),e.matrixAutoUpdate!==void 0&&(o.matrixAutoUpdate=e.matrixAutoUpdate),o.matrixAutoUpdate&&o.matrix.decompose(o.position,o.quaternion,o.scale)):(e.position!==void 0&&o.position.fromArray(e.position),e.rotation!==void 0&&o.rotation.fromArray(e.rotation),e.quaternion!==void 0&&o.quaternion.fromArray(e.quaternion),e.scale!==void 0&&o.scale.fromArray(e.scale)),e.up!==void 0&&o.up.fromArray(e.up),e.castShadow!==void 0&&(o.castShadow=e.castShadow),e.receiveShadow!==void 0&&(o.receiveShadow=e.receiveShadow),e.shadow&&(e.shadow.bias!==void 0&&(o.shadow.bias=e.shadow.bias),e.shadow.normalBias!==void 0&&(o.shadow.normalBias=e.shadow.normalBias),e.shadow.radius!==void 0&&(o.shadow.radius=e.shadow.radius),e.shadow.mapSize!==void 0&&o.shadow.mapSize.fromArray(e.shadow.mapSize),e.shadow.camera!==void 0&&(o.shadow.camera=this.parseObject(e.shadow.camera))),e.visible!==void 0&&(o.visible=e.visible),e.frustumCulled!==void 0&&(o.frustumCulled=e.frustumCulled),e.renderOrder!==void 0&&(o.renderOrder=e.renderOrder),e.userData!==void 0&&(o.userData=e.userData),e.layers!==void 0&&(o.layers.mask=e.layers),e.children!==void 0){const g=e.children;for(let y=0;y<g.length;y++)o.add(this.parseObject(g[y],t,r,i,a))}if(e.animations!==void 0){const g=e.animations;for(let y=0;y<g.length;y++){const b=g[y];o.animations.push(a[b])}}if(e.type==="LOD"){e.autoUpdate!==void 0&&(o.autoUpdate=e.autoUpdate);const g=e.levels;for(let y=0;y<g.length;y++){const b=g[y],S=o.getObjectByProperty("uuid",b.object);S!==void 0&&o.addLevel(S,b.distance,b.hysteresis)}}return o}bindSkeletons(e,t){Object.keys(t).length!==0&&e.traverse(function(r){if(r.isSkinnedMesh===!0&&r.skeleton!==void 0){const i=t[r.skeleton];i===void 0?console.warn("THREE.ObjectLoader: No skeleton found with UUID:",r.skeleton):r.bind(i,r.bindMatrix)}})}}const W7={UVMapping:o_,CubeReflectionMapping:zs,CubeRefractionMapping:nc,EquirectangularReflectionMapping:zd,EquirectangularRefractionMapping:og,CubeUVReflectionMapping:fp},mO={RepeatWrapping:sg,ClampToEdgeWrapping:Yi,MirroredRepeatWrapping:Nf},gO={NearestFilter:kr,NearestMipmapNearestFilter:sx,NearestMipmapLinearFilter:Wm,LinearFilter:dr,LinearMipmapNearestFilter:iC,LinearMipmapLinearFilter:rc};class q7 extends Ua{constructor(e){super(e),this.isImageBitmapLoader=!0,typeof createImageBitmap>"u"&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch>"u"&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"}}setOptions(e){return this.options=e,this}load(e,t,r,i){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const a=this,o=Cl.get(e);if(o!==void 0){if(a.manager.itemStart(e),o.then){o.then(c=>{t&&t(c),a.manager.itemEnd(e)}).catch(c=>{i&&i(c)});return}return setTimeout(function(){t&&t(o),a.manager.itemEnd(e)},0),o}const s={};s.credentials=this.crossOrigin==="anonymous"?"same-origin":"include",s.headers=this.requestHeader;const u=fetch(e,s).then(function(c){return c.blob()}).then(function(c){return createImageBitmap(c,Object.assign(a.options,{colorSpaceConversion:"none"}))}).then(function(c){return Cl.add(e,c),t&&t(c),a.manager.itemEnd(e),c}).catch(function(c){i&&i(c),Cl.remove(e),a.manager.itemError(e),a.manager.itemEnd(e)});Cl.add(e,u),a.manager.itemStart(e)}}let _y;class VC{static getContext(){return _y===void 0&&(_y=new(window.AudioContext||window.webkitAudioContext)),_y}static setContext(e){_y=e}}class $7 extends Ua{constructor(e){super(e)}load(e,t,r,i){const a=this,o=new Ul(this.manager);o.setResponseType("arraybuffer"),o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(u){try{const c=u.slice(0);VC.getContext().decodeAudioData(c,function(d){t(d)}).catch(s)}catch(c){s(c)}},r,i);function s(u){i?i(u):console.error(u),a.manager.itemError(e)}}}const vO=new en,yO=new en,nf=new en;class X7{constructor(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new Dr,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new Dr,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}update(e){const t=this._cache;if(t.focus!==e.focus||t.fov!==e.fov||t.aspect!==e.aspect*this.aspect||t.near!==e.near||t.far!==e.far||t.zoom!==e.zoom||t.eyeSep!==this.eyeSep){t.focus=e.focus,t.fov=e.fov,t.aspect=e.aspect*this.aspect,t.near=e.near,t.far=e.far,t.zoom=e.zoom,t.eyeSep=this.eyeSep,nf.copy(e.projectionMatrix);const i=t.eyeSep/2,a=i*t.near/t.focus,o=t.near*Math.tan(Cf*t.fov*.5)/t.zoom;let s,u;yO.elements[12]=-i,vO.elements[12]=i,s=-o*t.aspect+a,u=o*t.aspect+a,nf.elements[0]=2*t.near/(u-s),nf.elements[8]=(u+s)/(u-s),this.cameraL.projectionMatrix.copy(nf),s=-o*t.aspect-a,u=o*t.aspect-a,nf.elements[0]=2*t.near/(u-s),nf.elements[8]=(u+s)/(u-s),this.cameraR.projectionMatrix.copy(nf)}this.cameraL.matrixWorld.copy(e.matrixWorld).multiply(yO),this.cameraR.matrixWorld.copy(e.matrixWorld).multiply(vO)}}class GC{constructor(e=!0){this.autoStart=e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=xO(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const t=xO();e=(t-this.oldTime)/1e3,this.oldTime=t,this.elapsedTime+=e}return e}}function xO(){return(typeof performance>"u"?Date:performance).now()}const rf=new ie,_O=new Zi,Y7=new ie,af=new ie;class K7 extends Nn{constructor(){super(),this.type="AudioListener",this.context=VC.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new GC}getInput(){return this.gain}removeFilter(){return this.filter!==null&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}getFilter(){return this.filter}setFilter(e){return this.filter!==null?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}getMasterVolume(){return this.gain.gain.value}setMasterVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}updateMatrixWorld(e){super.updateMatrixWorld(e);const t=this.context.listener,r=this.up;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(rf,_O,Y7),af.set(0,0,-1).applyQuaternion(_O),t.positionX){const i=this.context.currentTime+this.timeDelta;t.positionX.linearRampToValueAtTime(rf.x,i),t.positionY.linearRampToValueAtTime(rf.y,i),t.positionZ.linearRampToValueAtTime(rf.z,i),t.forwardX.linearRampToValueAtTime(af.x,i),t.forwardY.linearRampToValueAtTime(af.y,i),t.forwardZ.linearRampToValueAtTime(af.z,i),t.upX.linearRampToValueAtTime(r.x,i),t.upY.linearRampToValueAtTime(r.y,i),t.upZ.linearRampToValueAtTime(r.z,i)}else t.setPosition(rf.x,rf.y,rf.z),t.setOrientation(af.x,af.y,af.z,r.x,r.y,r.z)}}class uz extends Nn{constructor(e){super(),this.type="Audio",this.listener=e,this.context=e.context,this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this}setMediaElementSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this}setMediaStreamSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(e),this.connect(),this}setBuffer(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this}play(e=0){if(this.isPlaying===!0){console.warn("THREE.Audio: Audio is already playing.");return}if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}this._startedAt=this.context.currentTime+e;const t=this.context.createBufferSource();return t.buffer=this.buffer,t.loop=this.loop,t.loopStart=this.loopStart,t.loopEnd=this.loopEnd,t.onended=this.onEnded.bind(this),t.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=t,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.isPlaying===!0&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,this.loop===!0&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this}stop(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this._progress=0,this.source!==null&&(this.source.stop(),this.source.onended=null),this.isPlaying=!1,this}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this._connected!==!1){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}}getFilters(){return this.filters}setFilters(e){return e||(e=[]),this._connected===!0?(this.disconnect(),this.filters=e.slice(),this.connect()):this.filters=e.slice(),this}setDetune(e){if(this.detune=e,this.source.detune!==void 0)return this.isPlaying===!0&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(e){return this.setFilters(e?[e]:[])}setPlaybackRate(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.playbackRate=e,this.isPlaying===!0&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1}getLoop(){return this.hasPlaybackControl===!1?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}setLoop(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.loop=e,this.isPlaying===!0&&(this.source.loop=this.loop),this}setLoopStart(e){return this.loopStart=e,this}setLoopEnd(e){return this.loopEnd=e,this}getVolume(){return this.gain.gain.value}setVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}}const of=new ie,bO=new Zi,Z7=new ie,sf=new ie;class J7 extends uz{constructor(e){super(e),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}connect(){super.connect(),this.panner.connect(this.gain)}disconnect(){super.disconnect(),this.panner.disconnect(this.gain)}getOutput(){return this.panner}getRefDistance(){return this.panner.refDistance}setRefDistance(e){return this.panner.refDistance=e,this}getRolloffFactor(){return this.panner.rolloffFactor}setRolloffFactor(e){return this.panner.rolloffFactor=e,this}getDistanceModel(){return this.panner.distanceModel}setDistanceModel(e){return this.panner.distanceModel=e,this}getMaxDistance(){return this.panner.maxDistance}setMaxDistance(e){return this.panner.maxDistance=e,this}setDirectionalCone(e,t,r){return this.panner.coneInnerAngle=e,this.panner.coneOuterAngle=t,this.panner.coneOuterGain=r,this}updateMatrixWorld(e){if(super.updateMatrixWorld(e),this.hasPlaybackControl===!0&&this.isPlaying===!1)return;this.matrixWorld.decompose(of,bO,Z7),sf.set(0,0,1).applyQuaternion(bO);const t=this.panner;if(t.positionX){const r=this.context.currentTime+this.listener.timeDelta;t.positionX.linearRampToValueAtTime(of.x,r),t.positionY.linearRampToValueAtTime(of.y,r),t.positionZ.linearRampToValueAtTime(of.z,r),t.orientationX.linearRampToValueAtTime(sf.x,r),t.orientationY.linearRampToValueAtTime(sf.y,r),t.orientationZ.linearRampToValueAtTime(sf.z,r)}else t.setPosition(of.x,of.y,of.z),t.setOrientation(sf.x,sf.y,sf.z)}}class Q7{constructor(e,t=2048){this.analyser=e.context.createAnalyser(),this.analyser.fftSize=t,this.data=new Uint8Array(this.analyser.frequencyBinCount),e.getOutput().connect(this.analyser)}getFrequencyData(){return this.analyser.getByteFrequencyData(this.data),this.data}getAverageFrequency(){let e=0;const t=this.getFrequencyData();for(let r=0;r<t.length;r++)e+=t[r];return e/t.length}}class cz{constructor(e,t,r){this.binding=e,this.valueSize=r;let i,a,o;switch(t){case"quaternion":i=this._slerp,a=this._slerpAdditive,o=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(r*6),this._workIndex=5;break;case"string":case"bool":i=this._select,a=this._select,o=this._setAdditiveIdentityOther,this.buffer=new Array(r*5);break;default:i=this._lerp,a=this._lerpAdditive,o=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(r*5)}this._mixBufferRegion=i,this._mixBufferRegionAdditive=a,this._setIdentity=o,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(e,t){const r=this.buffer,i=this.valueSize,a=e*i+i;let o=this.cumulativeWeight;if(o===0){for(let s=0;s!==i;++s)r[a+s]=r[s];o=t}else{o+=t;const s=t/o;this._mixBufferRegion(r,a,0,s,i)}this.cumulativeWeight=o}accumulateAdditive(e){const t=this.buffer,r=this.valueSize,i=r*this._addIndex;this.cumulativeWeightAdditive===0&&this._setIdentity(),this._mixBufferRegionAdditive(t,i,0,e,r),this.cumulativeWeightAdditive+=e}apply(e){const t=this.valueSize,r=this.buffer,i=e*t+t,a=this.cumulativeWeight,o=this.cumulativeWeightAdditive,s=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,a<1){const u=t*this._origIndex;this._mixBufferRegion(r,i,u,1-a,t)}o>0&&this._mixBufferRegionAdditive(r,i,this._addIndex*t,1,t);for(let u=t,c=t+t;u!==c;++u)if(r[u]!==r[u+t]){s.setValue(r,i);break}}saveOriginalState(){const e=this.binding,t=this.buffer,r=this.valueSize,i=r*this._origIndex;e.getValue(t,i);for(let a=r,o=i;a!==o;++a)t[a]=t[i+a%r];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){const e=this.valueSize*3;this.binding.setValue(this.buffer,e)}_setAdditiveIdentityNumeric(){const e=this._addIndex*this.valueSize,t=e+this.valueSize;for(let r=e;r<t;r++)this.buffer[r]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const e=this._origIndex*this.valueSize,t=this._addIndex*this.valueSize;for(let r=0;r<this.valueSize;r++)this.buffer[t+r]=this.buffer[e+r]}_select(e,t,r,i,a){if(i>=.5)for(let o=0;o!==a;++o)e[t+o]=e[r+o]}_slerp(e,t,r,i){Zi.slerpFlat(e,t,e,t,e,r,i)}_slerpAdditive(e,t,r,i,a){const o=this._workIndex*a;Zi.multiplyQuaternionsFlat(e,o,e,t,e,r),Zi.slerpFlat(e,t,e,t,e,o,i)}_lerp(e,t,r,i,a){const o=1-i;for(let s=0;s!==a;++s){const u=t+s;e[u]=e[u]*o+e[r+s]*i}}_lerpAdditive(e,t,r,i,a){for(let o=0;o!==a;++o){const s=t+o;e[s]=e[s]+e[r+o]*i}}}const WC="\\[\\]\\.:\\/",e$=new RegExp("["+WC+"]","g"),qC="[^"+WC+"]",t$="[^"+WC.replace("\\.","")+"]",n$=/((?:WC+[\/:])*)/.source.replace("WC",qC),r$=/(WCOD+)?/.source.replace("WCOD",t$),i$=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",qC),a$=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",qC),o$=new RegExp("^"+n$+r$+i$+a$+"$"),s$=["material","materials","bones","map"];class l${constructor(e,t,r){const i=r||Rn.parseTrackName(t);this._targetGroup=e,this._bindings=e.subscribe_(t,i)}getValue(e,t){this.bind();const r=this._targetGroup.nCachedObjects_,i=this._bindings[r];i!==void 0&&i.getValue(e,t)}setValue(e,t){const r=this._bindings;for(let i=this._targetGroup.nCachedObjects_,a=r.length;i!==a;++i)r[i].setValue(e,t)}bind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,r=e.length;t!==r;++t)e[t].bind()}unbind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,r=e.length;t!==r;++t)e[t].unbind()}}class Rn{constructor(e,t,r){this.path=t,this.parsedPath=r||Rn.parseTrackName(t),this.node=Rn.findNode(e,this.parsedPath.nodeName),this.rootNode=e,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(e,t,r){return e&&e.isAnimationObjectGroup?new Rn.Composite(e,t,r):new Rn(e,t,r)}static sanitizeNodeName(e){return e.replace(/\s/g,"_").replace(e$,"")}static parseTrackName(e){const t=o$.exec(e);if(t===null)throw new Error("PropertyBinding: Cannot parse trackName: "+e);const r={nodeName:t[2],objectName:t[3],objectIndex:t[4],propertyName:t[5],propertyIndex:t[6]},i=r.nodeName&&r.nodeName.lastIndexOf(".");if(i!==void 0&&i!==-1){const a=r.nodeName.substring(i+1);s$.indexOf(a)!==-1&&(r.nodeName=r.nodeName.substring(0,i),r.objectName=a)}if(r.propertyName===null||r.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return r}static findNode(e,t){if(t===void 0||t===""||t==="."||t===-1||t===e.name||t===e.uuid)return e;if(e.skeleton){const r=e.skeleton.getBoneByName(t);if(r!==void 0)return r}if(e.children){const r=function(a){for(let o=0;o<a.length;o++){const s=a[o];if(s.name===t||s.uuid===t)return s;const u=r(s.children);if(u)return u}return null},i=r(e.children);if(i)return i}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(e,t){e[t]=this.targetObject[this.propertyName]}_getValue_array(e,t){const r=this.resolvedProperty;for(let i=0,a=r.length;i!==a;++i)e[t++]=r[i]}_getValue_arrayElement(e,t){e[t]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(e,t){this.resolvedProperty.toArray(e,t)}_setValue_direct(e,t){this.targetObject[this.propertyName]=e[t]}_setValue_direct_setNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(e,t){const r=this.resolvedProperty;for(let i=0,a=r.length;i!==a;++i)r[i]=e[t++]}_setValue_array_setNeedsUpdate(e,t){const r=this.resolvedProperty;for(let i=0,a=r.length;i!==a;++i)r[i]=e[t++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(e,t){const r=this.resolvedProperty;for(let i=0,a=r.length;i!==a;++i)r[i]=e[t++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(e,t){this.resolvedProperty[this.propertyIndex]=e[t]}_setValue_arrayElement_setNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(e,t){this.resolvedProperty.fromArray(e,t)}_setValue_fromArray_setNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(e,t){this.bind(),this.getValue(e,t)}_setValue_unbound(e,t){this.bind(),this.setValue(e,t)}bind(){let e=this.node;const t=this.parsedPath,r=t.objectName,i=t.propertyName;let a=t.propertyIndex;if(e||(e=Rn.findNode(this.rootNode,t.nodeName),this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e){console.warn("THREE.PropertyBinding: No target node found for track: "+this.path+".");return}if(r){let c=t.objectIndex;switch(r){case"materials":if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.materials){console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}e=e.material.materials;break;case"bones":if(!e.skeleton){console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}e=e.skeleton.bones;for(let h=0;h<e.length;h++)if(e[h].name===c){c=h;break}break;case"map":if("map"in e){e=e.map;break}if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.map){console.error("THREE.PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);return}e=e.material.map;break;default:if(e[r]===void 0){console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);return}e=e[r]}if(c!==void 0){if(e[c]===void 0){console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);return}e=e[c]}}const o=e[i];if(o===void 0){const c=t.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+c+"."+i+" but it wasn't found.",e);return}let s=this.Versioning.None;this.targetObject=e,e.needsUpdate!==void 0?s=this.Versioning.NeedsUpdate:e.matrixWorldNeedsUpdate!==void 0&&(s=this.Versioning.MatrixWorldNeedsUpdate);let u=this.BindingType.Direct;if(a!==void 0){if(i==="morphTargetInfluences"){if(!e.geometry){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(!e.geometry.morphAttributes){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}e.morphTargetDictionary[a]!==void 0&&(a=e.morphTargetDictionary[a])}u=this.BindingType.ArrayElement,this.resolvedProperty=o,this.propertyIndex=a}else o.fromArray!==void 0&&o.toArray!==void 0?(u=this.BindingType.HasFromToArray,this.resolvedProperty=o):Array.isArray(o)?(u=this.BindingType.EntireArray,this.resolvedProperty=o):this.propertyName=i;this.getValue=this.GetterByBindingType[u],this.setValue=this.SetterByBindingTypeAndVersioning[u][s]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}Rn.Composite=l$;Rn.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3};Rn.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2};Rn.prototype.GetterByBindingType=[Rn.prototype._getValue_direct,Rn.prototype._getValue_array,Rn.prototype._getValue_arrayElement,Rn.prototype._getValue_toArray];Rn.prototype.SetterByBindingTypeAndVersioning=[[Rn.prototype._setValue_direct,Rn.prototype._setValue_direct_setNeedsUpdate,Rn.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[Rn.prototype._setValue_array,Rn.prototype._setValue_array_setNeedsUpdate,Rn.prototype._setValue_array_setMatrixWorldNeedsUpdate],[Rn.prototype._setValue_arrayElement,Rn.prototype._setValue_arrayElement_setNeedsUpdate,Rn.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[Rn.prototype._setValue_fromArray,Rn.prototype._setValue_fromArray_setNeedsUpdate,Rn.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class u${constructor(){this.isAnimationObjectGroup=!0,this.uuid=no(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;const e={};this._indicesByUUID=e;for(let r=0,i=arguments.length;r!==i;++r)e[arguments[r].uuid]=r;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};const t=this;this.stats={objects:{get total(){return t._objects.length},get inUse(){return this.total-t.nCachedObjects_}},get bindingsPerObject(){return t._bindings.length}}}add(){const e=this._objects,t=this._indicesByUUID,r=this._paths,i=this._parsedPaths,a=this._bindings,o=a.length;let s,u=e.length,c=this.nCachedObjects_;for(let h=0,d=arguments.length;h!==d;++h){const g=arguments[h],y=g.uuid;let b=t[y];if(b===void 0){b=u++,t[y]=b,e.push(g);for(let S=0,x=o;S!==x;++S)a[S].push(new Rn(g,r[S],i[S]))}else if(b<c){s=e[b];const S=--c,x=e[S];t[x.uuid]=b,e[b]=x,t[y]=S,e[S]=g;for(let _=0,E=o;_!==E;++_){const A=a[_],T=A[S];let P=A[b];A[b]=T,P===void 0&&(P=new Rn(g,r[_],i[_])),A[S]=P}}else e[b]!==s&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=c}remove(){const e=this._objects,t=this._indicesByUUID,r=this._bindings,i=r.length;let a=this.nCachedObjects_;for(let o=0,s=arguments.length;o!==s;++o){const u=arguments[o],c=u.uuid,h=t[c];if(h!==void 0&&h>=a){const d=a++,g=e[d];t[g.uuid]=h,e[h]=g,t[c]=d,e[d]=u;for(let y=0,b=i;y!==b;++y){const S=r[y],x=S[d],_=S[h];S[h]=x,S[d]=_}}}this.nCachedObjects_=a}uncache(){const e=this._objects,t=this._indicesByUUID,r=this._bindings,i=r.length;let a=this.nCachedObjects_,o=e.length;for(let s=0,u=arguments.length;s!==u;++s){const c=arguments[s],h=c.uuid,d=t[h];if(d!==void 0)if(delete t[h],d<a){const g=--a,y=e[g],b=--o,S=e[b];t[y.uuid]=d,e[d]=y,t[S.uuid]=g,e[g]=S,e.pop();for(let x=0,_=i;x!==_;++x){const E=r[x],A=E[g],T=E[b];E[d]=A,E[g]=T,E.pop()}}else{const g=--o,y=e[g];g>0&&(t[y.uuid]=d),e[d]=y,e.pop();for(let b=0,S=i;b!==S;++b){const x=r[b];x[d]=x[g],x.pop()}}}this.nCachedObjects_=a}subscribe_(e,t){const r=this._bindingsIndicesByPath;let i=r[e];const a=this._bindings;if(i!==void 0)return a[i];const o=this._paths,s=this._parsedPaths,u=this._objects,c=u.length,h=this.nCachedObjects_,d=new Array(c);i=a.length,r[e]=i,o.push(e),s.push(t),a.push(d);for(let g=h,y=u.length;g!==y;++g){const b=u[g];d[g]=new Rn(b,e,t)}return d}unsubscribe_(e){const t=this._bindingsIndicesByPath,r=t[e];if(r!==void 0){const i=this._paths,a=this._parsedPaths,o=this._bindings,s=o.length-1,u=o[s],c=e[s];t[c]=r,o[r]=u,o.pop(),a[r]=a[s],a.pop(),i[r]=i[s],i.pop()}}}class fz{constructor(e,t,r=null,i=t.blendMode){this._mixer=e,this._clip=t,this._localRoot=r,this.blendMode=i;const a=t.tracks,o=a.length,s=new Array(o),u={endingStart:gf,endingEnd:gf};for(let c=0;c!==o;++c){const h=a[c].createInterpolant(null);s[c]=h,h.settings=u}this._interpolantSettings=u,this._interpolants=s,this._propertyBindings=new Array(o),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=qF,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(e){return this._startTime=e,this}setLoop(e,t){return this.loop=e,this.repetitions=t,this}setEffectiveWeight(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(e){return this._scheduleFading(e,0,1)}fadeOut(e){return this._scheduleFading(e,1,0)}crossFadeFrom(e,t,r){if(e.fadeOut(t),this.fadeIn(t),r){const i=this._clip.duration,a=e._clip.duration,o=a/i,s=i/a;e.warp(1,o,t),this.warp(s,1,t)}return this}crossFadeTo(e,t,r){return e.crossFadeFrom(this,t,r)}stopFading(){const e=this._weightInterpolant;return e!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}setEffectiveTimeScale(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(e){return this.timeScale=this._clip.duration/e,this.stopWarping()}syncWith(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()}halt(e){return this.warp(this._effectiveTimeScale,0,e)}warp(e,t,r){const i=this._mixer,a=i.time,o=this.timeScale;let s=this._timeScaleInterpolant;s===null&&(s=i._lendControlInterpolant(),this._timeScaleInterpolant=s);const u=s.parameterPositions,c=s.sampleValues;return u[0]=a,u[1]=a+r,c[0]=e/o,c[1]=t/o,this}stopWarping(){const e=this._timeScaleInterpolant;return e!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(e,t,r,i){if(!this.enabled){this._updateWeight(e);return}const a=this._startTime;if(a!==null){const u=(e-a)*r;u<0||r===0?t=0:(this._startTime=null,t=r*u)}t*=this._updateTimeScale(e);const o=this._updateTime(t),s=this._updateWeight(e);if(s>0){const u=this._interpolants,c=this._propertyBindings;switch(this.blendMode){case dC:for(let h=0,d=u.length;h!==d;++h)u[h].evaluate(o),c[h].accumulateAdditive(s);break;case l_:default:for(let h=0,d=u.length;h!==d;++h)u[h].evaluate(o),c[h].accumulate(i,s)}}}_updateWeight(e){let t=0;if(this.enabled){t=this.weight;const r=this._weightInterpolant;if(r!==null){const i=r.evaluate(e)[0];t*=i,e>r.parameterPositions[1]&&(this.stopFading(),i===0&&(this.enabled=!1))}}return this._effectiveWeight=t,t}_updateTimeScale(e){let t=0;if(!this.paused){t=this.timeScale;const r=this._timeScaleInterpolant;if(r!==null){const i=r.evaluate(e)[0];t*=i,e>r.parameterPositions[1]&&(this.stopWarping(),t===0?this.paused=!0:this.timeScale=t)}}return this._effectiveTimeScale=t,t}_updateTime(e){const t=this._clip.duration,r=this.loop;let i=this.time+e,a=this._loopCount;const o=r===$F;if(e===0)return a===-1?i:o&&(a&1)===1?t-i:i;if(r===WF){a===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(i>=t)i=t;else if(i<0)i=0;else{this.time=i;break e}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=i,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(a===-1&&(e>=0?(a=0,this._setEndings(!0,this.repetitions===0,o)):this._setEndings(this.repetitions===0,!0,o)),i>=t||i<0){const s=Math.floor(i/t);i-=t*s,a+=Math.abs(s);const u=this.repetitions-a;if(u<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,i=e>0?t:0,this.time=i,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(u===1){const c=e<0;this._setEndings(c,!c,o)}else this._setEndings(!1,!1,o);this._loopCount=a,this.time=i,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:s})}}else this.time=i;if(o&&(a&1)===1)return t-i}return i}_setEndings(e,t,r){const i=this._interpolantSettings;r?(i.endingStart=vf,i.endingEnd=vf):(e?i.endingStart=this.zeroSlopeAtStart?vf:gf:i.endingStart=cg,t?i.endingEnd=this.zeroSlopeAtEnd?vf:gf:i.endingEnd=cg)}_scheduleFading(e,t,r){const i=this._mixer,a=i.time;let o=this._weightInterpolant;o===null&&(o=i._lendControlInterpolant(),this._weightInterpolant=o);const s=o.parameterPositions,u=o.sampleValues;return s[0]=a,u[0]=t,s[1]=a+e,u[1]=r,this}}const c$=new Float32Array(1);class f$ extends Vl{constructor(e){super(),this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(e,t){const r=e._localRoot||this._root,i=e._clip.tracks,a=i.length,o=e._propertyBindings,s=e._interpolants,u=r.uuid,c=this._bindingsByRootAndName;let h=c[u];h===void 0&&(h={},c[u]=h);for(let d=0;d!==a;++d){const g=i[d],y=g.name;let b=h[y];if(b!==void 0)++b.referenceCount,o[d]=b;else{if(b=o[d],b!==void 0){b._cacheIndex===null&&(++b.referenceCount,this._addInactiveBinding(b,u,y));continue}const S=t&&t._propertyBindings[d].binding.parsedPath;b=new cz(Rn.create(r,y,S),g.ValueTypeName,g.getValueSize()),++b.referenceCount,this._addInactiveBinding(b,u,y),o[d]=b}s[d].resultBuffer=b.buffer}}_activateAction(e){if(!this._isActiveAction(e)){if(e._cacheIndex===null){const r=(e._localRoot||this._root).uuid,i=e._clip.uuid,a=this._actionsByClip[i];this._bindAction(e,a&&a.knownActions[0]),this._addInactiveAction(e,i,r)}const t=e._propertyBindings;for(let r=0,i=t.length;r!==i;++r){const a=t[r];a.useCount++===0&&(this._lendBinding(a),a.saveOriginalState())}this._lendAction(e)}}_deactivateAction(e){if(this._isActiveAction(e)){const t=e._propertyBindings;for(let r=0,i=t.length;r!==i;++r){const a=t[r];--a.useCount===0&&(a.restoreOriginalState(),this._takeBackBinding(a))}this._takeBackAction(e)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}}_isActiveAction(e){const t=e._cacheIndex;return t!==null&&t<this._nActiveActions}_addInactiveAction(e,t,r){const i=this._actions,a=this._actionsByClip;let o=a[t];if(o===void 0)o={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,a[t]=o;else{const s=o.knownActions;e._byClipCacheIndex=s.length,s.push(e)}e._cacheIndex=i.length,i.push(e),o.actionByRoot[r]=e}_removeInactiveAction(e){const t=this._actions,r=t[t.length-1],i=e._cacheIndex;r._cacheIndex=i,t[i]=r,t.pop(),e._cacheIndex=null;const a=e._clip.uuid,o=this._actionsByClip,s=o[a],u=s.knownActions,c=u[u.length-1],h=e._byClipCacheIndex;c._byClipCacheIndex=h,u[h]=c,u.pop(),e._byClipCacheIndex=null;const d=s.actionByRoot,g=(e._localRoot||this._root).uuid;delete d[g],u.length===0&&delete o[a],this._removeInactiveBindingsForAction(e)}_removeInactiveBindingsForAction(e){const t=e._propertyBindings;for(let r=0,i=t.length;r!==i;++r){const a=t[r];--a.referenceCount===0&&this._removeInactiveBinding(a)}}_lendAction(e){const t=this._actions,r=e._cacheIndex,i=this._nActiveActions++,a=t[i];e._cacheIndex=i,t[i]=e,a._cacheIndex=r,t[r]=a}_takeBackAction(e){const t=this._actions,r=e._cacheIndex,i=--this._nActiveActions,a=t[i];e._cacheIndex=i,t[i]=e,a._cacheIndex=r,t[r]=a}_addInactiveBinding(e,t,r){const i=this._bindingsByRootAndName,a=this._bindings;let o=i[t];o===void 0&&(o={},i[t]=o),o[r]=e,e._cacheIndex=a.length,a.push(e)}_removeInactiveBinding(e){const t=this._bindings,r=e.binding,i=r.rootNode.uuid,a=r.path,o=this._bindingsByRootAndName,s=o[i],u=t[t.length-1],c=e._cacheIndex;u._cacheIndex=c,t[c]=u,t.pop(),delete s[a],Object.keys(s).length===0&&delete o[i]}_lendBinding(e){const t=this._bindings,r=e._cacheIndex,i=this._nActiveBindings++,a=t[i];e._cacheIndex=i,t[i]=e,a._cacheIndex=r,t[r]=a}_takeBackBinding(e){const t=this._bindings,r=e._cacheIndex,i=--this._nActiveBindings,a=t[i];e._cacheIndex=i,t[i]=e,a._cacheIndex=r,t[r]=a}_lendControlInterpolant(){const e=this._controlInterpolants,t=this._nActiveControlInterpolants++;let r=e[t];return r===void 0&&(r=new FC(new Float32Array(2),new Float32Array(2),1,c$),r.__cacheIndex=t,e[t]=r),r}_takeBackControlInterpolant(e){const t=this._controlInterpolants,r=e.__cacheIndex,i=--this._nActiveControlInterpolants,a=t[i];e.__cacheIndex=i,t[i]=e,a.__cacheIndex=r,t[r]=a}clipAction(e,t,r){const i=t||this._root,a=i.uuid;let o=typeof e=="string"?wg.findByName(i,e):e;const s=o!==null?o.uuid:e,u=this._actionsByClip[s];let c=null;if(r===void 0&&(o!==null?r=o.blendMode:r=l_),u!==void 0){const d=u.actionByRoot[a];if(d!==void 0&&d.blendMode===r)return d;c=u.knownActions[0],o===null&&(o=c._clip)}if(o===null)return null;const h=new fz(this,o,t,r);return this._bindAction(h,c),this._addInactiveAction(h,s,a),h}existingAction(e,t){const r=t||this._root,i=r.uuid,a=typeof e=="string"?wg.findByName(r,e):e,o=a?a.uuid:e,s=this._actionsByClip[o];return s!==void 0&&s.actionByRoot[i]||null}stopAllAction(){const e=this._actions,t=this._nActiveActions;for(let r=t-1;r>=0;--r)e[r].stop();return this}update(e){e*=this.timeScale;const t=this._actions,r=this._nActiveActions,i=this.time+=e,a=Math.sign(e),o=this._accuIndex^=1;for(let c=0;c!==r;++c)t[c]._update(i,e,a,o);const s=this._bindings,u=this._nActiveBindings;for(let c=0;c!==u;++c)s[c].apply(o);return this}setTime(e){this.time=0;for(let t=0;t<this._actions.length;t++)this._actions[t].time=0;return this.update(e)}getRoot(){return this._root}uncacheClip(e){const t=this._actions,r=e.uuid,i=this._actionsByClip,a=i[r];if(a!==void 0){const o=a.knownActions;for(let s=0,u=o.length;s!==u;++s){const c=o[s];this._deactivateAction(c);const h=c._cacheIndex,d=t[t.length-1];c._cacheIndex=null,c._byClipCacheIndex=null,d._cacheIndex=h,t[h]=d,t.pop(),this._removeInactiveBindingsForAction(c)}delete i[r]}}uncacheRoot(e){const t=e.uuid,r=this._actionsByClip;for(const o in r){const s=r[o].actionByRoot,u=s[t];u!==void 0&&(this._deactivateAction(u),this._removeInactiveAction(u))}const i=this._bindingsByRootAndName,a=i[t];if(a!==void 0)for(const o in a){const s=a[o];s.restoreOriginalState(),this._removeInactiveBinding(s)}}uncacheAction(e,t){const r=this.existingAction(e,t);r!==null&&(this._deactivateAction(r),this._removeInactiveAction(r))}}class $C{constructor(e){this.value=e}clone(){return new $C(this.value.clone===void 0?this.value:this.value.clone())}}let h$=0;class d$ extends Vl{constructor(){super(),this.isUniformsGroup=!0,Object.defineProperty(this,"id",{value:h$++}),this.name="",this.usage=pg,this.uniforms=[]}add(e){return this.uniforms.push(e),this}remove(e){const t=this.uniforms.indexOf(e);return t!==-1&&this.uniforms.splice(t,1),this}setName(e){return this.name=e,this}setUsage(e){return this.usage=e,this}dispose(){return this.dispatchEvent({type:"dispose"}),this}copy(e){this.name=e.name,this.usage=e.usage;const t=e.uniforms;this.uniforms.length=0;for(let r=0,i=t.length;r<i;r++){const a=Array.isArray(t[r])?t[r]:[t[r]];for(let o=0;o<a.length;o++)this.uniforms.push(a[o].clone())}return this}clone(){return new this.constructor().copy(this)}}class p$ extends g_{constructor(e,t,r=1){super(e,t),this.isInstancedInterleavedBuffer=!0,this.meshPerAttribute=r}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}clone(e){const t=super.clone(e);return t.meshPerAttribute=this.meshPerAttribute,t}toJSON(e){const t=super.toJSON(e);return t.isInstancedInterleavedBuffer=!0,t.meshPerAttribute=this.meshPerAttribute,t}}class m${constructor(e,t,r,i,a){this.isGLBufferAttribute=!0,this.name="",this.buffer=e,this.type=t,this.itemSize=r,this.elementSize=i,this.count=a,this.version=0}set needsUpdate(e){e===!0&&this.version++}setBuffer(e){return this.buffer=e,this}setType(e,t){return this.type=e,this.elementSize=t,this}setItemSize(e){return this.itemSize=e,this}setCount(e){return this.count=e,this}}class XC{constructor(e,t,r=0,i=1/0){this.ray=new Hf(e,t),this.near=r,this.far=i,this.camera=null,this.layers=new Pf,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(e,t){this.ray.set(e,t)}setFromCamera(e,t){t.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(t.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(t).sub(this.ray.origin).normalize(),this.camera=t):t.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(t.near+t.far)/(t.near-t.far)).unproject(t),this.ray.direction.set(0,0,-1).transformDirection(t.matrixWorld),this.camera=t):console.error("THREE.Raycaster: Unsupported camera type: "+t.type)}intersectObject(e,t=!0,r=[]){return kA(e,this,r,t),r.sort(SO),r}intersectObjects(e,t=!0,r=[]){for(let i=0,a=e.length;i<a;i++)kA(e[i],this,r,t);return r.sort(SO),r}}function SO(n,e){return n.distance-e.distance}function kA(n,e,t,r){if(n.layers.test(e.layers)&&n.raycast(e,t),r===!0){const i=n.children;for(let a=0,o=i.length;a<o;a++)kA(i[a],e,t,!0)}}class DA{constructor(e=1,t=0,r=0){return this.radius=e,this.phi=t,this.theta=r,this}set(e,t,r){return this.radius=e,this.phi=t,this.theta=r,this}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){return this.phi=Math.max(1e-6,Math.min(Math.PI-1e-6,this.phi)),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,r){return this.radius=Math.sqrt(e*e+t*t+r*r),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,r),this.phi=Math.acos(Cr(t/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}}class g${constructor(e=1,t=0,r=0){return this.radius=e,this.theta=t,this.y=r,this}set(e,t,r){return this.radius=e,this.theta=t,this.y=r,this}copy(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,r){return this.radius=Math.sqrt(e*e+r*r),this.theta=Math.atan2(e,r),this.y=t,this}clone(){return new this.constructor().copy(this)}}const wO=new Ve;class v${constructor(e=new Ve(1/0,1/0),t=new Ve(-1/0,-1/0)){this.isBox2=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromPoints(e){this.makeEmpty();for(let t=0,r=e.length;t<r;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const r=wO.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(e){return this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y)}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,wO).distanceTo(e)}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const MO=new ie,by=new ie;class y${constructor(e=new ie,t=new ie){this.start=e,this.end=t}set(e,t){return this.start.copy(e),this.end.copy(t),this}copy(e){return this.start.copy(e.start),this.end.copy(e.end),this}getCenter(e){return e.addVectors(this.start,this.end).multiplyScalar(.5)}delta(e){return e.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(e,t){return this.delta(t).multiplyScalar(e).add(this.start)}closestPointToPointParameter(e,t){MO.subVectors(e,this.start),by.subVectors(this.end,this.start);const r=by.dot(by);let a=by.dot(MO)/r;return t&&(a=Cr(a,0,1)),a}closestPointToPoint(e,t,r){const i=this.closestPointToPointParameter(e,t);return this.delta(r).multiplyScalar(i).add(this.start)}applyMatrix4(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this}equals(e){return e.start.equals(this.start)&&e.end.equals(this.end)}clone(){return new this.constructor().copy(this)}}const EO=new ie;class x$ extends Nn{constructor(e,t){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=t,this.type="SpotLightHelper";const r=new mn,i=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let o=0,s=1,u=32;o<u;o++,s++){const c=o/u*Math.PI*2,h=s/u*Math.PI*2;i.push(Math.cos(c),Math.sin(c),1,Math.cos(h),Math.sin(h),1)}r.setAttribute("position",new Dt(i,3));const a=new ga({fog:!1,toneMapped:!1});this.cone=new Vs(r,a),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1);const e=this.light.distance?this.light.distance:1e3,t=e*Math.tan(this.light.angle);this.cone.scale.set(t,t,e),EO.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(EO),this.color!==void 0?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}const Uu=new ie,Sy=new en,M1=new en;class _$ extends Vs{constructor(e){const t=hz(e),r=new mn,i=[],a=[],o=new wt(0,0,1),s=new wt(0,1,0);for(let c=0;c<t.length;c++){const h=t[c];h.parent&&h.parent.isBone&&(i.push(0,0,0),i.push(0,0,0),a.push(o.r,o.g,o.b),a.push(s.r,s.g,s.b))}r.setAttribute("position",new Dt(i,3)),r.setAttribute("color",new Dt(a,3));const u=new ga({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});super(r,u),this.isSkeletonHelper=!0,this.type="SkeletonHelper",this.root=e,this.bones=t,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1}updateMatrixWorld(e){const t=this.bones,r=this.geometry,i=r.getAttribute("position");M1.copy(this.root.matrixWorld).invert();for(let a=0,o=0;a<t.length;a++){const s=t[a];s.parent&&s.parent.isBone&&(Sy.multiplyMatrices(M1,s.matrixWorld),Uu.setFromMatrixPosition(Sy),i.setXYZ(o,Uu.x,Uu.y,Uu.z),Sy.multiplyMatrices(M1,s.parent.matrixWorld),Uu.setFromMatrixPosition(Sy),i.setXYZ(o+1,Uu.x,Uu.y,Uu.z),o+=2)}r.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose()}}function hz(n){const e=[];n.isBone===!0&&e.push(n);for(let t=0;t<n.children.length;t++)e.push.apply(e,hz(n.children[t]));return e}class b$ extends Ur{constructor(e,t,r){const i=new wv(t,4,2),a=new sc({wireframe:!0,fog:!1,toneMapped:!1});super(i,a),this.light=e,this.color=r,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.color!==void 0?this.material.color.set(this.color):this.material.color.copy(this.light.color)}}const S$=new ie,AO=new wt,TO=new wt;class w$ extends Nn{constructor(e,t,r){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=r,this.type="HemisphereLightHelper";const i=new Sv(t);i.rotateY(Math.PI*.5),this.material=new sc({wireframe:!0,fog:!1,toneMapped:!1}),this.color===void 0&&(this.material.vertexColors=!0);const a=i.getAttribute("position"),o=new Float32Array(a.count*3);i.setAttribute("color",new Fn(o,3)),this.add(new Ur(i,this.material)),this.update()}dispose(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}update(){const e=this.children[0];if(this.color!==void 0)this.material.color.set(this.color);else{const t=e.geometry.getAttribute("color");AO.copy(this.light.color),TO.copy(this.light.groundColor);for(let r=0,i=t.count;r<i;r++){const a=r<i/2?AO:TO;t.setXYZ(r,a.r,a.g,a.b)}t.needsUpdate=!0}this.light.updateWorldMatrix(!0,!1),e.lookAt(S$.setFromMatrixPosition(this.light.matrixWorld).negate())}}class M$ extends Vs{constructor(e=10,t=10,r=4473924,i=8947848){r=new wt(r),i=new wt(i);const a=t/2,o=e/t,s=e/2,u=[],c=[];for(let g=0,y=0,b=-s;g<=t;g++,b+=o){u.push(-s,0,b,s,0,b),u.push(b,0,-s,b,0,s);const S=g===a?r:i;S.toArray(c,y),y+=3,S.toArray(c,y),y+=3,S.toArray(c,y),y+=3,S.toArray(c,y),y+=3}const h=new mn;h.setAttribute("position",new Dt(u,3)),h.setAttribute("color",new Dt(c,3));const d=new ga({vertexColors:!0,toneMapped:!1});super(h,d),this.type="GridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}class E$ extends Vs{constructor(e=10,t=16,r=8,i=64,a=4473924,o=8947848){a=new wt(a),o=new wt(o);const s=[],u=[];if(t>1)for(let d=0;d<t;d++){const g=d/t*(Math.PI*2),y=Math.sin(g)*e,b=Math.cos(g)*e;s.push(0,0,0),s.push(y,0,b);const S=d&1?a:o;u.push(S.r,S.g,S.b),u.push(S.r,S.g,S.b)}for(let d=0;d<r;d++){const g=d&1?a:o,y=e-e/r*d;for(let b=0;b<i;b++){let S=b/i*(Math.PI*2),x=Math.sin(S)*y,_=Math.cos(S)*y;s.push(x,0,_),u.push(g.r,g.g,g.b),S=(b+1)/i*(Math.PI*2),x=Math.sin(S)*y,_=Math.cos(S)*y,s.push(x,0,_),u.push(g.r,g.g,g.b)}}const c=new mn;c.setAttribute("position",new Dt(s,3)),c.setAttribute("color",new Dt(u,3));const h=new ga({vertexColors:!0,toneMapped:!1});super(c,h),this.type="PolarGridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}const CO=new ie,wy=new ie,PO=new ie;class A$ extends Nn{constructor(e,t,r){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=r,this.type="DirectionalLightHelper",t===void 0&&(t=1);let i=new mn;i.setAttribute("position",new Dt([-t,t,0,t,t,0,t,-t,0,-t,-t,0,-t,t,0],3));const a=new ga({fog:!1,toneMapped:!1});this.lightPlane=new ic(i,a),this.add(this.lightPlane),i=new mn,i.setAttribute("position",new Dt([0,0,0,0,0,1],3)),this.targetLine=new ic(i,a),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),CO.setFromMatrixPosition(this.light.matrixWorld),wy.setFromMatrixPosition(this.light.target.matrixWorld),PO.subVectors(wy,CO),this.lightPlane.lookAt(wy),this.color!==void 0?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(wy),this.targetLine.scale.z=PO.length()}}const My=new ie,Tr=new vv;class T$ extends Vs{constructor(e){const t=new mn,r=new ga({color:16777215,vertexColors:!0,toneMapped:!1}),i=[],a=[],o={};s("n1","n2"),s("n2","n4"),s("n4","n3"),s("n3","n1"),s("f1","f2"),s("f2","f4"),s("f4","f3"),s("f3","f1"),s("n1","f1"),s("n2","f2"),s("n3","f3"),s("n4","f4"),s("p","n1"),s("p","n2"),s("p","n3"),s("p","n4"),s("u1","u2"),s("u2","u3"),s("u3","u1"),s("c","t"),s("p","c"),s("cn1","cn2"),s("cn3","cn4"),s("cf1","cf2"),s("cf3","cf4");function s(b,S){u(b),u(S)}function u(b){i.push(0,0,0),a.push(0,0,0),o[b]===void 0&&(o[b]=[]),o[b].push(i.length/3-1)}t.setAttribute("position",new Dt(i,3)),t.setAttribute("color",new Dt(a,3)),super(t,r),this.type="CameraHelper",this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=o,this.update();const c=new wt(16755200),h=new wt(16711680),d=new wt(43775),g=new wt(16777215),y=new wt(3355443);this.setColors(c,h,d,g,y)}setColors(e,t,r,i,a){const s=this.geometry.getAttribute("color");s.setXYZ(0,e.r,e.g,e.b),s.setXYZ(1,e.r,e.g,e.b),s.setXYZ(2,e.r,e.g,e.b),s.setXYZ(3,e.r,e.g,e.b),s.setXYZ(4,e.r,e.g,e.b),s.setXYZ(5,e.r,e.g,e.b),s.setXYZ(6,e.r,e.g,e.b),s.setXYZ(7,e.r,e.g,e.b),s.setXYZ(8,e.r,e.g,e.b),s.setXYZ(9,e.r,e.g,e.b),s.setXYZ(10,e.r,e.g,e.b),s.setXYZ(11,e.r,e.g,e.b),s.setXYZ(12,e.r,e.g,e.b),s.setXYZ(13,e.r,e.g,e.b),s.setXYZ(14,e.r,e.g,e.b),s.setXYZ(15,e.r,e.g,e.b),s.setXYZ(16,e.r,e.g,e.b),s.setXYZ(17,e.r,e.g,e.b),s.setXYZ(18,e.r,e.g,e.b),s.setXYZ(19,e.r,e.g,e.b),s.setXYZ(20,e.r,e.g,e.b),s.setXYZ(21,e.r,e.g,e.b),s.setXYZ(22,e.r,e.g,e.b),s.setXYZ(23,e.r,e.g,e.b),s.setXYZ(24,t.r,t.g,t.b),s.setXYZ(25,t.r,t.g,t.b),s.setXYZ(26,t.r,t.g,t.b),s.setXYZ(27,t.r,t.g,t.b),s.setXYZ(28,t.r,t.g,t.b),s.setXYZ(29,t.r,t.g,t.b),s.setXYZ(30,t.r,t.g,t.b),s.setXYZ(31,t.r,t.g,t.b),s.setXYZ(32,r.r,r.g,r.b),s.setXYZ(33,r.r,r.g,r.b),s.setXYZ(34,r.r,r.g,r.b),s.setXYZ(35,r.r,r.g,r.b),s.setXYZ(36,r.r,r.g,r.b),s.setXYZ(37,r.r,r.g,r.b),s.setXYZ(38,i.r,i.g,i.b),s.setXYZ(39,i.r,i.g,i.b),s.setXYZ(40,a.r,a.g,a.b),s.setXYZ(41,a.r,a.g,a.b),s.setXYZ(42,a.r,a.g,a.b),s.setXYZ(43,a.r,a.g,a.b),s.setXYZ(44,a.r,a.g,a.b),s.setXYZ(45,a.r,a.g,a.b),s.setXYZ(46,a.r,a.g,a.b),s.setXYZ(47,a.r,a.g,a.b),s.setXYZ(48,a.r,a.g,a.b),s.setXYZ(49,a.r,a.g,a.b),s.needsUpdate=!0}update(){const e=this.geometry,t=this.pointMap,r=1,i=1;Tr.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),Lr("c",t,e,Tr,0,0,-1),Lr("t",t,e,Tr,0,0,1),Lr("n1",t,e,Tr,-r,-i,-1),Lr("n2",t,e,Tr,r,-i,-1),Lr("n3",t,e,Tr,-r,i,-1),Lr("n4",t,e,Tr,r,i,-1),Lr("f1",t,e,Tr,-r,-i,1),Lr("f2",t,e,Tr,r,-i,1),Lr("f3",t,e,Tr,-r,i,1),Lr("f4",t,e,Tr,r,i,1),Lr("u1",t,e,Tr,r*.7,i*1.1,-1),Lr("u2",t,e,Tr,-r*.7,i*1.1,-1),Lr("u3",t,e,Tr,0,i*2,-1),Lr("cf1",t,e,Tr,-r,0,1),Lr("cf2",t,e,Tr,r,0,1),Lr("cf3",t,e,Tr,0,-i,1),Lr("cf4",t,e,Tr,0,i,1),Lr("cn1",t,e,Tr,-r,0,-1),Lr("cn2",t,e,Tr,r,0,-1),Lr("cn3",t,e,Tr,0,-i,-1),Lr("cn4",t,e,Tr,0,i,-1),e.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}}function Lr(n,e,t,r,i,a,o){My.set(i,a,o).unproject(r);const s=e[n];if(s!==void 0){const u=t.getAttribute("position");for(let c=0,h=s.length;c<h;c++)u.setXYZ(s[c],My.x,My.y,My.z)}}const Ey=new ma;class C$ extends Vs{constructor(e,t=16776960){const r=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),i=new Float32Array(24),a=new mn;a.setIndex(new Fn(r,1)),a.setAttribute("position",new Fn(i,3)),super(a,new ga({color:t,toneMapped:!1})),this.object=e,this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}update(e){if(e!==void 0&&console.warn("THREE.BoxHelper: .update() has no longer arguments."),this.object!==void 0&&Ey.setFromObject(this.object),Ey.isEmpty())return;const t=Ey.min,r=Ey.max,i=this.geometry.attributes.position,a=i.array;a[0]=r.x,a[1]=r.y,a[2]=r.z,a[3]=t.x,a[4]=r.y,a[5]=r.z,a[6]=t.x,a[7]=t.y,a[8]=r.z,a[9]=r.x,a[10]=t.y,a[11]=r.z,a[12]=r.x,a[13]=r.y,a[14]=t.z,a[15]=t.x,a[16]=r.y,a[17]=t.z,a[18]=t.x,a[19]=t.y,a[20]=t.z,a[21]=r.x,a[22]=t.y,a[23]=t.z,i.needsUpdate=!0,this.geometry.computeBoundingSphere()}setFromObject(e){return this.object=e,this.update(),this}copy(e,t){return super.copy(e,t),this.object=e.object,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class P$ extends Vs{constructor(e,t=16776960){const r=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),i=[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],a=new mn;a.setIndex(new Fn(r,1)),a.setAttribute("position",new Dt(i,3)),super(a,new ga({color:t,toneMapped:!1})),this.box=e,this.type="Box3Helper",this.geometry.computeBoundingSphere()}updateMatrixWorld(e){const t=this.box;t.isEmpty()||(t.getCenter(this.position),t.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(e))}dispose(){this.geometry.dispose(),this.material.dispose()}}class R$ extends ic{constructor(e,t=1,r=16776960){const i=r,a=[1,-1,0,-1,1,0,-1,-1,0,1,1,0,-1,1,0,-1,-1,0,1,-1,0,1,1,0],o=new mn;o.setAttribute("position",new Dt(a,3)),o.computeBoundingSphere(),super(o,new ga({color:i,toneMapped:!1})),this.type="PlaneHelper",this.plane=e,this.size=t;const s=[1,1,0,-1,1,0,-1,-1,0,1,1,0,-1,-1,0,1,-1,0],u=new mn;u.setAttribute("position",new Dt(s,3)),u.computeBoundingSphere(),this.add(new Ur(u,new sc({color:i,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}updateMatrixWorld(e){this.position.set(0,0,0),this.scale.set(.5*this.size,.5*this.size,1),this.lookAt(this.plane.normal),this.translateZ(-this.plane.constant),super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose(),this.children[0].geometry.dispose(),this.children[0].material.dispose()}}const RO=new ie;let Ay,E1;class O$ extends Nn{constructor(e=new ie(0,0,1),t=new ie(0,0,0),r=1,i=16776960,a=r*.2,o=a*.2){super(),this.type="ArrowHelper",Ay===void 0&&(Ay=new mn,Ay.setAttribute("position",new Dt([0,0,0,0,1,0],3)),E1=new pp(0,.5,1,5,1),E1.translate(0,-.5,0)),this.position.copy(t),this.line=new ic(Ay,new ga({color:i,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new Ur(E1,new sc({color:i,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(e),this.setLength(r,a,o)}setDirection(e){if(e.y>.99999)this.quaternion.set(0,0,0,1);else if(e.y<-.99999)this.quaternion.set(1,0,0,0);else{RO.set(e.z,0,-e.x).normalize();const t=Math.acos(e.y);this.quaternion.setFromAxisAngle(RO,t)}}setLength(e,t=e*.2,r=t*.2){this.line.scale.set(1,Math.max(1e-4,e-t),1),this.line.updateMatrix(),this.cone.scale.set(r,t,r),this.cone.position.y=e,this.cone.updateMatrix()}setColor(e){this.line.material.color.set(e),this.cone.material.color.set(e)}copy(e){return super.copy(e,!1),this.line.copy(e.line),this.cone.copy(e.cone),this}dispose(){this.line.geometry.dispose(),this.line.material.dispose(),this.cone.geometry.dispose(),this.cone.material.dispose()}}class I$ extends Vs{constructor(e=1){const t=[0,0,0,e,0,0,0,0,0,0,e,0,0,0,0,0,0,e],r=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],i=new mn;i.setAttribute("position",new Dt(t,3)),i.setAttribute("color",new Dt(r,3));const a=new ga({vertexColors:!0,toneMapped:!1});super(i,a),this.type="AxesHelper"}setColors(e,t,r){const i=new wt,a=this.geometry.attributes.color.array;return i.set(e),i.toArray(a,0),i.toArray(a,3),i.set(t),i.toArray(a,6),i.toArray(a,9),i.set(r),i.toArray(a,12),i.toArray(a,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class N${constructor(){this.type="ShapePath",this.color=new wt,this.subPaths=[],this.currentPath=null}moveTo(e,t){return this.currentPath=new vg,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,t),this}lineTo(e,t){return this.currentPath.lineTo(e,t),this}quadraticCurveTo(e,t,r,i){return this.currentPath.quadraticCurveTo(e,t,r,i),this}bezierCurveTo(e,t,r,i,a,o){return this.currentPath.bezierCurveTo(e,t,r,i,a,o),this}splineThru(e){return this.currentPath.splineThru(e),this}toShapes(e){function t(_){const E=[];for(let A=0,T=_.length;A<T;A++){const P=_[A],O=new Qu;O.curves=P.curves,E.push(O)}return E}function r(_,E){const A=E.length;let T=!1;for(let P=A-1,O=0;O<A;P=O++){let N=E[P],F=E[O],D=F.x-N.x,U=F.y-N.y;if(Math.abs(U)>Number.EPSILON){if(U<0&&(N=E[O],D=-D,F=E[P],U=-U),_.y<N.y||_.y>F.y)continue;if(_.y===N.y){if(_.x===N.x)return!0}else{const G=U*(_.x-N.x)-D*(_.y-N.y);if(G===0)return!0;if(G<0)continue;T=!T}}else{if(_.y!==N.y)continue;if(F.x<=_.x&&_.x<=N.x||N.x<=_.x&&_.x<=F.x)return!0}}return T}const i=Us.isClockWise,a=this.subPaths;if(a.length===0)return[];let o,s,u;const c=[];if(a.length===1)return s=a[0],u=new Qu,u.curves=s.curves,c.push(u),c;let h=!i(a[0].getPoints());h=e?!h:h;const d=[],g=[];let y=[],b=0,S;g[b]=void 0,y[b]=[];for(let _=0,E=a.length;_<E;_++)s=a[_],S=s.getPoints(),o=i(S),o=e?!o:o,o?(!h&&g[b]&&b++,g[b]={s:new Qu,p:S},g[b].s.curves=s.curves,h&&b++,y[b]=[]):y[b].push({h:s,p:S[0]});if(!g[0])return t(a);if(g.length>1){let _=!1,E=0;for(let A=0,T=g.length;A<T;A++)d[A]=[];for(let A=0,T=g.length;A<T;A++){const P=y[A];for(let O=0;O<P.length;O++){const N=P[O];let F=!0;for(let D=0;D<g.length;D++)r(N.p,g[D].p)&&(A!==D&&E++,F?(F=!1,d[D].push(N)):_=!0);F&&d[A].push(N)}}E>0&&_===!1&&(y=d)}let x;for(let _=0,E=g.length;_<E;_++){u=g[_].s,c.push(u),x=y[_];for(let A=0,T=x.length;A<T;A++)u.holes.push(x[A].h)}return c}}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:dv}}));typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=dv);const L$=Object.freeze(Object.defineProperty({__proto__:null,ACESFilmicToneMapping:rC,AddEquation:Hu,AddOperation:OF,AdditiveAnimationBlendMode:dC,AdditiveBlending:XE,AgXToneMapping:DF,AlphaFormat:zF,AlwaysCompare:rB,AlwaysDepth:MF,AlwaysStencilFunc:EA,AmbientLight:rz,AnimationAction:fz,AnimationClip:wg,AnimationLoader:B7,AnimationMixer:f$,AnimationObjectGroup:u$,AnimationUtils:k7,ArcCurve:TB,ArrayCamera:vB,ArrowHelper:O$,AttachedBindMode:QE,Audio:uz,AudioAnalyser:Q7,AudioContext:VC,AudioListener:K7,AudioLoader:$7,AxesHelper:I$,BackSide:pa,BasicDepthPacking:XF,BasicShadowMap:oF,BatchedMesh:MB,Bone:CC,BooleanKeyframeTrack:Gf,Box2:v$,Box3:ma,Box3Helper:P$,BoxGeometry:Vf,BoxHelper:C$,BufferAttribute:Fn,BufferGeometry:mn,BufferGeometryLoader:lz,ByteType:FF,Cache:Cl,Camera:vv,CameraHelper:T$,CanvasTexture:a7,CapsuleGeometry:__,CatmullRomCurve3:CB,CineonToneMapping:LF,CircleGeometry:b_,ClampToEdgeWrapping:Yi,Clock:GC,Color:wt,ColorKeyframeTrack:BC,ColorManagement:qn,CompressedArrayTexture:r7,CompressedCubeTexture:i7,CompressedTexture:y_,CompressedTextureLoader:z7,ConeGeometry:S_,ConstantAlphaFactor:bF,ConstantColorFactor:xF,CubeCamera:uB,CubeReflectionMapping:zs,CubeRefractionMapping:nc,CubeTexture:yv,CubeTextureLoader:JB,CubeUVReflectionMapping:fp,CubicBezierCurve:OC,CubicBezierCurve3:PB,CubicInterpolant:XB,CullFaceBack:$E,CullFaceFront:aF,CullFaceFrontBack:X8,CullFaceNone:iF,Curve:cs,CurvePath:OB,CustomBlending:sF,CustomToneMapping:kF,CylinderGeometry:pp,Cylindrical:g$,Data3DTexture:yC,DataArrayTexture:f_,DataTexture:Rf,DataTextureLoader:jC,DataUtils:xf,DecrementStencilOp:o6,DecrementWrapStencilOp:l6,DefaultLoadingManager:ZB,DepthFormat:Ku,DepthStencilFormat:Lf,DepthTexture:MC,DetachedBindMode:UF,DirectionalLight:nz,DirectionalLightHelper:A$,DiscreteInterpolant:YB,DisplayP3ColorSpace:u_,DodecahedronGeometry:w_,DoubleSide:Eo,DstAlphaFactor:pF,DstColorFactor:gF,DynamicCopyUsage:w6,DynamicDrawUsage:v6,DynamicReadUsage:_6,EdgesGeometry:IB,EllipseCurve:x_,EqualCompare:QF,EqualDepth:AF,EqualStencilFunc:h6,EquirectangularReflectionMapping:zd,EquirectangularRefractionMapping:og,Euler:gv,EventDispatcher:Vl,ExtrudeGeometry:E_,FileLoader:Ul,Float16BufferAttribute:lV,Float32BufferAttribute:Dt,Float64BufferAttribute:uV,FloatType:Ri,Fog:m_,FogExp2:p_,FramebufferTexture:n7,FrontSide:Dl,Frustum:xv,GLBufferAttribute:m$,GLSL1:E6,GLSL3:AA,GreaterCompare:eB,GreaterDepth:CF,GreaterEqualCompare:nB,GreaterEqualDepth:TF,GreaterEqualStencilFunc:g6,GreaterStencilFunc:p6,GridHelper:M$,Group:Od,HalfFloatType:ha,HemisphereLight:QB,HemisphereLightHelper:w$,IcosahedronGeometry:bv,ImageBitmapLoader:q7,ImageLoader:Mg,ImageUtils:vC,IncrementStencilOp:a6,IncrementWrapStencilOp:s6,InstancedBufferAttribute:Gd,InstancedBufferGeometry:sz,InstancedInterleavedBuffer:p$,InstancedMesh:wB,Int16BufferAttribute:oV,Int32BufferAttribute:sV,Int8BufferAttribute:rV,IntType:aC,InterleavedBuffer:g_,InterleavedBufferAttribute:kf,Interpolant:Mv,InterpolateDiscrete:lg,InterpolateLinear:ug,InterpolateSmooth:Zy,InvertStencilOp:u6,KeepStencilOp:ff,KeyframeTrack:fs,LOD:bB,LatheGeometry:_v,Layers:Pf,LessCompare:JF,LessDepth:EF,LessEqualCompare:mC,LessEqualDepth:ag,LessEqualStencilFunc:d6,LessStencilFunc:f6,Light:uc,LightProbe:oz,Line:ic,Line3:y$,LineBasicMaterial:ga,LineCurve:IC,LineCurve3:RB,LineDashedMaterial:WB,LineLoop:EB,LineSegments:Vs,LinearDisplayP3ColorSpace:mv,LinearEncoding:pC,LinearFilter:dr,LinearInterpolant:FC,LinearMipMapLinearFilter:Q8,LinearMipMapNearestFilter:J8,LinearMipmapLinearFilter:rc,LinearMipmapNearestFilter:iC,LinearSRGBColorSpace:js,LinearToneMapping:IF,LinearTransfer:fg,Loader:Ua,LoaderUtils:LA,LoadingManager:zC,LoopOnce:WF,LoopPingPong:$F,LoopRepeat:qF,LuminanceAlphaFormat:HF,LuminanceFormat:jF,MOUSE:uf,Material:Ii,MaterialLoader:N_,MathUtils:c_,Matrix3:xn,Matrix4:en,MaxEquation:JE,Mesh:Ur,MeshBasicMaterial:sc,MeshDepthMaterial:d_,MeshDistanceMaterial:EC,MeshLambertMaterial:VB,MeshMatcapMaterial:GB,MeshNormalMaterial:HB,MeshPhongMaterial:zB,MeshPhysicalMaterial:BB,MeshStandardMaterial:DC,MeshToonMaterial:jB,MinEquation:ZE,MirroredRepeatWrapping:Nf,MixOperation:RF,MultiplyBlending:KE,MultiplyOperation:pv,NearestFilter:kr,NearestMipMapLinearFilter:Z8,NearestMipMapNearestFilter:K8,NearestMipmapLinearFilter:Wm,NearestMipmapNearestFilter:sx,NeverCompare:ZF,NeverDepth:wF,NeverStencilFunc:c6,NoBlending:Il,NoColorSpace:eo,NoToneMapping:ks,NormalAnimationBlendMode:l_,NormalBlending:Tf,NotEqualCompare:tB,NotEqualDepth:PF,NotEqualStencilFunc:m6,NumberKeyframeTrack:bg,Object3D:Nn,ObjectLoader:G7,ObjectSpaceNormalMap:KF,OctahedronGeometry:Sv,OneFactor:fF,OneMinusConstantAlphaFactor:SF,OneMinusConstantColorFactor:_F,OneMinusDstAlphaFactor:mF,OneMinusDstColorFactor:vF,OneMinusSrcAlphaFactor:ox,OneMinusSrcColorFactor:dF,OrthographicCamera:Ju,P3Primaries:dg,PCFShadowMap:a_,PCFSoftShadowMap:Gm,PMREMGenerator:CA,Path:vg,PerspectiveCamera:Dr,Plane:El,PlaneGeometry:hp,PlaneHelper:R$,PointLight:tz,PointLightHelper:b$,Points:AB,PointsMaterial:PC,PolarGridHelper:E$,PolyhedronGeometry:lc,PositionalAudio:J7,PropertyBinding:Rn,PropertyMixer:cz,QuadraticBezierCurve:NC,QuadraticBezierCurve3:LC,Quaternion:Zi,QuaternionKeyframeTrack:mp,QuaternionLinearInterpolant:KB,RED_GREEN_RGTC2_Format:wA,RED_RGTC1_Format:GF,REVISION:dv,RGBADepthPacking:YF,RGBAFormat:Ki,RGBAIntegerFormat:fC,RGBA_ASTC_10x10_Format:vA,RGBA_ASTC_10x5_Format:pA,RGBA_ASTC_10x6_Format:mA,RGBA_ASTC_10x8_Format:gA,RGBA_ASTC_12x10_Format:yA,RGBA_ASTC_12x12_Format:xA,RGBA_ASTC_4x4_Format:oA,RGBA_ASTC_5x4_Format:sA,RGBA_ASTC_5x5_Format:lA,RGBA_ASTC_6x5_Format:uA,RGBA_ASTC_6x6_Format:cA,RGBA_ASTC_8x5_Format:fA,RGBA_ASTC_8x6_Format:hA,RGBA_ASTC_8x8_Format:dA,RGBA_BPTC_Format:Ky,RGBA_ETC2_EAC_Format:aA,RGBA_PVRTC_2BPPV1_Format:rA,RGBA_PVRTC_4BPPV1_Format:nA,RGBA_S3TC_DXT1_Format:$y,RGBA_S3TC_DXT3_Format:Xy,RGBA_S3TC_DXT5_Format:Yy,RGB_BPTC_SIGNED_Format:_A,RGB_BPTC_UNSIGNED_Format:bA,RGB_ETC1_Format:hC,RGB_ETC2_Format:iA,RGB_PVRTC_2BPPV1_Format:tA,RGB_PVRTC_4BPPV1_Format:eA,RGB_S3TC_DXT1_Format:qy,RGFormat:VF,RGIntegerFormat:cC,RawShaderMaterial:FB,Ray:Hf,Raycaster:XC,Rec709Primaries:hg,RectAreaLight:iz,RedFormat:lC,RedIntegerFormat:uC,ReinhardToneMapping:NF,RenderTarget:oB,RepeatWrapping:sg,ReplaceStencilOp:i6,ReverseSubtractEquation:uF,RingGeometry:A_,SIGNED_RED_GREEN_RGTC2_Format:MA,SIGNED_RED_RGTC1_Format:SA,SRGBColorSpace:ri,SRGBTransfer:ar,Scene:gg,ShaderChunk:dn,ShaderLib:as,ShaderMaterial:Da,ShadowMaterial:UB,Shape:Qu,ShapeGeometry:T_,ShapePath:N$,ShapeUtils:Us,ShortType:BF,Skeleton:v_,SkeletonHelper:_$,SkinnedMesh:SB,Source:yf,Sphere:Ji,SphereGeometry:wv,Spherical:DA,SphericalHarmonics3:az,SplineCurve:kC,SpotLight:ez,SpotLightHelper:x$,Sprite:_B,SpriteMaterial:TC,SrcAlphaFactor:ax,SrcAlphaSaturateFactor:yF,SrcColorFactor:hF,StaticCopyUsage:S6,StaticDrawUsage:pg,StaticReadUsage:x6,StereoCamera:X7,StreamCopyUsage:M6,StreamDrawUsage:y6,StreamReadUsage:b6,StringKeyframeTrack:Wf,SubtractEquation:lF,SubtractiveBlending:YE,TOUCH:cf,TangentSpaceNormalMap:oc,TetrahedronGeometry:C_,Texture:Mr,TextureLoader:I_,TorusGeometry:P_,TorusKnotGeometry:R_,Triangle:Na,TriangleFanDrawMode:n6,TriangleStripDrawMode:t6,TrianglesDrawMode:e6,TubeGeometry:O_,TwoPassDoubleSide:Y8,UVMapping:o_,Uint16BufferAttribute:xC,Uint32BufferAttribute:_C,Uint8BufferAttribute:iV,Uint8ClampedBufferAttribute:aV,Uniform:$C,UniformsGroup:d$,UniformsLib:mt,UniformsUtils:bC,UnsignedByteType:Ds,UnsignedInt248Type:Yu,UnsignedIntType:Tl,UnsignedShort4444Type:oC,UnsignedShort5551Type:sC,UnsignedShortType:s_,VSMShadowMap:ns,Vector2:Ve,Vector3:ie,Vector4:$n,VectorKeyframeTrack:Sg,VideoTexture:t7,WebGL1Renderer:yB,WebGL3DRenderTarget:W6,WebGLArrayRenderTarget:G6,WebGLCoordinateSystem:ss,WebGLCubeRenderTarget:SC,WebGLMultipleRenderTargets:q6,WebGLRenderTarget:ro,WebGLRenderer:AC,WebGLUtils:gB,WebGPUCoordinateSystem:jd,WireframeGeometry:DB,WrapAroundEnding:cg,ZeroCurvatureEnding:gf,ZeroFactor:cF,ZeroSlopeEnding:vf,ZeroStencilOp:r6,_SRGBAFormat:lx,createCanvasElement:aB,sRGBEncoding:Zu},Symbol.toStringTag,{value:"Module"}));var A1={exports:{}},Fu={};/**
 * @license React
 * react-reconciler-constants.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var OO;function k$(){return OO||(OO=1,Fu.ConcurrentRoot=1,Fu.ContinuousEventPriority=4,Fu.DefaultEventPriority=16,Fu.DiscreteEventPriority=1,Fu.IdleEventPriority=536870912,Fu.LegacyRoot=0),Fu}var IO;function D$(){return IO||(IO=1,A1.exports=k$()),A1.exports}var Nd=D$();function U$(n){let e;const t=new Set,r=(c,h)=>{const d=typeof c=="function"?c(e):c;if(d!==e){const g=e;e=h?d:Object.assign({},e,d),t.forEach(y=>y(e,g))}},i=()=>e,a=(c,h=i,d=Object.is)=>{console.warn("[DEPRECATED] Please use `subscribeWithSelector` middleware");let g=h(e);function y(){const b=h(e);if(!d(g,b)){const S=g;c(g=b,S)}}return t.add(y),()=>t.delete(y)},u={setState:r,getState:i,subscribe:(c,h,d)=>h||d?a(c,h,d):(t.add(c),()=>t.delete(c)),destroy:()=>t.clear()};return e=n(r,i,u),u}const F$=typeof window>"u"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),NO=F$?ee.useEffect:ee.useLayoutEffect;function dz(n){const e=typeof n=="function"?U$(n):n,t=(r=e.getState,i=Object.is)=>{const[,a]=ee.useReducer(x=>x+1,0),o=e.getState(),s=ee.useRef(o),u=ee.useRef(r),c=ee.useRef(i),h=ee.useRef(!1),d=ee.useRef();d.current===void 0&&(d.current=r(o));let g,y=!1;(s.current!==o||u.current!==r||c.current!==i||h.current)&&(g=r(o),y=!i(d.current,g)),NO(()=>{y&&(d.current=g),s.current=o,u.current=r,c.current=i,h.current=!1});const b=ee.useRef(o);NO(()=>{const x=()=>{try{const E=e.getState(),A=u.current(E);c.current(d.current,A)||(s.current=E,d.current=A,a())}catch{h.current=!0,a()}},_=e.subscribe(x);return e.getState()!==b.current&&x(),_},[]);const S=y?g:d.current;return ee.useDebugValue(S),S};return Object.assign(t,e),t[Symbol.iterator]=function(){console.warn("[useStore, api] = create() is deprecated and will be removed in v4");const r=[t,e];return{next(){const i=r.length<=0;return{value:r.shift(),done:i}}}},t}var T1={exports:{}},C1={exports:{}},P1={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var LO;function B$(){return LO||(LO=1,(function(n){function e(X,ae){var z=X.length;X.push(ae);e:for(;0<z;){var re=z-1>>>1,le=X[re];if(0<i(le,ae))X[re]=ae,X[z]=le,z=re;else break e}}function t(X){return X.length===0?null:X[0]}function r(X){if(X.length===0)return null;var ae=X[0],z=X.pop();if(z!==ae){X[0]=z;e:for(var re=0,le=X.length,ce=le>>>1;re<ce;){var be=2*(re+1)-1,Oe=X[be],ke=be+1,He=X[ke];if(0>i(Oe,z))ke<le&&0>i(He,Oe)?(X[re]=He,X[ke]=z,re=ke):(X[re]=Oe,X[be]=z,re=be);else if(ke<le&&0>i(He,z))X[re]=He,X[ke]=z,re=ke;else break e}}return ae}function i(X,ae){var z=X.sortIndex-ae.sortIndex;return z!==0?z:X.id-ae.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;n.unstable_now=function(){return a.now()}}else{var o=Date,s=o.now();n.unstable_now=function(){return o.now()-s}}var u=[],c=[],h=1,d=null,g=3,y=!1,b=!1,S=!1,x=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,E=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function A(X){for(var ae=t(c);ae!==null;){if(ae.callback===null)r(c);else if(ae.startTime<=X)r(c),ae.sortIndex=ae.expirationTime,e(u,ae);else break;ae=t(c)}}function T(X){if(S=!1,A(X),!b)if(t(u)!==null)b=!0,Z(P);else{var ae=t(c);ae!==null&&he(T,ae.startTime-X)}}function P(X,ae){b=!1,S&&(S=!1,_(F),F=-1),y=!0;var z=g;try{for(A(ae),d=t(u);d!==null&&(!(d.expirationTime>ae)||X&&!G());){var re=d.callback;if(typeof re=="function"){d.callback=null,g=d.priorityLevel;var le=re(d.expirationTime<=ae);ae=n.unstable_now(),typeof le=="function"?d.callback=le:d===t(u)&&r(u),A(ae)}else r(u);d=t(u)}if(d!==null)var ce=!0;else{var be=t(c);be!==null&&he(T,be.startTime-ae),ce=!1}return ce}finally{d=null,g=z,y=!1}}var O=!1,N=null,F=-1,D=5,U=-1;function G(){return!(n.unstable_now()-U<D)}function q(){if(N!==null){var X=n.unstable_now();U=X;var ae=!0;try{ae=N(!0,X)}finally{ae?Q():(O=!1,N=null)}}else O=!1}var Q;if(typeof E=="function")Q=function(){E(q)};else if(typeof MessageChannel<"u"){var H=new MessageChannel,te=H.port2;H.port1.onmessage=q,Q=function(){te.postMessage(null)}}else Q=function(){x(q,0)};function Z(X){N=X,O||(O=!0,Q())}function he(X,ae){F=x(function(){X(n.unstable_now())},ae)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(X){X.callback=null},n.unstable_continueExecution=function(){b||y||(b=!0,Z(P))},n.unstable_forceFrameRate=function(X){0>X||125<X?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<X?Math.floor(1e3/X):5},n.unstable_getCurrentPriorityLevel=function(){return g},n.unstable_getFirstCallbackNode=function(){return t(u)},n.unstable_next=function(X){switch(g){case 1:case 2:case 3:var ae=3;break;default:ae=g}var z=g;g=ae;try{return X()}finally{g=z}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(X,ae){switch(X){case 1:case 2:case 3:case 4:case 5:break;default:X=3}var z=g;g=X;try{return ae()}finally{g=z}},n.unstable_scheduleCallback=function(X,ae,z){var re=n.unstable_now();switch(typeof z=="object"&&z!==null?(z=z.delay,z=typeof z=="number"&&0<z?re+z:re):z=re,X){case 1:var le=-1;break;case 2:le=250;break;case 5:le=1073741823;break;case 4:le=1e4;break;default:le=5e3}return le=z+le,X={id:h++,callback:ae,priorityLevel:X,startTime:z,expirationTime:le,sortIndex:-1},z>re?(X.sortIndex=z,e(c,X),t(u)===null&&X===t(c)&&(S?(_(F),F=-1):S=!0,he(T,z-re))):(X.sortIndex=le,e(u,X),b||y||(b=!0,Z(P))),X},n.unstable_shouldYield=G,n.unstable_wrapCallback=function(X){var ae=g;return function(){var z=g;g=ae;try{return X.apply(this,arguments)}finally{g=z}}}})(P1)),P1}var kO;function pz(){return kO||(kO=1,C1.exports=B$()),C1.exports}/**
 * @license React
 * react-reconciler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var R1,DO;function z$(){return DO||(DO=1,R1=function(e){var t={},r=r_(),i=pz(),a=Object.assign;function o(p){for(var m="https://reactjs.org/docs/error-decoder.html?invariant="+p,w=1;w<arguments.length;w++)m+="&args[]="+encodeURIComponent(arguments[w]);return"Minified React error #"+p+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,u=Symbol.for("react.element"),c=Symbol.for("react.portal"),h=Symbol.for("react.fragment"),d=Symbol.for("react.strict_mode"),g=Symbol.for("react.profiler"),y=Symbol.for("react.provider"),b=Symbol.for("react.context"),S=Symbol.for("react.forward_ref"),x=Symbol.for("react.suspense"),_=Symbol.for("react.suspense_list"),E=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),T=Symbol.for("react.offscreen"),P=Symbol.iterator;function O(p){return p===null||typeof p!="object"?null:(p=P&&p[P]||p["@@iterator"],typeof p=="function"?p:null)}function N(p){if(p==null)return null;if(typeof p=="function")return p.displayName||p.name||null;if(typeof p=="string")return p;switch(p){case h:return"Fragment";case c:return"Portal";case g:return"Profiler";case d:return"StrictMode";case x:return"Suspense";case _:return"SuspenseList"}if(typeof p=="object")switch(p.$$typeof){case b:return(p.displayName||"Context")+".Consumer";case y:return(p._context.displayName||"Context")+".Provider";case S:var m=p.render;return p=p.displayName,p||(p=m.displayName||m.name||"",p=p!==""?"ForwardRef("+p+")":"ForwardRef"),p;case E:return m=p.displayName||null,m!==null?m:N(p.type)||"Memo";case A:m=p._payload,p=p._init;try{return N(p(m))}catch{}}return null}function F(p){var m=p.type;switch(p.tag){case 24:return"Cache";case 9:return(m.displayName||"Context")+".Consumer";case 10:return(m._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return p=m.render,p=p.displayName||p.name||"",m.displayName||(p!==""?"ForwardRef("+p+")":"ForwardRef");case 7:return"Fragment";case 5:return m;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return N(m);case 8:return m===d?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof m=="function")return m.displayName||m.name||null;if(typeof m=="string")return m}return null}function D(p){var m=p,w=p;if(p.alternate)for(;m.return;)m=m.return;else{p=m;do m=p,(m.flags&4098)!==0&&(w=m.return),p=m.return;while(p)}return m.tag===3?w:null}function U(p){if(D(p)!==p)throw Error(o(188))}function G(p){var m=p.alternate;if(!m){if(m=D(p),m===null)throw Error(o(188));return m!==p?null:p}for(var w=p,C=m;;){var I=w.return;if(I===null)break;var B=I.alternate;if(B===null){if(C=I.return,C!==null){w=C;continue}break}if(I.child===B.child){for(B=I.child;B;){if(B===w)return U(I),p;if(B===C)return U(I),m;B=B.sibling}throw Error(o(188))}if(w.return!==C.return)w=I,C=B;else{for(var se=!1,xe=I.child;xe;){if(xe===w){se=!0,w=I,C=B;break}if(xe===C){se=!0,C=I,w=B;break}xe=xe.sibling}if(!se){for(xe=B.child;xe;){if(xe===w){se=!0,w=B,C=I;break}if(xe===C){se=!0,C=B,w=I;break}xe=xe.sibling}if(!se)throw Error(o(189))}}if(w.alternate!==C)throw Error(o(190))}if(w.tag!==3)throw Error(o(188));return w.stateNode.current===w?p:m}function q(p){return p=G(p),p!==null?Q(p):null}function Q(p){if(p.tag===5||p.tag===6)return p;for(p=p.child;p!==null;){var m=Q(p);if(m!==null)return m;p=p.sibling}return null}function H(p){if(p.tag===5||p.tag===6)return p;for(p=p.child;p!==null;){if(p.tag!==4){var m=H(p);if(m!==null)return m}p=p.sibling}return null}var te=Array.isArray,Z=e.getPublicInstance,he=e.getRootHostContext,X=e.getChildHostContext,ae=e.prepareForCommit,z=e.resetAfterCommit,re=e.createInstance,le=e.appendInitialChild,ce=e.finalizeInitialChildren,be=e.prepareUpdate,Oe=e.shouldSetTextContent,ke=e.createTextInstance,He=e.scheduleTimeout,Je=e.cancelTimeout,Ue=e.noTimeout,qe=e.isPrimaryRenderer,Qe=e.supportsMutation,K=e.supportsPersistence,je=e.supportsHydration,Ae=e.getInstanceFromNode,We=e.preparePortalMount,Ne=e.getCurrentEventPriority,gt=e.detachDeletedInstance,st=e.supportsMicrotasks,J=e.scheduleMicrotask,$=e.supportsTestSelectors,we=e.findFiberRoot,Xe=e.getBoundingRect,$e=e.getTextContent,Ge=e.isHiddenSubtree,Tt=e.matchAccessibilityRole,ft=e.setFocusIfFocusable,yt=e.setupIntersectionObserver,Nt=e.appendChild,Vt=e.appendChildToContainer,Ke=e.commitTextUpdate,an=e.commitMount,rn=e.commitUpdate,zt=e.insertBefore,_t=e.insertInContainerBefore,bt=e.removeChild,pe=e.removeChildFromContainer,ze=e.resetTextContent,at=e.hideInstance,vt=e.hideTextInstance,Me=e.unhideInstance,me=e.unhideTextInstance,it=e.clearContainer,dt=e.cloneInstance,Bt=e.createContainerChildSet,Pt=e.appendChildToContainerChildSet,sn=e.finalizeContainerChildren,gn=e.replaceContainerChildren,Tn=e.cloneHiddenInstance,jn=e.cloneHiddenTextInstance,fn=e.canHydrateInstance,yr=e.canHydrateTextInstance,Fr=e.canHydrateSuspenseInstance,ao=e.isSuspenseInstancePending,Ba=e.isSuspenseInstanceFallback,gi=e.registerSuspenseInstanceRetry,Zr=e.getNextHydratableSibling,tn=e.getFirstHydratableChild,Ws=e.getFirstHydratableChildWithinContainer,$l=e.getFirstHydratableChildWithinSuspenseInstance,V=e.hydrateInstance,Y=e.hydrateTextInstance,ge=e.hydrateSuspenseInstance,j=e.getNextHydratableInstanceAfterSuspenseInstance,ne=e.commitHydratedContainer,oe=e.commitHydratedSuspenseInstance,de=e.clearSuspenseBoundary,fe=e.clearSuspenseBoundaryFromContainer,Re=e.shouldDeleteUnhydratedTailInstances,Le=e.didNotMatchHydratedContainerTextInstance,Fe=e.didNotMatchHydratedTextInstance,Ce;function Mt(p){if(Ce===void 0)try{throw Error()}catch(w){var m=w.stack.trim().match(/\n( *(at )?)/);Ce=m&&m[1]||""}return`
`+Ce+p}var Ze=!1;function tt(p,m){if(!p||Ze)return"";Ze=!0;var w=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(m)if(m=function(){throw Error()},Object.defineProperty(m.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(m,[])}catch(ot){var C=ot}Reflect.construct(p,[],m)}else{try{m.call()}catch(ot){C=ot}p.call(m.prototype)}else{try{throw Error()}catch(ot){C=ot}p()}}catch(ot){if(ot&&C&&typeof ot.stack=="string"){for(var I=ot.stack.split(`
`),B=C.stack.split(`
`),se=I.length-1,xe=B.length-1;1<=se&&0<=xe&&I[se]!==B[xe];)xe--;for(;1<=se&&0<=xe;se--,xe--)if(I[se]!==B[xe]){if(se!==1||xe!==1)do if(se--,xe--,0>xe||I[se]!==B[xe]){var Be=`
`+I[se].replace(" at new "," at ");return p.displayName&&Be.includes("<anonymous>")&&(Be=Be.replace("<anonymous>",p.displayName)),Be}while(1<=se&&0<=xe);break}}}finally{Ze=!1,Error.prepareStackTrace=w}return(p=p?p.displayName||p.name:"")?Mt(p):""}var Et=Object.prototype.hasOwnProperty,Ft=[],jt=-1;function Yt(p){return{current:p}}function pt(p){0>jt||(p.current=Ft[jt],Ft[jt]=null,jt--)}function ht(p,m){jt++,Ft[jt]=p.current,p.current=m}var Xt={},Gt=Yt(Xt),Kt=Yt(!1),kn=Xt;function Qn(p,m){var w=p.type.contextTypes;if(!w)return Xt;var C=p.stateNode;if(C&&C.__reactInternalMemoizedUnmaskedChildContext===m)return C.__reactInternalMemoizedMaskedChildContext;var I={},B;for(B in w)I[B]=m[B];return C&&(p=p.stateNode,p.__reactInternalMemoizedUnmaskedChildContext=m,p.__reactInternalMemoizedMaskedChildContext=I),I}function Hn(p){return p=p.childContextTypes,p!=null}function vn(){pt(Kt),pt(Gt)}function ln(p,m,w){if(Gt.current!==Xt)throw Error(o(168));ht(Gt,m),ht(Kt,w)}function sr(p,m,w){var C=p.stateNode;if(m=m.childContextTypes,typeof C.getChildContext!="function")return w;C=C.getChildContext();for(var I in C)if(!(I in m))throw Error(o(108,F(p)||"Unknown",I));return a({},w,C)}function on(p){return p=(p=p.stateNode)&&p.__reactInternalMemoizedMergedChildContext||Xt,kn=Gt.current,ht(Gt,p),ht(Kt,Kt.current),!0}function yn(p,m,w){var C=p.stateNode;if(!C)throw Error(o(169));w?(p=sr(p,m,kn),C.__reactInternalMemoizedMergedChildContext=p,pt(Kt),pt(Gt),ht(Gt,p)):pt(Kt),ht(Kt,w)}var Vn=Math.clz32?Math.clz32:oo,Ni=Math.log,Pr=Math.LN2;function oo(p){return p>>>=0,p===0?32:31-(Ni(p)/Pr|0)|0}var Xl=64,En=4194304;function Yl(p){switch(p&-p){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return p&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return p&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return p}}function gc(p,m){var w=p.pendingLanes;if(w===0)return 0;var C=0,I=p.suspendedLanes,B=p.pingedLanes,se=w&268435455;if(se!==0){var xe=se&~I;xe!==0?C=Yl(xe):(B&=se,B!==0&&(C=Yl(B)))}else se=w&~I,se!==0?C=Yl(se):B!==0&&(C=Yl(B));if(C===0)return 0;if(m!==0&&m!==C&&(m&I)===0&&(I=C&-C,B=m&-m,I>=B||I===16&&(B&4194240)!==0))return m;if((C&4)!==0&&(C|=w&16),m=p.entangledLanes,m!==0)for(p=p.entanglements,m&=C;0<m;)w=31-Vn(m),I=1<<w,C|=p[w],m&=~I;return C}function Ap(p,m){switch(p){case 1:case 2:case 4:return m+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return m+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Fv(p,m){for(var w=p.suspendedLanes,C=p.pingedLanes,I=p.expirationTimes,B=p.pendingLanes;0<B;){var se=31-Vn(B),xe=1<<se,Be=I[se];Be===-1?((xe&w)===0||(xe&C)!==0)&&(I[se]=Ap(xe,m)):Be<=m&&(p.expiredLanes|=xe),B&=~xe}}function Jf(p){return p=p.pendingLanes&-1073741825,p!==0?p:p&1073741824?1073741824:0}function Qf(p){for(var m=[],w=0;31>w;w++)m.push(p);return m}function qs(p,m,w){p.pendingLanes|=m,m!==536870912&&(p.suspendedLanes=0,p.pingedLanes=0),p=p.eventTimes,m=31-Vn(m),p[m]=w}function eh(p,m){var w=p.pendingLanes&~m;p.pendingLanes=m,p.suspendedLanes=0,p.pingedLanes=0,p.expiredLanes&=m,p.mutableReadLanes&=m,p.entangledLanes&=m,m=p.entanglements;var C=p.eventTimes;for(p=p.expirationTimes;0<w;){var I=31-Vn(w),B=1<<I;m[I]=0,C[I]=-1,p[I]=-1,w&=~B}}function so(p,m){var w=p.entangledLanes|=m;for(p=p.entanglements;w;){var C=31-Vn(w),I=1<<C;I&m|p[C]&m&&(p[C]|=m),w&=~I}}var hn=0;function Oo(p){return p&=-p,1<p?4<p?(p&268435455)!==0?16:536870912:4:1}var $s=i.unstable_scheduleCallback,Kl=i.unstable_cancelCallback,ds=i.unstable_shouldYield,sb=i.unstable_requestPaint,Rr=i.unstable_now,Xs=i.unstable_ImmediatePriority,lb=i.unstable_UserBlockingPriority,th=i.unstable_NormalPriority,nh=i.unstable_IdlePriority,vc=null,lo=null;function yc(p){if(lo&&typeof lo.onCommitFiberRoot=="function")try{lo.onCommitFiberRoot(vc,p,void 0,(p.current.flags&128)===128)}catch{}}function xc(p,m){return p===m&&(p!==0||1/p===1/m)||p!==p&&m!==m}var vi=typeof Object.is=="function"?Object.is:xc,va=null,rh=!1,Tp=!1;function ih(p){va===null?va=[p]:va.push(p)}function ah(p){rh=!0,ih(p)}function ya(){if(!Tp&&va!==null){Tp=!0;var p=0,m=hn;try{var w=va;for(hn=1;p<w.length;p++){var C=w[p];do C=C(!0);while(C!==null)}va=null,rh=!1}catch(I){throw va!==null&&(va=va.slice(p+1)),$s(Xs,ya),I}finally{hn=m,Tp=!1}}return null}var Bv=s.ReactCurrentBatchConfig;function za(p,m){if(vi(p,m))return!0;if(typeof p!="object"||p===null||typeof m!="object"||m===null)return!1;var w=Object.keys(p),C=Object.keys(m);if(w.length!==C.length)return!1;for(C=0;C<w.length;C++){var I=w[C];if(!Et.call(m,I)||!vi(p[I],m[I]))return!1}return!0}function Cp(p){switch(p.tag){case 5:return Mt(p.type);case 16:return Mt("Lazy");case 13:return Mt("Suspense");case 19:return Mt("SuspenseList");case 0:case 2:case 15:return p=tt(p.type,!1),p;case 11:return p=tt(p.type.render,!1),p;case 1:return p=tt(p.type,!0),p;default:return""}}function Li(p,m){if(p&&p.defaultProps){m=a({},m),p=p.defaultProps;for(var w in p)m[w]===void 0&&(m[w]=p[w]);return m}return m}var _c=Yt(null),Ys=null,Io=null,oh=null;function yi(){oh=Io=Ys=null}function Ks(p,m,w){qe?(ht(_c,m._currentValue),m._currentValue=w):(ht(_c,m._currentValue2),m._currentValue2=w)}function bc(p){var m=_c.current;pt(_c),qe?p._currentValue=m:p._currentValue2=m}function Zs(p,m,w){for(;p!==null;){var C=p.alternate;if((p.childLanes&m)!==m?(p.childLanes|=m,C!==null&&(C.childLanes|=m)):C!==null&&(C.childLanes&m)!==m&&(C.childLanes|=m),p===w)break;p=p.return}}function Zl(p,m){Ys=p,oh=Io=null,p=p.dependencies,p!==null&&p.firstContext!==null&&((p.lanes&m)!==0&&(Hr=!0),p.firstContext=null)}function ki(p){var m=qe?p._currentValue:p._currentValue2;if(oh!==p)if(p={context:p,memoizedValue:m,next:null},Io===null){if(Ys===null)throw Error(o(308));Io=p,Ys.dependencies={lanes:0,firstContext:p}}else Io=Io.next=p;return m}var xa=null,_a=!1;function Jl(p){p.updateQueue={baseState:p.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Pp(p,m){p=p.updateQueue,m.updateQueue===p&&(m.updateQueue={baseState:p.baseState,firstBaseUpdate:p.firstBaseUpdate,lastBaseUpdate:p.lastBaseUpdate,shared:p.shared,effects:p.effects})}function No(p,m){return{eventTime:p,lane:m,tag:0,payload:null,callback:null,next:null}}function ps(p,m){var w=p.updateQueue;w!==null&&(w=w.shared,cr!==null&&(p.mode&1)!==0&&(cn&2)===0?(p=w.interleaved,p===null?(m.next=m,xa===null?xa=[w]:xa.push(w)):(m.next=p.next,p.next=m),w.interleaved=m):(p=w.pending,p===null?m.next=m:(m.next=p.next,p.next=m),w.pending=m))}function sh(p,m,w){if(m=m.updateQueue,m!==null&&(m=m.shared,(w&4194240)!==0)){var C=m.lanes;C&=p.pendingLanes,w|=C,m.lanes=w,so(p,w)}}function lh(p,m){var w=p.updateQueue,C=p.alternate;if(C!==null&&(C=C.updateQueue,w===C)){var I=null,B=null;if(w=w.firstBaseUpdate,w!==null){do{var se={eventTime:w.eventTime,lane:w.lane,tag:w.tag,payload:w.payload,callback:w.callback,next:null};B===null?I=B=se:B=B.next=se,w=w.next}while(w!==null);B===null?I=B=m:B=B.next=m}else I=B=m;w={baseState:C.baseState,firstBaseUpdate:I,lastBaseUpdate:B,shared:C.shared,effects:C.effects},p.updateQueue=w;return}p=w.lastBaseUpdate,p===null?w.firstBaseUpdate=m:p.next=m,w.lastBaseUpdate=m}function uh(p,m,w,C){var I=p.updateQueue;_a=!1;var B=I.firstBaseUpdate,se=I.lastBaseUpdate,xe=I.shared.pending;if(xe!==null){I.shared.pending=null;var Be=xe,ot=Be.next;Be.next=null,se===null?B=ot:se.next=ot,se=Be;var Ct=p.alternate;Ct!==null&&(Ct=Ct.updateQueue,xe=Ct.lastBaseUpdate,xe!==se&&(xe===null?Ct.firstBaseUpdate=ot:xe.next=ot,Ct.lastBaseUpdate=Be))}if(B!==null){var nn=I.baseState;se=0,Ct=ot=Be=null,xe=B;do{var Ht=xe.lane,Wn=xe.eventTime;if((C&Ht)===Ht){Ct!==null&&(Ct=Ct.next={eventTime:Wn,lane:0,tag:xe.tag,payload:xe.payload,callback:xe.callback,next:null});e:{var St=p,On=xe;switch(Ht=m,Wn=w,On.tag){case 1:if(St=On.payload,typeof St=="function"){nn=St.call(Wn,nn,Ht);break e}nn=St;break e;case 3:St.flags=St.flags&-65537|128;case 0:if(St=On.payload,Ht=typeof St=="function"?St.call(Wn,nn,Ht):St,Ht==null)break e;nn=a({},nn,Ht);break e;case 2:_a=!0}}xe.callback!==null&&xe.lane!==0&&(p.flags|=64,Ht=I.effects,Ht===null?I.effects=[xe]:Ht.push(xe))}else Wn={eventTime:Wn,lane:Ht,tag:xe.tag,payload:xe.payload,callback:xe.callback,next:null},Ct===null?(ot=Ct=Wn,Be=nn):Ct=Ct.next=Wn,se|=Ht;if(xe=xe.next,xe===null){if(xe=I.shared.pending,xe===null)break;Ht=xe,xe=Ht.next,Ht.next=null,I.lastBaseUpdate=Ht,I.shared.pending=null}}while(!0);if(Ct===null&&(Be=nn),I.baseState=Be,I.firstBaseUpdate=ot,I.lastBaseUpdate=Ct,m=I.shared.interleaved,m!==null){I=m;do se|=I.lane,I=I.next;while(I!==m)}else B===null&&(I.shared.lanes=0);dl|=se,p.lanes=se,p.memoizedState=nn}}function zv(p,m,w){if(p=m.effects,m.effects=null,p!==null)for(m=0;m<p.length;m++){var C=p[m],I=C.callback;if(I!==null){if(C.callback=null,C=w,typeof I!="function")throw Error(o(191,I));I.call(C)}}}var jv=new r.Component().refs;function Rp(p,m,w,C){m=p.memoizedState,w=w(C,m),w=w==null?m:a({},m,w),p.memoizedState=w,p.lanes===0&&(p.updateQueue.baseState=w)}var ch={isMounted:function(p){return(p=p._reactInternals)?D(p)===p:!1},enqueueSetState:function(p,m,w){p=p._reactInternals;var C=Wr(),I=mo(p),B=No(C,I);B.payload=m,w!=null&&(B.callback=w),ps(p,B),m=Bi(p,I,C),m!==null&&sh(m,p,I)},enqueueReplaceState:function(p,m,w){p=p._reactInternals;var C=Wr(),I=mo(p),B=No(C,I);B.tag=1,B.payload=m,w!=null&&(B.callback=w),ps(p,B),m=Bi(p,I,C),m!==null&&sh(m,p,I)},enqueueForceUpdate:function(p,m){p=p._reactInternals;var w=Wr(),C=mo(p),I=No(w,C);I.tag=2,m!=null&&(I.callback=m),ps(p,I),m=Bi(p,C,w),m!==null&&sh(m,p,C)}};function Op(p,m,w,C,I,B,se){return p=p.stateNode,typeof p.shouldComponentUpdate=="function"?p.shouldComponentUpdate(C,B,se):m.prototype&&m.prototype.isPureReactComponent?!za(w,C)||!za(I,B):!0}function Hv(p,m,w){var C=!1,I=Xt,B=m.contextType;return typeof B=="object"&&B!==null?B=ki(B):(I=Hn(m)?kn:Gt.current,C=m.contextTypes,B=(C=C!=null)?Qn(p,I):Xt),m=new m(w,B),p.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=ch,p.stateNode=m,m._reactInternals=p,C&&(p=p.stateNode,p.__reactInternalMemoizedUnmaskedChildContext=I,p.__reactInternalMemoizedMaskedChildContext=B),m}function Vv(p,m,w,C){p=m.state,typeof m.componentWillReceiveProps=="function"&&m.componentWillReceiveProps(w,C),typeof m.UNSAFE_componentWillReceiveProps=="function"&&m.UNSAFE_componentWillReceiveProps(w,C),m.state!==p&&ch.enqueueReplaceState(m,m.state,null)}function Ip(p,m,w,C){var I=p.stateNode;I.props=w,I.state=p.memoizedState,I.refs=jv,Jl(p);var B=m.contextType;typeof B=="object"&&B!==null?I.context=ki(B):(B=Hn(m)?kn:Gt.current,I.context=Qn(p,B)),I.state=p.memoizedState,B=m.getDerivedStateFromProps,typeof B=="function"&&(Rp(p,m,B,w),I.state=p.memoizedState),typeof m.getDerivedStateFromProps=="function"||typeof I.getSnapshotBeforeUpdate=="function"||typeof I.UNSAFE_componentWillMount!="function"&&typeof I.componentWillMount!="function"||(m=I.state,typeof I.componentWillMount=="function"&&I.componentWillMount(),typeof I.UNSAFE_componentWillMount=="function"&&I.UNSAFE_componentWillMount(),m!==I.state&&ch.enqueueReplaceState(I,I.state,null),uh(p,w,I,C),I.state=p.memoizedState),typeof I.componentDidMount=="function"&&(p.flags|=4194308)}var Ql=[],ms=0,fh=null,hh=0,ba=[],Qi=0,Js=null,Lo=1,ko="";function Qs(p,m){Ql[ms++]=hh,Ql[ms++]=fh,fh=p,hh=m}function Gv(p,m,w){ba[Qi++]=Lo,ba[Qi++]=ko,ba[Qi++]=Js,Js=p;var C=Lo;p=ko;var I=32-Vn(C)-1;C&=~(1<<I),w+=1;var B=32-Vn(m)+I;if(30<B){var se=I-I%5;B=(C&(1<<se)-1).toString(32),C>>=se,I-=se,Lo=1<<32-Vn(m)+I|w<<I|C,ko=B+p}else Lo=1<<B|w<<I|C,ko=p}function Np(p){p.return!==null&&(Qs(p,1),Gv(p,1,0))}function Lp(p){for(;p===fh;)fh=Ql[--ms],Ql[ms]=null,hh=Ql[--ms],Ql[ms]=null;for(;p===Js;)Js=ba[--Qi],ba[Qi]=null,ko=ba[--Qi],ba[Qi]=null,Lo=ba[--Qi],ba[Qi]=null}var xi=null,Jr=null,rr=!1,eu=!1,Sa=null;function kp(p,m){var w=ia(5,null,null,0);w.elementType="DELETED",w.stateNode=m,w.return=p,m=p.deletions,m===null?(p.deletions=[w],p.flags|=16):m.push(w)}function Dp(p,m){switch(p.tag){case 5:return m=fn(m,p.type,p.pendingProps),m!==null?(p.stateNode=m,xi=p,Jr=tn(m),!0):!1;case 6:return m=yr(m,p.pendingProps),m!==null?(p.stateNode=m,xi=p,Jr=null,!0):!1;case 13:if(m=Fr(m),m!==null){var w=Js!==null?{id:Lo,overflow:ko}:null;return p.memoizedState={dehydrated:m,treeContext:w,retryLane:1073741824},w=ia(18,null,null,0),w.stateNode=m,w.return=p,p.child=w,xi=p,Jr=null,!0}return!1;default:return!1}}function dh(p){return(p.mode&1)!==0&&(p.flags&128)===0}function gs(p){if(rr){var m=Jr;if(m){var w=m;if(!Dp(p,m)){if(dh(p))throw Error(o(418));m=Zr(w);var C=xi;m&&Dp(p,m)?kp(C,w):(p.flags=p.flags&-4097|2,rr=!1,xi=p)}}else{if(dh(p))throw Error(o(418));p.flags=p.flags&-4097|2,rr=!1,xi=p}}}function Wv(p){for(p=p.return;p!==null&&p.tag!==5&&p.tag!==3&&p.tag!==13;)p=p.return;xi=p}function Sc(p){if(!je||p!==xi)return!1;if(!rr)return Wv(p),rr=!0,!1;if(p.tag!==3&&(p.tag!==5||Re(p.type)&&!Oe(p.type,p.memoizedProps))){var m=Jr;if(m){if(dh(p)){for(p=Jr;p;)p=Zr(p);throw Error(o(418))}for(;m;)kp(p,m),m=Zr(m)}}if(Wv(p),p.tag===13){if(!je)throw Error(o(316));if(p=p.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(o(317));Jr=j(p)}else Jr=xi?Zr(p.stateNode):null;return!0}function tu(){je&&(Jr=xi=null,eu=rr=!1)}function ph(p){Sa===null?Sa=[p]:Sa.push(p)}function nu(p,m,w){if(p=w.ref,p!==null&&typeof p!="function"&&typeof p!="object"){if(w._owner){if(w=w._owner,w){if(w.tag!==1)throw Error(o(309));var C=w.stateNode}if(!C)throw Error(o(147,p));var I=C,B=""+p;return m!==null&&m.ref!==null&&typeof m.ref=="function"&&m.ref._stringRef===B?m.ref:(m=function(se){var xe=I.refs;xe===jv&&(xe=I.refs={}),se===null?delete xe[B]:xe[B]=se},m._stringRef=B,m)}if(typeof p!="string")throw Error(o(284));if(!w._owner)throw Error(o(290,p))}return p}function vs(p,m){throw p=Object.prototype.toString.call(m),Error(o(31,p==="[object Object]"?"object with keys {"+Object.keys(m).join(", ")+"}":p))}function ru(p){var m=p._init;return m(p._payload)}function qv(p){function m(Pe,Se){if(p){var De=Pe.deletions;De===null?(Pe.deletions=[Se],Pe.flags|=16):De.push(Se)}}function w(Pe,Se){if(!p)return null;for(;Se!==null;)m(Pe,Se),Se=Se.sibling;return null}function C(Pe,Se){for(Pe=new Map;Se!==null;)Se.key!==null?Pe.set(Se.key,Se):Pe.set(Se.index,Se),Se=Se.sibling;return Pe}function I(Pe,Se){return Pe=$o(Pe,Se),Pe.index=0,Pe.sibling=null,Pe}function B(Pe,Se,De){return Pe.index=De,p?(De=Pe.alternate,De!==null?(De=De.index,De<Se?(Pe.flags|=2,Se):De):(Pe.flags|=2,Se)):(Pe.flags|=1048576,Se)}function se(Pe){return p&&Pe.alternate===null&&(Pe.flags|=2),Pe}function xe(Pe,Se,De,xt){return Se===null||Se.tag!==6?(Se=qh(De,Pe.mode,xt),Se.return=Pe,Se):(Se=I(Se,De),Se.return=Pe,Se)}function Be(Pe,Se,De,xt){var Lt=De.type;return Lt===h?Ct(Pe,Se,De.props.children,xt,De.key):Se!==null&&(Se.elementType===Lt||typeof Lt=="object"&&Lt!==null&&Lt.$$typeof===A&&ru(Lt)===Se.type)?(xt=I(Se,De.props),xt.ref=nu(Pe,Se,De),xt.return=Pe,xt):(xt=Wc(De.type,De.key,De.props,null,Pe.mode,xt),xt.ref=nu(Pe,Se,De),xt.return=Pe,xt)}function ot(Pe,Se,De,xt){return Se===null||Se.tag!==4||Se.stateNode.containerInfo!==De.containerInfo||Se.stateNode.implementation!==De.implementation?(Se=$h(De,Pe.mode,xt),Se.return=Pe,Se):(Se=I(Se,De.children||[]),Se.return=Pe,Se)}function Ct(Pe,Se,De,xt,Lt){return Se===null||Se.tag!==7?(Se=Ps(De,Pe.mode,xt,Lt),Se.return=Pe,Se):(Se=I(Se,De),Se.return=Pe,Se)}function nn(Pe,Se,De){if(typeof Se=="string"&&Se!==""||typeof Se=="number")return Se=qh(""+Se,Pe.mode,De),Se.return=Pe,Se;if(typeof Se=="object"&&Se!==null){switch(Se.$$typeof){case u:return De=Wc(Se.type,Se.key,Se.props,null,Pe.mode,De),De.ref=nu(Pe,null,Se),De.return=Pe,De;case c:return Se=$h(Se,Pe.mode,De),Se.return=Pe,Se;case A:var xt=Se._init;return nn(Pe,xt(Se._payload),De)}if(te(Se)||O(Se))return Se=Ps(Se,Pe.mode,De,null),Se.return=Pe,Se;vs(Pe,Se)}return null}function Ht(Pe,Se,De,xt){var Lt=Se!==null?Se.key:null;if(typeof De=="string"&&De!==""||typeof De=="number")return Lt!==null?null:xe(Pe,Se,""+De,xt);if(typeof De=="object"&&De!==null){switch(De.$$typeof){case u:return De.key===Lt?Be(Pe,Se,De,xt):null;case c:return De.key===Lt?ot(Pe,Se,De,xt):null;case A:return Lt=De._init,Ht(Pe,Se,Lt(De._payload),xt)}if(te(De)||O(De))return Lt!==null?null:Ct(Pe,Se,De,xt,null);vs(Pe,De)}return null}function Wn(Pe,Se,De,xt,Lt){if(typeof xt=="string"&&xt!==""||typeof xt=="number")return Pe=Pe.get(De)||null,xe(Se,Pe,""+xt,Lt);if(typeof xt=="object"&&xt!==null){switch(xt.$$typeof){case u:return Pe=Pe.get(xt.key===null?De:xt.key)||null,Be(Se,Pe,xt,Lt);case c:return Pe=Pe.get(xt.key===null?De:xt.key)||null,ot(Se,Pe,xt,Lt);case A:var un=xt._init;return Wn(Pe,Se,De,un(xt._payload),Lt)}if(te(xt)||O(xt))return Pe=Pe.get(De)||null,Ct(Se,Pe,xt,Lt,null);vs(Se,xt)}return null}function St(Pe,Se,De,xt){for(var Lt=null,un=null,Jt=Se,Mn=Se=0,Ir=null;Jt!==null&&Mn<De.length;Mn++){Jt.index>Mn?(Ir=Jt,Jt=null):Ir=Jt.sibling;var wn=Ht(Pe,Jt,De[Mn],xt);if(wn===null){Jt===null&&(Jt=Ir);break}p&&Jt&&wn.alternate===null&&m(Pe,Jt),Se=B(wn,Se,Mn),un===null?Lt=wn:un.sibling=wn,un=wn,Jt=Ir}if(Mn===De.length)return w(Pe,Jt),rr&&Qs(Pe,Mn),Lt;if(Jt===null){for(;Mn<De.length;Mn++)Jt=nn(Pe,De[Mn],xt),Jt!==null&&(Se=B(Jt,Se,Mn),un===null?Lt=Jt:un.sibling=Jt,un=Jt);return rr&&Qs(Pe,Mn),Lt}for(Jt=C(Pe,Jt);Mn<De.length;Mn++)Ir=Wn(Jt,Pe,Mn,De[Mn],xt),Ir!==null&&(p&&Ir.alternate!==null&&Jt.delete(Ir.key===null?Mn:Ir.key),Se=B(Ir,Se,Mn),un===null?Lt=Ir:un.sibling=Ir,un=Ir);return p&&Jt.forEach(function(go){return m(Pe,go)}),rr&&Qs(Pe,Mn),Lt}function On(Pe,Se,De,xt){var Lt=O(De);if(typeof Lt!="function")throw Error(o(150));if(De=Lt.call(De),De==null)throw Error(o(151));for(var un=Lt=null,Jt=Se,Mn=Se=0,Ir=null,wn=De.next();Jt!==null&&!wn.done;Mn++,wn=De.next()){Jt.index>Mn?(Ir=Jt,Jt=null):Ir=Jt.sibling;var go=Ht(Pe,Jt,wn.value,xt);if(go===null){Jt===null&&(Jt=Ir);break}p&&Jt&&go.alternate===null&&m(Pe,Jt),Se=B(go,Se,Mn),un===null?Lt=go:un.sibling=go,un=go,Jt=Ir}if(wn.done)return w(Pe,Jt),rr&&Qs(Pe,Mn),Lt;if(Jt===null){for(;!wn.done;Mn++,wn=De.next())wn=nn(Pe,wn.value,xt),wn!==null&&(Se=B(wn,Se,Mn),un===null?Lt=wn:un.sibling=wn,un=wn);return rr&&Qs(Pe,Mn),Lt}for(Jt=C(Pe,Jt);!wn.done;Mn++,wn=De.next())wn=Wn(Jt,Pe,Mn,wn.value,xt),wn!==null&&(p&&wn.alternate!==null&&Jt.delete(wn.key===null?Mn:wn.key),Se=B(wn,Se,Mn),un===null?Lt=wn:un.sibling=wn,un=wn);return p&&Jt.forEach(function(f0){return m(Pe,f0)}),rr&&Qs(Pe,Mn),Lt}function aa(Pe,Se,De,xt){if(typeof De=="object"&&De!==null&&De.type===h&&De.key===null&&(De=De.props.children),typeof De=="object"&&De!==null){switch(De.$$typeof){case u:e:{for(var Lt=De.key,un=Se;un!==null;){if(un.key===Lt){if(Lt=De.type,Lt===h){if(un.tag===7){w(Pe,un.sibling),Se=I(un,De.props.children),Se.return=Pe,Pe=Se;break e}}else if(un.elementType===Lt||typeof Lt=="object"&&Lt!==null&&Lt.$$typeof===A&&ru(Lt)===un.type){w(Pe,un.sibling),Se=I(un,De.props),Se.ref=nu(Pe,un,De),Se.return=Pe,Pe=Se;break e}w(Pe,un);break}else m(Pe,un);un=un.sibling}De.type===h?(Se=Ps(De.props.children,Pe.mode,xt,De.key),Se.return=Pe,Pe=Se):(xt=Wc(De.type,De.key,De.props,null,Pe.mode,xt),xt.ref=nu(Pe,Se,De),xt.return=Pe,Pe=xt)}return se(Pe);case c:e:{for(un=De.key;Se!==null;){if(Se.key===un)if(Se.tag===4&&Se.stateNode.containerInfo===De.containerInfo&&Se.stateNode.implementation===De.implementation){w(Pe,Se.sibling),Se=I(Se,De.children||[]),Se.return=Pe,Pe=Se;break e}else{w(Pe,Se);break}else m(Pe,Se);Se=Se.sibling}Se=$h(De,Pe.mode,xt),Se.return=Pe,Pe=Se}return se(Pe);case A:return un=De._init,aa(Pe,Se,un(De._payload),xt)}if(te(De))return St(Pe,Se,De,xt);if(O(De))return On(Pe,Se,De,xt);vs(Pe,De)}return typeof De=="string"&&De!==""||typeof De=="number"?(De=""+De,Se!==null&&Se.tag===6?(w(Pe,Se.sibling),Se=I(Se,De),Se.return=Pe,Pe=Se):(w(Pe,Se),Se=qh(De,Pe.mode,xt),Se.return=Pe,Pe=Se),se(Pe)):w(Pe,Se)}return aa}var Do=qv(!0),$v=qv(!1),iu={},Di=Yt(iu),el=Yt(iu),tl=Yt(iu);function ja(p){if(p===iu)throw Error(o(174));return p}function mh(p,m){ht(tl,m),ht(el,p),ht(Di,iu),p=he(m),pt(Di),ht(Di,p)}function au(){pt(Di),pt(el),pt(tl)}function Xv(p){var m=ja(tl.current),w=ja(Di.current);m=X(w,p.type,m),w!==m&&(ht(el,p),ht(Di,m))}function Up(p){el.current===p&&(pt(Di),pt(el))}var lr=Yt(0);function gh(p){for(var m=p;m!==null;){if(m.tag===13){var w=m.memoizedState;if(w!==null&&(w=w.dehydrated,w===null||ao(w)||Ba(w)))return m}else if(m.tag===19&&m.memoizedProps.revealOrder!==void 0){if((m.flags&128)!==0)return m}else if(m.child!==null){m.child.return=m,m=m.child;continue}if(m===p)break;for(;m.sibling===null;){if(m.return===null||m.return===p)return null;m=m.return}m.sibling.return=m.return,m=m.sibling}return null}var ea=[];function nl(){for(var p=0;p<ea.length;p++){var m=ea[p];qe?m._workInProgressVersionPrimary=null:m._workInProgressVersionSecondary=null}ea.length=0}var wc=s.ReactCurrentDispatcher,ta=s.ReactCurrentBatchConfig,rl=0,ur=null,Br=null,zr=null,vh=!1,uo=!1,il=0,Mc=0;function jr(){throw Error(o(321))}function yh(p,m){if(m===null)return!1;for(var w=0;w<m.length&&w<p.length;w++)if(!vi(p[w],m[w]))return!1;return!0}function ou(p,m,w,C,I,B){if(rl=B,ur=m,m.memoizedState=null,m.updateQueue=null,m.lanes=0,wc.current=p===null||p.memoizedState===null?Vp:Gp,p=w(C,I),uo){B=0;do{if(uo=!1,il=0,25<=B)throw Error(o(301));B+=1,zr=Br=null,m.updateQueue=null,wc.current=Wp,p=w(C,I)}while(uo)}if(wc.current=cu,m=Br!==null&&Br.next!==null,rl=0,zr=Br=ur=null,vh=!1,m)throw Error(o(300));return p}function ys(){var p=il!==0;return il=0,p}function Ha(){var p={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return zr===null?ur.memoizedState=zr=p:zr=zr.next=p,zr}function Va(){if(Br===null){var p=ur.alternate;p=p!==null?p.memoizedState:null}else p=Br.next;var m=zr===null?ur.memoizedState:zr.next;if(m!==null)zr=m,Br=p;else{if(p===null)throw Error(o(310));Br=p,p={memoizedState:Br.memoizedState,baseState:Br.baseState,baseQueue:Br.baseQueue,queue:Br.queue,next:null},zr===null?ur.memoizedState=zr=p:zr=zr.next=p}return zr}function co(p,m){return typeof m=="function"?m(p):m}function Ec(p){var m=Va(),w=m.queue;if(w===null)throw Error(o(311));w.lastRenderedReducer=p;var C=Br,I=C.baseQueue,B=w.pending;if(B!==null){if(I!==null){var se=I.next;I.next=B.next,B.next=se}C.baseQueue=I=B,w.pending=null}if(I!==null){B=I.next,C=C.baseState;var xe=se=null,Be=null,ot=B;do{var Ct=ot.lane;if((rl&Ct)===Ct)Be!==null&&(Be=Be.next={lane:0,action:ot.action,hasEagerState:ot.hasEagerState,eagerState:ot.eagerState,next:null}),C=ot.hasEagerState?ot.eagerState:p(C,ot.action);else{var nn={lane:Ct,action:ot.action,hasEagerState:ot.hasEagerState,eagerState:ot.eagerState,next:null};Be===null?(xe=Be=nn,se=C):Be=Be.next=nn,ur.lanes|=Ct,dl|=Ct}ot=ot.next}while(ot!==null&&ot!==B);Be===null?se=C:Be.next=xe,vi(C,m.memoizedState)||(Hr=!0),m.memoizedState=C,m.baseState=se,m.baseQueue=Be,w.lastRenderedState=C}if(p=w.interleaved,p!==null){I=p;do B=I.lane,ur.lanes|=B,dl|=B,I=I.next;while(I!==p)}else I===null&&(w.lanes=0);return[m.memoizedState,w.dispatch]}function Ac(p){var m=Va(),w=m.queue;if(w===null)throw Error(o(311));w.lastRenderedReducer=p;var C=w.dispatch,I=w.pending,B=m.memoizedState;if(I!==null){w.pending=null;var se=I=I.next;do B=p(B,se.action),se=se.next;while(se!==I);vi(B,m.memoizedState)||(Hr=!0),m.memoizedState=B,m.baseQueue===null&&(m.baseState=B),w.lastRenderedState=B}return[B,C]}function Fp(){}function Bp(p,m){var w=ur,C=Va(),I=m(),B=!vi(C.memoizedState,I);if(B&&(C.memoizedState=I,Hr=!0),C=C.queue,su(Uo.bind(null,w,C,p),[p]),C.getSnapshot!==m||B||zr!==null&&zr.memoizedState.tag&1){if(w.flags|=2048,Cc(9,jp.bind(null,w,C,I,m),void 0,null),cr===null)throw Error(o(349));(rl&30)!==0||zp(w,m,I)}return I}function zp(p,m,w){p.flags|=16384,p={getSnapshot:m,value:w},m=ur.updateQueue,m===null?(m={lastEffect:null,stores:null},ur.updateQueue=m,m.stores=[p]):(w=m.stores,w===null?m.stores=[p]:w.push(p))}function jp(p,m,w,C){m.value=w,m.getSnapshot=C,xh(m)&&Bi(p,1,-1)}function Uo(p,m,w){return w(function(){xh(m)&&Bi(p,1,-1)})}function xh(p){var m=p.getSnapshot;p=p.value;try{var w=m();return!vi(p,w)}catch{return!0}}function Tc(p){var m=Ha();return typeof p=="function"&&(p=p()),m.memoizedState=m.baseState=p,p={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:co,lastRenderedState:p},m.queue=p,p=p.dispatch=ub.bind(null,ur,p),[m.memoizedState,p]}function Cc(p,m,w,C){return p={tag:p,create:m,destroy:w,deps:C,next:null},m=ur.updateQueue,m===null?(m={lastEffect:null,stores:null},ur.updateQueue=m,m.lastEffect=p.next=p):(w=m.lastEffect,w===null?m.lastEffect=p.next=p:(C=w.next,w.next=p,p.next=C,m.lastEffect=p)),p}function Yv(){return Va().memoizedState}function xs(p,m,w,C){var I=Ha();ur.flags|=p,I.memoizedState=Cc(1|m,w,void 0,C===void 0?null:C)}function _h(p,m,w,C){var I=Va();C=C===void 0?null:C;var B=void 0;if(Br!==null){var se=Br.memoizedState;if(B=se.destroy,C!==null&&yh(C,se.deps)){I.memoizedState=Cc(m,w,B,C);return}}ur.flags|=p,I.memoizedState=Cc(1|m,w,B,C)}function bh(p,m){return xs(8390656,8,p,m)}function su(p,m){return _h(2048,8,p,m)}function Yn(p,m){return _h(4,2,p,m)}function Sh(p,m){return _h(4,4,p,m)}function Pc(p,m){if(typeof m=="function")return p=p(),m(p),function(){m(null)};if(m!=null)return p=p(),m.current=p,function(){m.current=null}}function lu(p,m,w){return w=w!=null?w.concat([p]):null,_h(4,4,Pc.bind(null,m,p),w)}function wh(){}function Mh(p,m){var w=Va();m=m===void 0?null:m;var C=w.memoizedState;return C!==null&&m!==null&&yh(m,C[1])?C[0]:(w.memoizedState=[p,m],p)}function uu(p,m){var w=Va();m=m===void 0?null:m;var C=w.memoizedState;return C!==null&&m!==null&&yh(m,C[1])?C[0]:(p=p(),w.memoizedState=[p,m],p)}function Eh(p,m){var w=hn;hn=w!==0&&4>w?w:4,p(!0);var C=ta.transition;ta.transition={};try{p(!1),m()}finally{hn=w,ta.transition=C}}function al(){return Va().memoizedState}function Kv(p,m,w){var C=mo(p);w={lane:C,action:w,hasEagerState:!1,eagerState:null,next:null},Zv(p)?Hp(m,w):(Rc(p,m,w),w=Wr(),p=Bi(p,C,w),p!==null&&Oc(p,m,C))}function ub(p,m,w){var C=mo(p),I={lane:C,action:w,hasEagerState:!1,eagerState:null,next:null};if(Zv(p))Hp(m,I);else{Rc(p,m,I);var B=p.alternate;if(p.lanes===0&&(B===null||B.lanes===0)&&(B=m.lastRenderedReducer,B!==null))try{var se=m.lastRenderedState,xe=B(se,w);if(I.hasEagerState=!0,I.eagerState=xe,vi(xe,se))return}catch{}finally{}w=Wr(),p=Bi(p,C,w),p!==null&&Oc(p,m,C)}}function Zv(p){var m=p.alternate;return p===ur||m!==null&&m===ur}function Hp(p,m){uo=vh=!0;var w=p.pending;w===null?m.next=m:(m.next=w.next,w.next=m),p.pending=m}function Rc(p,m,w){cr!==null&&(p.mode&1)!==0&&(cn&2)===0?(p=m.interleaved,p===null?(w.next=w,xa===null?xa=[m]:xa.push(m)):(w.next=p.next,p.next=w),m.interleaved=w):(p=m.pending,p===null?w.next=w:(w.next=p.next,p.next=w),m.pending=w)}function Oc(p,m,w){if((w&4194240)!==0){var C=m.lanes;C&=p.pendingLanes,w|=C,m.lanes=w,so(p,w)}}var cu={readContext:ki,useCallback:jr,useContext:jr,useEffect:jr,useImperativeHandle:jr,useInsertionEffect:jr,useLayoutEffect:jr,useMemo:jr,useReducer:jr,useRef:jr,useState:jr,useDebugValue:jr,useDeferredValue:jr,useTransition:jr,useMutableSource:jr,useSyncExternalStore:jr,useId:jr,unstable_isNewReconciler:!1},Vp={readContext:ki,useCallback:function(p,m){return Ha().memoizedState=[p,m===void 0?null:m],p},useContext:ki,useEffect:bh,useImperativeHandle:function(p,m,w){return w=w!=null?w.concat([p]):null,xs(4194308,4,Pc.bind(null,m,p),w)},useLayoutEffect:function(p,m){return xs(4194308,4,p,m)},useInsertionEffect:function(p,m){return xs(4,2,p,m)},useMemo:function(p,m){var w=Ha();return m=m===void 0?null:m,p=p(),w.memoizedState=[p,m],p},useReducer:function(p,m,w){var C=Ha();return m=w!==void 0?w(m):m,C.memoizedState=C.baseState=m,p={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:p,lastRenderedState:m},C.queue=p,p=p.dispatch=Kv.bind(null,ur,p),[C.memoizedState,p]},useRef:function(p){var m=Ha();return p={current:p},m.memoizedState=p},useState:Tc,useDebugValue:wh,useDeferredValue:function(p){var m=Tc(p),w=m[0],C=m[1];return bh(function(){var I=ta.transition;ta.transition={};try{C(p)}finally{ta.transition=I}},[p]),w},useTransition:function(){var p=Tc(!1),m=p[0];return p=Eh.bind(null,p[1]),Ha().memoizedState=p,[m,p]},useMutableSource:function(){},useSyncExternalStore:function(p,m,w){var C=ur,I=Ha();if(rr){if(w===void 0)throw Error(o(407));w=w()}else{if(w=m(),cr===null)throw Error(o(349));(rl&30)!==0||zp(C,m,w)}I.memoizedState=w;var B={value:w,getSnapshot:m};return I.queue=B,bh(Uo.bind(null,C,B,p),[p]),C.flags|=2048,Cc(9,jp.bind(null,C,B,w,m),void 0,null),w},useId:function(){var p=Ha(),m=cr.identifierPrefix;if(rr){var w=ko,C=Lo;w=(C&~(1<<32-Vn(C)-1)).toString(32)+w,m=":"+m+"R"+w,w=il++,0<w&&(m+="H"+w.toString(32)),m+=":"}else w=Mc++,m=":"+m+"r"+w.toString(32)+":";return p.memoizedState=m},unstable_isNewReconciler:!1},Gp={readContext:ki,useCallback:Mh,useContext:ki,useEffect:su,useImperativeHandle:lu,useInsertionEffect:Yn,useLayoutEffect:Sh,useMemo:uu,useReducer:Ec,useRef:Yv,useState:function(){return Ec(co)},useDebugValue:wh,useDeferredValue:function(p){var m=Ec(co),w=m[0],C=m[1];return su(function(){var I=ta.transition;ta.transition={};try{C(p)}finally{ta.transition=I}},[p]),w},useTransition:function(){var p=Ec(co)[0],m=Va().memoizedState;return[p,m]},useMutableSource:Fp,useSyncExternalStore:Bp,useId:al,unstable_isNewReconciler:!1},Wp={readContext:ki,useCallback:Mh,useContext:ki,useEffect:su,useImperativeHandle:lu,useInsertionEffect:Yn,useLayoutEffect:Sh,useMemo:uu,useReducer:Ac,useRef:Yv,useState:function(){return Ac(co)},useDebugValue:wh,useDeferredValue:function(p){var m=Ac(co),w=m[0],C=m[1];return su(function(){var I=ta.transition;ta.transition={};try{C(p)}finally{ta.transition=I}},[p]),w},useTransition:function(){var p=Ac(co)[0],m=Va().memoizedState;return[p,m]},useMutableSource:Fp,useSyncExternalStore:Bp,useId:al,unstable_isNewReconciler:!1};function qp(p,m){try{var w="",C=m;do w+=Cp(C),C=C.return;while(C);var I=w}catch(B){I=`
Error generating stack: `+B.message+`
`+B.stack}return{value:p,source:m,stack:I}}function Ah(p,m){try{console.error(m.value)}catch(w){setTimeout(function(){throw w})}}var cb=typeof WeakMap=="function"?WeakMap:Map;function Jv(p,m,w){w=No(-1,w),w.tag=3,w.payload={element:null};var C=m.value;return w.callback=function(){Ms||(Ms=!0,Aa=C),Ah(p,m)},w}function Th(p,m,w){w=No(-1,w),w.tag=3;var C=p.type.getDerivedStateFromError;if(typeof C=="function"){var I=m.value;w.payload=function(){return C(I)},w.callback=function(){Ah(p,m)}}var B=p.stateNode;return B!==null&&typeof B.componentDidCatch=="function"&&(w.callback=function(){Ah(p,m),typeof C!="function"&&(Ta===null?Ta=new Set([this]):Ta.add(this));var se=m.stack;this.componentDidCatch(m.value,{componentStack:se!==null?se:""})}),w}function Fo(p,m,w){var C=p.pingCache;if(C===null){C=p.pingCache=new cb;var I=new Set;C.set(m,I)}else I=C.get(m),I===void 0&&(I=new Set,C.set(m,I));I.has(w)||(I.add(w),p=n0.bind(null,p,m,w),m.then(p,p))}function $p(p){do{var m;if((m=p.tag===13)&&(m=p.memoizedState,m=m!==null?m.dehydrated!==null:!0),m)return p;p=p.return}while(p!==null);return null}function ol(p,m,w,C,I){return(p.mode&1)===0?(p===m?p.flags|=65536:(p.flags|=128,w.flags|=131072,w.flags&=-52805,w.tag===1&&(w.alternate===null?w.tag=17:(m=No(-1,1),m.tag=2,ps(w,m))),w.lanes|=1),p):(p.flags|=65536,p.lanes=I,p)}function Or(p){p.flags|=4}function fu(p,m){if(p!==null&&p.child===m.child)return!0;if((m.flags&16)!==0)return!1;for(p=m.child;p!==null;){if((p.flags&12854)!==0||(p.subtreeFlags&12854)!==0)return!1;p=p.sibling}return!0}var na,sl,Ch,Ph;if(Qe)na=function(p,m){for(var w=m.child;w!==null;){if(w.tag===5||w.tag===6)le(p,w.stateNode);else if(w.tag!==4&&w.child!==null){w.child.return=w,w=w.child;continue}if(w===m)break;for(;w.sibling===null;){if(w.return===null||w.return===m)return;w=w.return}w.sibling.return=w.return,w=w.sibling}},sl=function(){},Ch=function(p,m,w,C,I){if(p=p.memoizedProps,p!==C){var B=m.stateNode,se=ja(Di.current);w=be(B,w,p,C,I,se),(m.updateQueue=w)&&Or(m)}},Ph=function(p,m,w,C){w!==C&&Or(m)};else if(K){na=function(p,m,w,C){for(var I=m.child;I!==null;){if(I.tag===5){var B=I.stateNode;w&&C&&(B=Tn(B,I.type,I.memoizedProps,I)),le(p,B)}else if(I.tag===6)B=I.stateNode,w&&C&&(B=jn(B,I.memoizedProps,I)),le(p,B);else if(I.tag!==4){if(I.tag===22&&I.memoizedState!==null)B=I.child,B!==null&&(B.return=I),na(p,I,!0,!0);else if(I.child!==null){I.child.return=I,I=I.child;continue}}if(I===m)break;for(;I.sibling===null;){if(I.return===null||I.return===m)return;I=I.return}I.sibling.return=I.return,I=I.sibling}};var _s=function(p,m,w,C){for(var I=m.child;I!==null;){if(I.tag===5){var B=I.stateNode;w&&C&&(B=Tn(B,I.type,I.memoizedProps,I)),Pt(p,B)}else if(I.tag===6)B=I.stateNode,w&&C&&(B=jn(B,I.memoizedProps,I)),Pt(p,B);else if(I.tag!==4){if(I.tag===22&&I.memoizedState!==null)B=I.child,B!==null&&(B.return=I),_s(p,I,!0,!0);else if(I.child!==null){I.child.return=I,I=I.child;continue}}if(I===m)break;for(;I.sibling===null;){if(I.return===null||I.return===m)return;I=I.return}I.sibling.return=I.return,I=I.sibling}};sl=function(p,m){var w=m.stateNode;if(!fu(p,m)){p=w.containerInfo;var C=Bt(p);_s(C,m,!1,!1),w.pendingChildren=C,Or(m),sn(p,C)}},Ch=function(p,m,w,C,I){var B=p.stateNode,se=p.memoizedProps;if((p=fu(p,m))&&se===C)m.stateNode=B;else{var xe=m.stateNode,Be=ja(Di.current),ot=null;se!==C&&(ot=be(xe,w,se,C,I,Be)),p&&ot===null?m.stateNode=B:(B=dt(B,ot,w,se,C,m,p,xe),ce(B,w,C,I,Be)&&Or(m),m.stateNode=B,p?Or(m):na(B,m,!1,!1))}},Ph=function(p,m,w,C){w!==C?(p=ja(tl.current),w=ja(Di.current),m.stateNode=ke(C,p,w,m),Or(m)):m.stateNode=p.stateNode}}else sl=function(){},Ch=function(){},Ph=function(){};function Bo(p,m){if(!rr)switch(p.tailMode){case"hidden":m=p.tail;for(var w=null;m!==null;)m.alternate!==null&&(w=m),m=m.sibling;w===null?p.tail=null:w.sibling=null;break;case"collapsed":w=p.tail;for(var C=null;w!==null;)w.alternate!==null&&(C=w),w=w.sibling;C===null?m||p.tail===null?p.tail=null:p.tail.sibling=null:C.sibling=null}}function xr(p){var m=p.alternate!==null&&p.alternate.child===p.child,w=0,C=0;if(m)for(var I=p.child;I!==null;)w|=I.lanes|I.childLanes,C|=I.subtreeFlags&14680064,C|=I.flags&14680064,I.return=p,I=I.sibling;else for(I=p.child;I!==null;)w|=I.lanes|I.childLanes,C|=I.subtreeFlags,C|=I.flags,I.return=p,I=I.sibling;return p.subtreeFlags|=C,p.childLanes=w,m}function Rh(p,m,w){var C=m.pendingProps;switch(Lp(m),m.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return xr(m),null;case 1:return Hn(m.type)&&vn(),xr(m),null;case 3:return C=m.stateNode,au(),pt(Kt),pt(Gt),nl(),C.pendingContext&&(C.context=C.pendingContext,C.pendingContext=null),(p===null||p.child===null)&&(Sc(m)?Or(m):p===null||p.memoizedState.isDehydrated&&(m.flags&256)===0||(m.flags|=1024,Sa!==null&&(br(Sa),Sa=null))),sl(p,m),xr(m),null;case 5:Up(m),w=ja(tl.current);var I=m.type;if(p!==null&&m.stateNode!=null)Ch(p,m,I,C,w),p.ref!==m.ref&&(m.flags|=512,m.flags|=2097152);else{if(!C){if(m.stateNode===null)throw Error(o(166));return xr(m),null}if(p=ja(Di.current),Sc(m)){if(!je)throw Error(o(175));p=V(m.stateNode,m.type,m.memoizedProps,w,p,m,!eu),m.updateQueue=p,p!==null&&Or(m)}else{var B=re(I,C,w,p,m);na(B,m,!1,!1),m.stateNode=B,ce(B,I,C,w,p)&&Or(m)}m.ref!==null&&(m.flags|=512,m.flags|=2097152)}return xr(m),null;case 6:if(p&&m.stateNode!=null)Ph(p,m,p.memoizedProps,C);else{if(typeof C!="string"&&m.stateNode===null)throw Error(o(166));if(p=ja(tl.current),w=ja(Di.current),Sc(m)){if(!je)throw Error(o(176));if(p=m.stateNode,C=m.memoizedProps,(w=Y(p,C,m,!eu))&&(I=xi,I!==null))switch(B=(I.mode&1)!==0,I.tag){case 3:Le(I.stateNode.containerInfo,p,C,B);break;case 5:Fe(I.type,I.memoizedProps,I.stateNode,p,C,B)}w&&Or(m)}else m.stateNode=ke(C,p,w,m)}return xr(m),null;case 13:if(pt(lr),C=m.memoizedState,rr&&Jr!==null&&(m.mode&1)!==0&&(m.flags&128)===0){for(p=Jr;p;)p=Zr(p);return tu(),m.flags|=98560,m}if(C!==null&&C.dehydrated!==null){if(C=Sc(m),p===null){if(!C)throw Error(o(318));if(!je)throw Error(o(344));if(p=m.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(o(317));ge(p,m)}else tu(),(m.flags&128)===0&&(m.memoizedState=null),m.flags|=4;return xr(m),null}return Sa!==null&&(br(Sa),Sa=null),(m.flags&128)!==0?(m.lanes=w,m):(C=C!==null,w=!1,p===null?Sc(m):w=p.memoizedState!==null,C&&!w&&(m.child.flags|=8192,(m.mode&1)!==0&&(p===null||(lr.current&1)!==0?Er===0&&(Er=3):zc())),m.updateQueue!==null&&(m.flags|=4),xr(m),null);case 4:return au(),sl(p,m),p===null&&We(m.stateNode.containerInfo),xr(m),null;case 10:return bc(m.type._context),xr(m),null;case 17:return Hn(m.type)&&vn(),xr(m),null;case 19:if(pt(lr),I=m.memoizedState,I===null)return xr(m),null;if(C=(m.flags&128)!==0,B=I.rendering,B===null)if(C)Bo(I,!1);else{if(Er!==0||p!==null&&(p.flags&128)!==0)for(p=m.child;p!==null;){if(B=gh(p),B!==null){for(m.flags|=128,Bo(I,!1),p=B.updateQueue,p!==null&&(m.updateQueue=p,m.flags|=4),m.subtreeFlags=0,p=w,C=m.child;C!==null;)w=C,I=p,w.flags&=14680066,B=w.alternate,B===null?(w.childLanes=0,w.lanes=I,w.child=null,w.subtreeFlags=0,w.memoizedProps=null,w.memoizedState=null,w.updateQueue=null,w.dependencies=null,w.stateNode=null):(w.childLanes=B.childLanes,w.lanes=B.lanes,w.child=B.child,w.subtreeFlags=0,w.deletions=null,w.memoizedProps=B.memoizedProps,w.memoizedState=B.memoizedState,w.updateQueue=B.updateQueue,w.type=B.type,I=B.dependencies,w.dependencies=I===null?null:{lanes:I.lanes,firstContext:I.firstContext}),C=C.sibling;return ht(lr,lr.current&1|2),m.child}p=p.sibling}I.tail!==null&&Rr()>ws&&(m.flags|=128,C=!0,Bo(I,!1),m.lanes=4194304)}else{if(!C)if(p=gh(B),p!==null){if(m.flags|=128,C=!0,p=p.updateQueue,p!==null&&(m.updateQueue=p,m.flags|=4),Bo(I,!0),I.tail===null&&I.tailMode==="hidden"&&!B.alternate&&!rr)return xr(m),null}else 2*Rr()-I.renderingStartTime>ws&&w!==1073741824&&(m.flags|=128,C=!0,Bo(I,!1),m.lanes=4194304);I.isBackwards?(B.sibling=m.child,m.child=B):(p=I.last,p!==null?p.sibling=B:m.child=B,I.last=B)}return I.tail!==null?(m=I.tail,I.rendering=m,I.tail=m.sibling,I.renderingStartTime=Rr(),m.sibling=null,p=lr.current,ht(lr,C?p&1|2:p&1),m):(xr(m),null);case 22:case 23:return nm(),C=m.memoizedState!==null,p!==null&&p.memoizedState!==null!==C&&(m.flags|=8192),C&&(m.mode&1)!==0?(Mi&1073741824)!==0&&(xr(m),Qe&&m.subtreeFlags&6&&(m.flags|=8192)):xr(m),null;case 24:return null;case 25:return null}throw Error(o(156,m.tag))}var Xp=s.ReactCurrentOwner,Hr=!1;function mr(p,m,w,C){m.child=p===null?$v(m,null,w,C):Do(m,p.child,w,C)}function Kn(p,m,w,C,I){w=w.render;var B=m.ref;return Zl(m,I),C=ou(p,m,w,C,B,I),w=ys(),p!==null&&!Hr?(m.updateQueue=p.updateQueue,m.flags&=-2053,p.lanes&=~I,Ui(p,m,I)):(rr&&w&&Np(m),m.flags|=1,mr(p,m,C,I),m.child)}function Gn(p,m,w,C,I){if(p===null){var B=w.type;return typeof B=="function"&&!Gc(B)&&B.defaultProps===void 0&&w.compare===null&&w.defaultProps===void 0?(m.tag=15,m.type=B,zo(p,m,B,C,I)):(p=Wc(w.type,null,C,m,m.mode,I),p.ref=m.ref,p.return=m,m.child=p)}if(B=p.child,(p.lanes&I)===0){var se=B.memoizedProps;if(w=w.compare,w=w!==null?w:za,w(se,C)&&p.ref===m.ref)return Ui(p,m,I)}return m.flags|=1,p=$o(B,C),p.ref=m.ref,p.return=m,m.child=p}function zo(p,m,w,C,I){if(p!==null&&za(p.memoizedProps,C)&&p.ref===m.ref)if(Hr=!1,(p.lanes&I)!==0)(p.flags&131072)!==0&&(Hr=!0);else return m.lanes=p.lanes,Ui(p,m,I);return jo(p,m,w,C,I)}function Qr(p,m,w){var C=m.pendingProps,I=C.children,B=p!==null?p.memoizedState:null;if(C.mode==="hidden")if((m.mode&1)===0)m.memoizedState={baseLanes:0,cachePool:null},ht(qo,Mi),Mi|=w;else if((w&1073741824)!==0)m.memoizedState={baseLanes:0,cachePool:null},C=B!==null?B.baseLanes:w,ht(qo,Mi),Mi|=C;else return p=B!==null?B.baseLanes|w:w,m.lanes=m.childLanes=1073741824,m.memoizedState={baseLanes:p,cachePool:null},m.updateQueue=null,ht(qo,Mi),Mi|=p,null;else B!==null?(C=B.baseLanes|w,m.memoizedState=null):C=w,ht(qo,Mi),Mi|=C;return mr(p,m,I,w),m.child}function _i(p,m){var w=m.ref;(p===null&&w!==null||p!==null&&p.ref!==w)&&(m.flags|=512,m.flags|=2097152)}function jo(p,m,w,C,I){var B=Hn(w)?kn:Gt.current;return B=Qn(m,B),Zl(m,I),w=ou(p,m,w,C,B,I),C=ys(),p!==null&&!Hr?(m.updateQueue=p.updateQueue,m.flags&=-2053,p.lanes&=~I,Ui(p,m,I)):(rr&&C&&Np(m),m.flags|=1,mr(p,m,w,I),m.child)}function ll(p,m,w,C,I){if(Hn(w)){var B=!0;on(m)}else B=!1;if(Zl(m,I),m.stateNode===null)p!==null&&(p.alternate=null,m.alternate=null,m.flags|=2),Hv(m,w,C),Ip(m,w,C,I),C=!0;else if(p===null){var se=m.stateNode,xe=m.memoizedProps;se.props=xe;var Be=se.context,ot=w.contextType;typeof ot=="object"&&ot!==null?ot=ki(ot):(ot=Hn(w)?kn:Gt.current,ot=Qn(m,ot));var Ct=w.getDerivedStateFromProps,nn=typeof Ct=="function"||typeof se.getSnapshotBeforeUpdate=="function";nn||typeof se.UNSAFE_componentWillReceiveProps!="function"&&typeof se.componentWillReceiveProps!="function"||(xe!==C||Be!==ot)&&Vv(m,se,C,ot),_a=!1;var Ht=m.memoizedState;se.state=Ht,uh(m,C,se,I),Be=m.memoizedState,xe!==C||Ht!==Be||Kt.current||_a?(typeof Ct=="function"&&(Rp(m,w,Ct,C),Be=m.memoizedState),(xe=_a||Op(m,w,xe,C,Ht,Be,ot))?(nn||typeof se.UNSAFE_componentWillMount!="function"&&typeof se.componentWillMount!="function"||(typeof se.componentWillMount=="function"&&se.componentWillMount(),typeof se.UNSAFE_componentWillMount=="function"&&se.UNSAFE_componentWillMount()),typeof se.componentDidMount=="function"&&(m.flags|=4194308)):(typeof se.componentDidMount=="function"&&(m.flags|=4194308),m.memoizedProps=C,m.memoizedState=Be),se.props=C,se.state=Be,se.context=ot,C=xe):(typeof se.componentDidMount=="function"&&(m.flags|=4194308),C=!1)}else{se=m.stateNode,Pp(p,m),xe=m.memoizedProps,ot=m.type===m.elementType?xe:Li(m.type,xe),se.props=ot,nn=m.pendingProps,Ht=se.context,Be=w.contextType,typeof Be=="object"&&Be!==null?Be=ki(Be):(Be=Hn(w)?kn:Gt.current,Be=Qn(m,Be));var Wn=w.getDerivedStateFromProps;(Ct=typeof Wn=="function"||typeof se.getSnapshotBeforeUpdate=="function")||typeof se.UNSAFE_componentWillReceiveProps!="function"&&typeof se.componentWillReceiveProps!="function"||(xe!==nn||Ht!==Be)&&Vv(m,se,C,Be),_a=!1,Ht=m.memoizedState,se.state=Ht,uh(m,C,se,I);var St=m.memoizedState;xe!==nn||Ht!==St||Kt.current||_a?(typeof Wn=="function"&&(Rp(m,w,Wn,C),St=m.memoizedState),(ot=_a||Op(m,w,ot,C,Ht,St,Be)||!1)?(Ct||typeof se.UNSAFE_componentWillUpdate!="function"&&typeof se.componentWillUpdate!="function"||(typeof se.componentWillUpdate=="function"&&se.componentWillUpdate(C,St,Be),typeof se.UNSAFE_componentWillUpdate=="function"&&se.UNSAFE_componentWillUpdate(C,St,Be)),typeof se.componentDidUpdate=="function"&&(m.flags|=4),typeof se.getSnapshotBeforeUpdate=="function"&&(m.flags|=1024)):(typeof se.componentDidUpdate!="function"||xe===p.memoizedProps&&Ht===p.memoizedState||(m.flags|=4),typeof se.getSnapshotBeforeUpdate!="function"||xe===p.memoizedProps&&Ht===p.memoizedState||(m.flags|=1024),m.memoizedProps=C,m.memoizedState=St),se.props=C,se.state=St,se.context=Be,C=ot):(typeof se.componentDidUpdate!="function"||xe===p.memoizedProps&&Ht===p.memoizedState||(m.flags|=4),typeof se.getSnapshotBeforeUpdate!="function"||xe===p.memoizedProps&&Ht===p.memoizedState||(m.flags|=1024),C=!1)}return li(p,m,w,C,B,I)}function li(p,m,w,C,I,B){_i(p,m);var se=(m.flags&128)!==0;if(!C&&!se)return I&&yn(m,w,!1),Ui(p,m,B);C=m.stateNode,Xp.current=m;var xe=se&&typeof w.getDerivedStateFromError!="function"?null:C.render();return m.flags|=1,p!==null&&se?(m.child=Do(m,p.child,null,B),m.child=Do(m,null,xe,B)):mr(p,m,xe,B),m.memoizedState=C.state,I&&yn(m,w,!0),m.child}function Ic(p){var m=p.stateNode;m.pendingContext?ln(p,m.pendingContext,m.pendingContext!==m.context):m.context&&ln(p,m.context,!1),mh(p,m.containerInfo)}function Yp(p,m,w,C,I){return tu(),ph(I),m.flags|=256,mr(p,m,w,C),m.child}var Nc={dehydrated:null,treeContext:null,retryLane:0};function ul(p){return{baseLanes:p,cachePool:null}}function Kp(p,m,w){var C=m.pendingProps,I=lr.current,B=!1,se=(m.flags&128)!==0,xe;if((xe=se)||(xe=p!==null&&p.memoizedState===null?!1:(I&2)!==0),xe?(B=!0,m.flags&=-129):(p===null||p.memoizedState!==null)&&(I|=1),ht(lr,I&1),p===null)return gs(m),p=m.memoizedState,p!==null&&(p=p.dehydrated,p!==null)?((m.mode&1)===0?m.lanes=1:Ba(p)?m.lanes=8:m.lanes=1073741824,null):(I=C.children,p=C.fallback,B?(C=m.mode,B=m.child,I={mode:"hidden",children:I},(C&1)===0&&B!==null?(B.childLanes=0,B.pendingProps=I):B=wu(I,C,0,null),p=Ps(p,C,w,null),B.return=m,p.return=m,B.sibling=p,m.child=B,m.child.memoizedState=ul(w),m.memoizedState=Nc,p):Ga(m,I));if(I=p.memoizedState,I!==null){if(xe=I.dehydrated,xe!==null){if(se)return m.flags&256?(m.flags&=-257,kc(p,m,w,Error(o(422)))):m.memoizedState!==null?(m.child=p.child,m.flags|=128,null):(B=C.fallback,I=m.mode,C=wu({mode:"visible",children:C.children},I,0,null),B=Ps(B,I,w,null),B.flags|=2,C.return=m,B.return=m,C.sibling=B,m.child=C,(m.mode&1)!==0&&Do(m,p.child,null,w),m.child.memoizedState=ul(w),m.memoizedState=Nc,B);if((m.mode&1)===0)m=kc(p,m,w,null);else if(Ba(xe))m=kc(p,m,w,Error(o(419)));else if(C=(w&p.childLanes)!==0,Hr||C){if(C=cr,C!==null){switch(w&-w){case 4:B=2;break;case 16:B=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:B=32;break;case 536870912:B=268435456;break;default:B=0}C=(B&(C.suspendedLanes|w))!==0?0:B,C!==0&&C!==I.retryLane&&(I.retryLane=C,Bi(p,C,-1))}zc(),m=kc(p,m,w,Error(o(421)))}else ao(xe)?(m.flags|=128,m.child=p.child,m=r0.bind(null,p),gi(xe,m),m=null):(w=I.treeContext,je&&(Jr=$l(xe),xi=m,rr=!0,Sa=null,eu=!1,w!==null&&(ba[Qi++]=Lo,ba[Qi++]=ko,ba[Qi++]=Js,Lo=w.id,ko=w.overflow,Js=m)),m=Ga(m,m.pendingProps.children),m.flags|=4096);return m}return B?(C=Oh(p,m,C.children,C.fallback,w),B=m.child,I=p.child.memoizedState,B.memoizedState=I===null?ul(w):{baseLanes:I.baseLanes|w,cachePool:null},B.childLanes=p.childLanes&~w,m.memoizedState=Nc,C):(w=Lc(p,m,C.children,w),m.memoizedState=null,w)}return B?(C=Oh(p,m,C.children,C.fallback,w),B=m.child,I=p.child.memoizedState,B.memoizedState=I===null?ul(w):{baseLanes:I.baseLanes|w,cachePool:null},B.childLanes=p.childLanes&~w,m.memoizedState=Nc,C):(w=Lc(p,m,C.children,w),m.memoizedState=null,w)}function Ga(p,m){return m=wu({mode:"visible",children:m},p.mode,0,null),m.return=p,p.child=m}function Lc(p,m,w,C){var I=p.child;return p=I.sibling,w=$o(I,{mode:"visible",children:w}),(m.mode&1)===0&&(w.lanes=C),w.return=m,w.sibling=null,p!==null&&(C=m.deletions,C===null?(m.deletions=[p],m.flags|=16):C.push(p)),m.child=w}function Oh(p,m,w,C,I){var B=m.mode;p=p.child;var se=p.sibling,xe={mode:"hidden",children:w};return(B&1)===0&&m.child!==p?(w=m.child,w.childLanes=0,w.pendingProps=xe,m.deletions=null):(w=$o(p,xe),w.subtreeFlags=p.subtreeFlags&14680064),se!==null?C=$o(se,C):(C=Ps(C,B,I,null),C.flags|=2),C.return=m,w.return=m,w.sibling=C,m.child=w,C}function kc(p,m,w,C){return C!==null&&ph(C),Do(m,p.child,null,w),p=Ga(m,m.pendingProps.children),p.flags|=2,m.memoizedState=null,p}function Qv(p,m,w){p.lanes|=m;var C=p.alternate;C!==null&&(C.lanes|=m),Zs(p.return,m,w)}function fo(p,m,w,C,I){var B=p.memoizedState;B===null?p.memoizedState={isBackwards:m,rendering:null,renderingStartTime:0,last:C,tail:w,tailMode:I}:(B.isBackwards=m,B.rendering=null,B.renderingStartTime=0,B.last=C,B.tail=w,B.tailMode=I)}function cl(p,m,w){var C=m.pendingProps,I=C.revealOrder,B=C.tail;if(mr(p,m,C.children,w),C=lr.current,(C&2)!==0)C=C&1|2,m.flags|=128;else{if(p!==null&&(p.flags&128)!==0)e:for(p=m.child;p!==null;){if(p.tag===13)p.memoizedState!==null&&Qv(p,w,m);else if(p.tag===19)Qv(p,w,m);else if(p.child!==null){p.child.return=p,p=p.child;continue}if(p===m)break e;for(;p.sibling===null;){if(p.return===null||p.return===m)break e;p=p.return}p.sibling.return=p.return,p=p.sibling}C&=1}if(ht(lr,C),(m.mode&1)===0)m.memoizedState=null;else switch(I){case"forwards":for(w=m.child,I=null;w!==null;)p=w.alternate,p!==null&&gh(p)===null&&(I=w),w=w.sibling;w=I,w===null?(I=m.child,m.child=null):(I=w.sibling,w.sibling=null),fo(m,!1,I,w,B);break;case"backwards":for(w=null,I=m.child,m.child=null;I!==null;){if(p=I.alternate,p!==null&&gh(p)===null){m.child=I;break}p=I.sibling,I.sibling=w,w=I,I=p}fo(m,!0,w,null,B);break;case"together":fo(m,!1,null,null,void 0);break;default:m.memoizedState=null}return m.child}function Ui(p,m,w){if(p!==null&&(m.dependencies=p.dependencies),dl|=m.lanes,(w&m.childLanes)===0)return null;if(p!==null&&m.child!==p.child)throw Error(o(153));if(m.child!==null){for(p=m.child,w=$o(p,p.pendingProps),m.child=w,w.return=m;p.sibling!==null;)p=p.sibling,w=w.sibling=$o(p,p.pendingProps),w.return=m;w.sibling=null}return m.child}function Ih(p,m,w){switch(m.tag){case 3:Ic(m),tu();break;case 5:Xv(m);break;case 1:Hn(m.type)&&on(m);break;case 4:mh(m,m.stateNode.containerInfo);break;case 10:Ks(m,m.type._context,m.memoizedProps.value);break;case 13:var C=m.memoizedState;if(C!==null)return C.dehydrated!==null?(ht(lr,lr.current&1),m.flags|=128,null):(w&m.child.childLanes)!==0?Kp(p,m,w):(ht(lr,lr.current&1),p=Ui(p,m,w),p!==null?p.sibling:null);ht(lr,lr.current&1);break;case 19:if(C=(w&m.childLanes)!==0,(p.flags&128)!==0){if(C)return cl(p,m,w);m.flags|=128}var I=m.memoizedState;if(I!==null&&(I.rendering=null,I.tail=null,I.lastEffect=null),ht(lr,lr.current),C)break;return null;case 22:case 23:return m.lanes=0,Qr(p,m,w)}return Ui(p,m,w)}function Nh(p,m){switch(Lp(m),m.tag){case 1:return Hn(m.type)&&vn(),p=m.flags,p&65536?(m.flags=p&-65537|128,m):null;case 3:return au(),pt(Kt),pt(Gt),nl(),p=m.flags,(p&65536)!==0&&(p&128)===0?(m.flags=p&-65537|128,m):null;case 5:return Up(m),null;case 13:if(pt(lr),p=m.memoizedState,p!==null&&p.dehydrated!==null){if(m.alternate===null)throw Error(o(340));tu()}return p=m.flags,p&65536?(m.flags=p&-65537|128,m):null;case 19:return pt(lr),null;case 4:return au(),null;case 10:return bc(m.type._context),null;case 22:case 23:return nm(),null;case 24:return null;default:return null}}var bi=!1,Vr=!1,fl=typeof WeakSet=="function"?WeakSet:Set,ut=null;function wa(p,m){var w=p.ref;if(w!==null)if(typeof w=="function")try{w(null)}catch(C){Ai(p,m,C)}else w.current=null}function Ho(p,m,w){try{w()}catch(C){Ai(p,m,C)}}var Zp=!1;function Jp(p,m){for(ae(p.containerInfo),ut=m;ut!==null;)if(p=ut,m=p.child,(p.subtreeFlags&1028)!==0&&m!==null)m.return=p,ut=m;else for(;ut!==null;){p=ut;try{var w=p.alternate;if((p.flags&1024)!==0)switch(p.tag){case 0:case 11:case 15:break;case 1:if(w!==null){var C=w.memoizedProps,I=w.memoizedState,B=p.stateNode,se=B.getSnapshotBeforeUpdate(p.elementType===p.type?C:Li(p.type,C),I);B.__reactInternalSnapshotBeforeUpdate=se}break;case 3:Qe&&it(p.stateNode.containerInfo);break;case 5:case 6:case 4:case 17:break;default:throw Error(o(163))}}catch(xe){Ai(p,p.return,xe)}if(m=p.sibling,m!==null){m.return=p.return,ut=m;break}ut=p.return}return w=Zp,Zp=!1,w}function Vo(p,m,w){var C=m.updateQueue;if(C=C!==null?C.lastEffect:null,C!==null){var I=C=C.next;do{if((I.tag&p)===p){var B=I.destroy;I.destroy=void 0,B!==void 0&&Ho(m,w,B)}I=I.next}while(I!==C)}}function ei(p,m){if(m=m.updateQueue,m=m!==null?m.lastEffect:null,m!==null){var w=m=m.next;do{if((w.tag&p)===p){var C=w.create;w.destroy=C()}w=w.next}while(w!==m)}}function Si(p){var m=p.ref;if(m!==null){var w=p.stateNode;switch(p.tag){case 5:p=Z(w);break;default:p=w}typeof m=="function"?m(p):m.current=p}}function er(p,m,w){if(lo&&typeof lo.onCommitFiberUnmount=="function")try{lo.onCommitFiberUnmount(vc,m)}catch{}switch(m.tag){case 0:case 11:case 14:case 15:if(p=m.updateQueue,p!==null&&(p=p.lastEffect,p!==null)){var C=p=p.next;do{var I=C,B=I.destroy;I=I.tag,B!==void 0&&((I&2)!==0||(I&4)!==0)&&Ho(m,w,B),C=C.next}while(C!==p)}break;case 1:if(wa(m,w),p=m.stateNode,typeof p.componentWillUnmount=="function")try{p.props=m.memoizedProps,p.state=m.memoizedState,p.componentWillUnmount()}catch(se){Ai(m,w,se)}break;case 5:wa(m,w);break;case 4:Qe?tm(p,m,w):K&&K&&(m=m.stateNode.containerInfo,w=Bt(m),gn(m,w))}}function Ma(p,m,w){for(var C=m;;)if(er(p,C,w),C.child===null||Qe&&C.tag===4){if(C===m)break;for(;C.sibling===null;){if(C.return===null||C.return===m)return;C=C.return}C.sibling.return=C.return,C=C.sibling}else C.child.return=C,C=C.child}function Qp(p){var m=p.alternate;m!==null&&(p.alternate=null,Qp(m)),p.child=null,p.deletions=null,p.sibling=null,p.tag===5&&(m=p.stateNode,m!==null&&gt(m)),p.stateNode=null,p.return=null,p.dependencies=null,p.memoizedProps=null,p.memoizedState=null,p.pendingProps=null,p.stateNode=null,p.updateQueue=null}function em(p){return p.tag===5||p.tag===3||p.tag===4}function Lh(p){e:for(;;){for(;p.sibling===null;){if(p.return===null||em(p.return))return null;p=p.return}for(p.sibling.return=p.return,p=p.sibling;p.tag!==5&&p.tag!==6&&p.tag!==18;){if(p.flags&2||p.child===null||p.tag===4)continue e;p.child.return=p,p=p.child}if(!(p.flags&2))return p.stateNode}}function kh(p){if(Qe){e:{for(var m=p.return;m!==null;){if(em(m))break e;m=m.return}throw Error(o(160))}var w=m;switch(w.tag){case 5:m=w.stateNode,w.flags&32&&(ze(m),w.flags&=-33),w=Lh(p),hu(p,w,m);break;case 3:case 4:m=w.stateNode.containerInfo,w=Lh(p),Dh(p,w,m);break;default:throw Error(o(161))}}}function Dh(p,m,w){var C=p.tag;if(C===5||C===6)p=p.stateNode,m?_t(w,p,m):Vt(w,p);else if(C!==4&&(p=p.child,p!==null))for(Dh(p,m,w),p=p.sibling;p!==null;)Dh(p,m,w),p=p.sibling}function hu(p,m,w){var C=p.tag;if(C===5||C===6)p=p.stateNode,m?zt(w,p,m):Nt(w,p);else if(C!==4&&(p=p.child,p!==null))for(hu(p,m,w),p=p.sibling;p!==null;)hu(p,m,w),p=p.sibling}function tm(p,m,w){for(var C=m,I=!1,B,se;;){if(!I){I=C.return;e:for(;;){if(I===null)throw Error(o(160));switch(B=I.stateNode,I.tag){case 5:se=!1;break e;case 3:B=B.containerInfo,se=!0;break e;case 4:B=B.containerInfo,se=!0;break e}I=I.return}I=!0}if(C.tag===5||C.tag===6)Ma(p,C,w),se?pe(B,C.stateNode):bt(B,C.stateNode);else if(C.tag===18)se?fe(B,C.stateNode):de(B,C.stateNode);else if(C.tag===4){if(C.child!==null){B=C.stateNode.containerInfo,se=!0,C.child.return=C,C=C.child;continue}}else if(er(p,C,w),C.child!==null){C.child.return=C,C=C.child;continue}if(C===m)break;for(;C.sibling===null;){if(C.return===null||C.return===m)return;C=C.return,C.tag===4&&(I=!1)}C.sibling.return=C.return,C=C.sibling}}function bs(p,m){if(Qe){switch(m.tag){case 0:case 11:case 14:case 15:Vo(3,m,m.return),ei(3,m),Vo(5,m,m.return);return;case 1:return;case 5:var w=m.stateNode;if(w!=null){var C=m.memoizedProps;p=p!==null?p.memoizedProps:C;var I=m.type,B=m.updateQueue;m.updateQueue=null,B!==null&&rn(w,B,I,p,C,m)}return;case 6:if(m.stateNode===null)throw Error(o(162));w=m.memoizedProps,Ke(m.stateNode,p!==null?p.memoizedProps:w,w);return;case 3:je&&p!==null&&p.memoizedState.isDehydrated&&ne(m.stateNode.containerInfo);return;case 12:return;case 13:du(m);return;case 19:du(m);return;case 17:return}throw Error(o(163))}switch(m.tag){case 0:case 11:case 14:case 15:Vo(3,m,m.return),ei(3,m),Vo(5,m,m.return);return;case 12:return;case 13:du(m);return;case 19:du(m);return;case 3:je&&p!==null&&p.memoizedState.isDehydrated&&ne(m.stateNode.containerInfo);break;case 22:case 23:return}e:if(K){switch(m.tag){case 1:case 5:case 6:break e;case 3:case 4:m=m.stateNode,gn(m.containerInfo,m.pendingChildren);break e}throw Error(o(163))}}function du(p){var m=p.updateQueue;if(m!==null){p.updateQueue=null;var w=p.stateNode;w===null&&(w=p.stateNode=new fl),m.forEach(function(C){var I=Hc.bind(null,p,C);w.has(C)||(w.add(C),C.then(I,I))})}}function fb(p,m){for(ut=m;ut!==null;){m=ut;var w=m.deletions;if(w!==null)for(var C=0;C<w.length;C++){var I=w[C];try{var B=p;Qe?tm(B,I,m):Ma(B,I,m);var se=I.alternate;se!==null&&(se.return=null),I.return=null}catch(Lt){Ai(I,m,Lt)}}if(w=m.child,(m.subtreeFlags&12854)!==0&&w!==null)w.return=m,ut=w;else for(;ut!==null;){m=ut;try{var xe=m.flags;if(xe&32&&Qe&&ze(m.stateNode),xe&512){var Be=m.alternate;if(Be!==null){var ot=Be.ref;ot!==null&&(typeof ot=="function"?ot(null):ot.current=null)}}if(xe&8192)switch(m.tag){case 13:if(m.memoizedState!==null){var Ct=m.alternate;(Ct===null||Ct.memoizedState===null)&&(Bh=Rr())}break;case 22:var nn=m.memoizedState!==null,Ht=m.alternate,Wn=Ht!==null&&Ht.memoizedState!==null;if(w=m,Qe){e:if(C=w,I=nn,B=null,Qe)for(var St=C;;){if(St.tag===5){if(B===null){B=St;var On=St.stateNode;I?at(On):Me(St.stateNode,St.memoizedProps)}}else if(St.tag===6){if(B===null){var aa=St.stateNode;I?vt(aa):me(aa,St.memoizedProps)}}else if((St.tag!==22&&St.tag!==23||St.memoizedState===null||St===C)&&St.child!==null){St.child.return=St,St=St.child;continue}if(St===C)break;for(;St.sibling===null;){if(St.return===null||St.return===C)break e;B===St&&(B=null),St=St.return}B===St&&(B=null),St.sibling.return=St.return,St=St.sibling}}if(nn&&!Wn&&(w.mode&1)!==0){ut=w;for(var Pe=w.child;Pe!==null;){for(w=ut=Pe;ut!==null;){C=ut;var Se=C.child;switch(C.tag){case 0:case 11:case 14:case 15:Vo(4,C,C.return);break;case 1:wa(C,C.return);var De=C.stateNode;if(typeof De.componentWillUnmount=="function"){var xt=C.return;try{De.props=C.memoizedProps,De.state=C.memoizedState,De.componentWillUnmount()}catch(Lt){Ai(C,xt,Lt)}}break;case 5:wa(C,C.return);break;case 22:if(C.memoizedState!==null){hl(w);continue}}Se!==null?(Se.return=C,ut=Se):hl(w)}Pe=Pe.sibling}}}switch(xe&4102){case 2:kh(m),m.flags&=-3;break;case 6:kh(m),m.flags&=-3,bs(m.alternate,m);break;case 4096:m.flags&=-4097;break;case 4100:m.flags&=-4097,bs(m.alternate,m);break;case 4:bs(m.alternate,m)}}catch(Lt){Ai(m,m.return,Lt)}if(w=m.sibling,w!==null){w.return=m.return,ut=w;break}ut=m.return}}}function Wa(p,m,w){ut=p,Dc(p)}function Dc(p,m,w){for(var C=(p.mode&1)!==0;ut!==null;){var I=ut,B=I.child;if(I.tag===22&&C){var se=I.memoizedState!==null||bi;if(!se){var xe=I.alternate,Be=xe!==null&&xe.memoizedState!==null||Vr;xe=bi;var ot=Vr;if(bi=se,(Vr=Be)&&!ot)for(ut=I;ut!==null;)se=ut,Be=se.child,se.tag===22&&se.memoizedState!==null?Uh(I):Be!==null?(Be.return=se,ut=Be):Uh(I);for(;B!==null;)ut=B,Dc(B),B=B.sibling;ut=I,bi=xe,Vr=ot}Uc(p)}else(I.subtreeFlags&8772)!==0&&B!==null?(B.return=I,ut=B):Uc(p)}}function Uc(p){for(;ut!==null;){var m=ut;if((m.flags&8772)!==0){var w=m.alternate;try{if((m.flags&8772)!==0)switch(m.tag){case 0:case 11:case 15:Vr||ei(5,m);break;case 1:var C=m.stateNode;if(m.flags&4&&!Vr)if(w===null)C.componentDidMount();else{var I=m.elementType===m.type?w.memoizedProps:Li(m.type,w.memoizedProps);C.componentDidUpdate(I,w.memoizedState,C.__reactInternalSnapshotBeforeUpdate)}var B=m.updateQueue;B!==null&&zv(m,B,C);break;case 3:var se=m.updateQueue;if(se!==null){if(w=null,m.child!==null)switch(m.child.tag){case 5:w=Z(m.child.stateNode);break;case 1:w=m.child.stateNode}zv(m,se,w)}break;case 5:var xe=m.stateNode;w===null&&m.flags&4&&an(xe,m.type,m.memoizedProps,m);break;case 6:break;case 4:break;case 12:break;case 13:if(je&&m.memoizedState===null){var Be=m.alternate;if(Be!==null){var ot=Be.memoizedState;if(ot!==null){var Ct=ot.dehydrated;Ct!==null&&oe(Ct)}}}break;case 19:case 17:case 21:case 22:case 23:break;default:throw Error(o(163))}Vr||m.flags&512&&Si(m)}catch(nn){Ai(m,m.return,nn)}}if(m===p){ut=null;break}if(w=m.sibling,w!==null){w.return=m.return,ut=w;break}ut=m.return}}function hl(p){for(;ut!==null;){var m=ut;if(m===p){ut=null;break}var w=m.sibling;if(w!==null){w.return=m.return,ut=w;break}ut=m.return}}function Uh(p){for(;ut!==null;){var m=ut;try{switch(m.tag){case 0:case 11:case 15:var w=m.return;try{ei(4,m)}catch(Be){Ai(m,w,Be)}break;case 1:var C=m.stateNode;if(typeof C.componentDidMount=="function"){var I=m.return;try{C.componentDidMount()}catch(Be){Ai(m,I,Be)}}var B=m.return;try{Si(m)}catch(Be){Ai(m,B,Be)}break;case 5:var se=m.return;try{Si(m)}catch(Be){Ai(m,se,Be)}}}catch(Be){Ai(m,m.return,Be)}if(m===p){ut=null;break}var xe=m.sibling;if(xe!==null){xe.return=m.return,ut=xe;break}ut=m.return}}var pu=0,mu=1,gu=2,Go=3,wi=4;if(typeof Symbol=="function"&&Symbol.for){var qa=Symbol.for;pu=qa("selector.component"),mu=qa("selector.has_pseudo_class"),gu=qa("selector.role"),Go=qa("selector.test_id"),wi=qa("selector.text")}function Fc(p){var m=Ae(p);if(m!=null){if(typeof m.memoizedProps["data-testname"]!="string")throw Error(o(364));return m}if(p=we(p),p===null)throw Error(o(362));return p.stateNode.current}function Fh(p,m){switch(m.$$typeof){case pu:if(p.type===m.value)return!0;break;case mu:e:{m=m.value,p=[p,0];for(var w=0;w<p.length;){var C=p[w++],I=p[w++],B=m[I];if(C.tag!==5||!Ge(C)){for(;B!=null&&Fh(C,B);)I++,B=m[I];if(I===m.length){m=!0;break e}else for(C=C.child;C!==null;)p.push(C,I),C=C.sibling}}m=!1}return m;case gu:if(p.tag===5&&Tt(p.stateNode,m.value))return!0;break;case wi:if((p.tag===5||p.tag===6)&&(p=$e(p),p!==null&&0<=p.indexOf(m.value)))return!0;break;case Go:if(p.tag===5&&(p=p.memoizedProps["data-testname"],typeof p=="string"&&p.toLowerCase()===m.value.toLowerCase()))return!0;break;default:throw Error(o(365))}return!1}function $a(p){switch(p.$$typeof){case pu:return"<"+(N(p.value)||"Unknown")+">";case mu:return":has("+($a(p)||"")+")";case gu:return'[role="'+p.value+'"]';case wi:return'"'+p.value+'"';case Go:return'[data-testname="'+p.value+'"]';default:throw Error(o(365))}}function Wo(p,m){var w=[];p=[p,0];for(var C=0;C<p.length;){var I=p[C++],B=p[C++],se=m[B];if(I.tag!==5||!Ge(I)){for(;se!=null&&Fh(I,se);)B++,se=m[B];if(B===m.length)w.push(I);else for(I=I.child;I!==null;)p.push(I,B),I=I.sibling}}return w}function Bc(p,m){if(!$)throw Error(o(363));p=Fc(p),p=Wo(p,m),m=[],p=Array.from(p);for(var w=0;w<p.length;){var C=p[w++];if(C.tag===5)Ge(C)||m.push(C.stateNode);else for(C=C.child;C!==null;)p.push(C),C=C.sibling}return m}var e0=Math.ceil,Ea=s.ReactCurrentDispatcher,ho=s.ReactCurrentOwner,ir=s.ReactCurrentBatchConfig,cn=0,cr=null,_r=null,Gr=0,Mi=0,qo=Yt(0),Er=0,vu=null,dl=0,yu=0,pl=0,Ss=null,Ei=null,Bh=0,ws=1/0;function ml(){ws=Rr()+500}var Ms=!1,Aa=null,Ta=null,Es=!1,Fi=null,xu=0,po=0,zh=null,_u=-1,Zn=0;function Wr(){return(cn&6)!==0?Rr():_u!==-1?_u:_u=Rr()}function mo(p){return(p.mode&1)===0?1:(cn&2)!==0&&Gr!==0?Gr&-Gr:Bv.transition!==null?(Zn===0&&(p=Xl,Xl<<=1,(Xl&4194240)===0&&(Xl=64),Zn=p),Zn):(p=hn,p!==0?p:Ne())}function Bi(p,m,w){if(50<po)throw po=0,zh=null,Error(o(185));var C=gl(p,m);return C===null?null:(qs(C,m,w),((cn&2)===0||C!==cr)&&(C===cr&&((cn&2)===0&&(yu|=m),Er===4&&Xa(C,Gr)),ui(C,w),m===1&&cn===0&&(p.mode&1)===0&&(ml(),rh&&ya())),C)}function gl(p,m){p.lanes|=m;var w=p.alternate;for(w!==null&&(w.lanes|=m),w=p,p=p.return;p!==null;)p.childLanes|=m,w=p.alternate,w!==null&&(w.childLanes|=m),w=p,p=p.return;return w.tag===3?w.stateNode:null}function ui(p,m){var w=p.callbackNode;Fv(p,m);var C=gc(p,p===cr?Gr:0);if(C===0)w!==null&&Kl(w),p.callbackNode=null,p.callbackPriority=0;else if(m=C&-C,p.callbackPriority!==m){if(w!=null&&Kl(w),m===1)p.tag===0?ah(bu.bind(null,p)):ih(bu.bind(null,p)),st?J(function(){cn===0&&ya()}):$s(Xs,ya),w=null;else{switch(Oo(C)){case 1:w=Xs;break;case 4:w=lb;break;case 16:w=th;break;case 536870912:w=nh;break;default:w=th}w=Vc(w,As.bind(null,p))}p.callbackPriority=m,p.callbackNode=w}}function As(p,m){if(_u=-1,Zn=0,(cn&6)!==0)throw Error(o(327));var w=p.callbackNode;if(Cs()&&p.callbackNode!==w)return null;var C=gc(p,p===cr?Gr:0);if(C===0)return null;if((C&30)!==0||(C&p.expiredLanes)!==0||m)m=ra(p,C);else{m=C;var I=cn;cn|=2;var B=Hh();(cr!==p||Gr!==m)&&(ml(),gr(p,m));do try{jc();break}catch(xe){jh(p,xe)}while(!0);yi(),Ea.current=B,cn=I,_r!==null?m=0:(cr=null,Gr=0,m=Er)}if(m!==0){if(m===2&&(I=Jf(p),I!==0&&(C=I,m=tr(p,I))),m===1)throw w=vu,gr(p,0),Xa(p,C),ui(p,Rr()),w;if(m===6)Xa(p,C);else{if(I=p.current.alternate,(C&30)===0&&!qr(I)&&(m=ra(p,C),m===2&&(B=Jf(p),B!==0&&(C=B,m=tr(p,B))),m===1))throw w=vu,gr(p,0),Xa(p,C),ui(p,Rr()),w;switch(p.finishedWork=I,p.finishedLanes=C,m){case 0:case 1:throw Error(o(345));case 2:Ts(p,Ei);break;case 3:if(Xa(p,C),(C&130023424)===C&&(m=Bh+500-Rr(),10<m)){if(gc(p,0)!==0)break;if(I=p.suspendedLanes,(I&C)!==C){Wr(),p.pingedLanes|=p.suspendedLanes&I;break}p.timeoutHandle=He(Ts.bind(null,p,Ei),m);break}Ts(p,Ei);break;case 4:if(Xa(p,C),(C&4194240)===C)break;for(m=p.eventTimes,I=-1;0<C;){var se=31-Vn(C);B=1<<se,se=m[se],se>I&&(I=se),C&=~B}if(C=I,C=Rr()-C,C=(120>C?120:480>C?480:1080>C?1080:1920>C?1920:3e3>C?3e3:4320>C?4320:1960*e0(C/1960))-C,10<C){p.timeoutHandle=He(Ts.bind(null,p,Ei),C);break}Ts(p,Ei);break;case 5:Ts(p,Ei);break;default:throw Error(o(329))}}}return ui(p,Rr()),p.callbackNode===w?As.bind(null,p):null}function tr(p,m){var w=Ss;return p.current.memoizedState.isDehydrated&&(gr(p,m).flags|=256),p=ra(p,m),p!==2&&(m=Ei,Ei=w,m!==null&&br(m)),p}function br(p){Ei===null?Ei=p:Ei.push.apply(Ei,p)}function qr(p){for(var m=p;;){if(m.flags&16384){var w=m.updateQueue;if(w!==null&&(w=w.stores,w!==null))for(var C=0;C<w.length;C++){var I=w[C],B=I.getSnapshot;I=I.value;try{if(!vi(B(),I))return!1}catch{return!1}}}if(w=m.child,m.subtreeFlags&16384&&w!==null)w.return=m,m=w;else{if(m===p)break;for(;m.sibling===null;){if(m.return===null||m.return===p)return!0;m=m.return}m.sibling.return=m.return,m=m.sibling}}return!0}function Xa(p,m){for(m&=~pl,m&=~yu,p.suspendedLanes|=m,p.pingedLanes&=~m,p=p.expirationTimes;0<m;){var w=31-Vn(m),C=1<<w;p[w]=-1,m&=~C}}function bu(p){if((cn&6)!==0)throw Error(o(327));Cs();var m=gc(p,0);if((m&1)===0)return ui(p,Rr()),null;var w=ra(p,m);if(p.tag!==0&&w===2){var C=Jf(p);C!==0&&(m=C,w=tr(p,C))}if(w===1)throw w=vu,gr(p,0),Xa(p,m),ui(p,Rr()),w;if(w===6)throw Error(o(345));return p.finishedWork=p.current.alternate,p.finishedLanes=m,Ts(p,Ei),ui(p,Rr()),null}function Su(p){Fi!==null&&Fi.tag===0&&(cn&6)===0&&Cs();var m=cn;cn|=1;var w=ir.transition,C=hn;try{if(ir.transition=null,hn=1,p)return p()}finally{hn=C,ir.transition=w,cn=m,(cn&6)===0&&ya()}}function nm(){Mi=qo.current,pt(qo)}function gr(p,m){p.finishedWork=null,p.finishedLanes=0;var w=p.timeoutHandle;if(w!==Ue&&(p.timeoutHandle=Ue,Je(w)),_r!==null)for(w=_r.return;w!==null;){var C=w;switch(Lp(C),C.tag){case 1:C=C.type.childContextTypes,C!=null&&vn();break;case 3:au(),pt(Kt),pt(Gt),nl();break;case 5:Up(C);break;case 4:au();break;case 13:pt(lr);break;case 19:pt(lr);break;case 10:bc(C.type._context);break;case 22:case 23:nm()}w=w.return}if(cr=p,_r=p=$o(p.current,null),Gr=Mi=m,Er=0,vu=null,pl=yu=dl=0,Ei=Ss=null,xa!==null){for(m=0;m<xa.length;m++)if(w=xa[m],C=w.interleaved,C!==null){w.interleaved=null;var I=C.next,B=w.pending;if(B!==null){var se=B.next;B.next=I,C.next=se}w.pending=C}xa=null}return p}function jh(p,m){do{var w=_r;try{if(yi(),wc.current=cu,vh){for(var C=ur.memoizedState;C!==null;){var I=C.queue;I!==null&&(I.pending=null),C=C.next}vh=!1}if(rl=0,zr=Br=ur=null,uo=!1,il=0,ho.current=null,w===null||w.return===null){Er=1,vu=m,_r=null;break}e:{var B=p,se=w.return,xe=w,Be=m;if(m=Gr,xe.flags|=32768,Be!==null&&typeof Be=="object"&&typeof Be.then=="function"){var ot=Be,Ct=xe,nn=Ct.tag;if((Ct.mode&1)===0&&(nn===0||nn===11||nn===15)){var Ht=Ct.alternate;Ht?(Ct.updateQueue=Ht.updateQueue,Ct.memoizedState=Ht.memoizedState,Ct.lanes=Ht.lanes):(Ct.updateQueue=null,Ct.memoizedState=null)}var Wn=$p(se);if(Wn!==null){Wn.flags&=-257,ol(Wn,se,xe,B,m),Wn.mode&1&&Fo(B,ot,m),m=Wn,Be=ot;var St=m.updateQueue;if(St===null){var On=new Set;On.add(Be),m.updateQueue=On}else St.add(Be);break e}else{if((m&1)===0){Fo(B,ot,m),zc();break e}Be=Error(o(426))}}else if(rr&&xe.mode&1){var aa=$p(se);if(aa!==null){(aa.flags&65536)===0&&(aa.flags|=256),ol(aa,se,xe,B,m),ph(Be);break e}}B=Be,Er!==4&&(Er=2),Ss===null?Ss=[B]:Ss.push(B),Be=qp(Be,xe),xe=se;do{switch(xe.tag){case 3:xe.flags|=65536,m&=-m,xe.lanes|=m;var Pe=Jv(xe,Be,m);lh(xe,Pe);break e;case 1:B=Be;var Se=xe.type,De=xe.stateNode;if((xe.flags&128)===0&&(typeof Se.getDerivedStateFromError=="function"||De!==null&&typeof De.componentDidCatch=="function"&&(Ta===null||!Ta.has(De)))){xe.flags|=65536,m&=-m,xe.lanes|=m;var xt=Th(xe,B,m);lh(xe,xt);break e}}xe=xe.return}while(xe!==null)}Gh(w)}catch(Lt){m=Lt,_r===w&&w!==null&&(_r=w=w.return);continue}break}while(!0)}function Hh(){var p=Ea.current;return Ea.current=cu,p===null?cu:p}function zc(){(Er===0||Er===3||Er===2)&&(Er=4),cr===null||(dl&268435455)===0&&(yu&268435455)===0||Xa(cr,Gr)}function ra(p,m){var w=cn;cn|=2;var C=Hh();cr===p&&Gr===m||gr(p,m);do try{Ca();break}catch(I){jh(p,I)}while(!0);if(yi(),cn=w,Ea.current=C,_r!==null)throw Error(o(261));return cr=null,Gr=0,Er}function Ca(){for(;_r!==null;)Vh(_r)}function jc(){for(;_r!==null&&!ds();)Vh(_r)}function Vh(p){var m=am(p.alternate,p,Mi);p.memoizedProps=p.pendingProps,m===null?Gh(p):_r=m,ho.current=null}function Gh(p){var m=p;do{var w=m.alternate;if(p=m.return,(m.flags&32768)===0){if(w=Rh(w,m,Mi),w!==null){_r=w;return}}else{if(w=Nh(w,m),w!==null){w.flags&=32767,_r=w;return}if(p!==null)p.flags|=32768,p.subtreeFlags=0,p.deletions=null;else{Er=6,_r=null;return}}if(m=m.sibling,m!==null){_r=m;return}_r=m=p}while(m!==null);Er===0&&(Er=5)}function Ts(p,m){var w=hn,C=ir.transition;try{ir.transition=null,hn=1,t0(p,m,w)}finally{ir.transition=C,hn=w}return null}function t0(p,m,w){do Cs();while(Fi!==null);if((cn&6)!==0)throw Error(o(327));var C=p.finishedWork,I=p.finishedLanes;if(C===null)return null;if(p.finishedWork=null,p.finishedLanes=0,C===p.current)throw Error(o(177));p.callbackNode=null,p.callbackPriority=0;var B=C.lanes|C.childLanes;if(eh(p,B),p===cr&&(_r=cr=null,Gr=0),(C.subtreeFlags&2064)===0&&(C.flags&2064)===0||Es||(Es=!0,Vc(th,function(){return Cs(),null})),B=(C.flags&15990)!==0,(C.subtreeFlags&15990)!==0||B){B=ir.transition,ir.transition=null;var se=hn;hn=1;var xe=cn;cn|=4,ho.current=null,Jp(p,C),fb(p,C),z(p.containerInfo),p.current=C,Wa(C),sb(),cn=xe,hn=se,ir.transition=B}else p.current=C;if(Es&&(Es=!1,Fi=p,xu=I),B=p.pendingLanes,B===0&&(Ta=null),yc(C.stateNode),ui(p,Rr()),m!==null)for(w=p.onRecoverableError,C=0;C<m.length;C++)w(m[C]);if(Ms)throw Ms=!1,p=Aa,Aa=null,p;return(xu&1)!==0&&p.tag!==0&&Cs(),B=p.pendingLanes,(B&1)!==0?p===zh?po++:(po=0,zh=p):po=0,ya(),null}function Cs(){if(Fi!==null){var p=Oo(xu),m=ir.transition,w=hn;try{if(ir.transition=null,hn=16>p?16:p,Fi===null)var C=!1;else{if(p=Fi,Fi=null,xu=0,(cn&6)!==0)throw Error(o(331));var I=cn;for(cn|=4,ut=p.current;ut!==null;){var B=ut,se=B.child;if((ut.flags&16)!==0){var xe=B.deletions;if(xe!==null){for(var Be=0;Be<xe.length;Be++){var ot=xe[Be];for(ut=ot;ut!==null;){var Ct=ut;switch(Ct.tag){case 0:case 11:case 15:Vo(8,Ct,B)}var nn=Ct.child;if(nn!==null)nn.return=Ct,ut=nn;else for(;ut!==null;){Ct=ut;var Ht=Ct.sibling,Wn=Ct.return;if(Qp(Ct),Ct===ot){ut=null;break}if(Ht!==null){Ht.return=Wn,ut=Ht;break}ut=Wn}}}var St=B.alternate;if(St!==null){var On=St.child;if(On!==null){St.child=null;do{var aa=On.sibling;On.sibling=null,On=aa}while(On!==null)}}ut=B}}if((B.subtreeFlags&2064)!==0&&se!==null)se.return=B,ut=se;else e:for(;ut!==null;){if(B=ut,(B.flags&2048)!==0)switch(B.tag){case 0:case 11:case 15:Vo(9,B,B.return)}var Pe=B.sibling;if(Pe!==null){Pe.return=B.return,ut=Pe;break e}ut=B.return}}var Se=p.current;for(ut=Se;ut!==null;){se=ut;var De=se.child;if((se.subtreeFlags&2064)!==0&&De!==null)De.return=se,ut=De;else e:for(se=Se;ut!==null;){if(xe=ut,(xe.flags&2048)!==0)try{switch(xe.tag){case 0:case 11:case 15:ei(9,xe)}}catch(Lt){Ai(xe,xe.return,Lt)}if(xe===se){ut=null;break e}var xt=xe.sibling;if(xt!==null){xt.return=xe.return,ut=xt;break e}ut=xe.return}}if(cn=I,ya(),lo&&typeof lo.onPostCommitFiberRoot=="function")try{lo.onPostCommitFiberRoot(vc,p)}catch{}C=!0}return C}finally{hn=w,ir.transition=m}}return!1}function rm(p,m,w){m=qp(w,m),m=Jv(p,m,1),ps(p,m),m=Wr(),p=gl(p,1),p!==null&&(qs(p,1,m),ui(p,m))}function Ai(p,m,w){if(p.tag===3)rm(p,p,w);else for(;m!==null;){if(m.tag===3){rm(m,p,w);break}else if(m.tag===1){var C=m.stateNode;if(typeof m.type.getDerivedStateFromError=="function"||typeof C.componentDidCatch=="function"&&(Ta===null||!Ta.has(C))){p=qp(w,p),p=Th(m,p,1),ps(m,p),p=Wr(),m=gl(m,1),m!==null&&(qs(m,1,p),ui(m,p));break}}m=m.return}}function n0(p,m,w){var C=p.pingCache;C!==null&&C.delete(m),m=Wr(),p.pingedLanes|=p.suspendedLanes&w,cr===p&&(Gr&w)===w&&(Er===4||Er===3&&(Gr&130023424)===Gr&&500>Rr()-Bh?gr(p,0):pl|=w),ui(p,m)}function im(p,m){m===0&&((p.mode&1)===0?m=1:(m=En,En<<=1,(En&130023424)===0&&(En=4194304)));var w=Wr();p=gl(p,m),p!==null&&(qs(p,m,w),ui(p,w))}function r0(p){var m=p.memoizedState,w=0;m!==null&&(w=m.retryLane),im(p,w)}function Hc(p,m){var w=0;switch(p.tag){case 13:var C=p.stateNode,I=p.memoizedState;I!==null&&(w=I.retryLane);break;case 19:C=p.stateNode;break;default:throw Error(o(314))}C!==null&&C.delete(m),im(p,w)}var am;am=function(p,m,w){if(p!==null)if(p.memoizedProps!==m.pendingProps||Kt.current)Hr=!0;else{if((p.lanes&w)===0&&(m.flags&128)===0)return Hr=!1,Ih(p,m,w);Hr=(p.flags&131072)!==0}else Hr=!1,rr&&(m.flags&1048576)!==0&&Gv(m,hh,m.index);switch(m.lanes=0,m.tag){case 2:var C=m.type;p!==null&&(p.alternate=null,m.alternate=null,m.flags|=2),p=m.pendingProps;var I=Qn(m,Gt.current);Zl(m,w),I=ou(null,m,C,p,I,w);var B=ys();return m.flags|=1,typeof I=="object"&&I!==null&&typeof I.render=="function"&&I.$$typeof===void 0?(m.tag=1,m.memoizedState=null,m.updateQueue=null,Hn(C)?(B=!0,on(m)):B=!1,m.memoizedState=I.state!==null&&I.state!==void 0?I.state:null,Jl(m),I.updater=ch,m.stateNode=I,I._reactInternals=m,Ip(m,C,p,w),m=li(null,m,C,!0,B,w)):(m.tag=0,rr&&B&&Np(m),mr(null,m,I,w),m=m.child),m;case 16:C=m.elementType;e:{switch(p!==null&&(p.alternate=null,m.alternate=null,m.flags|=2),p=m.pendingProps,I=C._init,C=I(C._payload),m.type=C,I=m.tag=i0(C),p=Li(C,p),I){case 0:m=jo(null,m,C,p,w);break e;case 1:m=ll(null,m,C,p,w);break e;case 11:m=Kn(null,m,C,p,w);break e;case 14:m=Gn(null,m,C,Li(C.type,p),w);break e}throw Error(o(306,C,""))}return m;case 0:return C=m.type,I=m.pendingProps,I=m.elementType===C?I:Li(C,I),jo(p,m,C,I,w);case 1:return C=m.type,I=m.pendingProps,I=m.elementType===C?I:Li(C,I),ll(p,m,C,I,w);case 3:e:{if(Ic(m),p===null)throw Error(o(387));C=m.pendingProps,B=m.memoizedState,I=B.element,Pp(p,m),uh(m,C,null,w);var se=m.memoizedState;if(C=se.element,je&&B.isDehydrated)if(B={element:C,isDehydrated:!1,cache:se.cache,transitions:se.transitions},m.updateQueue.baseState=B,m.memoizedState=B,m.flags&256){I=Error(o(423)),m=Yp(p,m,C,w,I);break e}else if(C!==I){I=Error(o(424)),m=Yp(p,m,C,w,I);break e}else for(je&&(Jr=Ws(m.stateNode.containerInfo),xi=m,rr=!0,Sa=null,eu=!1),w=$v(m,null,C,w),m.child=w;w;)w.flags=w.flags&-3|4096,w=w.sibling;else{if(tu(),C===I){m=Ui(p,m,w);break e}mr(p,m,C,w)}m=m.child}return m;case 5:return Xv(m),p===null&&gs(m),C=m.type,I=m.pendingProps,B=p!==null?p.memoizedProps:null,se=I.children,Oe(C,I)?se=null:B!==null&&Oe(C,B)&&(m.flags|=32),_i(p,m),mr(p,m,se,w),m.child;case 6:return p===null&&gs(m),null;case 13:return Kp(p,m,w);case 4:return mh(m,m.stateNode.containerInfo),C=m.pendingProps,p===null?m.child=Do(m,null,C,w):mr(p,m,C,w),m.child;case 11:return C=m.type,I=m.pendingProps,I=m.elementType===C?I:Li(C,I),Kn(p,m,C,I,w);case 7:return mr(p,m,m.pendingProps,w),m.child;case 8:return mr(p,m,m.pendingProps.children,w),m.child;case 12:return mr(p,m,m.pendingProps.children,w),m.child;case 10:e:{if(C=m.type._context,I=m.pendingProps,B=m.memoizedProps,se=I.value,Ks(m,C,se),B!==null)if(vi(B.value,se)){if(B.children===I.children&&!Kt.current){m=Ui(p,m,w);break e}}else for(B=m.child,B!==null&&(B.return=m);B!==null;){var xe=B.dependencies;if(xe!==null){se=B.child;for(var Be=xe.firstContext;Be!==null;){if(Be.context===C){if(B.tag===1){Be=No(-1,w&-w),Be.tag=2;var ot=B.updateQueue;if(ot!==null){ot=ot.shared;var Ct=ot.pending;Ct===null?Be.next=Be:(Be.next=Ct.next,Ct.next=Be),ot.pending=Be}}B.lanes|=w,Be=B.alternate,Be!==null&&(Be.lanes|=w),Zs(B.return,w,m),xe.lanes|=w;break}Be=Be.next}}else if(B.tag===10)se=B.type===m.type?null:B.child;else if(B.tag===18){if(se=B.return,se===null)throw Error(o(341));se.lanes|=w,xe=se.alternate,xe!==null&&(xe.lanes|=w),Zs(se,w,m),se=B.sibling}else se=B.child;if(se!==null)se.return=B;else for(se=B;se!==null;){if(se===m){se=null;break}if(B=se.sibling,B!==null){B.return=se.return,se=B;break}se=se.return}B=se}mr(p,m,I.children,w),m=m.child}return m;case 9:return I=m.type,C=m.pendingProps.children,Zl(m,w),I=ki(I),C=C(I),m.flags|=1,mr(p,m,C,w),m.child;case 14:return C=m.type,I=Li(C,m.pendingProps),I=Li(C.type,I),Gn(p,m,C,I,w);case 15:return zo(p,m,m.type,m.pendingProps,w);case 17:return C=m.type,I=m.pendingProps,I=m.elementType===C?I:Li(C,I),p!==null&&(p.alternate=null,m.alternate=null,m.flags|=2),m.tag=1,Hn(C)?(p=!0,on(m)):p=!1,Zl(m,w),Hv(m,C,I),Ip(m,C,I,w),li(null,m,C,!0,p,w);case 19:return cl(p,m,w);case 22:return Qr(p,m,w)}throw Error(o(156,m.tag))};function Vc(p,m){return $s(p,m)}function Wh(p,m,w,C){this.tag=p,this.key=w,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=m,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=C,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ia(p,m,w,C){return new Wh(p,m,w,C)}function Gc(p){return p=p.prototype,!(!p||!p.isReactComponent)}function i0(p){if(typeof p=="function")return Gc(p)?1:0;if(p!=null){if(p=p.$$typeof,p===S)return 11;if(p===E)return 14}return 2}function $o(p,m){var w=p.alternate;return w===null?(w=ia(p.tag,m,p.key,p.mode),w.elementType=p.elementType,w.type=p.type,w.stateNode=p.stateNode,w.alternate=p,p.alternate=w):(w.pendingProps=m,w.type=p.type,w.flags=0,w.subtreeFlags=0,w.deletions=null),w.flags=p.flags&14680064,w.childLanes=p.childLanes,w.lanes=p.lanes,w.child=p.child,w.memoizedProps=p.memoizedProps,w.memoizedState=p.memoizedState,w.updateQueue=p.updateQueue,m=p.dependencies,w.dependencies=m===null?null:{lanes:m.lanes,firstContext:m.firstContext},w.sibling=p.sibling,w.index=p.index,w.ref=p.ref,w}function Wc(p,m,w,C,I,B){var se=2;if(C=p,typeof p=="function")Gc(p)&&(se=1);else if(typeof p=="string")se=5;else e:switch(p){case h:return Ps(w.children,I,B,m);case d:se=8,I|=8;break;case g:return p=ia(12,w,m,I|2),p.elementType=g,p.lanes=B,p;case x:return p=ia(13,w,m,I),p.elementType=x,p.lanes=B,p;case _:return p=ia(19,w,m,I),p.elementType=_,p.lanes=B,p;case T:return wu(w,I,B,m);default:if(typeof p=="object"&&p!==null)switch(p.$$typeof){case y:se=10;break e;case b:se=9;break e;case S:se=11;break e;case E:se=14;break e;case A:se=16,C=null;break e}throw Error(o(130,p==null?p:typeof p,""))}return m=ia(se,w,m,I),m.elementType=p,m.type=C,m.lanes=B,m}function Ps(p,m,w,C){return p=ia(7,p,C,m),p.lanes=w,p}function wu(p,m,w,C){return p=ia(22,p,C,m),p.elementType=T,p.lanes=w,p.stateNode={},p}function qh(p,m,w){return p=ia(6,p,null,m),p.lanes=w,p}function $h(p,m,w){return m=ia(4,p.children!==null?p.children:[],p.key,m),m.lanes=w,m.stateNode={containerInfo:p.containerInfo,pendingChildren:null,implementation:p.implementation},m}function a0(p,m,w,C,I){this.tag=m,this.containerInfo=p,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=Ue,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Qf(0),this.expirationTimes=Qf(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Qf(0),this.identifierPrefix=C,this.onRecoverableError=I,je&&(this.mutableSourceEagerHydrationData=null)}function o0(p,m,w,C,I,B,se,xe,Be){return p=new a0(p,m,w,xe,Be),m===1?(m=1,B===!0&&(m|=8)):m=0,B=ia(3,null,null,m),p.current=B,B.stateNode=p,B.memoizedState={element:C,isDehydrated:w,cache:null,transitions:null},Jl(B),p}function om(p){if(!p)return Xt;p=p._reactInternals;e:{if(D(p)!==p||p.tag!==1)throw Error(o(170));var m=p;do{switch(m.tag){case 3:m=m.stateNode.context;break e;case 1:if(Hn(m.type)){m=m.stateNode.__reactInternalMemoizedMergedChildContext;break e}}m=m.return}while(m!==null);throw Error(o(171))}if(p.tag===1){var w=p.type;if(Hn(w))return sr(p,w,m)}return m}function s0(p){var m=p._reactInternals;if(m===void 0)throw typeof p.render=="function"?Error(o(188)):(p=Object.keys(p).join(","),Error(o(268,p)));return p=q(m),p===null?null:p.stateNode}function l0(p,m){if(p=p.memoizedState,p!==null&&p.dehydrated!==null){var w=p.retryLane;p.retryLane=w!==0&&w<m?w:m}}function Xh(p,m){l0(p,m),(p=p.alternate)&&l0(p,m)}function u0(p){return p=q(p),p===null?null:p.stateNode}function c0(){return null}return t.attemptContinuousHydration=function(p){if(p.tag===13){var m=Wr();Bi(p,134217728,m),Xh(p,134217728)}},t.attemptHydrationAtCurrentPriority=function(p){if(p.tag===13){var m=Wr(),w=mo(p);Bi(p,w,m),Xh(p,w)}},t.attemptSynchronousHydration=function(p){switch(p.tag){case 3:var m=p.stateNode;if(m.current.memoizedState.isDehydrated){var w=Yl(m.pendingLanes);w!==0&&(so(m,w|1),ui(m,Rr()),(cn&6)===0&&(ml(),ya()))}break;case 13:var C=Wr();Su(function(){return Bi(p,1,C)}),Xh(p,1)}},t.batchedUpdates=function(p,m){var w=cn;cn|=1;try{return p(m)}finally{cn=w,cn===0&&(ml(),rh&&ya())}},t.createComponentSelector=function(p){return{$$typeof:pu,value:p}},t.createContainer=function(p,m,w,C,I,B,se){return o0(p,m,!1,null,w,C,I,B,se)},t.createHasPseudoClassSelector=function(p){return{$$typeof:mu,value:p}},t.createHydrationContainer=function(p,m,w,C,I,B,se,xe,Be){return p=o0(w,C,!0,p,I,B,se,xe,Be),p.context=om(null),w=p.current,C=Wr(),I=mo(w),B=No(C,I),B.callback=m??null,ps(w,B),p.current.lanes=I,qs(p,I,C),ui(p,C),p},t.createPortal=function(p,m,w){var C=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:c,key:C==null?null:""+C,children:p,containerInfo:m,implementation:w}},t.createRoleSelector=function(p){return{$$typeof:gu,value:p}},t.createTestNameSelector=function(p){return{$$typeof:Go,value:p}},t.createTextSelector=function(p){return{$$typeof:wi,value:p}},t.deferredUpdates=function(p){var m=hn,w=ir.transition;try{return ir.transition=null,hn=16,p()}finally{hn=m,ir.transition=w}},t.discreteUpdates=function(p,m,w,C,I){var B=hn,se=ir.transition;try{return ir.transition=null,hn=1,p(m,w,C,I)}finally{hn=B,ir.transition=se,cn===0&&ml()}},t.findAllNodes=Bc,t.findBoundingRects=function(p,m){if(!$)throw Error(o(363));m=Bc(p,m),p=[];for(var w=0;w<m.length;w++)p.push(Xe(m[w]));for(m=p.length-1;0<m;m--){w=p[m];for(var C=w.x,I=C+w.width,B=w.y,se=B+w.height,xe=m-1;0<=xe;xe--)if(m!==xe){var Be=p[xe],ot=Be.x,Ct=ot+Be.width,nn=Be.y,Ht=nn+Be.height;if(C>=ot&&B>=nn&&I<=Ct&&se<=Ht){p.splice(m,1);break}else if(C!==ot||w.width!==Be.width||Ht<B||nn>se){if(!(B!==nn||w.height!==Be.height||Ct<C||ot>I)){ot>C&&(Be.width+=ot-C,Be.x=C),Ct<I&&(Be.width=I-ot),p.splice(m,1);break}}else{nn>B&&(Be.height+=nn-B,Be.y=B),Ht<se&&(Be.height=se-nn),p.splice(m,1);break}}}return p},t.findHostInstance=s0,t.findHostInstanceWithNoPortals=function(p){return p=G(p),p=p!==null?H(p):null,p===null?null:p.stateNode},t.findHostInstanceWithWarning=function(p){return s0(p)},t.flushControlled=function(p){var m=cn;cn|=1;var w=ir.transition,C=hn;try{ir.transition=null,hn=1,p()}finally{hn=C,ir.transition=w,cn=m,cn===0&&(ml(),ya())}},t.flushPassiveEffects=Cs,t.flushSync=Su,t.focusWithin=function(p,m){if(!$)throw Error(o(363));for(p=Fc(p),m=Wo(p,m),m=Array.from(m),p=0;p<m.length;){var w=m[p++];if(!Ge(w)){if(w.tag===5&&ft(w.stateNode))return!0;for(w=w.child;w!==null;)m.push(w),w=w.sibling}}return!1},t.getCurrentUpdatePriority=function(){return hn},t.getFindAllNodesFailureDescription=function(p,m){if(!$)throw Error(o(363));var w=0,C=[];p=[Fc(p),0];for(var I=0;I<p.length;){var B=p[I++],se=p[I++],xe=m[se];if((B.tag!==5||!Ge(B))&&(Fh(B,xe)&&(C.push($a(xe)),se++,se>w&&(w=se)),se<m.length))for(B=B.child;B!==null;)p.push(B,se),B=B.sibling}if(w<m.length){for(p=[];w<m.length;w++)p.push($a(m[w]));return`findAllNodes was able to match part of the selector:
  `+(C.join(" > ")+`

No matching component was found for:
  `)+p.join(" > ")}return null},t.getPublicRootInstance=function(p){if(p=p.current,!p.child)return null;switch(p.child.tag){case 5:return Z(p.child.stateNode);default:return p.child.stateNode}},t.injectIntoDevTools=function(p){if(p={bundleType:p.bundleType,version:p.version,rendererPackageName:p.rendererPackageName,rendererConfig:p.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:s.ReactCurrentDispatcher,findHostInstanceByFiber:u0,findFiberByHostInstance:p.findFiberByHostInstance||c0,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.0.0-fc46dba67-20220329"},typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")p=!1;else{var m=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(m.isDisabled||!m.supportsFiber)p=!0;else{try{vc=m.inject(p),lo=m}catch{}p=!!m.checkDCE}}return p},t.isAlreadyRendering=function(){return!1},t.observeVisibleRects=function(p,m,w,C){if(!$)throw Error(o(363));p=Bc(p,m);var I=yt(p,w,C).disconnect;return{disconnect:function(){I()}}},t.registerMutableSourceForHydration=function(p,m){var w=m._getVersion;w=w(m._source),p.mutableSourceEagerHydrationData==null?p.mutableSourceEagerHydrationData=[m,w]:p.mutableSourceEagerHydrationData.push(m,w)},t.runWithPriority=function(p,m){var w=hn;try{return hn=p,m()}finally{hn=w}},t.shouldError=function(){return null},t.shouldSuspend=function(){return!1},t.updateContainer=function(p,m,w,C){var I=m.current,B=Wr(),se=mo(I);return w=om(w),m.context===null?m.context=w:m.pendingContext=w,m=No(B,se),m.payload={element:p},C=C===void 0?null:C,C!==null&&(m.callback=C),ps(I,m),p=Bi(I,se,B),p!==null&&sh(p,I,se),se},t}),R1}var UO;function j$(){return UO||(UO=1,T1.exports=z$()),T1.exports}var H$=j$();const V$=Xn(H$);var FO=pz();const G$=n=>typeof n=="object"&&typeof n.then=="function",bf=[];function mz(n,e,t=(r,i)=>r===i){if(n===e)return!0;if(!n||!e)return!1;const r=n.length;if(e.length!==r)return!1;for(let i=0;i<r;i++)if(!t(n[i],e[i]))return!1;return!0}function gz(n,e=null,t=!1,r={}){e===null&&(e=[n]);for(const a of bf)if(mz(e,a.keys,a.equal)){if(t)return;if(Object.prototype.hasOwnProperty.call(a,"error"))throw a.error;if(Object.prototype.hasOwnProperty.call(a,"response"))return r.lifespan&&r.lifespan>0&&(a.timeout&&clearTimeout(a.timeout),a.timeout=setTimeout(a.remove,r.lifespan)),a.response;if(!t)throw a.promise}const i={keys:e,equal:r.equal,remove:()=>{const a=bf.indexOf(i);a!==-1&&bf.splice(a,1)},promise:(G$(n)?n:n(...e)).then(a=>{i.response=a,r.lifespan&&r.lifespan>0&&(i.timeout=setTimeout(i.remove,r.lifespan))}).catch(a=>i.error=a)};if(bf.push(i),!t)throw i.promise}const W$=(n,e,t)=>gz(n,e,!1,t),q$=(n,e,t)=>void gz(n,e,!0,t),$$=n=>{if(n===void 0||n.length===0)bf.splice(0,bf.length);else{const e=bf.find(t=>mz(n,t.keys,t.equal));e&&e.remove()}},YC={},KC=n=>void Object.assign(YC,n);function X$(n,e){function t(h,{args:d=[],attach:g,...y},b){let S=`${h[0].toUpperCase()}${h.slice(1)}`,x;if(h==="primitive"){if(y.object===void 0)throw new Error("R3F: Primitives without 'object' are invalid!");const _=y.object;x=Ad(_,{type:h,root:b,attach:g,primitive:!0})}else{const _=YC[S];if(!_)throw new Error(`R3F: ${S} is not part of the THREE namespace! Did you forget to extend? See: https://docs.pmnd.rs/react-three-fiber/api/objects#using-3rd-party-objects-declaratively`);if(!Array.isArray(d))throw new Error("R3F: The args prop must be an array!");x=Ad(new _(...d),{type:h,root:b,attach:g,memoizedProps:{args:d}})}return x.__r3f.attach===void 0&&(x instanceof mn?x.__r3f.attach="geometry":x instanceof Ii&&(x.__r3f.attach="material")),S!=="inject"&&N1(x,y),x}function r(h,d){let g=!1;if(d){var y,b;(y=d.__r3f)!=null&&y.attach?I1(h,d,d.__r3f.attach):d.isObject3D&&h.isObject3D&&(h.add(d),g=!0),g||(b=h.__r3f)==null||b.objects.push(d),d.__r3f||Ad(d,{}),d.__r3f.parent=h,FA(d),Td(d)}}function i(h,d,g){let y=!1;if(d){var b,S;if((b=d.__r3f)!=null&&b.attach)I1(h,d,d.__r3f.attach);else if(d.isObject3D&&h.isObject3D){d.parent=h,d.dispatchEvent({type:"added"});const x=h.children.filter(E=>E!==d),_=x.indexOf(g);h.children=[...x.slice(0,_),d,...x.slice(_)],y=!0}y||(S=h.__r3f)==null||S.objects.push(d),d.__r3f||Ad(d,{}),d.__r3f.parent=h,FA(d),Td(d)}}function a(h,d,g=!1){h&&[...h].forEach(y=>o(d,y,g))}function o(h,d,g){if(d){var y,b,S;if(d.__r3f&&(d.__r3f.parent=null),(y=h.__r3f)!=null&&y.objects&&(h.__r3f.objects=h.__r3f.objects.filter(T=>T!==d)),(b=d.__r3f)!=null&&b.attach)VO(h,d,d.__r3f.attach);else if(d.isObject3D&&h.isObject3D){var x;h.remove(d),(x=d.__r3f)!=null&&x.root&&tX(Qy(d),d)}const E=(S=d.__r3f)==null?void 0:S.primitive,A=!E&&(g===void 0?d.dispose!==null:g);if(!E){var _;a((_=d.__r3f)==null?void 0:_.objects,d,A),a(d.children,d,A)}if(delete d.__r3f,A&&d.dispose&&d.type!=="Scene"){const T=()=>{try{d.dispose()}catch{}};typeof IS_REACT_ACT_ENVIRONMENT>"u"?FO.unstable_scheduleCallback(FO.unstable_IdlePriority,T):T()}Td(h)}}function s(h,d,g,y){var b;const S=(b=h.__r3f)==null?void 0:b.parent;if(!S)return;const x=t(d,g,h.__r3f.root);if(h.children){for(const _ of h.children)_.__r3f&&r(x,_);h.children=h.children.filter(_=>!_.__r3f)}h.__r3f.objects.forEach(_=>r(x,_)),h.__r3f.objects=[],h.__r3f.autoRemovedBeforeAppend||o(S,h),x.parent&&(x.__r3f.autoRemovedBeforeAppend=!0),r(S,x),x.raycast&&x.__r3f.eventCount&&Qy(x).getState().internal.interaction.push(x),[y,y.alternate].forEach(_=>{_!==null&&(_.stateNode=x,_.ref&&(typeof _.ref=="function"?_.ref(x):_.ref.current=x))})}const u=()=>console.warn("Text is not allowed in the R3F tree! This could be stray whitespace or characters.");return{reconciler:V$({createInstance:t,removeChild:o,appendChild:r,appendInitialChild:r,insertBefore:i,supportsMutation:!0,isPrimaryRenderer:!1,supportsPersistence:!1,supportsHydration:!1,noTimeout:-1,appendChildToContainer:(h,d)=>{if(!d)return;const g=h.getState().scene;g.__r3f&&(g.__r3f.root=h,r(g,d))},removeChildFromContainer:(h,d)=>{d&&o(h.getState().scene,d)},insertInContainerBefore:(h,d,g)=>{if(!d||!g)return;const y=h.getState().scene;y.__r3f&&i(y,d,g)},getRootHostContext:()=>null,getChildHostContext:h=>h,finalizeInitialChildren(h){var d;return!!((d=h==null?void 0:h.__r3f)!=null?d:{}).handlers},prepareUpdate(h,d,g,y){var b;if(((b=h==null?void 0:h.__r3f)!=null?b:{}).primitive&&y.object&&y.object!==h)return[!0];{const{args:x=[],children:_,...E}=y,{args:A=[],children:T,...P}=g;if(!Array.isArray(x))throw new Error("R3F: the args prop must be an array!");if(x.some((N,F)=>N!==A[F]))return[!0];const O=wz(h,E,P,!0);return O.changes.length?[!1,O]:null}},commitUpdate(h,[d,g],y,b,S,x){d?s(h,y,S,x):N1(h,g)},commitMount(h,d,g,y){var b;const S=(b=h.__r3f)!=null?b:{};h.raycast&&S.handlers&&S.eventCount&&Qy(h).getState().internal.interaction.push(h)},getPublicInstance:h=>h,prepareForCommit:()=>null,preparePortalMount:h=>Ad(h.getState().scene),resetAfterCommit:()=>{},shouldSetTextContent:()=>!1,clearContainer:()=>!1,hideInstance(h){var d;const{attach:g,parent:y}=(d=h.__r3f)!=null?d:{};g&&y&&VO(y,h,g),h.isObject3D&&(h.visible=!1),Td(h)},unhideInstance(h,d){var g;const{attach:y,parent:b}=(g=h.__r3f)!=null?g:{};y&&b&&I1(b,h,y),(h.isObject3D&&d.visible==null||d.visible)&&(h.visible=!0),Td(h)},createTextInstance:u,hideTextInstance:u,unhideTextInstance:u,getCurrentEventPriority:()=>e?e():Nd.DefaultEventPriority,beforeActiveInstanceBlur:()=>{},afterActiveInstanceBlur:()=>{},detachDeletedInstance:()=>{},now:typeof performance<"u"&&fr.fun(performance.now)?performance.now:fr.fun(Date.now)?Date.now:()=>0,scheduleTimeout:fr.fun(setTimeout)?setTimeout:void 0,cancelTimeout:fr.fun(clearTimeout)?clearTimeout:void 0}),applyProps:N1}}var BO,zO;const O1=n=>"colorSpace"in n||"outputColorSpace"in n,vz=()=>{var n;return(n=YC.ColorManagement)!=null?n:null},yz=n=>n&&n.isOrthographicCamera,Y$=n=>n&&n.hasOwnProperty("current"),Ev=typeof window<"u"&&((BO=window.document)!=null&&BO.createElement||((zO=window.navigator)==null?void 0:zO.product)==="ReactNative")?ee.useLayoutEffect:ee.useEffect;function xz(n){const e=ee.useRef(n);return Ev(()=>void(e.current=n),[n]),e}function K$({set:n}){return Ev(()=>(n(new Promise(()=>null)),()=>n(!1)),[n]),null}let _z=class extends ee.Component{constructor(...e){super(...e),this.state={error:!1}}componentDidCatch(e){this.props.set(e)}render(){return this.state.error?null:this.props.children}};_z.getDerivedStateFromError=()=>({error:!0});const bz="__default",jO=new Map,Z$=n=>n&&!!n.memoized&&!!n.changes;function Sz(n){var e;const t=typeof window<"u"?(e=window.devicePixelRatio)!=null?e:2:1;return Array.isArray(n)?Math.min(Math.max(n[0],t),n[1]):n}const Em=n=>{var e;return(e=n.__r3f)==null?void 0:e.root.getState()};function Qy(n){let e=n.__r3f.root;for(;e.getState().previousRoot;)e=e.getState().previousRoot;return e}const fr={obj:n=>n===Object(n)&&!fr.arr(n)&&typeof n!="function",fun:n=>typeof n=="function",str:n=>typeof n=="string",num:n=>typeof n=="number",boo:n=>typeof n=="boolean",und:n=>n===void 0,arr:n=>Array.isArray(n),equ(n,e,{arrays:t="shallow",objects:r="reference",strict:i=!0}={}){if(typeof n!=typeof e||!!n!=!!e)return!1;if(fr.str(n)||fr.num(n))return n===e;const a=fr.obj(n);if(a&&r==="reference")return n===e;const o=fr.arr(n);if(o&&t==="reference")return n===e;if((o||a)&&n===e)return!0;let s;for(s in n)if(!(s in e))return!1;if(a&&t==="shallow"&&r==="shallow"){for(s in i?e:n)if(!fr.equ(n[s],e[s],{strict:i,objects:"reference"}))return!1}else for(s in i?e:n)if(n[s]!==e[s])return!1;if(fr.und(s)){if(o&&n.length===0&&e.length===0||a&&Object.keys(n).length===0&&Object.keys(e).length===0)return!0;if(n!==e)return!1}return!0}};function J$(n){const e={nodes:{},materials:{}};return n&&n.traverse(t=>{t.name&&(e.nodes[t.name]=t),t.material&&!e.materials[t.material.name]&&(e.materials[t.material.name]=t.material)}),e}function Q$(n){n.dispose&&n.type!=="Scene"&&n.dispose();for(const e in n)e.dispose==null||e.dispose(),delete n[e]}function Ad(n,e){const t=n;return t.__r3f={type:"",root:null,previousAttach:null,memoizedProps:{},eventCount:0,handlers:{},objects:[],parent:null,...e},n}function UA(n,e){let t=n;if(e.includes("-")){const r=e.split("-"),i=r.pop();return t=r.reduce((a,o)=>a[o],n),{target:t,key:i}}else return{target:t,key:e}}const HO=/-\d+$/;function I1(n,e,t){if(fr.str(t)){if(HO.test(t)){const a=t.replace(HO,""),{target:o,key:s}=UA(n,a);Array.isArray(o[s])||(o[s]=[])}const{target:r,key:i}=UA(n,t);e.__r3f.previousAttach=r[i],r[i]=e}else e.__r3f.previousAttach=t(n,e)}function VO(n,e,t){var r,i;if(fr.str(t)){const{target:a,key:o}=UA(n,t),s=e.__r3f.previousAttach;s===void 0?delete a[o]:a[o]=s}else(r=e.__r3f)==null||r.previousAttach==null||r.previousAttach(n,e);(i=e.__r3f)==null||delete i.previousAttach}function wz(n,{children:e,key:t,ref:r,...i},{children:a,key:o,ref:s,...u}={},c=!1){var h;const d=(h=n==null?void 0:n.__r3f)!=null?h:{},g=Object.entries(i),y=[];if(c){const S=Object.keys(u);for(let x=0;x<S.length;x++)i.hasOwnProperty(S[x])||g.unshift([S[x],bz+"remove"])}g.forEach(([S,x])=>{var _;if((_=n.__r3f)!=null&&_.primitive&&S==="object"||fr.equ(x,u[S]))return;if(/^on(Pointer|Click|DoubleClick|ContextMenu|Wheel)/.test(S))return y.push([S,x,!0,[]]);let E=[];S.includes("-")&&(E=S.split("-")),y.push([S,x,!1,E]);for(const A in i){const T=i[A];A.startsWith(`${S}-`)&&y.push([A,T,!1,A.split("-")])}});const b={...i};return d.memoizedProps&&d.memoizedProps.args&&(b.args=d.memoizedProps.args),d.memoizedProps&&d.memoizedProps.attach&&(b.attach=d.memoizedProps.attach),{memoized:b,changes:y}}function N1(n,e){var t,r,i;const a=(t=n.__r3f)!=null?t:{},o=a.root,s=(r=o==null||o.getState==null?void 0:o.getState())!=null?r:{},{memoized:u,changes:c}=Z$(e)?e:wz(n,e),h=a.eventCount;n.__r3f&&(n.__r3f.memoizedProps=u);for(let g=0;g<c.length;g++){let[y,b,S,x]=c[g];if(O1(n)){const T="srgb",P="srgb-linear";y==="encoding"?(y="colorSpace",b=b===3001?T:P):y==="outputEncoding"&&(y="outputColorSpace",b=b===3001?T:P)}let _=n,E=_[y];if(x.length&&(E=x.reduce((A,T)=>A[T],n),!(E&&E.set))){const[A,...T]=x.reverse();_=T.reverse().reduce((P,O)=>P[O],n),y=A}if(b===bz+"remove")if(_.constructor){let A=jO.get(_.constructor);A||(A=new _.constructor,jO.set(_.constructor,A)),b=A[y]}else b=0;if(S)b?a.handlers[y]=b:delete a.handlers[y],a.eventCount=Object.keys(a.handlers).length;else if(E&&E.set&&(E.copy||E instanceof Pf)){if(Array.isArray(b))E.fromArray?E.fromArray(b):E.set(...b);else if(E.copy&&b&&b.constructor&&E.constructor===b.constructor)E.copy(b);else if(b!==void 0){const A=E instanceof wt;!A&&E.setScalar?E.setScalar(b):E instanceof Pf&&b instanceof Pf?E.mask=b.mask:E.set(b),!vz()&&!s.linear&&A&&E.convertSRGBToLinear()}}else if(_[y]=b,_[y]instanceof Mr&&_[y].format===Ki&&_[y].type===Ds){const A=_[y];O1(A)&&O1(s.gl)?A.colorSpace=s.gl.outputColorSpace:A.encoding=s.gl.outputEncoding}Td(n)}if(a.parent&&n.raycast&&h!==a.eventCount){const g=Qy(n).getState().internal,y=g.interaction.indexOf(n);y>-1&&g.interaction.splice(y,1),a.eventCount&&g.interaction.push(n)}return!(c.length===1&&c[0][0]==="onUpdate")&&c.length&&(i=n.__r3f)!=null&&i.parent&&FA(n),n}function Td(n){var e,t;const r=(e=n.__r3f)==null||(t=e.root)==null||t.getState==null?void 0:t.getState();r&&r.internal.frames===0&&r.invalidate()}function FA(n){n.onUpdate==null||n.onUpdate(n)}function Mz(n,e){n.manual||(yz(n)?(n.left=e.width/-2,n.right=e.width/2,n.top=e.height/2,n.bottom=e.height/-2):n.aspect=e.width/e.height,n.updateProjectionMatrix(),n.updateMatrixWorld())}function Ty(n){return(n.eventObject||n.object).uuid+"/"+n.index+n.instanceId}function eX(){var n;const e=typeof self<"u"&&self||typeof window<"u"&&window;if(!e)return Nd.DefaultEventPriority;switch((n=e.event)==null?void 0:n.type){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return Nd.DiscreteEventPriority;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return Nd.ContinuousEventPriority;default:return Nd.DefaultEventPriority}}function Ez(n,e,t,r){const i=t.get(e);i&&(t.delete(e),t.size===0&&(n.delete(r),i.target.releasePointerCapture(r)))}function tX(n,e){const{internal:t}=n.getState();t.interaction=t.interaction.filter(r=>r!==e),t.initialHits=t.initialHits.filter(r=>r!==e),t.hovered.forEach((r,i)=>{(r.eventObject===e||r.object===e)&&t.hovered.delete(i)}),t.capturedMap.forEach((r,i)=>{Ez(t.capturedMap,e,r,i)})}function nX(n){function e(u){const{internal:c}=n.getState(),h=u.offsetX-c.initialClick[0],d=u.offsetY-c.initialClick[1];return Math.round(Math.sqrt(h*h+d*d))}function t(u){return u.filter(c=>["Move","Over","Enter","Out","Leave"].some(h=>{var d;return(d=c.__r3f)==null?void 0:d.handlers["onPointer"+h]}))}function r(u,c){const h=n.getState(),d=new Set,g=[],y=c?c(h.internal.interaction):h.internal.interaction;for(let _=0;_<y.length;_++){const E=Em(y[_]);E&&(E.raycaster.camera=void 0)}h.previousRoot||h.events.compute==null||h.events.compute(u,h);function b(_){const E=Em(_);if(!E||!E.events.enabled||E.raycaster.camera===null)return[];if(E.raycaster.camera===void 0){var A;E.events.compute==null||E.events.compute(u,E,(A=E.previousRoot)==null?void 0:A.getState()),E.raycaster.camera===void 0&&(E.raycaster.camera=null)}return E.raycaster.camera?E.raycaster.intersectObject(_,!0):[]}let S=y.flatMap(b).sort((_,E)=>{const A=Em(_.object),T=Em(E.object);return!A||!T?_.distance-E.distance:T.events.priority-A.events.priority||_.distance-E.distance}).filter(_=>{const E=Ty(_);return d.has(E)?!1:(d.add(E),!0)});h.events.filter&&(S=h.events.filter(S,h));for(const _ of S){let E=_.object;for(;E;){var x;(x=E.__r3f)!=null&&x.eventCount&&g.push({..._,eventObject:E}),E=E.parent}}if("pointerId"in u&&h.internal.capturedMap.has(u.pointerId))for(let _ of h.internal.capturedMap.get(u.pointerId).values())d.has(Ty(_.intersection))||g.push(_.intersection);return g}function i(u,c,h,d){const g=n.getState();if(u.length){const y={stopped:!1};for(const b of u){const S=Em(b.object)||g,{raycaster:x,pointer:_,camera:E,internal:A}=S,T=new ie(_.x,_.y,0).unproject(E),P=U=>{var G,q;return(G=(q=A.capturedMap.get(U))==null?void 0:q.has(b.eventObject))!=null?G:!1},O=U=>{const G={intersection:b,target:c.target};A.capturedMap.has(U)?A.capturedMap.get(U).set(b.eventObject,G):A.capturedMap.set(U,new Map([[b.eventObject,G]])),c.target.setPointerCapture(U)},N=U=>{const G=A.capturedMap.get(U);G&&Ez(A.capturedMap,b.eventObject,G,U)};let F={};for(let U in c){let G=c[U];typeof G!="function"&&(F[U]=G)}let D={...b,...F,pointer:_,intersections:u,stopped:y.stopped,delta:h,unprojectedPoint:T,ray:x.ray,camera:E,stopPropagation(){const U="pointerId"in c&&A.capturedMap.get(c.pointerId);if((!U||U.has(b.eventObject))&&(D.stopped=y.stopped=!0,A.hovered.size&&Array.from(A.hovered.values()).find(G=>G.eventObject===b.eventObject))){const G=u.slice(0,u.indexOf(b));a([...G,b])}},target:{hasPointerCapture:P,setPointerCapture:O,releasePointerCapture:N},currentTarget:{hasPointerCapture:P,setPointerCapture:O,releasePointerCapture:N},nativeEvent:c};if(d(D),y.stopped===!0)break}}return u}function a(u){const{internal:c}=n.getState();for(const h of c.hovered.values())if(!u.length||!u.find(d=>d.object===h.object&&d.index===h.index&&d.instanceId===h.instanceId)){const g=h.eventObject.__r3f,y=g==null?void 0:g.handlers;if(c.hovered.delete(Ty(h)),g!=null&&g.eventCount){const b={...h,intersections:u};y.onPointerOut==null||y.onPointerOut(b),y.onPointerLeave==null||y.onPointerLeave(b)}}}function o(u,c){for(let h=0;h<c.length;h++){const d=c[h].__r3f;d==null||d.handlers.onPointerMissed==null||d.handlers.onPointerMissed(u)}}function s(u){switch(u){case"onPointerLeave":case"onPointerCancel":return()=>a([]);case"onLostPointerCapture":return c=>{const{internal:h}=n.getState();"pointerId"in c&&h.capturedMap.has(c.pointerId)&&requestAnimationFrame(()=>{h.capturedMap.has(c.pointerId)&&(h.capturedMap.delete(c.pointerId),a([]))})}}return function(h){const{onPointerMissed:d,internal:g}=n.getState();g.lastEvent.current=h;const y=u==="onPointerMove",b=u==="onClick"||u==="onContextMenu"||u==="onDoubleClick",x=r(h,y?t:void 0),_=b?e(h):0;u==="onPointerDown"&&(g.initialClick=[h.offsetX,h.offsetY],g.initialHits=x.map(A=>A.eventObject)),b&&!x.length&&_<=2&&(o(h,g.interaction),d&&d(h)),y&&a(x);function E(A){const T=A.eventObject,P=T.__r3f,O=P==null?void 0:P.handlers;if(P!=null&&P.eventCount)if(y){if(O.onPointerOver||O.onPointerEnter||O.onPointerOut||O.onPointerLeave){const N=Ty(A),F=g.hovered.get(N);F?F.stopped&&A.stopPropagation():(g.hovered.set(N,A),O.onPointerOver==null||O.onPointerOver(A),O.onPointerEnter==null||O.onPointerEnter(A))}O.onPointerMove==null||O.onPointerMove(A)}else{const N=O[u];N?(!b||g.initialHits.includes(T))&&(o(h,g.interaction.filter(F=>!g.initialHits.includes(F))),N(A)):b&&g.initialHits.includes(T)&&o(h,g.interaction.filter(F=>!g.initialHits.includes(F)))}}i(x,h,_,E)}}return{handlePointer:s}}const rX=["set","get","setSize","setFrameloop","setDpr","events","invalidate","advance","size","viewport"],Az=n=>!!(n!=null&&n.render),ZC=ee.createContext(null),iX=(n,e)=>{const t=dz((s,u)=>{const c=new ie,h=new ie,d=new ie;function g(_=u().camera,E=h,A=u().size){const{width:T,height:P,top:O,left:N}=A,F=T/P;E instanceof ie?d.copy(E):d.set(...E);const D=_.getWorldPosition(c).distanceTo(d);if(yz(_))return{width:T/_.zoom,height:P/_.zoom,top:O,left:N,factor:1,distance:D,aspect:F};{const U=_.fov*Math.PI/180,G=2*Math.tan(U/2)*D,q=G*(T/P);return{width:q,height:G,top:O,left:N,factor:T/q,distance:D,aspect:F}}}let y;const b=_=>s(E=>({performance:{...E.performance,current:_}})),S=new Ve;return{set:s,get:u,gl:null,camera:null,raycaster:null,events:{priority:1,enabled:!0,connected:!1},xr:null,scene:null,invalidate:(_=1)=>n(u(),_),advance:(_,E)=>e(_,E,u()),legacy:!1,linear:!1,flat:!1,controls:null,clock:new GC,pointer:S,mouse:S,frameloop:"always",onPointerMissed:void 0,performance:{current:1,min:.5,max:1,debounce:200,regress:()=>{const _=u();y&&clearTimeout(y),_.performance.current!==_.performance.min&&b(_.performance.min),y=setTimeout(()=>b(u().performance.max),_.performance.debounce)}},size:{width:0,height:0,top:0,left:0,updateStyle:!1},viewport:{initialDpr:0,dpr:0,width:0,height:0,top:0,left:0,aspect:0,distance:0,factor:0,getCurrentViewport:g},setEvents:_=>s(E=>({...E,events:{...E.events,..._}})),setSize:(_,E,A,T,P)=>{const O=u().camera,N={width:_,height:E,top:T||0,left:P||0,updateStyle:A};s(F=>({size:N,viewport:{...F.viewport,...g(O,h,N)}}))},setDpr:_=>s(E=>{const A=Sz(_);return{viewport:{...E.viewport,dpr:A,initialDpr:E.viewport.initialDpr||A}}}),setFrameloop:(_="always")=>{const E=u().clock;E.stop(),E.elapsedTime=0,_!=="never"&&(E.start(),E.elapsedTime=0),s(()=>({frameloop:_}))},previousRoot:void 0,internal:{active:!1,priority:0,frames:0,lastEvent:ee.createRef(),interaction:[],hovered:new Map,subscribers:[],initialClick:[0,0],initialHits:[],capturedMap:new Map,subscribe:(_,E,A)=>{const T=u().internal;return T.priority=T.priority+(E>0?1:0),T.subscribers.push({ref:_,priority:E,store:A}),T.subscribers=T.subscribers.sort((P,O)=>P.priority-O.priority),()=>{const P=u().internal;P!=null&&P.subscribers&&(P.priority=P.priority-(E>0?1:0),P.subscribers=P.subscribers.filter(O=>O.ref!==_))}}}}}),r=t.getState();let i=r.size,a=r.viewport.dpr,o=r.camera;return t.subscribe(()=>{const{camera:s,size:u,viewport:c,gl:h,set:d}=t.getState();if(u.width!==i.width||u.height!==i.height||c.dpr!==a){var g;i=u,a=c.dpr,Mz(s,u),h.setPixelRatio(c.dpr);const y=(g=u.updateStyle)!=null?g:typeof HTMLCanvasElement<"u"&&h.domElement instanceof HTMLCanvasElement;h.setSize(u.width,u.height,y)}s!==o&&(o=s,d(y=>({viewport:{...y.viewport,...y.viewport.getCurrentViewport(s)}})))}),t.subscribe(s=>n(s)),t};let Cy,aX=new Set,oX=new Set,sX=new Set;function L1(n,e){if(n.size)for(const{callback:t}of n.values())t(e)}function Am(n,e){switch(n){case"before":return L1(aX,e);case"after":return L1(oX,e);case"tail":return L1(sX,e)}}let k1,D1;function U1(n,e,t){let r=e.clock.getDelta();for(e.frameloop==="never"&&typeof n=="number"&&(r=n-e.clock.elapsedTime,e.clock.oldTime=e.clock.elapsedTime,e.clock.elapsedTime=n),k1=e.internal.subscribers,Cy=0;Cy<k1.length;Cy++)D1=k1[Cy],D1.ref.current(D1.store.getState(),r,t);return!e.internal.priority&&e.gl.render&&e.gl.render(e.scene,e.camera),e.internal.frames=Math.max(0,e.internal.frames-1),e.frameloop==="always"?1:e.internal.frames}function lX(n){let e=!1,t,r,i;function a(u){r=requestAnimationFrame(a),e=!0,t=0,Am("before",u);for(const h of n.values()){var c;i=h.store.getState(),i.internal.active&&(i.frameloop==="always"||i.internal.frames>0)&&!((c=i.gl.xr)!=null&&c.isPresenting)&&(t+=U1(u,i))}if(Am("after",u),t===0)return Am("tail",u),e=!1,cancelAnimationFrame(r)}function o(u,c=1){var h;if(!u)return n.forEach(d=>o(d.store.getState()),c);(h=u.gl.xr)!=null&&h.isPresenting||!u.internal.active||u.frameloop==="never"||(u.internal.frames=Math.min(60,u.internal.frames+c),e||(e=!0,requestAnimationFrame(a)))}function s(u,c=!0,h,d){if(c&&Am("before",u),h)U1(u,h,d);else for(const g of n.values())U1(u,g.store.getState());c&&Am("after",u)}return{loop:a,invalidate:o,advance:s}}function JC(){const n=ee.useContext(ZC);if(!n)throw new Error("R3F: Hooks can only be used within the Canvas component!");return n}function fa(n=t=>t,e){return JC()(n,e)}function qf(n,e=0){const t=JC(),r=t.getState().internal.subscribe,i=xz(n);return Ev(()=>r(i,e,t),[e,r,t]),null}const GO=new WeakMap;function Tz(n,e){return function(t,...r){let i=GO.get(t);return i||(i=new t,GO.set(t,i)),n&&n(i),Promise.all(r.map(a=>new Promise((o,s)=>i.load(a,u=>{u.scene&&Object.assign(u,J$(u.scene)),o(u)},e,u=>s(new Error(`Could not load ${a}: ${u==null?void 0:u.message}`)))))).finally(()=>i.dispose==null?void 0:i.dispose())}}function gp(n,e,t,r){const i=Array.isArray(e)?e:[e],a=W$(Tz(t,r),[n,...i],{equal:fr.equ});return Array.isArray(e)?a:a[0]}gp.preload=function(n,e,t){const r=Array.isArray(e)?e:[e];return q$(Tz(t),[n,...r])};gp.clear=function(n,e){const t=Array.isArray(e)?e:[e];return $$([n,...t])};const Wd=new Map,{invalidate:WO,advance:qO}=lX(Wd),{reconciler:Eg,applyProps:_d}=X$(Wd,eX),bd={objects:"shallow",strict:!1},uX=(n,e)=>{const t=typeof n=="function"?n(e):n;return Az(t)?t:new AC({powerPreference:"high-performance",canvas:e,antialias:!0,alpha:!0,...n})};function cX(n,e){const t=typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement;if(e){const{width:r,height:i,top:a,left:o,updateStyle:s=t}=e;return{width:r,height:i,top:a,left:o,updateStyle:s}}else if(typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement&&n.parentElement){const{width:r,height:i,top:a,left:o}=n.parentElement.getBoundingClientRect();return{width:r,height:i,top:a,left:o,updateStyle:t}}else if(typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas)return{width:n.width,height:n.height,top:0,left:0,updateStyle:t};return{width:0,height:0,top:0,left:0}}function fX(n){const e=Wd.get(n),t=e==null?void 0:e.fiber,r=e==null?void 0:e.store;e&&console.warn("R3F.createRoot should only be called once!");const i=typeof reportError=="function"?reportError:console.error,a=r||iX(WO,qO),o=t||Eg.createContainer(a,Nd.ConcurrentRoot,null,!1,null,"",i,null);e||Wd.set(n,{fiber:o,store:a});let s,u=!1,c;return{configure(h={}){let{gl:d,size:g,scene:y,events:b,onCreated:S,shadows:x=!1,linear:_=!1,flat:E=!1,legacy:A=!1,orthographic:T=!1,frameloop:P="always",dpr:O=[1,2],performance:N,raycaster:F,camera:D,onPointerMissed:U}=h,G=a.getState(),q=G.gl;G.gl||G.set({gl:q=uX(d,n)});let Q=G.raycaster;Q||G.set({raycaster:Q=new XC});const{params:H,...te}=F||{};if(fr.equ(te,Q,bd)||_d(Q,{...te}),fr.equ(H,Q.params,bd)||_d(Q,{params:{...Q.params,...H}}),!G.camera||G.camera===c&&!fr.equ(c,D,bd)){c=D;const le=D instanceof vv,ce=le?D:T?new Ju(0,0,0,0,.1,1e3):new Dr(75,0,.1,1e3);le||(ce.position.z=5,D&&_d(ce,D),!G.camera&&!(D!=null&&D.rotation)&&ce.lookAt(0,0,0)),G.set({camera:ce}),Q.camera=ce}if(!G.scene){let le;y instanceof gg?le=y:(le=new gg,y&&_d(le,y)),G.set({scene:Ad(le)})}if(!G.xr){var Z;const le=(Oe,ke)=>{const He=a.getState();He.frameloop!=="never"&&qO(Oe,!0,He,ke)},ce=()=>{const Oe=a.getState();Oe.gl.xr.enabled=Oe.gl.xr.isPresenting,Oe.gl.xr.setAnimationLoop(Oe.gl.xr.isPresenting?le:null),Oe.gl.xr.isPresenting||WO(Oe)},be={connect(){const Oe=a.getState().gl;Oe.xr.addEventListener("sessionstart",ce),Oe.xr.addEventListener("sessionend",ce)},disconnect(){const Oe=a.getState().gl;Oe.xr.removeEventListener("sessionstart",ce),Oe.xr.removeEventListener("sessionend",ce)}};typeof((Z=q.xr)==null?void 0:Z.addEventListener)=="function"&&be.connect(),G.set({xr:be})}if(q.shadowMap){const le=q.shadowMap.enabled,ce=q.shadowMap.type;if(q.shadowMap.enabled=!!x,fr.boo(x))q.shadowMap.type=Gm;else if(fr.str(x)){var he;const be={basic:oF,percentage:a_,soft:Gm,variance:ns};q.shadowMap.type=(he=be[x])!=null?he:Gm}else fr.obj(x)&&Object.assign(q.shadowMap,x);(le!==q.shadowMap.enabled||ce!==q.shadowMap.type)&&(q.shadowMap.needsUpdate=!0)}const X=vz();X&&("enabled"in X?X.enabled=!A:"legacyMode"in X&&(X.legacyMode=A)),_d(q,{outputEncoding:_?3e3:3001,toneMapping:E?ks:rC}),G.legacy!==A&&G.set(()=>({legacy:A})),G.linear!==_&&G.set(()=>({linear:_})),G.flat!==E&&G.set(()=>({flat:E})),d&&!fr.fun(d)&&!Az(d)&&!fr.equ(d,q,bd)&&_d(q,d),b&&!G.events.handlers&&G.set({events:b(a)});const re=cX(n,g);return fr.equ(re,G.size,bd)||G.setSize(re.width,re.height,re.updateStyle,re.top,re.left),O&&G.viewport.dpr!==Sz(O)&&G.setDpr(O),G.frameloop!==P&&G.setFrameloop(P),G.onPointerMissed||G.set({onPointerMissed:U}),N&&!fr.equ(N,G.performance,bd)&&G.set(le=>({performance:{...le.performance,...N}})),s=S,u=!0,this},render(h){return u||this.configure(),Eg.updateContainer(ee.createElement(hX,{store:a,children:h,onCreated:s,rootElement:n}),o,null,()=>{}),a},unmount(){Cz(n)}}}function hX({store:n,children:e,onCreated:t,rootElement:r}){return Ev(()=>{const i=n.getState();i.set(a=>({internal:{...a.internal,active:!0}})),t&&t(i),n.getState().events.connected||i.events.connect==null||i.events.connect(r)},[]),ee.createElement(ZC.Provider,{value:n},e)}function Cz(n,e){const t=Wd.get(n),r=t==null?void 0:t.fiber;if(r){const i=t==null?void 0:t.store.getState();i&&(i.internal.active=!1),Eg.updateContainer(null,r,null,()=>{i&&setTimeout(()=>{try{var a,o,s,u;i.events.disconnect==null||i.events.disconnect(),(a=i.gl)==null||(o=a.renderLists)==null||o.dispose==null||o.dispose(),(s=i.gl)==null||s.forceContextLoss==null||s.forceContextLoss(),(u=i.gl)!=null&&u.xr&&i.xr.disconnect(),Q$(i),Wd.delete(n)}catch{}},500)})}}function dX(n,e,t){return ee.createElement(pX,{key:e.uuid,children:n,container:e,state:t})}function pX({state:n={},children:e,container:t}){const{events:r,size:i,...a}=n,o=JC(),[s]=ee.useState(()=>new XC),[u]=ee.useState(()=>new Ve),c=ee.useCallback((d,g)=>{const y={...d};Object.keys(d).forEach(S=>{(rX.includes(S)||d[S]!==g[S]&&g[S])&&delete y[S]});let b;if(g&&i){const S=g.camera;b=d.viewport.getCurrentViewport(S,new ie,i),S!==d.camera&&Mz(S,i)}return{...y,scene:t,raycaster:s,pointer:u,mouse:u,previousRoot:o,events:{...d.events,...g==null?void 0:g.events,...r},size:{...d.size,...i},viewport:{...d.viewport,...b},...a}},[n]),[h]=ee.useState(()=>{const d=o.getState();return dz((y,b)=>({...d,scene:t,raycaster:s,pointer:u,mouse:u,previousRoot:o,events:{...d.events,...r},size:{...d.size,...i},...a,set:y,get:b,setEvents:S=>y(x=>({...x,events:{...x.events,...S}}))}))});return ee.useEffect(()=>{const d=o.subscribe(g=>h.setState(y=>c(g,y)));return()=>{d(),h.destroy()}},[]),ee.useEffect(()=>{h.setState(d=>c(o.getState(),d))},[c]),ee.createElement(ee.Fragment,null,Eg.createPortal(ee.createElement(ZC.Provider,{value:h},e),h,null))}Eg.injectIntoDevTools({bundleType:0,rendererPackageName:"@react-three/fiber",version:ee.version});function Fl(){return Fl=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Fl.apply(null,arguments)}function $O(n,e){let t;return(...r)=>{window.clearTimeout(t),t=window.setTimeout(()=>n(...r),e)}}function mX({debounce:n,scroll:e,polyfill:t,offsetSize:r}={debounce:0,scroll:!1,offsetSize:!1}){const i=t||(typeof window>"u"?class{}:window.ResizeObserver);if(!i)throw new Error("This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills");const[a,o]=ee.useState({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0}),s=ee.useRef({element:null,scrollContainers:null,resizeObserver:null,lastBounds:a,orientationHandler:null}),u=n?typeof n=="number"?n:n.scroll:null,c=n?typeof n=="number"?n:n.resize:null,h=ee.useRef(!1);ee.useEffect(()=>(h.current=!0,()=>void(h.current=!1)));const[d,g,y]=ee.useMemo(()=>{const _=()=>{if(!s.current.element)return;const{left:E,top:A,width:T,height:P,bottom:O,right:N,x:F,y:D}=s.current.element.getBoundingClientRect(),U={left:E,top:A,width:T,height:P,bottom:O,right:N,x:F,y:D};s.current.element instanceof HTMLElement&&r&&(U.height=s.current.element.offsetHeight,U.width=s.current.element.offsetWidth),Object.freeze(U),h.current&&!xX(s.current.lastBounds,U)&&o(s.current.lastBounds=U)};return[_,c?$O(_,c):_,u?$O(_,u):_]},[o,r,u,c]);function b(){s.current.scrollContainers&&(s.current.scrollContainers.forEach(_=>_.removeEventListener("scroll",y,!0)),s.current.scrollContainers=null),s.current.resizeObserver&&(s.current.resizeObserver.disconnect(),s.current.resizeObserver=null),s.current.orientationHandler&&("orientation"in screen&&"removeEventListener"in screen.orientation?screen.orientation.removeEventListener("change",s.current.orientationHandler):"onorientationchange"in window&&window.removeEventListener("orientationchange",s.current.orientationHandler))}function S(){s.current.element&&(s.current.resizeObserver=new i(y),s.current.resizeObserver.observe(s.current.element),e&&s.current.scrollContainers&&s.current.scrollContainers.forEach(_=>_.addEventListener("scroll",y,{capture:!0,passive:!0})),s.current.orientationHandler=()=>{y()},"orientation"in screen&&"addEventListener"in screen.orientation?screen.orientation.addEventListener("change",s.current.orientationHandler):"onorientationchange"in window&&window.addEventListener("orientationchange",s.current.orientationHandler))}const x=_=>{!_||_===s.current.element||(b(),s.current.element=_,s.current.scrollContainers=Pz(_),S())};return vX(y,!!e),gX(g),ee.useEffect(()=>{b(),S()},[e,y,g]),ee.useEffect(()=>b,[]),[x,a,d]}function gX(n){ee.useEffect(()=>{const e=n;return window.addEventListener("resize",e),()=>void window.removeEventListener("resize",e)},[n])}function vX(n,e){ee.useEffect(()=>{if(e){const t=n;return window.addEventListener("scroll",t,{capture:!0,passive:!0}),()=>void window.removeEventListener("scroll",t,!0)}},[n,e])}function Pz(n){const e=[];if(!n||n===document.body)return e;const{overflow:t,overflowX:r,overflowY:i}=window.getComputedStyle(n);return[t,r,i].some(a=>a==="auto"||a==="scroll")&&e.push(n),[...e,...Pz(n.parentElement)]}const yX=["x","y","top","bottom","left","right","width","height"],xX=(n,e)=>yX.every(t=>n[t]===e[t]);var _X=Object.defineProperty,bX=Object.defineProperties,SX=Object.getOwnPropertyDescriptors,XO=Object.getOwnPropertySymbols,wX=Object.prototype.hasOwnProperty,MX=Object.prototype.propertyIsEnumerable,YO=(n,e,t)=>e in n?_X(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,KO=(n,e)=>{for(var t in e||(e={}))wX.call(e,t)&&YO(n,t,e[t]);if(XO)for(var t of XO(e))MX.call(e,t)&&YO(n,t,e[t]);return n},EX=(n,e)=>bX(n,SX(e)),ZO,JO;typeof window<"u"&&((ZO=window.document)!=null&&ZO.createElement||((JO=window.navigator)==null?void 0:JO.product)==="ReactNative")?ee.useLayoutEffect:ee.useEffect;function Rz(n,e,t){if(!n)return;if(t(n)===!0)return n;let r=n.child;for(;r;){const i=Rz(r,e,t);if(i)return i;r=r.sibling}}function Oz(n){try{return Object.defineProperties(n,{_currentRenderer:{get(){return null},set(){}},_currentRenderer2:{get(){return null},set(){}}})}catch{return n}}const QO=console.error;console.error=function(){const n=[...arguments].join("");if(n!=null&&n.startsWith("Warning:")&&n.includes("useContext")){console.error=QO;return}return QO.apply(this,arguments)};const QC=Oz(ee.createContext(null));class Iz extends ee.Component{render(){return ee.createElement(QC.Provider,{value:this._reactInternals},this.props.children)}}function AX(){const n=ee.useContext(QC);if(n===null)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const e=ee.useId();return ee.useMemo(()=>{for(const r of[n,n==null?void 0:n.alternate]){if(!r)continue;const i=Rz(r,!1,a=>{let o=a.memoizedState;for(;o;){if(o.memoizedState===e)return!0;o=o.next}});if(i)return i}},[n,e])}function TX(){const n=AX(),[e]=ee.useState(()=>new Map);e.clear();let t=n;for(;t;){if(t.type&&typeof t.type=="object"){const i=t.type._context===void 0&&t.type.Provider===t.type?t.type:t.type._context;i&&i!==QC&&!e.has(i)&&e.set(i,ee.useContext(Oz(i)))}t=t.return}return e}function CX(){const n=TX();return ee.useMemo(()=>Array.from(n.keys()).reduce((e,t)=>r=>ee.createElement(e,null,ee.createElement(t.Provider,EX(KO({},r),{value:n.get(t)}))),e=>ee.createElement(Iz,KO({},e))),[n])}const F1={onClick:["click",!1],onContextMenu:["contextmenu",!1],onDoubleClick:["dblclick",!1],onWheel:["wheel",!0],onPointerDown:["pointerdown",!0],onPointerUp:["pointerup",!0],onPointerLeave:["pointerleave",!0],onPointerMove:["pointermove",!0],onPointerCancel:["pointercancel",!0],onLostPointerCapture:["lostpointercapture",!0]};function PX(n){const{handlePointer:e}=nX(n);return{priority:1,enabled:!0,compute(t,r,i){r.pointer.set(t.offsetX/r.size.width*2-1,-(t.offsetY/r.size.height)*2+1),r.raycaster.setFromCamera(r.pointer,r.camera)},connected:void 0,handlers:Object.keys(F1).reduce((t,r)=>({...t,[r]:e(r)}),{}),update:()=>{var t;const{events:r,internal:i}=n.getState();(t=i.lastEvent)!=null&&t.current&&r.handlers&&r.handlers.onPointerMove(i.lastEvent.current)},connect:t=>{var r;const{set:i,events:a}=n.getState();a.disconnect==null||a.disconnect(),i(o=>({events:{...o.events,connected:t}})),Object.entries((r=a.handlers)!=null?r:[]).forEach(([o,s])=>{const[u,c]=F1[o];t.addEventListener(u,s,{passive:c})})},disconnect:()=>{const{set:t,events:r}=n.getState();if(r.connected){var i;Object.entries((i=r.handlers)!=null?i:[]).forEach(([a,o])=>{if(r&&r.connected instanceof HTMLElement){const[s]=F1[a];r.connected.removeEventListener(s,o)}}),t(a=>({events:{...a.events,connected:void 0}}))}}}}const RX=ee.forwardRef(function({children:e,fallback:t,resize:r,style:i,gl:a,events:o=PX,eventSource:s,eventPrefix:u,shadows:c,linear:h,flat:d,legacy:g,orthographic:y,frameloop:b,dpr:S,performance:x,raycaster:_,camera:E,scene:A,onPointerMissed:T,onCreated:P,...O},N){ee.useMemo(()=>KC(L$),[]);const F=CX(),[D,U]=mX({scroll:!0,debounce:{scroll:50,resize:0},...r}),G=ee.useRef(null),q=ee.useRef(null);ee.useImperativeHandle(N,()=>G.current);const Q=xz(T),[H,te]=ee.useState(!1),[Z,he]=ee.useState(!1);if(H)throw H;if(Z)throw Z;const X=ee.useRef(null);Ev(()=>{const z=G.current;U.width>0&&U.height>0&&z&&(X.current||(X.current=fX(z)),X.current.configure({gl:a,events:o,shadows:c,linear:h,flat:d,legacy:g,orthographic:y,frameloop:b,dpr:S,performance:x,raycaster:_,camera:E,scene:A,size:U,onPointerMissed:(...re)=>Q.current==null?void 0:Q.current(...re),onCreated:re=>{re.events.connect==null||re.events.connect(s?Y$(s)?s.current:s:q.current),u&&re.setEvents({compute:(le,ce)=>{const be=le[u+"X"],Oe=le[u+"Y"];ce.pointer.set(be/ce.size.width*2-1,-(Oe/ce.size.height)*2+1),ce.raycaster.setFromCamera(ce.pointer,ce.camera)}}),P==null||P(re)}}),X.current.render(ee.createElement(F,null,ee.createElement(_z,{set:he},ee.createElement(ee.Suspense,{fallback:ee.createElement(K$,{set:te})},e)))))}),ee.useEffect(()=>{const z=G.current;if(z)return()=>Cz(z)},[]);const ae=s?"none":"auto";return ee.createElement("div",Fl({ref:q,style:{position:"relative",width:"100%",height:"100%",overflow:"hidden",pointerEvents:ae,...i}},O),ee.createElement("div",{ref:D,style:{width:"100%",height:"100%"}},ee.createElement("canvas",{ref:G,style:{display:"block"}},t)))}),Nz=ee.forwardRef(function(e,t){return ee.createElement(Iz,null,ee.createElement(RX,Fl({},e,{ref:t})))});function OX(n){return function(e){n.forEach(function(t){typeof t=="function"?t(e):t!=null&&(t.current=e)})}}const Lz=parseInt(dv.replace(/\D+/g,""));function IX(n,e=Math.PI/3){const t=Math.cos(e),r=(1+1e-10)*100,i=[new ie,new ie,new ie],a=new ie,o=new ie,s=new ie,u=new ie;function c(S){const x=~~(S.x*r),_=~~(S.y*r),E=~~(S.z*r);return`${x},${_},${E}`}const h=n.index?n.toNonIndexed():n,d=h.attributes.position,g={};for(let S=0,x=d.count/3;S<x;S++){const _=3*S,E=i[0].fromBufferAttribute(d,_+0),A=i[1].fromBufferAttribute(d,_+1),T=i[2].fromBufferAttribute(d,_+2);a.subVectors(T,A),o.subVectors(E,A);const P=new ie().crossVectors(a,o).normalize();for(let O=0;O<3;O++){const N=i[O],F=c(N);F in g||(g[F]=[]),g[F].push(P)}}const y=new Float32Array(d.count*3),b=new Fn(y,3,!1);for(let S=0,x=d.count/3;S<x;S++){const _=3*S,E=i[0].fromBufferAttribute(d,_+0),A=i[1].fromBufferAttribute(d,_+1),T=i[2].fromBufferAttribute(d,_+2);a.subVectors(T,A),o.subVectors(E,A),s.crossVectors(a,o).normalize();for(let P=0;P<3;P++){const O=i[P],N=c(O),F=g[N];u.set(0,0,0);for(let D=0,U=F.length;D<U;D++){const G=F[D];s.dot(G)>t&&u.add(G)}u.normalize(),b.setXYZ(_+P,u.x,u.y,u.z)}}return h.setAttribute("normal",b),h}var Ao=Uint8Array,Wu=Uint16Array,BA=Uint32Array,kz=new Ao([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),Dz=new Ao([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),NX=new Ao([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),Uz=function(n,e){for(var t=new Wu(31),r=0;r<31;++r)t[r]=e+=1<<n[r-1];for(var i=new BA(t[30]),r=1;r<30;++r)for(var a=t[r];a<t[r+1];++a)i[a]=a-t[r]<<5|r;return[t,i]},Fz=Uz(kz,2),Bz=Fz[0],LX=Fz[1];Bz[28]=258,LX[258]=28;var kX=Uz(Dz,0),DX=kX[0],zA=new Wu(32768);for(var pr=0;pr<32768;++pr){var Bu=(pr&43690)>>>1|(pr&21845)<<1;Bu=(Bu&52428)>>>2|(Bu&13107)<<2,Bu=(Bu&61680)>>>4|(Bu&3855)<<4,zA[pr]=((Bu&65280)>>>8|(Bu&255)<<8)>>>1}var Km=(function(n,e,t){for(var r=n.length,i=0,a=new Wu(e);i<r;++i)++a[n[i]-1];var o=new Wu(e);for(i=0;i<e;++i)o[i]=o[i-1]+a[i-1]<<1;var s;if(t){s=new Wu(1<<e);var u=15-e;for(i=0;i<r;++i)if(n[i])for(var c=i<<4|n[i],h=e-n[i],d=o[n[i]-1]++<<h,g=d|(1<<h)-1;d<=g;++d)s[zA[d]>>>u]=c}else for(s=new Wu(r),i=0;i<r;++i)n[i]&&(s[i]=zA[o[n[i]-1]++]>>>15-n[i]);return s}),Av=new Ao(288);for(var pr=0;pr<144;++pr)Av[pr]=8;for(var pr=144;pr<256;++pr)Av[pr]=9;for(var pr=256;pr<280;++pr)Av[pr]=7;for(var pr=280;pr<288;++pr)Av[pr]=8;var zz=new Ao(32);for(var pr=0;pr<32;++pr)zz[pr]=5;var UX=Km(Av,9,1),FX=Km(zz,5,1),B1=function(n){for(var e=n[0],t=1;t<n.length;++t)n[t]>e&&(e=n[t]);return e},es=function(n,e,t){var r=e/8|0;return(n[r]|n[r+1]<<8)>>(e&7)&t},z1=function(n,e){var t=e/8|0;return(n[t]|n[t+1]<<8|n[t+2]<<16)>>(e&7)},BX=function(n){return(n/8|0)+(n&7&&1)},zX=function(n,e,t){(t==null||t>n.length)&&(t=n.length);var r=new(n instanceof Wu?Wu:n instanceof BA?BA:Ao)(t-e);return r.set(n.subarray(e,t)),r},jX=function(n,e,t){var r=n.length;if(!r||t&&!t.l&&r<5)return e||new Ao(0);var i=!e||t,a=!t||t.i;t||(t={}),e||(e=new Ao(r*3));var o=function(ke){var He=e.length;if(ke>He){var Je=new Ao(Math.max(He*2,ke));Je.set(e),e=Je}},s=t.f||0,u=t.p||0,c=t.b||0,h=t.l,d=t.d,g=t.m,y=t.n,b=r*8;do{if(!h){t.f=s=es(n,u,1);var S=es(n,u+1,3);if(u+=3,S)if(S==1)h=UX,d=FX,g=9,y=5;else if(S==2){var A=es(n,u,31)+257,T=es(n,u+10,15)+4,P=A+es(n,u+5,31)+1;u+=14;for(var O=new Ao(P),N=new Ao(19),F=0;F<T;++F)N[NX[F]]=es(n,u+F*3,7);u+=T*3;for(var D=B1(N),U=(1<<D)-1,G=Km(N,D,1),F=0;F<P;){var q=G[es(n,u,U)];u+=q&15;var x=q>>>4;if(x<16)O[F++]=x;else{var Q=0,H=0;for(x==16?(H=3+es(n,u,3),u+=2,Q=O[F-1]):x==17?(H=3+es(n,u,7),u+=3):x==18&&(H=11+es(n,u,127),u+=7);H--;)O[F++]=Q}}var te=O.subarray(0,A),Z=O.subarray(A);g=B1(te),y=B1(Z),h=Km(te,g,1),d=Km(Z,y,1)}else throw"invalid block type";else{var x=BX(u)+4,_=n[x-4]|n[x-3]<<8,E=x+_;if(E>r){if(a)throw"unexpected EOF";break}i&&o(c+_),e.set(n.subarray(x,E),c),t.b=c+=_,t.p=u=E*8;continue}if(u>b){if(a)throw"unexpected EOF";break}}i&&o(c+131072);for(var he=(1<<g)-1,X=(1<<y)-1,ae=u;;ae=u){var Q=h[z1(n,u)&he],z=Q>>>4;if(u+=Q&15,u>b){if(a)throw"unexpected EOF";break}if(!Q)throw"invalid length/literal";if(z<256)e[c++]=z;else if(z==256){ae=u,h=null;break}else{var re=z-254;if(z>264){var F=z-257,le=kz[F];re=es(n,u,(1<<le)-1)+Bz[F],u+=le}var ce=d[z1(n,u)&X],be=ce>>>4;if(!ce)throw"invalid distance";u+=ce&15;var Z=DX[be];if(be>3){var le=Dz[be];Z+=z1(n,u)&(1<<le)-1,u+=le}if(u>b){if(a)throw"unexpected EOF";break}i&&o(c+131072);for(var Oe=c+re;c<Oe;c+=4)e[c]=e[c-Z],e[c+1]=e[c+1-Z],e[c+2]=e[c+2-Z],e[c+3]=e[c+3-Z];c=Oe}}t.l=h,t.p=ae,t.b=c,h&&(s=1,t.m=g,t.d=d,t.n=y)}while(!s);return c==e.length?e:zX(e,0,c)},HX=new Ao(0),VX=function(n){if((n[0]&15)!=8||n[0]>>>4>7||(n[0]<<8|n[1])%31)throw"invalid zlib data";if(n[1]&32)throw"invalid zlib data: preset dictionaries not supported"};function Py(n,e){return jX((VX(n),n.subarray(2,-4)),e)}var GX=typeof TextDecoder<"u"&&new TextDecoder,WX=0;try{GX.decode(HX,{stream:!0}),WX=1}catch{}const qX=n=>n&&n.isCubeTexture;class $X extends Ur{constructor(e,t){var r,i;const a=qX(e),s=((i=a?(r=e.image[0])==null?void 0:r.width:e.image.width)!=null?i:1024)/4,u=Math.floor(Math.log2(s)),c=Math.pow(2,u),h=3*Math.max(c,112),d=4*c,g=[a?"#define ENVMAP_TYPE_CUBE":"",`#define CUBEUV_TEXEL_WIDTH ${1/h}`,`#define CUBEUV_TEXEL_HEIGHT ${1/d}`,`#define CUBEUV_MAX_MIP ${u}.0`],y=`
        varying vec3 vWorldPosition;
        void main() 
        {
            vec4 worldPosition = ( modelMatrix * vec4( position, 1.0 ) );
            vWorldPosition = worldPosition.xyz;
            
            gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
        }
        `,b=g.join(`
`)+`
        #define ENVMAP_TYPE_CUBE_UV
        varying vec3 vWorldPosition;
        uniform float radius;
        uniform float height;
        uniform float angle;
        #ifdef ENVMAP_TYPE_CUBE
            uniform samplerCube map;
        #else
            uniform sampler2D map;
        #endif
        // From: https://www.shadertoy.com/view/4tsBD7
        float diskIntersectWithBackFaceCulling( vec3 ro, vec3 rd, vec3 c, vec3 n, float r ) 
        {
            float d = dot ( rd, n );
            
            if( d > 0.0 ) { return 1e6; }
            
            vec3  o = ro - c;
            float t = - dot( n, o ) / d;
            vec3  q = o + rd * t;
            
            return ( dot( q, q ) < r * r ) ? t : 1e6;
        }
        // From: https://www.iquilezles.org/www/articles/intersectors/intersectors.htm
        float sphereIntersect( vec3 ro, vec3 rd, vec3 ce, float ra ) 
        {
            vec3 oc = ro - ce;
            float b = dot( oc, rd );
            float c = dot( oc, oc ) - ra * ra;
            float h = b * b - c;
            
            if( h < 0.0 ) { return -1.0; }
            
            h = sqrt( h );
            
            return - b + h;
        }
        vec3 project() 
        {
            vec3 p = normalize( vWorldPosition );
            vec3 camPos = cameraPosition;
            camPos.y -= height;
            float intersection = sphereIntersect( camPos, p, vec3( 0.0 ), radius );
            if( intersection > 0.0 ) {
                
                vec3 h = vec3( 0.0, - height, 0.0 );
                float intersection2 = diskIntersectWithBackFaceCulling( camPos, p, h, vec3( 0.0, 1.0, 0.0 ), radius );
                p = ( camPos + min( intersection, intersection2 ) * p ) / radius;
            } else {
                p = vec3( 0.0, 1.0, 0.0 );
            }
            return p;
        }
        #include <common>
        #include <cube_uv_reflection_fragment>
        void main() 
        {
            vec3 projectedWorldPosition = project();
            
            #ifdef ENVMAP_TYPE_CUBE
                vec3 outcolor = textureCube( map, projectedWorldPosition ).rgb;
            #else
                vec3 direction = normalize( projectedWorldPosition );
                vec2 uv = equirectUv( direction );
                vec3 outcolor = texture2D( map, uv ).rgb;
            #endif
            gl_FragColor = vec4( outcolor, 1.0 );
            #include <tonemapping_fragment>
            #include <${Lz>=154?"colorspace_fragment":"encodings_fragment"}>
        }
        `,S={map:{value:e},height:{value:(t==null?void 0:t.height)||15},radius:{value:(t==null?void 0:t.radius)||100}},x=new bv(1,16),_=new Da({uniforms:S,fragmentShader:b,vertexShader:y,side:Eo});super(x,_)}set radius(e){this.material.uniforms.radius.value=e}get radius(){return this.material.uniforms.radius.value}set height(e){this.material.uniforms.height.value=e}get height(){return this.material.uniforms.height.value}}var XX=Object.defineProperty,YX=(n,e,t)=>e in n?XX(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,KX=(n,e,t)=>(YX(n,e+"",t),t);class ZX{constructor(){KX(this,"_listeners")}addEventListener(e,t){this._listeners===void 0&&(this._listeners={});const r=this._listeners;r[e]===void 0&&(r[e]=[]),r[e].indexOf(t)===-1&&r[e].push(t)}hasEventListener(e,t){if(this._listeners===void 0)return!1;const r=this._listeners;return r[e]!==void 0&&r[e].indexOf(t)!==-1}removeEventListener(e,t){if(this._listeners===void 0)return;const i=this._listeners[e];if(i!==void 0){const a=i.indexOf(t);a!==-1&&i.splice(a,1)}}dispatchEvent(e){if(this._listeners===void 0)return;const r=this._listeners[e.type];if(r!==void 0){e.target=this;const i=r.slice(0);for(let a=0,o=i.length;a<o;a++)i[a].call(this,e);e.target=null}}}var JX=Object.defineProperty,QX=(n,e,t)=>e in n?JX(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,$t=(n,e,t)=>(QX(n,typeof e!="symbol"?e+"":e,t),t);const Ry=new Hf,eI=new El,eY=Math.cos(70*(Math.PI/180)),tI=(n,e)=>(n%e+e)%e;let tY=class extends ZX{constructor(e,t){super(),$t(this,"object"),$t(this,"domElement"),$t(this,"enabled",!0),$t(this,"target",new ie),$t(this,"minDistance",0),$t(this,"maxDistance",1/0),$t(this,"minZoom",0),$t(this,"maxZoom",1/0),$t(this,"minPolarAngle",0),$t(this,"maxPolarAngle",Math.PI),$t(this,"minAzimuthAngle",-1/0),$t(this,"maxAzimuthAngle",1/0),$t(this,"enableDamping",!1),$t(this,"dampingFactor",.05),$t(this,"enableZoom",!0),$t(this,"zoomSpeed",1),$t(this,"enableRotate",!0),$t(this,"rotateSpeed",1),$t(this,"enablePan",!0),$t(this,"panSpeed",1),$t(this,"screenSpacePanning",!0),$t(this,"keyPanSpeed",7),$t(this,"zoomToCursor",!1),$t(this,"autoRotate",!1),$t(this,"autoRotateSpeed",2),$t(this,"reverseOrbit",!1),$t(this,"reverseHorizontalOrbit",!1),$t(this,"reverseVerticalOrbit",!1),$t(this,"keys",{LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"}),$t(this,"mouseButtons",{LEFT:uf.ROTATE,MIDDLE:uf.DOLLY,RIGHT:uf.PAN}),$t(this,"touches",{ONE:cf.ROTATE,TWO:cf.DOLLY_PAN}),$t(this,"target0"),$t(this,"position0"),$t(this,"zoom0"),$t(this,"_domElementKeyEvents",null),$t(this,"getPolarAngle"),$t(this,"getAzimuthalAngle"),$t(this,"setPolarAngle"),$t(this,"setAzimuthalAngle"),$t(this,"getDistance"),$t(this,"getZoomScale"),$t(this,"listenToKeyEvents"),$t(this,"stopListenToKeyEvents"),$t(this,"saveState"),$t(this,"reset"),$t(this,"update"),$t(this,"connect"),$t(this,"dispose"),$t(this,"dollyIn"),$t(this,"dollyOut"),$t(this,"getScale"),$t(this,"setScale"),this.object=e,this.domElement=t,this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this.getPolarAngle=()=>h.phi,this.getAzimuthalAngle=()=>h.theta,this.setPolarAngle=pe=>{let ze=tI(pe,2*Math.PI),at=h.phi;at<0&&(at+=2*Math.PI),ze<0&&(ze+=2*Math.PI);let vt=Math.abs(ze-at);2*Math.PI-vt<vt&&(ze<at?ze+=2*Math.PI:at+=2*Math.PI),d.phi=ze-at,r.update()},this.setAzimuthalAngle=pe=>{let ze=tI(pe,2*Math.PI),at=h.theta;at<0&&(at+=2*Math.PI),ze<0&&(ze+=2*Math.PI);let vt=Math.abs(ze-at);2*Math.PI-vt<vt&&(ze<at?ze+=2*Math.PI:at+=2*Math.PI),d.theta=ze-at,r.update()},this.getDistance=()=>r.object.position.distanceTo(r.target),this.listenToKeyEvents=pe=>{pe.addEventListener("keydown",Nt),this._domElementKeyEvents=pe},this.stopListenToKeyEvents=()=>{this._domElementKeyEvents.removeEventListener("keydown",Nt),this._domElementKeyEvents=null},this.saveState=()=>{r.target0.copy(r.target),r.position0.copy(r.object.position),r.zoom0=r.object.zoom},this.reset=()=>{r.target.copy(r.target0),r.object.position.copy(r.position0),r.object.zoom=r.zoom0,r.object.updateProjectionMatrix(),r.dispatchEvent(i),r.update(),u=s.NONE},this.update=(()=>{const pe=new ie,ze=new ie(0,1,0),at=new Zi().setFromUnitVectors(e.up,ze),vt=at.clone().invert(),Me=new ie,me=new Zi,it=2*Math.PI;return function(){const Bt=r.object.position;at.setFromUnitVectors(e.up,ze),vt.copy(at).invert(),pe.copy(Bt).sub(r.target),pe.applyQuaternion(at),h.setFromVector3(pe),r.autoRotate&&u===s.NONE&&H(q()),r.enableDamping?(h.theta+=d.theta*r.dampingFactor,h.phi+=d.phi*r.dampingFactor):(h.theta+=d.theta,h.phi+=d.phi);let Pt=r.minAzimuthAngle,sn=r.maxAzimuthAngle;isFinite(Pt)&&isFinite(sn)&&(Pt<-Math.PI?Pt+=it:Pt>Math.PI&&(Pt-=it),sn<-Math.PI?sn+=it:sn>Math.PI&&(sn-=it),Pt<=sn?h.theta=Math.max(Pt,Math.min(sn,h.theta)):h.theta=h.theta>(Pt+sn)/2?Math.max(Pt,h.theta):Math.min(sn,h.theta)),h.phi=Math.max(r.minPolarAngle,Math.min(r.maxPolarAngle,h.phi)),h.makeSafe(),r.enableDamping===!0?r.target.addScaledVector(y,r.dampingFactor):r.target.add(y),r.zoomToCursor&&D||r.object.isOrthographicCamera?h.radius=ce(h.radius):h.radius=ce(h.radius*g),pe.setFromSpherical(h),pe.applyQuaternion(vt),Bt.copy(r.target).add(pe),r.object.matrixAutoUpdate||r.object.updateMatrix(),r.object.lookAt(r.target),r.enableDamping===!0?(d.theta*=1-r.dampingFactor,d.phi*=1-r.dampingFactor,y.multiplyScalar(1-r.dampingFactor)):(d.set(0,0,0),y.set(0,0,0));let gn=!1;if(r.zoomToCursor&&D){let Tn=null;if(r.object instanceof Dr&&r.object.isPerspectiveCamera){const jn=pe.length();Tn=ce(jn*g);const fn=jn-Tn;r.object.position.addScaledVector(N,fn),r.object.updateMatrixWorld()}else if(r.object.isOrthographicCamera){const jn=new ie(F.x,F.y,0);jn.unproject(r.object),r.object.zoom=Math.max(r.minZoom,Math.min(r.maxZoom,r.object.zoom/g)),r.object.updateProjectionMatrix(),gn=!0;const fn=new ie(F.x,F.y,0);fn.unproject(r.object),r.object.position.sub(fn).add(jn),r.object.updateMatrixWorld(),Tn=pe.length()}else console.warn("WARNING: OrbitControls.js encountered an unknown camera type - zoom to cursor disabled."),r.zoomToCursor=!1;Tn!==null&&(r.screenSpacePanning?r.target.set(0,0,-1).transformDirection(r.object.matrix).multiplyScalar(Tn).add(r.object.position):(Ry.origin.copy(r.object.position),Ry.direction.set(0,0,-1).transformDirection(r.object.matrix),Math.abs(r.object.up.dot(Ry.direction))<eY?e.lookAt(r.target):(eI.setFromNormalAndCoplanarPoint(r.object.up,r.target),Ry.intersectPlane(eI,r.target))))}else r.object instanceof Ju&&r.object.isOrthographicCamera&&(gn=g!==1,gn&&(r.object.zoom=Math.max(r.minZoom,Math.min(r.maxZoom,r.object.zoom/g)),r.object.updateProjectionMatrix()));return g=1,D=!1,gn||Me.distanceToSquared(r.object.position)>c||8*(1-me.dot(r.object.quaternion))>c?(r.dispatchEvent(i),Me.copy(r.object.position),me.copy(r.object.quaternion),gn=!1,!0):!1}})(),this.connect=pe=>{r.domElement=pe,r.domElement.style.touchAction="none",r.domElement.addEventListener("contextmenu",an),r.domElement.addEventListener("pointerdown",Xe),r.domElement.addEventListener("pointercancel",Ge),r.domElement.addEventListener("wheel",yt)},this.dispose=()=>{var pe,ze,at,vt,Me,me;r.domElement&&(r.domElement.style.touchAction="auto"),(pe=r.domElement)==null||pe.removeEventListener("contextmenu",an),(ze=r.domElement)==null||ze.removeEventListener("pointerdown",Xe),(at=r.domElement)==null||at.removeEventListener("pointercancel",Ge),(vt=r.domElement)==null||vt.removeEventListener("wheel",yt),(Me=r.domElement)==null||Me.ownerDocument.removeEventListener("pointermove",$e),(me=r.domElement)==null||me.ownerDocument.removeEventListener("pointerup",Ge),r._domElementKeyEvents!==null&&r._domElementKeyEvents.removeEventListener("keydown",Nt)};const r=this,i={type:"change"},a={type:"start"},o={type:"end"},s={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6};let u=s.NONE;const c=1e-6,h=new DA,d=new DA;let g=1;const y=new ie,b=new Ve,S=new Ve,x=new Ve,_=new Ve,E=new Ve,A=new Ve,T=new Ve,P=new Ve,O=new Ve,N=new ie,F=new Ve;let D=!1;const U=[],G={};function q(){return 2*Math.PI/60/60*r.autoRotateSpeed}function Q(){return Math.pow(.95,r.zoomSpeed)}function H(pe){r.reverseOrbit||r.reverseHorizontalOrbit?d.theta+=pe:d.theta-=pe}function te(pe){r.reverseOrbit||r.reverseVerticalOrbit?d.phi+=pe:d.phi-=pe}const Z=(()=>{const pe=new ie;return function(at,vt){pe.setFromMatrixColumn(vt,0),pe.multiplyScalar(-at),y.add(pe)}})(),he=(()=>{const pe=new ie;return function(at,vt){r.screenSpacePanning===!0?pe.setFromMatrixColumn(vt,1):(pe.setFromMatrixColumn(vt,0),pe.crossVectors(r.object.up,pe)),pe.multiplyScalar(at),y.add(pe)}})(),X=(()=>{const pe=new ie;return function(at,vt){const Me=r.domElement;if(Me&&r.object instanceof Dr&&r.object.isPerspectiveCamera){const me=r.object.position;pe.copy(me).sub(r.target);let it=pe.length();it*=Math.tan(r.object.fov/2*Math.PI/180),Z(2*at*it/Me.clientHeight,r.object.matrix),he(2*vt*it/Me.clientHeight,r.object.matrix)}else Me&&r.object instanceof Ju&&r.object.isOrthographicCamera?(Z(at*(r.object.right-r.object.left)/r.object.zoom/Me.clientWidth,r.object.matrix),he(vt*(r.object.top-r.object.bottom)/r.object.zoom/Me.clientHeight,r.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),r.enablePan=!1)}})();function ae(pe){r.object instanceof Dr&&r.object.isPerspectiveCamera||r.object instanceof Ju&&r.object.isOrthographicCamera?g=pe:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),r.enableZoom=!1)}function z(pe){ae(g/pe)}function re(pe){ae(g*pe)}function le(pe){if(!r.zoomToCursor||!r.domElement)return;D=!0;const ze=r.domElement.getBoundingClientRect(),at=pe.clientX-ze.left,vt=pe.clientY-ze.top,Me=ze.width,me=ze.height;F.x=at/Me*2-1,F.y=-(vt/me)*2+1,N.set(F.x,F.y,1).unproject(r.object).sub(r.object.position).normalize()}function ce(pe){return Math.max(r.minDistance,Math.min(r.maxDistance,pe))}function be(pe){b.set(pe.clientX,pe.clientY)}function Oe(pe){le(pe),T.set(pe.clientX,pe.clientY)}function ke(pe){_.set(pe.clientX,pe.clientY)}function He(pe){S.set(pe.clientX,pe.clientY),x.subVectors(S,b).multiplyScalar(r.rotateSpeed);const ze=r.domElement;ze&&(H(2*Math.PI*x.x/ze.clientHeight),te(2*Math.PI*x.y/ze.clientHeight)),b.copy(S),r.update()}function Je(pe){P.set(pe.clientX,pe.clientY),O.subVectors(P,T),O.y>0?z(Q()):O.y<0&&re(Q()),T.copy(P),r.update()}function Ue(pe){E.set(pe.clientX,pe.clientY),A.subVectors(E,_).multiplyScalar(r.panSpeed),X(A.x,A.y),_.copy(E),r.update()}function qe(pe){le(pe),pe.deltaY<0?re(Q()):pe.deltaY>0&&z(Q()),r.update()}function Qe(pe){let ze=!1;switch(pe.code){case r.keys.UP:X(0,r.keyPanSpeed),ze=!0;break;case r.keys.BOTTOM:X(0,-r.keyPanSpeed),ze=!0;break;case r.keys.LEFT:X(r.keyPanSpeed,0),ze=!0;break;case r.keys.RIGHT:X(-r.keyPanSpeed,0),ze=!0;break}ze&&(pe.preventDefault(),r.update())}function K(){if(U.length==1)b.set(U[0].pageX,U[0].pageY);else{const pe=.5*(U[0].pageX+U[1].pageX),ze=.5*(U[0].pageY+U[1].pageY);b.set(pe,ze)}}function je(){if(U.length==1)_.set(U[0].pageX,U[0].pageY);else{const pe=.5*(U[0].pageX+U[1].pageX),ze=.5*(U[0].pageY+U[1].pageY);_.set(pe,ze)}}function Ae(){const pe=U[0].pageX-U[1].pageX,ze=U[0].pageY-U[1].pageY,at=Math.sqrt(pe*pe+ze*ze);T.set(0,at)}function We(){r.enableZoom&&Ae(),r.enablePan&&je()}function Ne(){r.enableZoom&&Ae(),r.enableRotate&&K()}function gt(pe){if(U.length==1)S.set(pe.pageX,pe.pageY);else{const at=bt(pe),vt=.5*(pe.pageX+at.x),Me=.5*(pe.pageY+at.y);S.set(vt,Me)}x.subVectors(S,b).multiplyScalar(r.rotateSpeed);const ze=r.domElement;ze&&(H(2*Math.PI*x.x/ze.clientHeight),te(2*Math.PI*x.y/ze.clientHeight)),b.copy(S)}function st(pe){if(U.length==1)E.set(pe.pageX,pe.pageY);else{const ze=bt(pe),at=.5*(pe.pageX+ze.x),vt=.5*(pe.pageY+ze.y);E.set(at,vt)}A.subVectors(E,_).multiplyScalar(r.panSpeed),X(A.x,A.y),_.copy(E)}function J(pe){const ze=bt(pe),at=pe.pageX-ze.x,vt=pe.pageY-ze.y,Me=Math.sqrt(at*at+vt*vt);P.set(0,Me),O.set(0,Math.pow(P.y/T.y,r.zoomSpeed)),z(O.y),T.copy(P)}function $(pe){r.enableZoom&&J(pe),r.enablePan&&st(pe)}function we(pe){r.enableZoom&&J(pe),r.enableRotate&&gt(pe)}function Xe(pe){var ze,at;r.enabled!==!1&&(U.length===0&&((ze=r.domElement)==null||ze.ownerDocument.addEventListener("pointermove",$e),(at=r.domElement)==null||at.ownerDocument.addEventListener("pointerup",Ge)),rn(pe),pe.pointerType==="touch"?Vt(pe):Tt(pe))}function $e(pe){r.enabled!==!1&&(pe.pointerType==="touch"?Ke(pe):ft(pe))}function Ge(pe){var ze,at,vt;zt(pe),U.length===0&&((ze=r.domElement)==null||ze.releasePointerCapture(pe.pointerId),(at=r.domElement)==null||at.ownerDocument.removeEventListener("pointermove",$e),(vt=r.domElement)==null||vt.ownerDocument.removeEventListener("pointerup",Ge)),r.dispatchEvent(o),u=s.NONE}function Tt(pe){let ze;switch(pe.button){case 0:ze=r.mouseButtons.LEFT;break;case 1:ze=r.mouseButtons.MIDDLE;break;case 2:ze=r.mouseButtons.RIGHT;break;default:ze=-1}switch(ze){case uf.DOLLY:if(r.enableZoom===!1)return;Oe(pe),u=s.DOLLY;break;case uf.ROTATE:if(pe.ctrlKey||pe.metaKey||pe.shiftKey){if(r.enablePan===!1)return;ke(pe),u=s.PAN}else{if(r.enableRotate===!1)return;be(pe),u=s.ROTATE}break;case uf.PAN:if(pe.ctrlKey||pe.metaKey||pe.shiftKey){if(r.enableRotate===!1)return;be(pe),u=s.ROTATE}else{if(r.enablePan===!1)return;ke(pe),u=s.PAN}break;default:u=s.NONE}u!==s.NONE&&r.dispatchEvent(a)}function ft(pe){if(r.enabled!==!1)switch(u){case s.ROTATE:if(r.enableRotate===!1)return;He(pe);break;case s.DOLLY:if(r.enableZoom===!1)return;Je(pe);break;case s.PAN:if(r.enablePan===!1)return;Ue(pe);break}}function yt(pe){r.enabled===!1||r.enableZoom===!1||u!==s.NONE&&u!==s.ROTATE||(pe.preventDefault(),r.dispatchEvent(a),qe(pe),r.dispatchEvent(o))}function Nt(pe){r.enabled===!1||r.enablePan===!1||Qe(pe)}function Vt(pe){switch(_t(pe),U.length){case 1:switch(r.touches.ONE){case cf.ROTATE:if(r.enableRotate===!1)return;K(),u=s.TOUCH_ROTATE;break;case cf.PAN:if(r.enablePan===!1)return;je(),u=s.TOUCH_PAN;break;default:u=s.NONE}break;case 2:switch(r.touches.TWO){case cf.DOLLY_PAN:if(r.enableZoom===!1&&r.enablePan===!1)return;We(),u=s.TOUCH_DOLLY_PAN;break;case cf.DOLLY_ROTATE:if(r.enableZoom===!1&&r.enableRotate===!1)return;Ne(),u=s.TOUCH_DOLLY_ROTATE;break;default:u=s.NONE}break;default:u=s.NONE}u!==s.NONE&&r.dispatchEvent(a)}function Ke(pe){switch(_t(pe),u){case s.TOUCH_ROTATE:if(r.enableRotate===!1)return;gt(pe),r.update();break;case s.TOUCH_PAN:if(r.enablePan===!1)return;st(pe),r.update();break;case s.TOUCH_DOLLY_PAN:if(r.enableZoom===!1&&r.enablePan===!1)return;$(pe),r.update();break;case s.TOUCH_DOLLY_ROTATE:if(r.enableZoom===!1&&r.enableRotate===!1)return;we(pe),r.update();break;default:u=s.NONE}}function an(pe){r.enabled!==!1&&pe.preventDefault()}function rn(pe){U.push(pe)}function zt(pe){delete G[pe.pointerId];for(let ze=0;ze<U.length;ze++)if(U[ze].pointerId==pe.pointerId){U.splice(ze,1);return}}function _t(pe){let ze=G[pe.pointerId];ze===void 0&&(ze=new Ve,G[pe.pointerId]=ze),ze.set(pe.pageX,pe.pageY)}function bt(pe){const ze=pe.pointerId===U[0].pointerId?U[1]:U[0];return G[ze.pointerId]}this.dollyIn=(pe=Q())=>{re(pe),r.update()},this.dollyOut=(pe=Q())=>{z(pe),r.update()},this.getScale=()=>g,this.setScale=pe=>{ae(pe),r.update()},this.getZoomScale=()=>Q(),t!==void 0&&this.connect(t),this.update()}};const nY={uniforms:{tDiffuse:{value:null},h:{value:1/512}},vertexShader:`
      varying vec2 vUv;

      void main() {

        vUv = uv;
        gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );

      }
  `,fragmentShader:`
    uniform sampler2D tDiffuse;
    uniform float h;

    varying vec2 vUv;

    void main() {

    	vec4 sum = vec4( 0.0 );

    	sum += texture2D( tDiffuse, vec2( vUv.x - 4.0 * h, vUv.y ) ) * 0.051;
    	sum += texture2D( tDiffuse, vec2( vUv.x - 3.0 * h, vUv.y ) ) * 0.0918;
    	sum += texture2D( tDiffuse, vec2( vUv.x - 2.0 * h, vUv.y ) ) * 0.12245;
    	sum += texture2D( tDiffuse, vec2( vUv.x - 1.0 * h, vUv.y ) ) * 0.1531;
    	sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y ) ) * 0.1633;
    	sum += texture2D( tDiffuse, vec2( vUv.x + 1.0 * h, vUv.y ) ) * 0.1531;
    	sum += texture2D( tDiffuse, vec2( vUv.x + 2.0 * h, vUv.y ) ) * 0.12245;
    	sum += texture2D( tDiffuse, vec2( vUv.x + 3.0 * h, vUv.y ) ) * 0.0918;
    	sum += texture2D( tDiffuse, vec2( vUv.x + 4.0 * h, vUv.y ) ) * 0.051;

    	gl_FragColor = sum;

    }
  `},rY={uniforms:{tDiffuse:{value:null},v:{value:1/512}},vertexShader:`
    varying vec2 vUv;

    void main() {

      vUv = uv;
      gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );

    }
  `,fragmentShader:`

  uniform sampler2D tDiffuse;
  uniform float v;

  varying vec2 vUv;

  void main() {

    vec4 sum = vec4( 0.0 );

    sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y - 4.0 * v ) ) * 0.051;
    sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y - 3.0 * v ) ) * 0.0918;
    sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y - 2.0 * v ) ) * 0.12245;
    sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y - 1.0 * v ) ) * 0.1531;
    sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y ) ) * 0.1633;
    sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y + 1.0 * v ) ) * 0.1531;
    sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y + 2.0 * v ) ) * 0.12245;
    sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y + 3.0 * v ) ) * 0.0918;
    sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y + 4.0 * v ) ) * 0.051;

    gl_FragColor = sum;

  }
  `};class iY extends jC{constructor(e){super(e),this.type=ha}parse(e){const o=function(F,D){switch(F){case 1:throw new Error("THREE.RGBELoader: Read Error: "+(D||""));case 2:throw new Error("THREE.RGBELoader: Write Error: "+(D||""));case 3:throw new Error("THREE.RGBELoader: Bad File Format: "+(D||""));default:case 4:throw new Error("THREE.RGBELoader: Memory Error: "+(D||""))}},d=function(F,D,U){D=D||1024;let q=F.pos,Q=-1,H=0,te="",Z=String.fromCharCode.apply(null,new Uint16Array(F.subarray(q,q+128)));for(;0>(Q=Z.indexOf(`
`))&&H<D&&q<F.byteLength;)te+=Z,H+=Z.length,q+=128,Z+=String.fromCharCode.apply(null,new Uint16Array(F.subarray(q,q+128)));return-1<Q?(F.pos+=H+Q+1,te+Z.slice(0,Q)):!1},g=function(F){const D=/^#\?(\S+)/,U=/^\s*GAMMA\s*=\s*(\d+(\.\d+)?)\s*$/,G=/^\s*EXPOSURE\s*=\s*(\d+(\.\d+)?)\s*$/,q=/^\s*FORMAT=(\S+)\s*$/,Q=/^\s*\-Y\s+(\d+)\s+\+X\s+(\d+)\s*$/,H={valid:0,string:"",comments:"",programtype:"RGBE",format:"",gamma:1,exposure:1,width:0,height:0};let te,Z;for((F.pos>=F.byteLength||!(te=d(F)))&&o(1,"no header found"),(Z=te.match(D))||o(3,"bad initial token"),H.valid|=1,H.programtype=Z[1],H.string+=te+`
`;te=d(F),te!==!1;){if(H.string+=te+`
`,te.charAt(0)==="#"){H.comments+=te+`
`;continue}if((Z=te.match(U))&&(H.gamma=parseFloat(Z[1])),(Z=te.match(G))&&(H.exposure=parseFloat(Z[1])),(Z=te.match(q))&&(H.valid|=2,H.format=Z[1]),(Z=te.match(Q))&&(H.valid|=4,H.height=parseInt(Z[1],10),H.width=parseInt(Z[2],10)),H.valid&2&&H.valid&4)break}return H.valid&2||o(3,"missing format specifier"),H.valid&4||o(3,"missing image size specifier"),H},y=function(F,D,U){const G=D;if(G<8||G>32767||F[0]!==2||F[1]!==2||F[2]&128)return new Uint8Array(F);G!==(F[2]<<8|F[3])&&o(3,"wrong scanline width");const q=new Uint8Array(4*D*U);q.length||o(4,"unable to allocate buffer space");let Q=0,H=0;const te=4*G,Z=new Uint8Array(4),he=new Uint8Array(te);let X=U;for(;X>0&&H<F.byteLength;){H+4>F.byteLength&&o(1),Z[0]=F[H++],Z[1]=F[H++],Z[2]=F[H++],Z[3]=F[H++],(Z[0]!=2||Z[1]!=2||(Z[2]<<8|Z[3])!=G)&&o(3,"bad rgbe scanline format");let ae=0,z;for(;ae<te&&H<F.byteLength;){z=F[H++];const le=z>128;if(le&&(z-=128),(z===0||ae+z>te)&&o(3,"bad scanline data"),le){const ce=F[H++];for(let be=0;be<z;be++)he[ae++]=ce}else he.set(F.subarray(H,H+z),ae),ae+=z,H+=z}const re=G;for(let le=0;le<re;le++){let ce=0;q[Q]=he[le+ce],ce+=G,q[Q+1]=he[le+ce],ce+=G,q[Q+2]=he[le+ce],ce+=G,q[Q+3]=he[le+ce],Q+=4}X--}return q},b=function(F,D,U,G){const q=F[D+3],Q=Math.pow(2,q-128)/255;U[G+0]=F[D+0]*Q,U[G+1]=F[D+1]*Q,U[G+2]=F[D+2]*Q,U[G+3]=1},S=function(F,D,U,G){const q=F[D+3],Q=Math.pow(2,q-128)/255;U[G+0]=xf.toHalfFloat(Math.min(F[D+0]*Q,65504)),U[G+1]=xf.toHalfFloat(Math.min(F[D+1]*Q,65504)),U[G+2]=xf.toHalfFloat(Math.min(F[D+2]*Q,65504)),U[G+3]=xf.toHalfFloat(1)},x=new Uint8Array(e);x.pos=0;const _=g(x),E=_.width,A=_.height,T=y(x.subarray(x.pos),E,A);let P,O,N;switch(this.type){case Ri:N=T.length/4;const F=new Float32Array(N*4);for(let U=0;U<N;U++)b(T,U*4,F,U*4);P=F,O=Ri;break;case ha:N=T.length/4;const D=new Uint16Array(N*4);for(let U=0;U<N;U++)S(T,U*4,D,U*4);P=D,O=ha;break;default:throw new Error("THREE.RGBELoader: Unsupported type: "+this.type)}return{width:E,height:A,data:P,header:_.string,gamma:_.gamma,exposure:_.exposure,type:O}}setDataType(e){return this.type=e,this}load(e,t,r,i){function a(o,s){switch(o.type){case Ri:case ha:"colorSpace"in o?o.colorSpace="srgb-linear":o.encoding=3e3,o.minFilter=dr,o.magFilter=dr,o.generateMipmaps=!1,o.flipY=!0;break}t&&t(o,s)}return super.load(e,a,r,i)}}const Tm=Lz>=152;class aY extends jC{constructor(e){super(e),this.type=ha}parse(e){const D=Math.pow(2.7182818,2.2);function U(V,Y){for(var ge=0,j=0;j<65536;++j)(j==0||V[j>>3]&1<<(j&7))&&(Y[ge++]=j);for(var ne=ge-1;ge<65536;)Y[ge++]=0;return ne}function G(V){for(var Y=0;Y<16384;Y++)V[Y]={},V[Y].len=0,V[Y].lit=0,V[Y].p=null}const q={l:0,c:0,lc:0};function Q(V,Y,ge,j,ne){for(;ge<V;)Y=Y<<8|bt(j,ne),ge+=8;ge-=V,q.l=Y>>ge&(1<<V)-1,q.c=Y,q.lc=ge}const H=new Array(59);function te(V){for(var Y=0;Y<=58;++Y)H[Y]=0;for(var Y=0;Y<65537;++Y)H[V[Y]]+=1;for(var ge=0,Y=58;Y>0;--Y){var j=ge+H[Y]>>1;H[Y]=ge,ge=j}for(var Y=0;Y<65537;++Y){var ne=V[Y];ne>0&&(V[Y]=ne|H[ne]++<<6)}}function Z(V,Y,ge,j,ne,oe,de){for(var fe=ge,Re=0,Le=0;ne<=oe;ne++){if(fe.value-ge.value>j)return!1;Q(6,Re,Le,V,fe);var Fe=q.l;if(Re=q.c,Le=q.lc,de[ne]=Fe,Fe==63){if(fe.value-ge.value>j)throw"Something wrong with hufUnpackEncTable";Q(8,Re,Le,V,fe);var Ce=q.l+6;if(Re=q.c,Le=q.lc,ne+Ce>oe+1)throw"Something wrong with hufUnpackEncTable";for(;Ce--;)de[ne++]=0;ne--}else if(Fe>=59){var Ce=Fe-59+2;if(ne+Ce>oe+1)throw"Something wrong with hufUnpackEncTable";for(;Ce--;)de[ne++]=0;ne--}}te(de)}function he(V){return V&63}function X(V){return V>>6}function ae(V,Y,ge,j){for(;Y<=ge;Y++){var ne=X(V[Y]),oe=he(V[Y]);if(ne>>oe)throw"Invalid table entry";if(oe>14){var de=j[ne>>oe-14];if(de.len)throw"Invalid table entry";if(de.lit++,de.p){var fe=de.p;de.p=new Array(de.lit);for(var Re=0;Re<de.lit-1;++Re)de.p[Re]=fe[Re]}else de.p=new Array(1);de.p[de.lit-1]=Y}else if(oe)for(var Le=0,Re=1<<14-oe;Re>0;Re--){var de=j[(ne<<14-oe)+Le];if(de.len||de.p)throw"Invalid table entry";de.len=oe,de.lit=Y,Le++}}return!0}const z={c:0,lc:0};function re(V,Y,ge,j){V=V<<8|bt(ge,j),Y+=8,z.c=V,z.lc=Y}const le={c:0,lc:0};function ce(V,Y,ge,j,ne,oe,de,fe,Re,Le){if(V==Y){j<8&&(re(ge,j,ne,de),ge=z.c,j=z.lc),j-=8;var Fe=ge>>j,Fe=new Uint8Array([Fe])[0];if(Re.value+Fe>Le)return!1;for(var Ce=fe[Re.value-1];Fe-- >0;)fe[Re.value++]=Ce}else if(Re.value<Le)fe[Re.value++]=V;else return!1;le.c=ge,le.lc=j}function be(V){return V&65535}function Oe(V){var Y=be(V);return Y>32767?Y-65536:Y}const ke={a:0,b:0};function He(V,Y){var ge=Oe(V),j=Oe(Y),ne=j,oe=ge+(ne&1)+(ne>>1),de=oe,fe=oe-ne;ke.a=de,ke.b=fe}function Je(V,Y){var ge=be(V),j=be(Y),ne=ge-(j>>1)&65535,oe=j+ne-32768&65535;ke.a=oe,ke.b=ne}function Ue(V,Y,ge,j,ne,oe,de){for(var fe=de<16384,Re=ge>ne?ne:ge,Le=1,Fe;Le<=Re;)Le<<=1;for(Le>>=1,Fe=Le,Le>>=1;Le>=1;){for(var Ce=0,Mt=Ce+oe*(ne-Fe),Ze=oe*Le,tt=oe*Fe,Et=j*Le,Ft=j*Fe,jt,Yt,pt,ht;Ce<=Mt;Ce+=tt){for(var Xt=Ce,Gt=Ce+j*(ge-Fe);Xt<=Gt;Xt+=Ft){var Kt=Xt+Et,kn=Xt+Ze,Qn=kn+Et;fe?(He(V[Xt+Y],V[kn+Y]),jt=ke.a,pt=ke.b,He(V[Kt+Y],V[Qn+Y]),Yt=ke.a,ht=ke.b,He(jt,Yt),V[Xt+Y]=ke.a,V[Kt+Y]=ke.b,He(pt,ht),V[kn+Y]=ke.a,V[Qn+Y]=ke.b):(Je(V[Xt+Y],V[kn+Y]),jt=ke.a,pt=ke.b,Je(V[Kt+Y],V[Qn+Y]),Yt=ke.a,ht=ke.b,Je(jt,Yt),V[Xt+Y]=ke.a,V[Kt+Y]=ke.b,Je(pt,ht),V[kn+Y]=ke.a,V[Qn+Y]=ke.b)}if(ge&Le){var kn=Xt+Ze;fe?He(V[Xt+Y],V[kn+Y]):Je(V[Xt+Y],V[kn+Y]),jt=ke.a,V[kn+Y]=ke.b,V[Xt+Y]=jt}}if(ne&Le)for(var Xt=Ce,Gt=Ce+j*(ge-Fe);Xt<=Gt;Xt+=Ft){var Kt=Xt+Et;fe?He(V[Xt+Y],V[Kt+Y]):Je(V[Xt+Y],V[Kt+Y]),jt=ke.a,V[Kt+Y]=ke.b,V[Xt+Y]=jt}Fe=Le,Le>>=1}return Ce}function qe(V,Y,ge,j,ne,oe,de,fe,Re,Le){for(var Fe=0,Ce=0,Mt=fe,Ze=Math.trunc(ne.value+(oe+7)/8);ne.value<Ze;)for(re(Fe,Ce,ge,ne),Fe=z.c,Ce=z.lc;Ce>=14;){var tt=Fe>>Ce-14&16383,Et=Y[tt];if(Et.len)Ce-=Et.len,ce(Et.lit,de,Fe,Ce,ge,j,ne,Re,Le,Mt),Fe=le.c,Ce=le.lc;else{if(!Et.p)throw"hufDecode issues";var Ft;for(Ft=0;Ft<Et.lit;Ft++){for(var jt=he(V[Et.p[Ft]]);Ce<jt&&ne.value<Ze;)re(Fe,Ce,ge,ne),Fe=z.c,Ce=z.lc;if(Ce>=jt&&X(V[Et.p[Ft]])==(Fe>>Ce-jt&(1<<jt)-1)){Ce-=jt,ce(Et.p[Ft],de,Fe,Ce,ge,j,ne,Re,Le,Mt),Fe=le.c,Ce=le.lc;break}}if(Ft==Et.lit)throw"hufDecode issues"}}var Yt=8-oe&7;for(Fe>>=Yt,Ce-=Yt;Ce>0;){var Et=Y[Fe<<14-Ce&16383];if(Et.len)Ce-=Et.len,ce(Et.lit,de,Fe,Ce,ge,j,ne,Re,Le,Mt),Fe=le.c,Ce=le.lc;else throw"hufDecode issues"}return!0}function Qe(V,Y,ge,j,ne,oe){var de={value:0},fe=ge.value,Re=_t(Y,ge),Le=_t(Y,ge);ge.value+=4;var Fe=_t(Y,ge);if(ge.value+=4,Re<0||Re>=65537||Le<0||Le>=65537)throw"Something wrong with HUF_ENCSIZE";var Ce=new Array(65537),Mt=new Array(16384);G(Mt);var Ze=j-(ge.value-fe);if(Z(V,Y,ge,Ze,Re,Le,Ce),Fe>8*(j-(ge.value-fe)))throw"Something wrong with hufUncompress";ae(Ce,Re,Le,Mt),qe(Ce,Mt,V,Y,ge,Fe,Le,oe,ne,de)}function K(V,Y,ge){for(var j=0;j<ge;++j)Y[j]=V[Y[j]]}function je(V){for(var Y=1;Y<V.length;Y++){var ge=V[Y-1]+V[Y]-128;V[Y]=ge}}function Ae(V,Y){for(var ge=0,j=Math.floor((V.length+1)/2),ne=0,oe=V.length-1;!(ne>oe||(Y[ne++]=V[ge++],ne>oe));)Y[ne++]=V[j++]}function We(V){for(var Y=V.byteLength,ge=new Array,j=0,ne=new DataView(V);Y>0;){var oe=ne.getInt8(j++);if(oe<0){var de=-oe;Y-=de+1;for(var fe=0;fe<de;fe++)ge.push(ne.getUint8(j++))}else{var de=oe;Y-=2;for(var Re=ne.getUint8(j++),fe=0;fe<de+1;fe++)ge.push(Re)}}return ge}function Ne(V,Y,ge,j,ne,oe){var Kt=new DataView(oe.buffer),de=ge[V.idx[0]].width,fe=ge[V.idx[0]].height,Re=3,Le=Math.floor(de/8),Fe=Math.ceil(de/8),Ce=Math.ceil(fe/8),Mt=de-(Fe-1)*8,Ze=fe-(Ce-1)*8,tt={value:0},Et=new Array(Re),Ft=new Array(Re),jt=new Array(Re),Yt=new Array(Re),pt=new Array(Re);for(let ln=0;ln<Re;++ln)pt[ln]=Y[V.idx[ln]],Et[ln]=ln<1?0:Et[ln-1]+Fe*Ce,Ft[ln]=new Float32Array(64),jt[ln]=new Uint16Array(64),Yt[ln]=new Uint16Array(Fe*64);for(let ln=0;ln<Ce;++ln){var ht=8;ln==Ce-1&&(ht=Ze);var Xt=8;for(let on=0;on<Fe;++on){on==Fe-1&&(Xt=Mt);for(let yn=0;yn<Re;++yn)jt[yn].fill(0),jt[yn][0]=ne[Et[yn]++],gt(tt,j,jt[yn]),st(jt[yn],Ft[yn]),J(Ft[yn]);$(Ft);for(let yn=0;yn<Re;++yn)we(Ft[yn],Yt[yn],on*64)}let sr=0;for(let on=0;on<Re;++on){const yn=ge[V.idx[on]].type;for(let Vn=8*ln;Vn<8*ln+ht;++Vn){sr=pt[on][Vn];for(let Ni=0;Ni<Le;++Ni){const Pr=Ni*64+(Vn&7)*8;Kt.setUint16(sr+0*yn,Yt[on][Pr+0],!0),Kt.setUint16(sr+2*yn,Yt[on][Pr+1],!0),Kt.setUint16(sr+4*yn,Yt[on][Pr+2],!0),Kt.setUint16(sr+6*yn,Yt[on][Pr+3],!0),Kt.setUint16(sr+8*yn,Yt[on][Pr+4],!0),Kt.setUint16(sr+10*yn,Yt[on][Pr+5],!0),Kt.setUint16(sr+12*yn,Yt[on][Pr+6],!0),Kt.setUint16(sr+14*yn,Yt[on][Pr+7],!0),sr+=16*yn}}if(Le!=Fe)for(let Vn=8*ln;Vn<8*ln+ht;++Vn){const Ni=pt[on][Vn]+8*Le*2*yn,Pr=Le*64+(Vn&7)*8;for(let oo=0;oo<Xt;++oo)Kt.setUint16(Ni+oo*2*yn,Yt[on][Pr+oo],!0)}}}for(var Gt=new Uint16Array(de),Kt=new DataView(oe.buffer),kn=0;kn<Re;++kn){ge[V.idx[kn]].decoded=!0;var Qn=ge[V.idx[kn]].type;if(ge[kn].type==2)for(var Hn=0;Hn<fe;++Hn){const ln=pt[kn][Hn];for(var vn=0;vn<de;++vn)Gt[vn]=Kt.getUint16(ln+vn*2*Qn,!0);for(var vn=0;vn<de;++vn)Kt.setFloat32(ln+vn*2*Qn,Me(Gt[vn]),!0)}}}function gt(V,Y,ge){for(var j,ne=1;ne<64;)j=Y[V.value],j==65280?ne=64:j>>8==255?ne+=j&255:(ge[ne]=j,ne++),V.value++}function st(V,Y){Y[0]=Me(V[0]),Y[1]=Me(V[1]),Y[2]=Me(V[5]),Y[3]=Me(V[6]),Y[4]=Me(V[14]),Y[5]=Me(V[15]),Y[6]=Me(V[27]),Y[7]=Me(V[28]),Y[8]=Me(V[2]),Y[9]=Me(V[4]),Y[10]=Me(V[7]),Y[11]=Me(V[13]),Y[12]=Me(V[16]),Y[13]=Me(V[26]),Y[14]=Me(V[29]),Y[15]=Me(V[42]),Y[16]=Me(V[3]),Y[17]=Me(V[8]),Y[18]=Me(V[12]),Y[19]=Me(V[17]),Y[20]=Me(V[25]),Y[21]=Me(V[30]),Y[22]=Me(V[41]),Y[23]=Me(V[43]),Y[24]=Me(V[9]),Y[25]=Me(V[11]),Y[26]=Me(V[18]),Y[27]=Me(V[24]),Y[28]=Me(V[31]),Y[29]=Me(V[40]),Y[30]=Me(V[44]),Y[31]=Me(V[53]),Y[32]=Me(V[10]),Y[33]=Me(V[19]),Y[34]=Me(V[23]),Y[35]=Me(V[32]),Y[36]=Me(V[39]),Y[37]=Me(V[45]),Y[38]=Me(V[52]),Y[39]=Me(V[54]),Y[40]=Me(V[20]),Y[41]=Me(V[22]),Y[42]=Me(V[33]),Y[43]=Me(V[38]),Y[44]=Me(V[46]),Y[45]=Me(V[51]),Y[46]=Me(V[55]),Y[47]=Me(V[60]),Y[48]=Me(V[21]),Y[49]=Me(V[34]),Y[50]=Me(V[37]),Y[51]=Me(V[47]),Y[52]=Me(V[50]),Y[53]=Me(V[56]),Y[54]=Me(V[59]),Y[55]=Me(V[61]),Y[56]=Me(V[35]),Y[57]=Me(V[36]),Y[58]=Me(V[48]),Y[59]=Me(V[49]),Y[60]=Me(V[57]),Y[61]=Me(V[58]),Y[62]=Me(V[62]),Y[63]=Me(V[63])}function J(V){const Y=.5*Math.cos(.7853975),ge=.5*Math.cos(3.14159/16),j=.5*Math.cos(3.14159/8),ne=.5*Math.cos(3*3.14159/16),oe=.5*Math.cos(5*3.14159/16),de=.5*Math.cos(3*3.14159/8),fe=.5*Math.cos(7*3.14159/16);for(var Re=new Array(4),Le=new Array(4),Fe=new Array(4),Ce=new Array(4),Mt=0;Mt<8;++Mt){var Ze=Mt*8;Re[0]=j*V[Ze+2],Re[1]=de*V[Ze+2],Re[2]=j*V[Ze+6],Re[3]=de*V[Ze+6],Le[0]=ge*V[Ze+1]+ne*V[Ze+3]+oe*V[Ze+5]+fe*V[Ze+7],Le[1]=ne*V[Ze+1]-fe*V[Ze+3]-ge*V[Ze+5]-oe*V[Ze+7],Le[2]=oe*V[Ze+1]-ge*V[Ze+3]+fe*V[Ze+5]+ne*V[Ze+7],Le[3]=fe*V[Ze+1]-oe*V[Ze+3]+ne*V[Ze+5]-ge*V[Ze+7],Fe[0]=Y*(V[Ze+0]+V[Ze+4]),Fe[3]=Y*(V[Ze+0]-V[Ze+4]),Fe[1]=Re[0]+Re[3],Fe[2]=Re[1]-Re[2],Ce[0]=Fe[0]+Fe[1],Ce[1]=Fe[3]+Fe[2],Ce[2]=Fe[3]-Fe[2],Ce[3]=Fe[0]-Fe[1],V[Ze+0]=Ce[0]+Le[0],V[Ze+1]=Ce[1]+Le[1],V[Ze+2]=Ce[2]+Le[2],V[Ze+3]=Ce[3]+Le[3],V[Ze+4]=Ce[3]-Le[3],V[Ze+5]=Ce[2]-Le[2],V[Ze+6]=Ce[1]-Le[1],V[Ze+7]=Ce[0]-Le[0]}for(var tt=0;tt<8;++tt)Re[0]=j*V[16+tt],Re[1]=de*V[16+tt],Re[2]=j*V[48+tt],Re[3]=de*V[48+tt],Le[0]=ge*V[8+tt]+ne*V[24+tt]+oe*V[40+tt]+fe*V[56+tt],Le[1]=ne*V[8+tt]-fe*V[24+tt]-ge*V[40+tt]-oe*V[56+tt],Le[2]=oe*V[8+tt]-ge*V[24+tt]+fe*V[40+tt]+ne*V[56+tt],Le[3]=fe*V[8+tt]-oe*V[24+tt]+ne*V[40+tt]-ge*V[56+tt],Fe[0]=Y*(V[tt]+V[32+tt]),Fe[3]=Y*(V[tt]-V[32+tt]),Fe[1]=Re[0]+Re[3],Fe[2]=Re[1]-Re[2],Ce[0]=Fe[0]+Fe[1],Ce[1]=Fe[3]+Fe[2],Ce[2]=Fe[3]-Fe[2],Ce[3]=Fe[0]-Fe[1],V[0+tt]=Ce[0]+Le[0],V[8+tt]=Ce[1]+Le[1],V[16+tt]=Ce[2]+Le[2],V[24+tt]=Ce[3]+Le[3],V[32+tt]=Ce[3]-Le[3],V[40+tt]=Ce[2]-Le[2],V[48+tt]=Ce[1]-Le[1],V[56+tt]=Ce[0]-Le[0]}function $(V){for(var Y=0;Y<64;++Y){var ge=V[0][Y],j=V[1][Y],ne=V[2][Y];V[0][Y]=ge+1.5747*ne,V[1][Y]=ge-.1873*j-.4682*ne,V[2][Y]=ge+1.8556*j}}function we(V,Y,ge){for(var j=0;j<64;++j)Y[ge+j]=xf.toHalfFloat(Xe(V[j]))}function Xe(V){return V<=1?Math.sign(V)*Math.pow(Math.abs(V),2.2):Math.sign(V)*Math.pow(D,Math.abs(V)-1)}function $e(V){return new DataView(V.array.buffer,V.offset.value,V.size)}function Ge(V){var Y=V.viewer.buffer.slice(V.offset.value,V.offset.value+V.size),ge=new Uint8Array(We(Y)),j=new Uint8Array(ge.length);return je(ge),Ae(ge,j),new DataView(j.buffer)}function Tt(V){var Y=V.array.slice(V.offset.value,V.offset.value+V.size),ge=Py(Y),j=new Uint8Array(ge.length);return je(ge),Ae(ge,j),new DataView(j.buffer)}function ft(V){for(var Y=V.viewer,ge={value:V.offset.value},j=new Uint16Array(V.width*V.scanlineBlockSize*(V.channels*V.type)),ne=new Uint8Array(8192),oe=0,de=new Array(V.channels),fe=0;fe<V.channels;fe++)de[fe]={},de[fe].start=oe,de[fe].end=de[fe].start,de[fe].nx=V.width,de[fe].ny=V.lines,de[fe].size=V.type,oe+=de[fe].nx*de[fe].ny*de[fe].size;var Re=me(Y,ge),Le=me(Y,ge);if(Le>=8192)throw"Something is wrong with PIZ_COMPRESSION BITMAP_SIZE";if(Re<=Le)for(var fe=0;fe<Le-Re+1;fe++)ne[fe+Re]=pe(Y,ge);var Fe=new Uint16Array(65536),Ce=U(ne,Fe),Mt=_t(Y,ge);Qe(V.array,Y,ge,Mt,j,oe);for(var fe=0;fe<V.channels;++fe)for(var Ze=de[fe],tt=0;tt<de[fe].size;++tt)Ue(j,Ze.start+tt,Ze.nx,Ze.size,Ze.ny,Ze.nx*Ze.size,Ce);K(Fe,j,oe);for(var Et=0,Ft=new Uint8Array(j.buffer.byteLength),jt=0;jt<V.lines;jt++)for(var Yt=0;Yt<V.channels;Yt++){var Ze=de[Yt],pt=Ze.nx*Ze.size,ht=new Uint8Array(j.buffer,Ze.end*2,pt*2);Ft.set(ht,Et),Et+=pt*2,Ze.end+=pt}return new DataView(Ft.buffer)}function yt(V){var Y=V.array.slice(V.offset.value,V.offset.value+V.size),ge=Py(Y);const j=V.lines*V.channels*V.width,ne=V.type==1?new Uint16Array(j):new Uint32Array(j);let oe=0,de=0;const fe=new Array(4);for(let Re=0;Re<V.lines;Re++)for(let Le=0;Le<V.channels;Le++){let Fe=0;switch(V.type){case 1:fe[0]=oe,fe[1]=fe[0]+V.width,oe=fe[1]+V.width;for(let Ce=0;Ce<V.width;++Ce){const Mt=ge[fe[0]++]<<8|ge[fe[1]++];Fe+=Mt,ne[de]=Fe,de++}break;case 2:fe[0]=oe,fe[1]=fe[0]+V.width,fe[2]=fe[1]+V.width,oe=fe[2]+V.width;for(let Ce=0;Ce<V.width;++Ce){const Mt=ge[fe[0]++]<<24|ge[fe[1]++]<<16|ge[fe[2]++]<<8;Fe+=Mt,ne[de]=Fe,de++}break}}return new DataView(ne.buffer)}function Nt(V){var Y=V.viewer,ge={value:V.offset.value},j=new Uint8Array(V.width*V.lines*(V.channels*V.type*2)),ne={version:ze(Y,ge),unknownUncompressedSize:ze(Y,ge),unknownCompressedSize:ze(Y,ge),acCompressedSize:ze(Y,ge),dcCompressedSize:ze(Y,ge),rleCompressedSize:ze(Y,ge),rleUncompressedSize:ze(Y,ge),rleRawSize:ze(Y,ge),totalAcUncompressedCount:ze(Y,ge),totalDcUncompressedCount:ze(Y,ge),acCompression:ze(Y,ge)};if(ne.version<2)throw"EXRLoader.parse: "+Zr.compression+" version "+ne.version+" is unsupported";for(var oe=new Array,de=me(Y,ge)-2;de>0;){var fe=Vt(Y.buffer,ge),Re=pe(Y,ge),Le=Re>>2&3,Fe=(Re>>4)-1,Ce=new Int8Array([Fe])[0],Mt=pe(Y,ge);oe.push({name:fe,index:Ce,type:Mt,compression:Le}),de-=fe.length+3}for(var Ze=Zr.channels,tt=new Array(V.channels),Et=0;Et<V.channels;++Et){var Ft=tt[Et]={},jt=Ze[Et];Ft.name=jt.name,Ft.compression=0,Ft.decoded=!1,Ft.type=jt.pixelType,Ft.pLinear=jt.pLinear,Ft.width=V.width,Ft.height=V.lines}for(var Yt={idx:new Array(3)},pt=0;pt<V.channels;++pt)for(var Ft=tt[pt],Et=0;Et<oe.length;++Et){var ht=oe[Et];Ft.name==ht.name&&(Ft.compression=ht.compression,ht.index>=0&&(Yt.idx[ht.index]=pt),Ft.offset=pt)}if(ne.acCompressedSize>0)switch(ne.acCompression){case 0:var Kt=new Uint16Array(ne.totalAcUncompressedCount);Qe(V.array,Y,ge,ne.acCompressedSize,Kt,ne.totalAcUncompressedCount);break;case 1:var Xt=V.array.slice(ge.value,ge.value+ne.totalAcUncompressedCount),Gt=Py(Xt),Kt=new Uint16Array(Gt.buffer);ge.value+=ne.totalAcUncompressedCount;break}if(ne.dcCompressedSize>0){var kn={array:V.array,offset:ge,size:ne.dcCompressedSize},Qn=new Uint16Array(Tt(kn).buffer);ge.value+=ne.dcCompressedSize}if(ne.rleRawSize>0){var Xt=V.array.slice(ge.value,ge.value+ne.rleCompressedSize),Gt=Py(Xt),Hn=We(Gt.buffer);ge.value+=ne.rleCompressedSize}for(var vn=0,ln=new Array(tt.length),Et=0;Et<ln.length;++Et)ln[Et]=new Array;for(var sr=0;sr<V.lines;++sr)for(var on=0;on<tt.length;++on)ln[on].push(vn),vn+=tt[on].width*V.type*2;Ne(Yt,ln,tt,Kt,Qn,j);for(var Et=0;Et<tt.length;++Et){var Ft=tt[Et];if(!Ft.decoded)switch(Ft.compression){case 2:for(var yn=0,Vn=0,sr=0;sr<V.lines;++sr){for(var Ni=ln[Et][yn],Pr=0;Pr<Ft.width;++Pr){for(var oo=0;oo<2*Ft.type;++oo)j[Ni++]=Hn[Vn+oo*Ft.width*Ft.height];Vn++}yn++}break;case 1:default:throw"EXRLoader.parse: unsupported channel compression"}}return new DataView(j.buffer)}function Vt(V,Y){for(var ge=new Uint8Array(V),j=0;ge[Y.value+j]!=0;)j+=1;var ne=new TextDecoder().decode(ge.slice(Y.value,Y.value+j));return Y.value=Y.value+j+1,ne}function Ke(V,Y,ge){var j=new TextDecoder().decode(new Uint8Array(V).slice(Y.value,Y.value+ge));return Y.value=Y.value+ge,j}function an(V,Y){var ge=zt(V,Y),j=_t(V,Y);return[ge,j]}function rn(V,Y){var ge=_t(V,Y),j=_t(V,Y);return[ge,j]}function zt(V,Y){var ge=V.getInt32(Y.value,!0);return Y.value=Y.value+4,ge}function _t(V,Y){var ge=V.getUint32(Y.value,!0);return Y.value=Y.value+4,ge}function bt(V,Y){var ge=V[Y.value];return Y.value=Y.value+1,ge}function pe(V,Y){var ge=V.getUint8(Y.value);return Y.value=Y.value+1,ge}const ze=function(V,Y){let ge;return"getBigInt64"in DataView.prototype?ge=Number(V.getBigInt64(Y.value,!0)):ge=V.getUint32(Y.value+4,!0)+Number(V.getUint32(Y.value,!0)<<32),Y.value+=8,ge};function at(V,Y){var ge=V.getFloat32(Y.value,!0);return Y.value+=4,ge}function vt(V,Y){return xf.toHalfFloat(at(V,Y))}function Me(V){var Y=(V&31744)>>10,ge=V&1023;return(V>>15?-1:1)*(Y?Y===31?ge?NaN:1/0:Math.pow(2,Y-15)*(1+ge/1024):6103515625e-14*(ge/1024))}function me(V,Y){var ge=V.getUint16(Y.value,!0);return Y.value+=2,ge}function it(V,Y){return Me(me(V,Y))}function dt(V,Y,ge,j){for(var ne=ge.value,oe=[];ge.value<ne+j-1;){var de=Vt(Y,ge),fe=zt(V,ge),Re=pe(V,ge);ge.value+=3;var Le=zt(V,ge),Fe=zt(V,ge);oe.push({name:de,pixelType:fe,pLinear:Re,xSampling:Le,ySampling:Fe})}return ge.value+=1,oe}function Bt(V,Y){var ge=at(V,Y),j=at(V,Y),ne=at(V,Y),oe=at(V,Y),de=at(V,Y),fe=at(V,Y),Re=at(V,Y),Le=at(V,Y);return{redX:ge,redY:j,greenX:ne,greenY:oe,blueX:de,blueY:fe,whiteX:Re,whiteY:Le}}function Pt(V,Y){var ge=["NO_COMPRESSION","RLE_COMPRESSION","ZIPS_COMPRESSION","ZIP_COMPRESSION","PIZ_COMPRESSION","PXR24_COMPRESSION","B44_COMPRESSION","B44A_COMPRESSION","DWAA_COMPRESSION","DWAB_COMPRESSION"],j=pe(V,Y);return ge[j]}function sn(V,Y){var ge=_t(V,Y),j=_t(V,Y),ne=_t(V,Y),oe=_t(V,Y);return{xMin:ge,yMin:j,xMax:ne,yMax:oe}}function gn(V,Y){var ge=["INCREASING_Y"],j=pe(V,Y);return ge[j]}function Tn(V,Y){var ge=at(V,Y),j=at(V,Y);return[ge,j]}function jn(V,Y){var ge=at(V,Y),j=at(V,Y),ne=at(V,Y);return[ge,j,ne]}function fn(V,Y,ge,j,ne){if(j==="string"||j==="stringvector"||j==="iccProfile")return Ke(Y,ge,ne);if(j==="chlist")return dt(V,Y,ge,ne);if(j==="chromaticities")return Bt(V,ge);if(j==="compression")return Pt(V,ge);if(j==="box2i")return sn(V,ge);if(j==="lineOrder")return gn(V,ge);if(j==="float")return at(V,ge);if(j==="v2f")return Tn(V,ge);if(j==="v3f")return jn(V,ge);if(j==="int")return zt(V,ge);if(j==="rational")return an(V,ge);if(j==="timecode")return rn(V,ge);if(j==="preview")return ge.value+=ne,"skipped";ge.value+=ne}function yr(V,Y,ge){const j={};if(V.getUint32(0,!0)!=20000630)throw"THREE.EXRLoader: provided file doesn't appear to be in OpenEXR format.";j.version=V.getUint8(4);const ne=V.getUint8(5);j.spec={singleTile:!!(ne&2),longName:!!(ne&4),deepFormat:!!(ne&8),multiPart:!!(ne&16)},ge.value=8;for(var oe=!0;oe;){var de=Vt(Y,ge);if(de==0)oe=!1;else{var fe=Vt(Y,ge),Re=_t(V,ge),Le=fn(V,Y,ge,fe,Re);Le===void 0?console.warn(`EXRLoader.parse: skipped unknown header attribute type '${fe}'.`):j[de]=Le}}if((ne&-5)!=0)throw console.error("EXRHeader:",j),"THREE.EXRLoader: provided file is currently unsupported.";return j}function Fr(V,Y,ge,j,ne){const oe={size:0,viewer:Y,array:ge,offset:j,width:V.dataWindow.xMax-V.dataWindow.xMin+1,height:V.dataWindow.yMax-V.dataWindow.yMin+1,channels:V.channels.length,bytesPerLine:null,lines:null,inputSize:null,type:V.channels[0].pixelType,uncompress:null,getter:null,format:null,[Tm?"colorSpace":"encoding"]:null};switch(V.compression){case"NO_COMPRESSION":oe.lines=1,oe.uncompress=$e;break;case"RLE_COMPRESSION":oe.lines=1,oe.uncompress=Ge;break;case"ZIPS_COMPRESSION":oe.lines=1,oe.uncompress=Tt;break;case"ZIP_COMPRESSION":oe.lines=16,oe.uncompress=Tt;break;case"PIZ_COMPRESSION":oe.lines=32,oe.uncompress=ft;break;case"PXR24_COMPRESSION":oe.lines=16,oe.uncompress=yt;break;case"DWAA_COMPRESSION":oe.lines=32,oe.uncompress=Nt;break;case"DWAB_COMPRESSION":oe.lines=256,oe.uncompress=Nt;break;default:throw"EXRLoader.parse: "+V.compression+" is unsupported"}if(oe.scanlineBlockSize=oe.lines,oe.type==1)switch(ne){case Ri:oe.getter=it,oe.inputSize=2;break;case ha:oe.getter=me,oe.inputSize=2;break}else if(oe.type==2)switch(ne){case Ri:oe.getter=at,oe.inputSize=4;break;case ha:oe.getter=vt,oe.inputSize=4}else throw"EXRLoader.parse: unsupported pixelType "+oe.type+" for "+V.compression+".";oe.blockCount=(V.dataWindow.yMax+1)/oe.scanlineBlockSize;for(var de=0;de<oe.blockCount;de++)ze(Y,j);oe.outputChannels=oe.channels==3?4:oe.channels;const fe=oe.width*oe.height*oe.outputChannels;switch(ne){case Ri:oe.byteArray=new Float32Array(fe),oe.channels<oe.outputChannels&&oe.byteArray.fill(1,0,fe);break;case ha:oe.byteArray=new Uint16Array(fe),oe.channels<oe.outputChannels&&oe.byteArray.fill(15360,0,fe);break;default:console.error("THREE.EXRLoader: unsupported type: ",ne);break}return oe.bytesPerLine=oe.width*oe.inputSize*oe.channels,oe.outputChannels==4?oe.format=Ki:oe.format=lC,Tm?oe.colorSpace="srgb-linear":oe.encoding=3e3,oe}const ao=new DataView(e),Ba=new Uint8Array(e),gi={value:0},Zr=yr(ao,e,gi),tn=Fr(Zr,ao,Ba,gi,this.type),Ws={value:0},$l={R:0,G:1,B:2,A:3,Y:0};for(let V=0;V<tn.height/tn.scanlineBlockSize;V++){const Y=_t(ao,gi);tn.size=_t(ao,gi),tn.lines=Y+tn.scanlineBlockSize>tn.height?tn.height-Y:tn.scanlineBlockSize;const j=tn.size<tn.lines*tn.bytesPerLine?tn.uncompress(tn):$e(tn);gi.value+=tn.size;for(let ne=0;ne<tn.scanlineBlockSize;ne++){const oe=ne+V*tn.scanlineBlockSize;if(oe>=tn.height)break;for(let de=0;de<tn.channels;de++){const fe=$l[Zr.channels[de].name];for(let Re=0;Re<tn.width;Re++){Ws.value=(ne*(tn.channels*tn.width)+de*tn.width+Re)*tn.inputSize;const Le=(tn.height-1-oe)*(tn.width*tn.outputChannels)+Re*tn.outputChannels+fe;tn.byteArray[Le]=tn.getter(j,Ws)}}}}return{header:Zr,width:tn.width,height:tn.height,data:tn.byteArray,format:tn.format,[Tm?"colorSpace":"encoding"]:tn[Tm?"colorSpace":"encoding"],type:this.type}}setDataType(e){return this.type=e,this}load(e,t,r,i){function a(o,s){Tm?o.colorSpace=s.colorSpace:o.encoding=s.encoding,o.minFilter=dr,o.magFilter=dr,o.generateMipmaps=!1,o.flipY=!1,t&&t(o,s)}return super.load(e,a,r,i)}}function oY(n,e,t,r){const i=class extends Da{constructor(o={}){const s=Object.entries(n);super({uniforms:s.reduce((u,[c,h])=>{const d=bC.clone({[c]:{value:h}});return{...u,...d}},{}),vertexShader:e,fragmentShader:t}),this.key="",s.forEach(([u])=>Object.defineProperty(this,u,{get:()=>this.uniforms[u].value,set:c=>this.uniforms[u].value=c})),Object.assign(this,o)}};return i.key=c_.generateUUID(),i}const nI=n=>n===Object(n)&&!Array.isArray(n)&&typeof n!="function";function eP(n,e){const t=fa(i=>i.gl),r=gp(I_,nI(n)?Object.values(n):n);if(ee.useLayoutEffect(()=>{e==null||e(r)},[e]),ee.useEffect(()=>{"initTexture"in t&&(Array.isArray(r)?r:[r]).forEach(t.initTexture)},[t,r]),nI(n)){const i={};let a=0;for(const o in n)i[o]=r[a++];return i}else return r}eP.preload=n=>gp.preload(I_,n);eP.clear=n=>gp.clear(I_,n);const sY=ee.forwardRef(({makeDefault:n,camera:e,regress:t,domElement:r,enableDamping:i=!0,keyEvents:a=!1,onChange:o,onStart:s,onEnd:u,...c},h)=>{const d=fa(O=>O.invalidate),g=fa(O=>O.camera),y=fa(O=>O.gl),b=fa(O=>O.events),S=fa(O=>O.setEvents),x=fa(O=>O.set),_=fa(O=>O.get),E=fa(O=>O.performance),A=e||g,T=r||b.connected||y.domElement,P=ee.useMemo(()=>new tY(A),[A]);return qf(()=>{P.enabled&&P.update()},-1),ee.useEffect(()=>(a&&P.connect(a===!0?T:a),P.connect(T),()=>void P.dispose()),[a,T,t,P,d]),ee.useEffect(()=>{const O=D=>{d(),t&&E.regress(),o&&o(D)},N=D=>{s&&s(D)},F=D=>{u&&u(D)};return P.addEventListener("change",O),P.addEventListener("start",N),P.addEventListener("end",F),()=>{P.removeEventListener("start",N),P.removeEventListener("end",F),P.removeEventListener("change",O)}},[o,s,u,P,d,S]),ee.useEffect(()=>{if(n){const O=_().controls;return x({controls:P}),()=>x({controls:O})}},[n,P]),ee.createElement("primitive",Fl({ref:h,object:P,enableDamping:i},c))});var j1={exports:{}},H1,rI;function lY(){if(rI)return H1;rI=1;var n="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return H1=n,H1}var V1,iI;function uY(){if(iI)return V1;iI=1;var n=lY();function e(){}function t(){}return t.resetWarningCache=e,V1=function(){function r(o,s,u,c,h,d){if(d!==n){var g=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw g.name="Invariant Violation",g}}r.isRequired=r;function i(){return r}var a={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:i,element:r,elementType:r,instanceOf:i,node:r,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:t,resetWarningCache:e};return a.PropTypes=a,a},V1}var aI;function cY(){return aI||(aI=1,j1.exports=uY()()),j1.exports}var fY=cY();const Dn=Xn(fY);function L_(n,e){const t=n+"Geometry";return ee.forwardRef(({args:r,children:i,...a},o)=>{const s=ee.useRef(null);return ee.useImperativeHandle(o,()=>s.current),ee.useLayoutEffect(()=>void(e==null?void 0:e(s.current))),ee.createElement("mesh",Fl({ref:s},a),ee.createElement(t,{attach:"geometry",args:r}),i)})}const hY=L_("box"),Cm=L_("cylinder"),Oy=L_("torus"),dY=L_("icosahedron"),Os=1e-5;function pY(n,e,t){const r=new Qu,i=t-Os;return r.absarc(Os,Os,Os,-Math.PI/2,-Math.PI,!0),r.absarc(Os,e-i*2,Os,Math.PI,Math.PI/2,!0),r.absarc(n-i*2,e-i*2,Os,Math.PI/2,0,!0),r.absarc(n-i*2,Os,Os,0,-Math.PI/2,!0),r}const G1=ee.forwardRef(function({args:[e=1,t=1,r=1]=[],radius:i=.05,steps:a=1,smoothness:o=4,bevelSegments:s=4,creaseAngle:u=.4,children:c,...h},d){const g=ee.useMemo(()=>pY(e,t,i),[e,t,i]),y=ee.useMemo(()=>({depth:r-i*2,bevelEnabled:!0,bevelSegments:s*2,steps:a,bevelSize:i-Os,bevelThickness:i,curveSegments:o}),[r,i,o]),b=ee.useRef(null);return ee.useLayoutEffect(()=>{b.current&&(b.current.center(),IX(b.current,u))},[g,y]),ee.createElement("mesh",Fl({ref:d},h),ee.createElement("extrudeGeometry",{ref:b,args:[g,y]}),c)}),mY=ee.forwardRef(({children:n,enabled:e=!0,speed:t=1,rotationIntensity:r=1,floatIntensity:i=1,floatingRange:a=[-.1,.1],...o},s)=>{const u=ee.useRef(null),c=ee.useRef(Math.random()*1e4);return qf(h=>{var d,g;if(!e||t===0)return;const y=c.current+h.clock.getElapsedTime();u.current.rotation.x=Math.cos(y/4*t)/8*r,u.current.rotation.y=Math.sin(y/4*t)/8*r,u.current.rotation.z=Math.sin(y/4*t)/20*r;let b=Math.sin(y/4*t)/10;b=c_.mapLinear(b,-.1,.1,(d=a==null?void 0:a[0])!==null&&d!==void 0?d:-.1,(g=a==null?void 0:a[1])!==null&&g!==void 0?g:.1),u.current.position.y=b*i,u.current.updateMatrix()}),ee.createElement("group",o,ee.createElement("group",{ref:OX([u,s]),matrixAutoUpdate:!1},n))}),W1={apartment:"lebombo_1k.hdr",city:"potsdamer_platz_1k.hdr",dawn:"kiara_1_dawn_1k.hdr",forest:"forest_slope_1k.hdr",lobby:"st_fagans_interior_1k.hdr",night:"dikhololo_night_1k.hdr",park:"rooitou_park_1k.hdr",studio:"studio_small_03_1k.hdr",sunset:"venice_sunset_1k.hdr",warehouse:"empty_warehouse_01_1k.hdr"},gY="https://raw.githack.com/pmndrs/drei-assets/456060a26bbeb8fdf79326f224b6d99b8bcce736/hdri/",oI=n=>Array.isArray(n);function jz({files:n=["/px.png","/nx.png","/py.png","/ny.png","/pz.png","/nz.png"],path:e="",preset:t=void 0,encoding:r=void 0,extensions:i}={}){var a;let o=null,s=!1,u;if(t){if(!(t in W1))throw new Error("Preset must be one of: "+Object.keys(W1).join(", "));n=W1[t],e=gY}if(s=oI(n),u=oI(n)?"cube":n.startsWith("data:application/exr")?"exr":n.startsWith("data:application/hdr")?"hdr":(a=n.split(".").pop())==null||(a=a.split("?"))==null||(a=a.shift())==null?void 0:a.toLowerCase(),o=s?JB:u==="hdr"?iY:u==="exr"?aY:null,!o)throw new Error("useEnvironment: Unrecognized file extension: "+n);const c=gp(o,s?[n]:n,y=>{y.setPath==null||y.setPath(e),i&&i(y)}),h=s?c[0]:c;h.mapping=s?zs:zd;const d=3001,g=3e3;return"colorSpace"in h?h.colorSpace=r??s?"srgb":"srgb-linear":h.encoding=r??s?d:g,h}const vY=n=>n.current&&n.current.isScene,yY=n=>vY(n)?n.current:n;function tP(n,e,t,r,i=0){const a=yY(e||t),o=a.background,s=a.environment,u=a.backgroundBlurriness||0;return n!=="only"&&(a.environment=r),n&&(a.background=r),n&&a.backgroundBlurriness!==void 0&&(a.backgroundBlurriness=i),()=>{n!=="only"&&(a.environment=s),n&&(a.background=o),n&&a.backgroundBlurriness!==void 0&&(a.backgroundBlurriness=u)}}function nP({scene:n,background:e=!1,blur:t,map:r}){const i=fa(a=>a.scene);return ee.useLayoutEffect(()=>{if(r)return tP(e,n,i,r,t)},[i,n,r,e,t]),null}function Hz({background:n=!1,scene:e,blur:t,...r}){const i=jz(r),a=fa(o=>o.scene);return ee.useLayoutEffect(()=>tP(n,e,a,i,t),[i,n,e,a,t]),null}function xY({children:n,near:e=1,far:t=1e3,resolution:r=256,frames:i=1,map:a,background:o=!1,blur:s,scene:u,files:c,path:h,preset:d=void 0,extensions:g}){const y=fa(A=>A.gl),b=fa(A=>A.scene),S=ee.useRef(null),[x]=ee.useState(()=>new gg),_=ee.useMemo(()=>{const A=new SC(r);return A.texture.type=ha,A},[r]);ee.useLayoutEffect(()=>(i===1&&S.current.update(y,x),tP(o,u,b,_.texture,s)),[n,x,_.texture,u,b,o,i,y]);let E=1;return qf(()=>{(i===1/0||E<i)&&(S.current.update(y,x),E++)}),ee.createElement(ee.Fragment,null,dX(ee.createElement(ee.Fragment,null,n,ee.createElement("cubeCamera",{ref:S,args:[e,t,_]}),c||d?ee.createElement(Hz,{background:!0,files:c,preset:d,path:h,extensions:g}):a?ee.createElement(nP,{background:!0,map:a,extensions:g}):null),x))}function _Y(n){var e,t,r,i;const a=jz(n),o=n.map||a;ee.useMemo(()=>KC({GroundProjectedEnvImpl:$X}),[]);const s=ee.useMemo(()=>[o],[o]),u=(e=n.ground)==null?void 0:e.height,c=(t=n.ground)==null?void 0:t.radius,h=(r=(i=n.ground)==null?void 0:i.scale)!==null&&r!==void 0?r:1e3;return ee.createElement(ee.Fragment,null,ee.createElement(nP,Fl({},n,{map:o})),ee.createElement("groundProjectedEnvImpl",{args:s,scale:h,height:u,radius:c}))}function bY(n){return n.ground?ee.createElement(_Y,n):n.map?ee.createElement(nP,n):n.children?ee.createElement(xY,n):ee.createElement(Hz,n)}const SY=ee.forwardRef(({scale:n=10,frames:e=1/0,opacity:t=1,width:r=1,height:i=1,blur:a=1,near:o=0,far:s=10,resolution:u=512,smooth:c=!0,color:h="#000000",depthWrite:d=!1,renderOrder:g,...y},b)=>{const S=ee.useRef(null),x=fa(H=>H.scene),_=fa(H=>H.gl),E=ee.useRef(null);r=r*(Array.isArray(n)?n[0]:n||1),i=i*(Array.isArray(n)?n[1]:n||1);const[A,T,P,O,N,F,D]=ee.useMemo(()=>{const H=new ro(u,u),te=new ro(u,u);te.texture.generateMipmaps=H.texture.generateMipmaps=!1;const Z=new hp(r,i).rotateX(Math.PI/2),he=new Ur(Z),X=new d_;X.depthTest=X.depthWrite=!1,X.onBeforeCompile=re=>{re.uniforms={...re.uniforms,ucolor:{value:new wt(h)}},re.fragmentShader=re.fragmentShader.replace("void main() {",`uniform vec3 ucolor;
           void main() {
          `),re.fragmentShader=re.fragmentShader.replace("vec4( vec3( 1.0 - fragCoordZ ), opacity );","vec4( ucolor * fragCoordZ * 2.0, ( 1.0 - fragCoordZ ) * 1.0 );")};const ae=new Da(nY),z=new Da(rY);return z.depthTest=ae.depthTest=!1,[H,Z,X,he,ae,z,te]},[u,r,i,n,h]),U=H=>{O.visible=!0,O.material=N,N.uniforms.tDiffuse.value=A.texture,N.uniforms.h.value=H*1/256,_.setRenderTarget(D),_.render(O,E.current),O.material=F,F.uniforms.tDiffuse.value=D.texture,F.uniforms.v.value=H*1/256,_.setRenderTarget(A),_.render(O,E.current),O.visible=!1};let G=0,q,Q;return qf(()=>{E.current&&(e===1/0||G<e)&&(G++,q=x.background,Q=x.overrideMaterial,S.current.visible=!1,x.background=null,x.overrideMaterial=P,_.setRenderTarget(A),_.render(x,E.current),U(a),c&&U(a*.4),_.setRenderTarget(null),S.current.visible=!0,x.overrideMaterial=Q,x.background=q)}),ee.useImperativeHandle(b,()=>S.current,[]),ee.createElement("group",Fl({"rotation-x":Math.PI/2},y,{ref:S}),ee.createElement("mesh",{renderOrder:g,geometry:T,scale:[1,-1,1],rotation:[-Math.PI/2,0,0]},ee.createElement("meshBasicMaterial",{transparent:!0,map:A.texture,opacity:t,depthWrite:d})),ee.createElement("orthographicCamera",{ref:E,args:[-r/2,r/2,i/2,-i/2,o,s]}))}),wY=oY({uTime:0,uProgress:0,uTexture:new Mr,uColor:new wt("#171717"),uEdgeColor:new wt("#FFB300")},`
    varying vec2 vUv;
    void main() {
      vUv = uv;
      gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);
    }
  `,`
    uniform float uTime;
    uniform float uProgress;
    uniform sampler2D uTexture;
    uniform vec3 uColor;
    uniform vec3 uEdgeColor;
    varying vec2 vUv;

    // Simplex Noise function
    vec3 permute(vec3 x) { return mod(((x*34.0)+1.0)*x, 289.0); }
    float snoise(vec2 v){
      const vec4 C = vec4(0.211324865405187, 0.366025403784439,
               -0.577350269189626, 0.024390243902439);
      vec2 i  = floor(v + dot(v, C.yy) );
      vec2 x0 = v -   i + dot(i, C.xx);
      vec2 i1;
      i1 = (x0.x > x0.y) ? vec2(1.0, 0.0) : vec2(0.0, 1.0);
      vec4 x12 = x0.xyxy + C.xxzz;
      x12.xy -= i1;
      i = mod(i, 289.0);
      vec3 p = permute( permute( i.y + vec3(0.0, i1.y, 1.0 ))
      + i.x + vec3(0.0, i1.x, 1.0 ));
      vec3 m = max(0.5 - vec3(dot(x0,x0), dot(x12.xy,x12.xy), dot(x12.zw,x12.zw)), 0.0);
      m = m*m ;
      m = m*m ;
      vec3 x = 2.0 * fract(p * C.www) - 1.0;
      vec3 h = abs(x) - 0.5;
      vec3 ox = floor(x + 0.5);
      vec3 a0 = x - ox;
      m *= 1.79284291400159 - 0.85373472095314 * ( a0*a0 + h*h );
      vec3 g;
      g.x  = a0.x  * x0.x  + h.x  * x0.y;
      g.yz = a0.yz * x12.xz + h.yz * x12.yw;
      return 130.0 * dot(m, g);
    }

    void main() {
      vec4 imgColor = texture2D(uTexture, vUv);
      
      // Noise scale
      float noise = snoise(vUv * 4.0 + uTime * 0.1); 
      
      // Calculate mix value
      // We shift the noise range based on uProgress to create the transition
      float limit = uProgress * 2.5 - 1.0; 
      
      // Smooth edge for the dissolve
      float edgeWidth = 0.1;
      float alpha = smoothstep(limit, limit + edgeWidth, noise);
      
      // Burning Edge Calculation
      float border = smoothstep(limit + edgeWidth, limit + edgeWidth + 0.05, noise) - 
                     smoothstep(limit + edgeWidth + 0.05, limit + edgeWidth + 0.15, noise);
                     
      // Final Mix: 
      // If alpha is 1 -> Show Concrete (uColor)
      // If alpha is 0 -> Show Image (imgColor)
      
      vec3 finalColor = mix(imgColor.rgb, uColor, alpha);
      
      // Add the glowing edge only where the transition happens
      finalColor += uEdgeColor * border * 2.0; // Boost intensity
      
      gl_FragColor = vec4(finalColor, 1.0);
    }
  `);KC({DissolveMaterial:wY});const MY=({image:n,hovered:e})=>{const t=ee.useRef(null),r=ee.useRef(null),i=eP(n);return i.wrapS=Nf,i.wrapT=Nf,qf((a,o)=>{if(r.current){r.current.uniforms.uTime.value=a.clock.elapsedTime;const s=e?1:0;r.current.uniforms.uProgress.value=c_.lerp(r.current.uniforms.uProgress.value,s,o*2.5)}}),L.jsxs("mesh",{ref:t,scale:[7,4.5,1],children:[L.jsx("planeGeometry",{args:[1,1,32,32]}),L.jsx("dissolveMaterial",{ref:r,uTexture:i,transparent:!0})]})},EY=({image:n,isHovered:e})=>L.jsx("div",{className:"absolute inset-0 w-full h-full bg-concrete-900",children:L.jsx(Nz,{camera:{position:[0,0,2],fov:50},children:L.jsx(MY,{image:n,hovered:e})})}),AY=({el:n,idx:e})=>{const[t,r]=ee.useState(!1);return L.jsx("div",{className:"h-full relative block",onMouseEnter:()=>r(!0),onMouseLeave:()=>r(!1),children:L.jsxs(ca,{to:`/shop?element=${n.code}`,className:"relative h-96 block w-full border border-concrete-200 dark:border-concrete-800 flex flex-col justify-between transition-all duration-500 overflow-hidden rounded-2xl group/card shadow-lg",children:[L.jsx(EY,{image:n.image,isHovered:t}),L.jsxs("div",{className:"absolute inset-0 p-8 flex flex-col justify-between z-20 pointer-events-none",children:[L.jsxs("div",{className:"flex justify-between items-start",children:[L.jsxs("span",{className:"font-mono text-xs font-bold text-concrete-500 group-hover/card:text-white transition-colors",children:["0",e+1]}),L.jsxs("div",{className:"text-concrete-500 group-hover/card:text-amber-500 transition-colors transform group-hover/card:scale-110 duration-500 group-hover/card:rotate-12",children:[n.code==="Ba"&&L.jsx(G8,{size:40,strokeWidth:1}),n.code==="Sc"&&L.jsx(I8,{size:40,strokeWidth:1}),n.code==="Ki"&&L.jsx(W8,{size:40,strokeWidth:1}),n.code==="Hm"&&L.jsx(P8,{size:40,strokeWidth:1})]})]}),L.jsxs("div",{className:"transform transition-transform duration-500 group-hover/card:-translate-y-2",children:[L.jsxs("div",{className:"font-display font-bold text-6xl mb-2 text-concrete-700 dark:text-concrete-300 group-hover/card:text-amber-500 transition-all duration-500 mix-blend-overlay group-hover/card:mix-blend-normal",children:["[",n.code,"]"]}),L.jsx("h3",{className:"font-display font-bold text-xl uppercase mb-1 text-white shadow-black drop-shadow-md",children:n.name}),L.jsx("p",{className:"font-mono text-[10px] text-concrete-300 uppercase tracking-wider",children:n.full}),L.jsx("div",{className:"h-0 group-hover/card:h-auto overflow-hidden transition-all duration-300 opacity-0 group-hover/card:opacity-100 delay-100",children:L.jsx("p",{className:"font-sans text-xs text-white mt-4 pt-4 border-t border-dashed border-amber-500/50",children:n.desc})})]})]}),L.jsx("div",{className:"absolute inset-0 bg-[linear-gradient(rgba(0,0,0,0)_2px,transparent_2px)] bg-[size:100%_4px] opacity-10 pointer-events-none z-30"}),L.jsx("div",{className:"absolute inset-0 border-2 border-transparent group-hover/card:border-amber-500 transition-colors duration-500 rounded-2xl z-30 pointer-events-none"})]})})},TY=()=>{const n=nC.slice(0,4);return L.jsxs("div",{className:"w-full bg-white dark:bg-concrete-950 overflow-hidden",children:[L.jsxs("section",{className:"relative h-screen flex items-center justify-center overflow-hidden bg-concrete-100 dark:bg-concrete-950",children:[L.jsxs("div",{className:"absolute inset-0 z-0",children:[L.jsx("img",{src:"https://images.unsplash.com/photo-1496747611176-843222e1e57c?q=80&w=2073&auto=format&fit=crop",alt:"Elementa Lab",className:"w-full h-full object-cover grayscale opacity-10 dark:opacity-20 mix-blend-multiply dark:mix-blend-luminosity animate-pulse-slow"}),L.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-white dark:from-concrete-950 via-transparent to-transparent"})]}),L.jsxs("div",{className:"relative z-10 w-full max-w-7xl mx-auto px-4 grid grid-cols-1 md:grid-cols-2 gap-12 items-center",children:[L.jsxs("div",{className:"text-left space-y-8",children:[L.jsx(Hi,{direction:"down",delay:100,children:L.jsx("div",{className:"inline-block border border-amber-500 text-amber-500 bg-amber-500/10 px-3 py-1 font-mono text-[10px] tracking-[0.2em] uppercase backdrop-blur-sm",children:"System v2.1 Ready"})}),L.jsx(Hi,{direction:"left",delay:300,blur:5,children:L.jsxs("h1",{className:"font-display font-black text-6xl md:text-8xl lg:text-9xl leading-[0.85] tracking-tighter text-black dark:text-white uppercase mix-blend-hard-light",children:["The ",L.jsx("br",{}),"Science ",L.jsx("br",{}),L.jsx("span",{className:"text-amber-500",children:"Of"})," ",L.jsx("br",{}),"Comfort."]})}),L.jsx(Hi,{direction:"up",delay:500,children:L.jsx("p",{className:"font-mono text-concrete-700 dark:text-concrete-300 text-sm md:text-base max-w-md leading-relaxed border-l-2 border-amber-500 pl-4",children:"Ti ELEMENTA, qun o l lp da th hai. Phc v cuc sng ca bn, ch khng bt bn phc v n."})}),L.jsx(Hi,{direction:"up",delay:700,children:L.jsx("div",{className:"flex gap-4 pt-4",children:L.jsxs(ca,{to:"/shop",className:"group relative bg-black dark:bg-white text-white dark:text-black font-bold px-8 py-4 font-mono uppercase tracking-widest text-xs overflow-hidden",children:[L.jsxs("span",{className:"relative z-10 group-hover:text-amber-500 transition-colors flex items-center gap-2",children:["Khm Ph Ngay ",L.jsx(rx,{size:14})]}),L.jsx("div",{className:"absolute inset-0 bg-concrete-800 dark:bg-concrete-200 transform translate-y-full group-hover:translate-y-0 transition-transform duration-300 ease-in-out"})]})})})]}),L.jsx("div",{className:"hidden md:flex justify-end relative perspective-1000",children:L.jsx(Hi,{mode:"scroll",x:200,y:0,rotate:45,blur:10,scale:.5,speed:.4,children:L.jsxs("div",{className:"relative w-80 h-80 md:w-96 md:h-96 bg-amber-500 flex items-center justify-center shadow-[0_0_50px_rgba(255,179,0,0.3)] animate-tilt transform-style-3d",children:[L.jsx("div",{className:"absolute top-4 left-4 font-mono text-black font-bold text-lg",children:"06"}),L.jsx("div",{className:"text-[180px] font-display font-bold leading-none text-black tracking-tighter mt-[-20px]",children:"El."}),L.jsx("div",{className:"absolute bottom-4 right-4 font-mono text-black font-bold text-sm tracking-widest",children:"CARBON"}),L.jsx("div",{className:"absolute inset-4 border border-black/10"}),L.jsx("div",{className:"absolute -top-10 -right-10 w-20 h-20 border-t-2 border-r-2 border-concrete-300 dark:border-concrete-700 animate-pulse"}),L.jsx("div",{className:"absolute -bottom-10 -left-10 w-20 h-20 border-b-2 border-l-2 border-concrete-300 dark:border-concrete-700 animate-pulse"})]})})})]}),L.jsxs("div",{className:"absolute bottom-10 left-1/2 -translate-x-1/2 flex flex-col items-center gap-2 text-concrete-500 dark:text-concrete-400 animate-bounce",children:[L.jsx("span",{className:"font-mono text-[10px] uppercase tracking-widest",children:"Cun xung"}),L.jsx(tF,{size:20})]})]}),L.jsx("section",{className:"py-32 bg-concrete-50 dark:bg-concrete-950 border-t border-concrete-200 dark:border-concrete-800 overflow-hidden",children:L.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[L.jsxs("div",{className:"mb-20 flex flex-col md:flex-row justify-between items-end border-b border-concrete-300 dark:border-concrete-800 pb-6",children:[L.jsx(Hi,{direction:"left",children:L.jsxs("div",{children:[L.jsx("span",{className:"font-mono text-amber-500 text-xs font-bold tracking-widest mb-2 block",children:"BNG H THNG"}),L.jsxs("h2",{className:"font-display font-bold text-4xl md:text-5xl uppercase text-black dark:text-white",children:["Chn Nguyn T",L.jsx("span",{className:"text-amber-500 animate-pulse",children:"_"})]})]})}),L.jsx(Hi,{direction:"right",delay:200,children:L.jsx("p",{className:"font-mono text-xs text-concrete-500 max-w-xs mt-4 md:mt-0 text-right",children:"Mi dng sn phm l mt nguyn t ring bit, c ti u ha cho tng mc ch s dng."})})]}),L.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 group/grid",children:Object.values(ix).map((e,t)=>{const r=t%2===0?-100:100,i=t<2?-100:100;return L.jsx(Hi,{mode:"scroll",x:r,y:i,blur:10,scale:.8,speed:.6,className:"h-full",children:L.jsx(AY,{el:e,idx:t})},e.code)})})]})}),L.jsx("section",{className:"py-32 bg-white dark:bg-black overflow-hidden",children:L.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[L.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-end mb-16 gap-6",children:[L.jsx(Hi,{direction:"right",children:L.jsxs("div",{children:[L.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[L.jsx("div",{className:"w-2 h-2 bg-amber-500 animate-pulse"}),L.jsx("h2",{className:"font-mono text-xs font-bold tracking-widest uppercase text-amber-500",children:"LABORATORY ISSUE"})]}),L.jsx("p",{className:"font-display font-bold text-4xl uppercase text-black dark:text-white",children:"Mu vt mi nht"})]})}),L.jsx(Hi,{direction:"left",children:L.jsxs(ca,{to:"/shop",className:"group flex items-center gap-4 font-mono text-xs font-bold border border-concrete-300 dark:border-concrete-700 px-6 py-3 hover:bg-amber-500 hover:border-amber-500 hover:text-black dark:text-white dark:hover:text-black transition-all",children:["XEM TT C ",L.jsx(rx,{size:14,className:"group-hover:translate-x-1 transition-transform"})]})})]}),L.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-x-6 gap-y-12",children:n.map((e,t)=>L.jsx(Hi,{mode:"scroll",y:100+t*50,blur:5,scale:.9,speed:.7,children:L.jsx(rF,{product:e})},e.id))})]})}),L.jsxs("section",{className:"py-32 bg-concrete-100 dark:bg-concrete-950 text-concrete-900 dark:text-white relative overflow-hidden transition-colors duration-500",children:[L.jsx("div",{className:"absolute inset-0 bg-[url('https://www.transparenttextures.com/patterns/carbon-fibre.png')] opacity-5 dark:opacity-10 mix-blend-overlay"}),L.jsxs("div",{className:"max-w-4xl mx-auto px-4 text-center relative z-10",children:[L.jsx(Hi,{mode:"scroll",scale:.5,blur:20,speed:.5,children:L.jsxs("h2",{className:"font-display font-black text-5xl md:text-7xl mb-8 uppercase leading-tight text-black dark:text-white",children:["Khng Logo.",L.jsx("br",{}),L.jsx("span",{className:"text-amber-500",children:"Ch c Cht Liu."})]})}),L.jsx(Hi,{direction:"up",delay:300,children:L.jsx("p",{className:"font-mono text-concrete-600 dark:text-concrete-400 leading-loose max-w-2xl mx-auto mb-12",children:"Chng ti tin rng khch hng thng phi tr 80% chi ph cho logo thng hiu v ch nhn li 20% gi tr vi vc. ELEMENTA ra i  o ngc t l ."})}),L.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 text-left border-t border-concrete-300 dark:border-concrete-800 pt-12",children:[L.jsx(Hi,{mode:"scroll",x:-100,blur:5,speed:.8,children:L.jsxs("div",{children:[L.jsx("h4",{className:"font-bold font-display text-xl mb-2 text-amber-500",children:"01. NGUYN BN"}),L.jsx("p",{className:"text-sm text-concrete-600 dark:text-concrete-400 font-mono",children:"Vi t dt (In-house Fabric). Kim sot nh lng GSM chnh xc."})]})}),L.jsx(Hi,{mode:"scroll",y:100,blur:5,speed:.8,children:L.jsxs("div",{children:[L.jsx("h4",{className:"font-bold font-display text-xl mb-2 text-amber-500",children:"02. TINH GIN"}),L.jsx("p",{className:"text-sm text-concrete-600 dark:text-concrete-400 font-mono",children:"Loi b chi tit tha. Tp trung vo cng nng v cu trc dt."})]})}),L.jsx(Hi,{mode:"scroll",x:100,blur:5,speed:.8,children:L.jsxs("div",{children:[L.jsx("h4",{className:"font-bold font-display text-xl mb-2 text-amber-500",children:"03. MINH BCH"}),L.jsx("p",{className:"text-sm text-concrete-600 dark:text-concrete-400 font-mono",children:"Gi gc tn xng. Khng chi ph n. M2C Model."})]})})]})]})]})]})},CY=()=>{const{search:n}=cp(),t=new URLSearchParams(n).get("element"),[r,i]=ee.useState(!1),[a,o]=ee.useState(t),[s,u]=ee.useState(1e6),c=ee.useMemo(()=>nC.filter(h=>{const d=a?h.element===a:!0,g=h.price<=s;return d&&g}),[a,s]);return L.jsxs("div",{className:"pt-32 pb-20 min-h-screen bg-concrete-50 dark:bg-concrete-950 transition-colors duration-300",children:[L.jsxs("div",{className:"max-w-[1920px] mx-auto px-4 sm:px-6 lg:px-8",children:[L.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center mb-10 pb-6 border-b border-concrete-200 dark:border-concrete-800",children:[L.jsxs("div",{children:[L.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[L.jsx("span",{className:"w-2 h-2 bg-amber-500"}),L.jsx("span",{className:"font-mono text-xs text-amber-500 font-bold uppercase tracking-widest",children:"Kho Hng"})]}),L.jsx("h1",{className:"font-display font-black text-4xl md:text-5xl uppercase text-black dark:text-white tracking-tight",children:"Danh Mc Thit B"})]}),L.jsxs("div",{className:"flex flex-col items-end gap-1 mt-4 md:mt-0 w-full md:w-auto",children:[L.jsx("span",{className:"font-mono text-xs text-concrete-500",children:"TRNG THI: SN SNG"}),L.jsxs("p",{className:"font-mono text-xl font-bold text-black dark:text-white",children:[c.length," ",L.jsx("span",{className:"text-xs font-normal text-concrete-500",children:"MU VT"})]})]})]}),L.jsxs("div",{className:"flex md:hidden gap-4 mb-8",children:[L.jsxs("button",{onClick:()=>i(!0),className:"flex-1 flex items-center justify-center gap-2 bg-white dark:bg-concrete-900 border border-concrete-300 dark:border-concrete-700 py-3 px-4 font-mono text-xs font-bold uppercase text-black dark:text-white",children:[L.jsx(C8,{size:14})," B Lc"]}),L.jsxs("div",{className:"relative flex-1",children:[L.jsxs("select",{className:"w-full appearance-none bg-white dark:bg-concrete-900 border border-concrete-300 dark:border-concrete-700 py-3 px-4 pr-8 font-mono text-xs font-bold uppercase focus:border-amber-500 outline-none rounded-none text-black dark:text-white",children:[L.jsx("option",{children:"Mi nht"}),L.jsx("option",{children:"Gi: Thp n Cao"}),L.jsx("option",{children:"Gi: Cao n Thp"})]}),L.jsx(tF,{className:"absolute right-3 top-1/2 -translate-y-1/2 pointer-events-none opacity-50 text-black dark:text-white",size:14})]})]}),L.jsxs("div",{className:"flex gap-12",children:[L.jsx("aside",{className:"hidden md:block w-72 shrink-0",children:L.jsxs("div",{className:"sticky top-28 bg-white dark:bg-concrete-900 border border-concrete-200 dark:border-concrete-800 p-6 shadow-sm",children:[L.jsxs("div",{className:"border-b border-black dark:border-white pb-4 mb-6 flex justify-between items-center",children:[L.jsx("h3",{className:"font-display font-bold text-xl uppercase text-black dark:text-white",children:"MANIFEST"}),L.jsx("span",{className:"text-[10px] font-mono border border-concrete-500 px-1 text-concrete-500",children:"REF: FLTR"})]}),L.jsxs("div",{className:"mb-8",children:[L.jsxs("h3",{className:"font-mono font-bold text-xs uppercase text-amber-500 mb-4 tracking-wider flex items-center gap-2",children:[L.jsx("span",{className:"w-1 h-1 bg-amber-500"})," Phn loi Nguyn T"]}),L.jsxs("div",{className:"space-y-1",children:[L.jsxs("label",{className:"flex items-center gap-3 cursor-pointer group p-2 hover:bg-concrete-100 dark:hover:bg-concrete-800 transition-colors",children:[L.jsx("div",{className:`w-4 h-4 border flex items-center justify-center ${a===null?"border-amber-500 bg-amber-500":"border-concrete-400"}`,children:a===null&&L.jsx(Hb,{size:10,className:"text-black"})}),L.jsx("input",{type:"radio",name:"element",checked:a===null,onChange:()=>o(null),className:"hidden"}),L.jsx("span",{className:`font-mono text-xs uppercase ${a===null?"font-bold text-black dark:text-white":"text-concrete-500"}`,children:"TT C"})]}),Object.values(ix).map(h=>L.jsxs("label",{className:"flex items-center gap-3 cursor-pointer group p-2 hover:bg-concrete-100 dark:hover:bg-concrete-800 transition-colors",children:[L.jsx("div",{className:`w-4 h-4 border flex items-center justify-center ${a===h.code?"border-amber-500 bg-amber-500":"border-concrete-400"}`,children:a===h.code&&L.jsx(Hb,{size:10,className:"text-black"})}),L.jsx("input",{type:"radio",name:"element",checked:a===h.code,onChange:()=>o(h.code),className:"hidden"}),L.jsx("div",{children:L.jsxs("span",{className:`font-mono text-xs uppercase block ${a===h.code?"font-bold text-black dark:text-white":"text-concrete-500"}`,children:["[",h.code,"] ",h.name]})})]},h.code))]})]}),L.jsxs("div",{children:[L.jsxs("h3",{className:"font-mono font-bold text-xs uppercase text-amber-500 mb-4 tracking-wider flex items-center gap-2",children:[L.jsx("span",{className:"w-1 h-1 bg-amber-500"})," Ngn Sch"]}),L.jsx("input",{type:"range",min:"0",max:"1000000",step:"50000",value:s,onChange:h=>u(Number(h.target.value)),className:"w-full h-1 bg-concrete-200 dark:bg-concrete-700 rounded-none appearance-none cursor-pointer [&::-webkit-slider-thumb]:appearance-none [&::-webkit-slider-thumb]:w-4 [&::-webkit-slider-thumb]:h-4 [&::-webkit-slider-thumb]:bg-amber-500 [&::-webkit-slider-thumb]:rounded-none"}),L.jsxs("div",{className:"flex justify-between font-mono text-[10px] mt-3 text-concrete-500",children:[L.jsx("span",{children:"0 "}),L.jsxs("span",{className:"font-bold text-black dark:text-white",children:["<"," ",s.toLocaleString()," "]})]})]}),L.jsxs("div",{className:"mt-8 pt-8 border-t border-dashed border-concrete-300 dark:border-concrete-700",children:[L.jsx("h3",{className:"font-mono font-bold text-xs uppercase text-amber-500 mb-4 tracking-wider",children:"Sp xp"}),L.jsxs("select",{className:"w-full bg-transparent border border-concrete-300 dark:border-concrete-700 p-2 font-mono text-xs focus:border-amber-500 outline-none text-black dark:text-white",children:[L.jsx("option",{children:"Mi nht"}),L.jsx("option",{children:"Gi tng dn"}),L.jsx("option",{children:"Gi gim dn"})]})]})]})}),L.jsx("div",{className:"flex-1",children:c.length>0?L.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:c.map(h=>L.jsx(rF,{product:h},h.id))}):L.jsxs("div",{className:"text-center py-32 border border-dashed border-concrete-300 dark:border-concrete-800 bg-white dark:bg-concrete-900/50",children:[L.jsx("p",{className:"font-mono text-concrete-500 mb-2",children:"KHNG TM THY MU VT PH HP."}),L.jsx("button",{onClick:()=>{o(null),u(1e6)},className:"mt-4 px-6 py-2 bg-black dark:bg-white text-white dark:text-black hover:bg-amber-500 dark:hover:bg-amber-500 hover:text-black transition-colors font-mono text-xs uppercase font-bold",children:"RESET B LC"})]})})]})]}),L.jsx("div",{className:`fixed inset-0 z-[60] bg-black/60 backdrop-blur-sm md:hidden transition-opacity ${r?"opacity-100 pointer-events-auto":"opacity-0 pointer-events-none"}`,children:L.jsxs("div",{className:`absolute inset-y-0 right-0 w-80 bg-concrete-100 dark:bg-concrete-900 shadow-xl transform transition-transform duration-300 ${r?"translate-x-0":"translate-x-full"}`,children:[L.jsxs("div",{className:"p-6 border-b border-concrete-200 dark:border-concrete-800 flex justify-between items-center bg-white dark:bg-black",children:[L.jsx("h3",{className:"font-display font-bold text-xl uppercase text-black dark:text-white",children:"CU HNH LC"}),L.jsx("button",{onClick:()=>i(!1),className:"text-black dark:text-white",children:L.jsx(Wy,{})})]}),L.jsxs("div",{className:"p-6 space-y-8 overflow-y-auto h-[calc(100%-80px)]",children:[L.jsxs("div",{children:[L.jsx("h4",{className:"font-mono font-bold text-amber-500 mb-4 text-xs uppercase tracking-widest",children:"NGUYN T"}),L.jsxs("div",{className:"flex flex-wrap gap-2",children:[L.jsx("button",{onClick:()=>o(null),className:`px-4 py-3 border font-mono text-xs font-bold w-full text-left text-black dark:text-white ${a===null?"border-amber-500 text-amber-500 bg-amber-500/10":"border-concrete-300 dark:border-concrete-700"}`,children:"TT C"}),Object.values(ix).map(h=>L.jsxs("button",{onClick:()=>o(h.code),className:`px-4 py-3 border font-mono text-xs font-bold w-full text-left flex justify-between text-black dark:text-white ${a===h.code?"border-amber-500 text-amber-500 bg-amber-500/10":"border-concrete-300 dark:border-concrete-700"}`,children:[L.jsxs("span",{children:["[",h.code,"] ",h.name]}),a===h.code&&L.jsx(Hb,{size:14})]},h.code))]})]}),L.jsxs("div",{children:[L.jsx("h4",{className:"font-mono font-bold text-amber-500 mb-4 text-xs uppercase tracking-widest",children:"NGN SCH TI A"}),L.jsx("input",{type:"range",min:"0",max:"1000000",step:"50000",value:s,onChange:h=>u(Number(h.target.value)),className:"w-full accent-amber-500"}),L.jsxs("div",{className:"text-right font-mono mt-2 font-bold text-black dark:text-white",children:["",s.toLocaleString()]})]})]}),L.jsx("div",{className:"absolute bottom-0 left-0 right-0 p-4 bg-white dark:bg-black border-t border-concrete-200 dark:border-concrete-800",children:L.jsxs("button",{onClick:()=>i(!1),className:"w-full bg-amber-500 text-black font-bold py-3 uppercase font-mono tracking-wider hover:bg-amber-400 transition-colors",children:["p Dng (",c.length,")"]})})]})})]})};class PY extends ee.Component{constructor(e){super(e),this.state={hasError:!1}}static getDerivedStateFromError(e){return{hasError:!0}}render(){return this.state.hasError?this.props.fallback:this.props.children}}const RY=({wireframe:n})=>{const e=ee.useRef(null);qf(o=>{e.current&&(e.current.position.y=Math.sin(o.clock.elapsedTime*.5)*.02,e.current.rotation.y=Math.sin(o.clock.elapsedTime*.1)*.02)});const t="#FFC107",r="#374151",i={color:n?"#000000":t,wireframe:n,roughness:.8,metalness:.1,emissive:n?"#FFB300":"#000000",emissiveIntensity:n?.5:0},a={color:n?"#000000":r,wireframe:n,roughness:.9,metalness:0};return L.jsxs("group",{ref:e,scale:1.2,position:[0,-.2,0],children:[L.jsx(G1,{args:[1.1,.6,.45],radius:.1,position:[0,.3,0],castShadow:!0,receiveShadow:!0,children:L.jsx("meshStandardMaterial",{...i})}),L.jsx("group",{position:[0,-.4,0],children:L.jsx(Cm,{args:[.53,.5,1,32],castShadow:!0,receiveShadow:!0,scale:[1,1,.4],children:L.jsx("meshStandardMaterial",{...i})})}),L.jsxs("group",{position:[-.65,.25,0],rotation:[0,0,.5],children:[L.jsx(Cm,{args:[.22,.18,.6,32],position:[0,-.1,0],castShadow:!0,receiveShadow:!0,children:L.jsx("meshStandardMaterial",{...i})}),L.jsx(Oy,{args:[.19,.03,16,32],position:[0,-.4,0],rotation:[Math.PI/2,0,0],children:L.jsx("meshStandardMaterial",{...a})})]}),L.jsxs("group",{position:[.65,.25,0],rotation:[0,0,-.5],children:[L.jsx(Cm,{args:[.22,.18,.6,32],position:[0,-.1,0],castShadow:!0,receiveShadow:!0,children:L.jsx("meshStandardMaterial",{...i})}),L.jsx(Oy,{args:[.19,.03,16,32],position:[0,-.4,0],rotation:[Math.PI/2,0,0],children:L.jsx("meshStandardMaterial",{...a})})]}),L.jsxs("group",{position:[0,.6,0],children:[L.jsx(Cm,{args:[.2,.25,.1,32],position:[0,-.05,0],children:L.jsx("meshStandardMaterial",{color:"#1a1a1a",side:Eo})}),L.jsxs("group",{position:[0,-.05,0],rotation:[.2,0,0],children:[L.jsxs("mesh",{castShadow:!0,receiveShadow:!0,position:[0,.05,-.05],children:[L.jsx("torusGeometry",{args:[.28,.06,16,48,4.5]}),L.jsx("meshStandardMaterial",{...a})]}),L.jsx("mesh",{position:[0,.05,-.05],rotation:[0,0,Math.PI+.9]})]})]}),L.jsxs("group",{position:[0,.35,.23],children:[L.jsxs(G1,{args:[.12,.5,.02],radius:.01,castShadow:!0,receiveShadow:!0,children:[L.jsx("meshStandardMaterial",{...i,color:n?"#000":"#EAB308"})," "]}),[.15,0,-.15].map((o,s)=>L.jsx(Cm,{args:[.02,.02,.01,16],position:[0,o,.02],rotation:[Math.PI/2,0,0],children:L.jsx("meshStandardMaterial",{color:"#FFFFFF",roughness:.2})},s))]}),L.jsxs("group",{position:[.3,.2,.23],children:[L.jsx(G1,{args:[.25,.28,.01],radius:.02,castShadow:!0,receiveShadow:!0,children:L.jsx("meshStandardMaterial",{...i})}),L.jsx(hY,{args:[.25,.01,.015],position:[0,.12,0],children:L.jsx("meshStandardMaterial",{...a})})]}),n&&L.jsxs("group",{children:[L.jsx(Oy,{args:[.8,.005,16,64],rotation:[Math.PI/2,0,0],position:[0,-.5,0],children:L.jsx("meshBasicMaterial",{color:"#FFB300",transparent:!0,opacity:.3})}),L.jsx(Oy,{args:[1,.005,16,64],rotation:[Math.PI/2,0,0],position:[0,.8,0],children:L.jsx("meshBasicMaterial",{color:"#FFB300",transparent:!0,opacity:.3})})]})]})},OY=({wireframe:n})=>{const e=ee.useRef(null);return qf(t=>{e.current&&(e.current.rotation.x=t.clock.elapsedTime*.2,e.current.rotation.y=t.clock.elapsedTime*.1)}),L.jsx("group",{children:L.jsx(dY,{ref:e,args:[.8,0],children:L.jsx("meshStandardMaterial",{color:"#333",wireframe:!0,emissive:"#FFB300",emissiveIntensity:1})})})},IY=({imageUrl:n})=>{const[e,t]=ee.useState("render"),r=ee.useRef(null),i=()=>{r.current&&r.current.reset()};return L.jsxs("div",{className:"relative w-full h-[600px] bg-concrete-100 dark:bg-concrete-900 overflow-hidden border border-concrete-300 dark:border-concrete-800 rounded-lg group select-none",children:[L.jsx("div",{className:"absolute inset-0 opacity-20 pointer-events-none",style:{backgroundImage:"linear-gradient(to right, #888 1px, transparent 1px), linear-gradient(to bottom, #888 1px, transparent 1px)",backgroundSize:"40px 40px"}}),L.jsx("div",{className:"absolute top-1/2 left-0 right-0 h-[1px] bg-amber-500/30 pointer-events-none"}),L.jsx("div",{className:"absolute left-1/2 top-0 bottom-0 w-[1px] bg-amber-500/30 pointer-events-none"}),L.jsx("div",{className:"w-full h-full relative z-10 cursor-move",children:L.jsx(Nz,{shadows:!0,dpr:[1,2],camera:{position:[0,0,4.5],fov:40},children:L.jsxs(ee.Suspense,{fallback:null,children:[L.jsx(bY,{preset:"city"}),L.jsx("ambientLight",{intensity:.7}),L.jsx("spotLight",{position:[5,10,5],angle:.15,penumbra:1,intensity:1,"shadow-mapSize":2048,castShadow:!0}),L.jsx("spotLight",{position:[-5,5,5],angle:.15,penumbra:1,intensity:.5}),L.jsx(mY,{speed:1,rotationIntensity:.2,floatIntensity:.2,children:L.jsx(PY,{fallback:L.jsx(OY,{wireframe:!0}),children:L.jsx(RY,{wireframe:e==="wireframe"})})}),L.jsx(SY,{position:[0,-1.4,0],opacity:.4,scale:10,blur:2,far:1}),L.jsx(sY,{ref:r,minPolarAngle:Math.PI/2.5,maxPolarAngle:Math.PI/1.8,enableZoom:!0,enablePan:!1,autoRotate:e==="render",autoRotateSpeed:.5})]})})}),L.jsx("div",{className:"absolute inset-0 pointer-events-none flex items-center justify-center opacity-0 animate-fade-out-delay",children:L.jsx("div",{className:"text-amber-500 font-mono text-[10px] animate-pulse",children:"INITIALIZING NEURAL RENDERER..."})}),L.jsxs("div",{className:"absolute bottom-6 left-1/2 -translate-x-1/2 flex gap-4 bg-black/80 backdrop-blur-md p-2 rounded-full border border-concrete-700 shadow-[0_0_20px_rgba(0,0,0,0.5)] z-20",children:[L.jsx("button",{onClick:i,className:"p-2 hover:text-amber-500 text-white transition-colors",title:"Reset View",children:L.jsx(D8,{size:18})}),L.jsx("div",{className:"w-[1px] h-8 bg-concrete-700 mx-1"}),L.jsxs("button",{onClick:()=>t(e==="render"?"wireframe":"render"),className:`p-2 transition-colors flex items-center gap-2 font-mono text-xs font-bold ${e==="wireframe"?"text-amber-500 bg-amber-500/10 rounded":"text-white hover:text-amber-500"}`,children:[e==="wireframe"?L.jsx(nF,{size:18}):L.jsx(R8,{size:18}),e==="wireframe"?"WIREFRAME":"RENDER"]})]}),L.jsxs("div",{className:"absolute top-4 left-4 font-mono text-[10px] text-amber-500 bg-black/80 backdrop-blur px-3 py-2 border border-amber-500/30 z-20 pointer-events-none",children:[L.jsx("p",{children:"TYPE: POLO_STD_YELLOW"}),L.jsx("p",{children:"MAT: PIQUE_COTTON"}),L.jsxs("p",{children:["MODE: ",e.toUpperCase()]}),L.jsx("div",{className:"mt-2 h-1 w-full bg-concrete-800 rounded-full overflow-hidden",children:L.jsx("div",{className:"h-full bg-amber-500 animate-pulse w-full"})})]}),e==="wireframe"&&L.jsx("div",{className:"absolute inset-0 pointer-events-none z-10 bg-[url('data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCI+PHBhdGggZD0iTTEwIDB2MjBNMCAxMGgyMCIgc3Ryb2tlPSIjRkZCMzAwIiBzdHJva2Utd2lkdGg9IjAuNSIgZmlsbD0ibm9uZSIvPjwvc3ZnPg==')] opacity-10 mix-blend-overlay",children:L.jsx("div",{className:"absolute top-0 w-full h-1 bg-amber-500 shadow-[0_0_15px_#FFB300] animate-scan"})})]})},NY=()=>{const{id:n}=XH(),e=YU(),{addToCart:t}=tC(),r=nC.find(u=>u.id===n),[i,a]=ee.useState("M"),[o,s]=ee.useState(tR[1]);return r?L.jsx("div",{className:"pt-24 min-h-screen bg-concrete-50 dark:bg-concrete-950",children:L.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 pb-16",children:[L.jsxs("button",{onClick:()=>e(-1),className:"group flex items-center gap-2 text-concrete-500 hover:text-amber-500 mb-8 font-mono text-xs uppercase tracking-widest transition-colors",children:[L.jsx(M8,{size:14,className:"group-hover:-translate-x-1 transition-transform"})," Quay li Kho"]}),L.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-12 lg:gap-20",children:[L.jsxs("div",{className:"lg:col-span-7 space-y-6",children:[L.jsxs("div",{className:"relative",children:[L.jsxs("div",{className:"absolute top-4 right-4 z-10 flex flex-col items-end gap-1 pointer-events-none",children:[L.jsxs("span",{className:"bg-black text-white px-2 py-1 font-mono text-[9px] uppercase",children:["FIG. 0",r.id]}),L.jsx("span",{className:"bg-amber-500 text-black px-2 py-1 font-mono text-[9px] uppercase font-bold",children:"3D DESIGN"})]}),L.jsx(IY,{imageUrl:r.image})]}),L.jsx("div",{className:"grid grid-cols-4 gap-4",children:[1,2,3,4].map(u=>L.jsxs("div",{className:"aspect-square bg-concrete-200 dark:bg-concrete-800 overflow-hidden cursor-pointer hover:border-2 border-amber-500 transition-all group relative rounded-lg",children:[L.jsx("img",{src:`https://picsum.photos/id/${100+parseInt(r.id)+u}/400/400`,alt:"detail",className:"w-full h-full object-cover opacity-80 group-hover:opacity-100 transition-opacity"}),L.jsxs("div",{className:"absolute bottom-1 right-1 bg-black/50 text-white text-[8px] font-mono px-1",children:["IMG_0",u]})]},u))})]}),L.jsxs("div",{className:"lg:col-span-5",children:[L.jsxs("div",{className:"mb-4 flex items-center gap-3 border-b border-concrete-300 dark:border-concrete-700 pb-4",children:[L.jsxs("span",{className:"bg-concrete-200 dark:bg-concrete-800 px-2 py-1 font-mono text-[10px] font-bold text-amber-500 uppercase tracking-wider",children:["[",r.element,"] SERIES"]}),L.jsx("span",{className:"h-4 w-[1px] bg-concrete-400"}),L.jsxs("span",{className:"font-mono text-[10px] uppercase text-concrete-500",children:["M: ",r.element,"-00",r.id]}),r.isNew&&L.jsx("span",{className:"ml-auto bg-amber-500 text-black px-2 py-1 font-mono text-[9px] font-bold uppercase animate-pulse",children:"NEW ARRIVAL"})]}),L.jsx("h1",{className:"font-display font-black text-4xl lg:text-5xl mb-2 leading-tight uppercase tracking-tight text-black dark:text-white",children:r.name}),L.jsx("p",{className:"font-mono text-sm text-amber-500 mb-6 font-bold uppercase tracking-widest",children:"Tiu chun Swiss-Tech Minimalism"}),L.jsxs("div",{className:"flex items-center justify-between mb-8 pb-8 border-b border-dashed border-concrete-300 dark:border-concrete-700",children:[L.jsxs("span",{className:"font-display font-bold text-3xl",children:["",r.price.toLocaleString()]}),L.jsx("button",{className:"text-concrete-500 hover:text-amber-500 transition-colors",children:L.jsx(F8,{size:20,strokeWidth:1.5})})]}),L.jsx("div",{className:"bg-concrete-100 dark:bg-concrete-900 p-4 border-l-2 border-amber-500 mb-8",children:L.jsx("p",{className:"font-mono text-xs text-concrete-600 dark:text-concrete-300 leading-relaxed",children:r.description})}),L.jsxs("div",{className:"space-y-6 mb-8",children:[L.jsxs("div",{children:[L.jsxs("label",{className:"block font-mono text-[10px] font-bold mb-3 uppercase tracking-wider text-concrete-500",children:["Mu Sc: ",L.jsx("span",{className:"text-black dark:text-white",children:o.name})]}),L.jsx("div",{className:"flex gap-3",children:tR.map(u=>L.jsx("button",{onClick:()=>s(u),className:`group relative w-10 h-10 flex items-center justify-center transition-all ${o.name===u.name?"scale-110":"hover:scale-105"}`,children:L.jsx("div",{className:`w-8 h-8 border border-concrete-300 dark:border-concrete-600 shadow-sm ${o.name===u.name?"ring-2 ring-amber-500 ring-offset-2 dark:ring-offset-black":""}`,style:{backgroundColor:u.hex}})},u.name))})]}),L.jsxs("div",{children:[L.jsxs("div",{className:"flex justify-between mb-3",children:[L.jsxs("label",{className:"font-mono text-[10px] font-bold uppercase tracking-wider text-concrete-500",children:["Kch Thc: ",L.jsx("span",{className:"text-black dark:text-white",children:i})]}),L.jsxs("button",{className:"flex items-center gap-1 font-mono text-[10px] font-bold text-concrete-500 hover:text-amber-500 uppercase transition-colors",children:[L.jsx(U8,{size:12})," Bng Thng S Rp"]})]}),L.jsx("div",{className:"grid grid-cols-4 gap-3",children:$8.map(u=>L.jsx("button",{onClick:()=>a(u),className:`py-3 font-mono font-bold text-sm border transition-all ${i===u?"bg-black dark:bg-white text-white dark:text-black border-black dark:border-white":"border-concrete-300 dark:border-concrete-700 hover:border-amber-500 text-concrete-500 hover:text-amber-500"}`,children:u},u))})]})]}),L.jsxs("button",{onClick:()=>t(r,i,o.name),className:"group w-full bg-amber-500 hover:bg-amber-400 text-black font-display font-black text-lg py-4 uppercase tracking-widest transition-all mb-4 relative overflow-hidden",children:[L.jsxs("span",{className:"relative z-10 flex items-center justify-center gap-2",children:["Thm Vo Ti ",L.jsx(E8,{size:18,strokeWidth:2})]}),L.jsx("div",{className:"absolute inset-0 bg-white/20 transform -translate-x-full group-hover:translate-x-0 transition-transform duration-300 skew-x-12"})]}),L.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-10 p-4 border border-concrete-200 dark:border-concrete-800 bg-white dark:bg-black/20",children:[L.jsxs("div",{className:"flex items-center gap-3 text-[10px] font-mono font-bold text-concrete-500 uppercase",children:[L.jsx(j8,{size:16,className:"text-amber-500"})," ",L.jsxs("span",{children:["Free ship ",">"," 500k"]})]}),L.jsxs("div",{className:"flex items-center gap-3 text-[10px] font-mono font-bold text-concrete-500 uppercase",children:[L.jsx(B8,{size:16,className:"text-amber-500"})," ",L.jsx("span",{children:"Bo hnh trn i"})]})]}),L.jsxs("div",{className:"space-y-6",children:[L.jsx("h3",{className:"font-display font-bold text-xl uppercase border-b border-black dark:border-white pb-2 text-black dark:text-white",children:"D Liu K Thut"}),L.jsxs("div",{className:"bg-concrete-50 dark:bg-concrete-900 border border-concrete-200 dark:border-concrete-800 p-6",children:[L.jsx("h4",{className:"font-mono font-bold text-xs text-amber-500 mb-4 uppercase tracking-widest",children:"01. Thng S Vt Liu"}),L.jsxs("ul",{className:"space-y-3 font-mono text-xs",children:[L.jsxs("li",{className:"flex justify-between border-b border-dashed border-concrete-300 dark:border-concrete-700 pb-2",children:[L.jsx("span",{className:"text-concrete-500",children:"CHT LIU CHNH"}),L.jsx("span",{className:"font-bold text-black dark:text-white",children:r.techSpecs.fabric})]}),L.jsxs("li",{className:"flex justify-between border-b border-dashed border-concrete-300 dark:border-concrete-700 pb-2",children:[L.jsx("span",{className:"text-concrete-500",children:"NH LNG (GSM)"}),L.jsx("span",{className:"font-bold text-black dark:text-white",children:r.techSpecs.weight})]}),L.jsxs("li",{className:"flex justify-between border-b border-dashed border-concrete-300 dark:border-concrete-700 pb-2",children:[L.jsx("span",{className:"text-concrete-500",children:"CNG NGH DT"}),L.jsx("span",{className:"font-bold text-black dark:text-white",children:r.techSpecs.weave})]}),L.jsxs("li",{className:"flex justify-between",children:[L.jsx("span",{className:"text-concrete-500",children:"LAB SN XUT"}),L.jsx("span",{className:"font-bold text-black dark:text-white",children:r.techSpecs.origin})]})]})]}),L.jsxs("div",{className:"bg-concrete-50 dark:bg-concrete-900 border border-concrete-200 dark:border-concrete-800 p-6",children:[L.jsx("h4",{className:"font-mono font-bold text-xs text-amber-500 mb-4 uppercase tracking-widest",children:"02. Dng Vc & Fit"}),L.jsxs("div",{className:"font-mono text-xs text-concrete-600 dark:text-concrete-400 space-y-2",children:[L.jsxs("div",{className:"flex items-center gap-2 text-black dark:text-white font-bold",children:[L.jsx(A8,{size:12})," Fit Model: 182cm / 75kg mc size L."]}),L.jsx("p",{children:" Thit k da trn h quy chiu nhn trc hc ngi Vit (2025 Standard)."}),L.jsx("p",{children:" Dung sai sn xut cho php +/- 1.0cm."}),L.jsx("p",{children:" Cu trc rp 3D gip ti u chuyn ng vng vai v nch."})]})]}),L.jsxs("div",{className:"bg-concrete-50 dark:bg-concrete-900 border border-concrete-200 dark:border-concrete-800 p-6",children:[L.jsx("h4",{className:"font-mono font-bold text-xs text-amber-500 mb-4 uppercase tracking-widest",children:"03. Bo Qun &  Bn"}),L.jsxs("div",{className:"grid grid-cols-2 gap-4 font-mono text-[10px] text-concrete-600 dark:text-concrete-400 uppercase",children:[L.jsxs("div",{className:"flex items-center gap-2 border border-concrete-300 dark:border-concrete-700 p-2",children:[L.jsx("div",{className:"w-2 h-2 bg-black dark:bg-white rounded-full"})," Git lnh 30C"]}),L.jsxs("div",{className:"flex items-center gap-2 border border-concrete-300 dark:border-concrete-700 p-2",children:[L.jsx("div",{className:"w-2 h-2 bg-black dark:bg-white rounded-full"})," Khng thuc ty"]}),L.jsxs("div",{className:"flex items-center gap-2 border border-concrete-300 dark:border-concrete-700 p-2",children:[L.jsx("div",{className:"w-2 h-2 bg-black dark:bg-white rounded-full"})," Phi bng rm"]}),L.jsxs("div",{className:"flex items-center gap-2 border border-concrete-300 dark:border-concrete-700 p-2",children:[L.jsx("div",{className:"w-2 h-2 bg-black dark:bg-white rounded-full"})," i nhit thp"]})]})]})]})]})]})]})}):L.jsx("div",{className:"pt-32 text-center font-mono",children:"MU VT KHNG TN TI TRONG H THNG"})};function Vz(n){var e,t,r="";if(typeof n=="string"||typeof n=="number")r+=n;else if(typeof n=="object")if(Array.isArray(n)){var i=n.length;for(e=0;e<i;e++)n[e]&&(t=Vz(n[e]))&&(r&&(r+=" "),r+=t)}else for(t in n)n[t]&&(r&&(r+=" "),r+=t);return r}function Bn(){for(var n,e,t=0,r="",i=arguments.length;t<i;t++)(n=arguments[t])&&(e=Vz(n))&&(r&&(r+=" "),r+=e);return r}var q1,sI;function Fa(){if(sI)return q1;sI=1;var n=Array.isArray;return q1=n,q1}var $1,lI;function Gz(){if(lI)return $1;lI=1;var n=typeof I0=="object"&&I0&&I0.Object===Object&&I0;return $1=n,$1}var X1,uI;function Gs(){if(uI)return X1;uI=1;var n=Gz(),e=typeof self=="object"&&self&&self.Object===Object&&self,t=n||e||Function("return this")();return X1=t,X1}var Y1,cI;function Tv(){if(cI)return Y1;cI=1;var n=Gs(),e=n.Symbol;return Y1=e,Y1}var K1,fI;function LY(){if(fI)return K1;fI=1;var n=Tv(),e=Object.prototype,t=e.hasOwnProperty,r=e.toString,i=n?n.toStringTag:void 0;function a(o){var s=t.call(o,i),u=o[i];try{o[i]=void 0;var c=!0}catch{}var h=r.call(o);return c&&(s?o[i]=u:delete o[i]),h}return K1=a,K1}var Z1,hI;function kY(){if(hI)return Z1;hI=1;var n=Object.prototype,e=n.toString;function t(r){return e.call(r)}return Z1=t,Z1}var J1,dI;function Gl(){if(dI)return J1;dI=1;var n=Tv(),e=LY(),t=kY(),r="[object Null]",i="[object Undefined]",a=n?n.toStringTag:void 0;function o(s){return s==null?s===void 0?i:r:a&&a in Object(s)?e(s):t(s)}return J1=o,J1}var Q1,pI;function Wl(){if(pI)return Q1;pI=1;function n(e){return e!=null&&typeof e=="object"}return Q1=n,Q1}var eS,mI;function vp(){if(mI)return eS;mI=1;var n=Gl(),e=Wl(),t="[object Symbol]";function r(i){return typeof i=="symbol"||e(i)&&n(i)==t}return eS=r,eS}var tS,gI;function rP(){if(gI)return tS;gI=1;var n=Fa(),e=vp(),t=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(a,o){if(n(a))return!1;var s=typeof a;return s=="number"||s=="symbol"||s=="boolean"||a==null||e(a)?!0:r.test(a)||!t.test(a)||o!=null&&a in Object(o)}return tS=i,tS}var nS,vI;function cc(){if(vI)return nS;vI=1;function n(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}return nS=n,nS}var rS,yI;function iP(){if(yI)return rS;yI=1;var n=Gl(),e=cc(),t="[object AsyncFunction]",r="[object Function]",i="[object GeneratorFunction]",a="[object Proxy]";function o(s){if(!e(s))return!1;var u=n(s);return u==r||u==i||u==t||u==a}return rS=o,rS}var iS,xI;function DY(){if(xI)return iS;xI=1;var n=Gs(),e=n["__core-js_shared__"];return iS=e,iS}var aS,_I;function UY(){if(_I)return aS;_I=1;var n=DY(),e=(function(){var r=/[^.]+$/.exec(n&&n.keys&&n.keys.IE_PROTO||"");return r?"Symbol(src)_1."+r:""})();function t(r){return!!e&&e in r}return aS=t,aS}var oS,bI;function Wz(){if(bI)return oS;bI=1;var n=Function.prototype,e=n.toString;function t(r){if(r!=null){try{return e.call(r)}catch{}try{return r+""}catch{}}return""}return oS=t,oS}var sS,SI;function FY(){if(SI)return sS;SI=1;var n=iP(),e=UY(),t=cc(),r=Wz(),i=/[\\^$.*+?()[\]{}|]/g,a=/^\[object .+?Constructor\]$/,o=Function.prototype,s=Object.prototype,u=o.toString,c=s.hasOwnProperty,h=RegExp("^"+u.call(c).replace(i,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function d(g){if(!t(g)||e(g))return!1;var y=n(g)?h:a;return y.test(r(g))}return sS=d,sS}var lS,wI;function BY(){if(wI)return lS;wI=1;function n(e,t){return e==null?void 0:e[t]}return lS=n,lS}var uS,MI;function $f(){if(MI)return uS;MI=1;var n=FY(),e=BY();function t(r,i){var a=e(r,i);return n(a)?a:void 0}return uS=t,uS}var cS,EI;function k_(){if(EI)return cS;EI=1;var n=$f(),e=n(Object,"create");return cS=e,cS}var fS,AI;function zY(){if(AI)return fS;AI=1;var n=k_();function e(){this.__data__=n?n(null):{},this.size=0}return fS=e,fS}var hS,TI;function jY(){if(TI)return hS;TI=1;function n(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}return hS=n,hS}var dS,CI;function HY(){if(CI)return dS;CI=1;var n=k_(),e="__lodash_hash_undefined__",t=Object.prototype,r=t.hasOwnProperty;function i(a){var o=this.__data__;if(n){var s=o[a];return s===e?void 0:s}return r.call(o,a)?o[a]:void 0}return dS=i,dS}var pS,PI;function VY(){if(PI)return pS;PI=1;var n=k_(),e=Object.prototype,t=e.hasOwnProperty;function r(i){var a=this.__data__;return n?a[i]!==void 0:t.call(a,i)}return pS=r,pS}var mS,RI;function GY(){if(RI)return mS;RI=1;var n=k_(),e="__lodash_hash_undefined__";function t(r,i){var a=this.__data__;return this.size+=this.has(r)?0:1,a[r]=n&&i===void 0?e:i,this}return mS=t,mS}var gS,OI;function WY(){if(OI)return gS;OI=1;var n=zY(),e=jY(),t=HY(),r=VY(),i=GY();function a(o){var s=-1,u=o==null?0:o.length;for(this.clear();++s<u;){var c=o[s];this.set(c[0],c[1])}}return a.prototype.clear=n,a.prototype.delete=e,a.prototype.get=t,a.prototype.has=r,a.prototype.set=i,gS=a,gS}var vS,II;function qY(){if(II)return vS;II=1;function n(){this.__data__=[],this.size=0}return vS=n,vS}var yS,NI;function aP(){if(NI)return yS;NI=1;function n(e,t){return e===t||e!==e&&t!==t}return yS=n,yS}var xS,LI;function D_(){if(LI)return xS;LI=1;var n=aP();function e(t,r){for(var i=t.length;i--;)if(n(t[i][0],r))return i;return-1}return xS=e,xS}var _S,kI;function $Y(){if(kI)return _S;kI=1;var n=D_(),e=Array.prototype,t=e.splice;function r(i){var a=this.__data__,o=n(a,i);if(o<0)return!1;var s=a.length-1;return o==s?a.pop():t.call(a,o,1),--this.size,!0}return _S=r,_S}var bS,DI;function XY(){if(DI)return bS;DI=1;var n=D_();function e(t){var r=this.__data__,i=n(r,t);return i<0?void 0:r[i][1]}return bS=e,bS}var SS,UI;function YY(){if(UI)return SS;UI=1;var n=D_();function e(t){return n(this.__data__,t)>-1}return SS=e,SS}var wS,FI;function KY(){if(FI)return wS;FI=1;var n=D_();function e(t,r){var i=this.__data__,a=n(i,t);return a<0?(++this.size,i.push([t,r])):i[a][1]=r,this}return wS=e,wS}var MS,BI;function U_(){if(BI)return MS;BI=1;var n=qY(),e=$Y(),t=XY(),r=YY(),i=KY();function a(o){var s=-1,u=o==null?0:o.length;for(this.clear();++s<u;){var c=o[s];this.set(c[0],c[1])}}return a.prototype.clear=n,a.prototype.delete=e,a.prototype.get=t,a.prototype.has=r,a.prototype.set=i,MS=a,MS}var ES,zI;function oP(){if(zI)return ES;zI=1;var n=$f(),e=Gs(),t=n(e,"Map");return ES=t,ES}var AS,jI;function ZY(){if(jI)return AS;jI=1;var n=WY(),e=U_(),t=oP();function r(){this.size=0,this.__data__={hash:new n,map:new(t||e),string:new n}}return AS=r,AS}var TS,HI;function JY(){if(HI)return TS;HI=1;function n(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}return TS=n,TS}var CS,VI;function F_(){if(VI)return CS;VI=1;var n=JY();function e(t,r){var i=t.__data__;return n(r)?i[typeof r=="string"?"string":"hash"]:i.map}return CS=e,CS}var PS,GI;function QY(){if(GI)return PS;GI=1;var n=F_();function e(t){var r=n(this,t).delete(t);return this.size-=r?1:0,r}return PS=e,PS}var RS,WI;function eK(){if(WI)return RS;WI=1;var n=F_();function e(t){return n(this,t).get(t)}return RS=e,RS}var OS,qI;function tK(){if(qI)return OS;qI=1;var n=F_();function e(t){return n(this,t).has(t)}return OS=e,OS}var IS,$I;function nK(){if($I)return IS;$I=1;var n=F_();function e(t,r){var i=n(this,t),a=i.size;return i.set(t,r),this.size+=i.size==a?0:1,this}return IS=e,IS}var NS,XI;function sP(){if(XI)return NS;XI=1;var n=ZY(),e=QY(),t=eK(),r=tK(),i=nK();function a(o){var s=-1,u=o==null?0:o.length;for(this.clear();++s<u;){var c=o[s];this.set(c[0],c[1])}}return a.prototype.clear=n,a.prototype.delete=e,a.prototype.get=t,a.prototype.has=r,a.prototype.set=i,NS=a,NS}var LS,YI;function qz(){if(YI)return LS;YI=1;var n=sP(),e="Expected a function";function t(r,i){if(typeof r!="function"||i!=null&&typeof i!="function")throw new TypeError(e);var a=function(){var o=arguments,s=i?i.apply(this,o):o[0],u=a.cache;if(u.has(s))return u.get(s);var c=r.apply(this,o);return a.cache=u.set(s,c)||u,c};return a.cache=new(t.Cache||n),a}return t.Cache=n,LS=t,LS}var kS,KI;function rK(){if(KI)return kS;KI=1;var n=qz(),e=500;function t(r){var i=n(r,function(o){return a.size===e&&a.clear(),o}),a=i.cache;return i}return kS=t,kS}var DS,ZI;function iK(){if(ZI)return DS;ZI=1;var n=rK(),e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,t=/\\(\\)?/g,r=n(function(i){var a=[];return i.charCodeAt(0)===46&&a.push(""),i.replace(e,function(o,s,u,c){a.push(u?c.replace(t,"$1"):s||o)}),a});return DS=r,DS}var US,JI;function lP(){if(JI)return US;JI=1;function n(e,t){for(var r=-1,i=e==null?0:e.length,a=Array(i);++r<i;)a[r]=t(e[r],r,e);return a}return US=n,US}var FS,QI;function aK(){if(QI)return FS;QI=1;var n=Tv(),e=lP(),t=Fa(),r=vp(),i=n?n.prototype:void 0,a=i?i.toString:void 0;function o(s){if(typeof s=="string")return s;if(t(s))return e(s,o)+"";if(r(s))return a?a.call(s):"";var u=s+"";return u=="0"&&1/s==-1/0?"-0":u}return FS=o,FS}var BS,eN;function $z(){if(eN)return BS;eN=1;var n=aK();function e(t){return t==null?"":n(t)}return BS=e,BS}var zS,tN;function Xz(){if(tN)return zS;tN=1;var n=Fa(),e=rP(),t=iK(),r=$z();function i(a,o){return n(a)?a:e(a,o)?[a]:t(r(a))}return zS=i,zS}var jS,nN;function B_(){if(nN)return jS;nN=1;var n=vp();function e(t){if(typeof t=="string"||n(t))return t;var r=t+"";return r=="0"&&1/t==-1/0?"-0":r}return jS=e,jS}var HS,rN;function uP(){if(rN)return HS;rN=1;var n=Xz(),e=B_();function t(r,i){i=n(i,r);for(var a=0,o=i.length;r!=null&&a<o;)r=r[e(i[a++])];return a&&a==o?r:void 0}return HS=t,HS}var VS,iN;function Yz(){if(iN)return VS;iN=1;var n=uP();function e(t,r,i){var a=t==null?void 0:n(t,r);return a===void 0?i:a}return VS=e,VS}var oK=Yz();const Co=Xn(oK);var GS,aN;function sK(){if(aN)return GS;aN=1;function n(e){return e==null}return GS=n,GS}var lK=sK();const An=Xn(lK);var WS,oN;function uK(){if(oN)return WS;oN=1;var n=Gl(),e=Fa(),t=Wl(),r="[object String]";function i(a){return typeof a=="string"||!e(a)&&t(a)&&n(a)==r}return WS=i,WS}var cK=uK();const Cv=Xn(cK);var fK=iP();const _n=Xn(fK);var hK=cc();const yp=Xn(hK);var qS={exports:{}},Un={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sN;function dK(){if(sN)return Un;sN=1;var n=typeof Symbol=="function"&&Symbol.for,e=n?Symbol.for("react.element"):60103,t=n?Symbol.for("react.portal"):60106,r=n?Symbol.for("react.fragment"):60107,i=n?Symbol.for("react.strict_mode"):60108,a=n?Symbol.for("react.profiler"):60114,o=n?Symbol.for("react.provider"):60109,s=n?Symbol.for("react.context"):60110,u=n?Symbol.for("react.async_mode"):60111,c=n?Symbol.for("react.concurrent_mode"):60111,h=n?Symbol.for("react.forward_ref"):60112,d=n?Symbol.for("react.suspense"):60113,g=n?Symbol.for("react.suspense_list"):60120,y=n?Symbol.for("react.memo"):60115,b=n?Symbol.for("react.lazy"):60116,S=n?Symbol.for("react.block"):60121,x=n?Symbol.for("react.fundamental"):60117,_=n?Symbol.for("react.responder"):60118,E=n?Symbol.for("react.scope"):60119;function A(P){if(typeof P=="object"&&P!==null){var O=P.$$typeof;switch(O){case e:switch(P=P.type,P){case u:case c:case r:case a:case i:case d:return P;default:switch(P=P&&P.$$typeof,P){case s:case h:case b:case y:case o:return P;default:return O}}case t:return O}}}function T(P){return A(P)===c}return Un.AsyncMode=u,Un.ConcurrentMode=c,Un.ContextConsumer=s,Un.ContextProvider=o,Un.Element=e,Un.ForwardRef=h,Un.Fragment=r,Un.Lazy=b,Un.Memo=y,Un.Portal=t,Un.Profiler=a,Un.StrictMode=i,Un.Suspense=d,Un.isAsyncMode=function(P){return T(P)||A(P)===u},Un.isConcurrentMode=T,Un.isContextConsumer=function(P){return A(P)===s},Un.isContextProvider=function(P){return A(P)===o},Un.isElement=function(P){return typeof P=="object"&&P!==null&&P.$$typeof===e},Un.isForwardRef=function(P){return A(P)===h},Un.isFragment=function(P){return A(P)===r},Un.isLazy=function(P){return A(P)===b},Un.isMemo=function(P){return A(P)===y},Un.isPortal=function(P){return A(P)===t},Un.isProfiler=function(P){return A(P)===a},Un.isStrictMode=function(P){return A(P)===i},Un.isSuspense=function(P){return A(P)===d},Un.isValidElementType=function(P){return typeof P=="string"||typeof P=="function"||P===r||P===c||P===a||P===i||P===d||P===g||typeof P=="object"&&P!==null&&(P.$$typeof===b||P.$$typeof===y||P.$$typeof===o||P.$$typeof===s||P.$$typeof===h||P.$$typeof===x||P.$$typeof===_||P.$$typeof===E||P.$$typeof===S)},Un.typeOf=A,Un}var lN;function pK(){return lN||(lN=1,qS.exports=dK()),qS.exports}var jA=pK(),$S,uN;function Kz(){if(uN)return $S;uN=1;var n=Gl(),e=Wl(),t="[object Number]";function r(i){return typeof i=="number"||e(i)&&n(i)==t}return $S=r,$S}var XS,cN;function mK(){if(cN)return XS;cN=1;var n=Kz();function e(t){return n(t)&&t!=+t}return XS=e,XS}var gK=mK();const xp=Xn(gK);var vK=Kz();const yK=Xn(vK);var ls=function(e){return e===0?0:e>0?1:-1},Sf=function(e){return Cv(e)&&e.indexOf("%")===e.length-1},ct=function(e){return yK(e)&&!xp(e)},ii=function(e){return ct(e)||Cv(e)},xK=0,Pv=function(e){var t=++xK;return"".concat(e||"").concat(t)},qd=function(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!ct(e)&&!Cv(e))return r;var a;if(Sf(e)){var o=e.indexOf("%");a=t*parseFloat(e.slice(0,o))/100}else a=+e;return xp(a)&&(a=r),i&&a>t&&(a=t),a},Vu=function(e){if(!e)return null;var t=Object.keys(e);return t&&t.length?e[t[0]]:null},_K=function(e){if(!Array.isArray(e))return!1;for(var t=e.length,r={},i=0;i<t;i++)if(!r[e[i]])r[e[i]]=!0;else return!0;return!1},wo=function(e,t){return ct(e)&&ct(t)?function(r){return e+r*(t-e)}:function(){return t}};function fx(n,e,t){return!n||!n.length?null:n.find(function(r){return r&&(typeof e=="function"?e(r):Co(r,e))===t})}function Ud(n,e){for(var t in n)if({}.hasOwnProperty.call(n,t)&&(!{}.hasOwnProperty.call(e,t)||n[t]!==e[t]))return!1;for(var r in e)if({}.hasOwnProperty.call(e,r)&&!{}.hasOwnProperty.call(n,r))return!1;return!0}function HA(n){"@babel/helpers - typeof";return HA=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},HA(n)}var bK=["viewBox","children"],SK=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],fN=["points","pathLength"],YS={svg:bK,polygon:fN,polyline:fN},cP=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],hx=function(e,t){if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(ee.isValidElement(e)&&(r=e.props),!yp(r))return null;var i={};return Object.keys(r).forEach(function(a){cP.includes(a)&&(i[a]=t||function(o){return r[a](r,o)})}),i},wK=function(e,t,r){return function(i){return e(t,r,i),null}},dx=function(e,t,r){if(!yp(e)||HA(e)!=="object")return null;var i=null;return Object.keys(e).forEach(function(a){var o=e[a];cP.includes(a)&&typeof o=="function"&&(i||(i={}),i[a]=wK(o,t,r))}),i},MK=["children"],EK=["children"];function hN(n,e){if(n==null)return{};var t=AK(n,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(t[r]=n[r])}return t}function AK(n,e){if(n==null)return{};var t={},r=Object.keys(n),i,a;for(a=0;a<r.length;a++)i=r[a],!(e.indexOf(i)>=0)&&(t[i]=n[i]);return t}function VA(n){"@babel/helpers - typeof";return VA=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},VA(n)}var dN={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart"},Nl=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},pN=null,KS=null,fP=function n(e){if(e===pN&&Array.isArray(KS))return KS;var t=[];return ee.Children.forEach(e,function(r){An(r)||(jA.isFragment(r)?t=t.concat(n(r.props.children)):t.push(r))}),KS=t,pN=e,t};function us(n,e){var t=[],r=[];return Array.isArray(e)?r=e.map(function(i){return Nl(i)}):r=[Nl(e)],fP(n).forEach(function(i){var a=Co(i,"type.displayName")||Co(i,"type.name");r.indexOf(a)!==-1&&t.push(i)}),t}function Qa(n,e){var t=us(n,e);return t&&t[0]}var mN=function(e){if(!e||!e.props)return!1;var t=e.props,r=t.width,i=t.height;return!(!ct(r)||r<=0||!ct(i)||i<=0)},TK=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],CK=function(e){return e&&e.type&&Cv(e.type)&&TK.indexOf(e.type)>=0},PK=function(e){return e&&VA(e)==="object"&&"cx"in e&&"cy"in e&&"r"in e},RK=function(e,t,r,i){var a,o=(a=YS==null?void 0:YS[i])!==null&&a!==void 0?a:[];return!_n(e)&&(i&&o.includes(t)||SK.includes(t))||r&&cP.includes(t)},Sn=function(e,t,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var i=e;if(ee.isValidElement(e)&&(i=e.props),!yp(i))return null;var a={};return Object.keys(i).forEach(function(o){var s;RK((s=i)===null||s===void 0?void 0:s[o],o,t,r)&&(a[o]=i[o])}),a},GA=function n(e,t){if(e===t)return!0;var r=ee.Children.count(e);if(r!==ee.Children.count(t))return!1;if(r===0)return!0;if(r===1)return gN(Array.isArray(e)?e[0]:e,Array.isArray(t)?t[0]:t);for(var i=0;i<r;i++){var a=e[i],o=t[i];if(Array.isArray(a)||Array.isArray(o)){if(!n(a,o))return!1}else if(!gN(a,o))return!1}return!0},gN=function(e,t){if(An(e)&&An(t))return!0;if(!An(e)&&!An(t)){var r=e.props||{},i=r.children,a=hN(r,MK),o=t.props||{},s=o.children,u=hN(o,EK);return i&&s?Ud(a,u)&&GA(i,s):!i&&!s?Ud(a,u):!1}return!1},vN=function(e,t){var r=[],i={};return fP(e).forEach(function(a,o){if(CK(a))r.push(a);else if(a){var s=Nl(a.type),u=t[s]||{},c=u.handler,h=u.once;if(c&&(!h||!i[s])){var d=c(a,s,o);r.push(d),i[s]=!0}}}),r},OK=function(e){var t=e&&e.type;return t&&dN[t]?dN[t]:null},IK=function(e,t){return fP(t).indexOf(e)},NK=["children","width","height","viewBox","className","style","title","desc"];function WA(){return WA=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},WA.apply(this,arguments)}function LK(n,e){if(n==null)return{};var t=kK(n,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(t[r]=n[r])}return t}function kK(n,e){if(n==null)return{};var t={},r=Object.keys(n),i,a;for(a=0;a<r.length;a++)i=r[a],!(e.indexOf(i)>=0)&&(t[i]=n[i]);return t}function qA(n){var e=n.children,t=n.width,r=n.height,i=n.viewBox,a=n.className,o=n.style,s=n.title,u=n.desc,c=LK(n,NK),h=i||{width:t,height:r,x:0,y:0},d=Bn("recharts-surface",a);return _e.createElement("svg",WA({},Sn(c,!0,"svg"),{className:d,width:t,height:r,style:o,viewBox:"".concat(h.x," ").concat(h.y," ").concat(h.width," ").concat(h.height)}),_e.createElement("title",null,s),_e.createElement("desc",null,u),e)}var DK=["children","className"];function $A(){return $A=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},$A.apply(this,arguments)}function UK(n,e){if(n==null)return{};var t=FK(n,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(t[r]=n[r])}return t}function FK(n,e){if(n==null)return{};var t={},r=Object.keys(n),i,a;for(a=0;a<r.length;a++)i=r[a],!(e.indexOf(i)>=0)&&(t[i]=n[i]);return t}var wr=_e.forwardRef(function(n,e){var t=n.children,r=n.className,i=UK(n,DK),a=Bn("recharts-layer",r);return _e.createElement("g",$A({className:a},Sn(i,!0),{ref:e}),t)}),Ll=function(e,t){for(var r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a]},ZS,yN;function BK(){if(yN)return ZS;yN=1;function n(e,t,r){var i=-1,a=e.length;t<0&&(t=-t>a?0:a+t),r=r>a?a:r,r<0&&(r+=a),a=t>r?0:r-t>>>0,t>>>=0;for(var o=Array(a);++i<a;)o[i]=e[i+t];return o}return ZS=n,ZS}var JS,xN;function zK(){if(xN)return JS;xN=1;var n=BK();function e(t,r,i){var a=t.length;return i=i===void 0?a:i,!r&&i>=a?t:n(t,r,i)}return JS=e,JS}var QS,_N;function Zz(){if(_N)return QS;_N=1;var n="\\ud800-\\udfff",e="\\u0300-\\u036f",t="\\ufe20-\\ufe2f",r="\\u20d0-\\u20ff",i=e+t+r,a="\\ufe0e\\ufe0f",o="\\u200d",s=RegExp("["+o+n+i+a+"]");function u(c){return s.test(c)}return QS=u,QS}var ew,bN;function jK(){if(bN)return ew;bN=1;function n(e){return e.split("")}return ew=n,ew}var tw,SN;function HK(){if(SN)return tw;SN=1;var n="\\ud800-\\udfff",e="\\u0300-\\u036f",t="\\ufe20-\\ufe2f",r="\\u20d0-\\u20ff",i=e+t+r,a="\\ufe0e\\ufe0f",o="["+n+"]",s="["+i+"]",u="\\ud83c[\\udffb-\\udfff]",c="(?:"+s+"|"+u+")",h="[^"+n+"]",d="(?:\\ud83c[\\udde6-\\uddff]){2}",g="[\\ud800-\\udbff][\\udc00-\\udfff]",y="\\u200d",b=c+"?",S="["+a+"]?",x="(?:"+y+"(?:"+[h,d,g].join("|")+")"+S+b+")*",_=S+b+x,E="(?:"+[h+s+"?",s,d,g,o].join("|")+")",A=RegExp(u+"(?="+u+")|"+E+_,"g");function T(P){return P.match(A)||[]}return tw=T,tw}var nw,wN;function VK(){if(wN)return nw;wN=1;var n=jK(),e=Zz(),t=HK();function r(i){return e(i)?t(i):n(i)}return nw=r,nw}var rw,MN;function GK(){if(MN)return rw;MN=1;var n=zK(),e=Zz(),t=VK(),r=$z();function i(a){return function(o){o=r(o);var s=e(o)?t(o):void 0,u=s?s[0]:o.charAt(0),c=s?n(s,1).join(""):o.slice(1);return u[a]()+c}}return rw=i,rw}var iw,EN;function WK(){if(EN)return iw;EN=1;var n=GK(),e=n("toUpperCase");return iw=e,iw}var qK=WK();const z_=Xn(qK);function or(n){return function(){return n}}const Jz=Math.cos,px=Math.sin,hs=Math.sqrt,mx=Math.PI,j_=2*mx,XA=Math.PI,YA=2*XA,df=1e-6,$K=YA-df;function Qz(n){this._+=n[0];for(let e=1,t=n.length;e<t;++e)this._+=arguments[e]+n[e]}function XK(n){let e=Math.floor(n);if(!(e>=0))throw new Error(`invalid digits: ${n}`);if(e>15)return Qz;const t=10**e;return function(r){this._+=r[0];for(let i=1,a=r.length;i<a;++i)this._+=Math.round(arguments[i]*t)/t+r[i]}}class YK{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?Qz:XK(e)}moveTo(e,t){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+t}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,t){this._append`L${this._x1=+e},${this._y1=+t}`}quadraticCurveTo(e,t,r,i){this._append`Q${+e},${+t},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,t,r,i,a,o){this._append`C${+e},${+t},${+r},${+i},${this._x1=+a},${this._y1=+o}`}arcTo(e,t,r,i,a){if(e=+e,t=+t,r=+r,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let o=this._x1,s=this._y1,u=r-e,c=i-t,h=o-e,d=s-t,g=h*h+d*d;if(this._x1===null)this._append`M${this._x1=e},${this._y1=t}`;else if(g>df)if(!(Math.abs(d*u-c*h)>df)||!a)this._append`L${this._x1=e},${this._y1=t}`;else{let y=r-o,b=i-s,S=u*u+c*c,x=y*y+b*b,_=Math.sqrt(S),E=Math.sqrt(g),A=a*Math.tan((XA-Math.acos((S+g-x)/(2*_*E)))/2),T=A/E,P=A/_;Math.abs(T-1)>df&&this._append`L${e+T*h},${t+T*d}`,this._append`A${a},${a},0,0,${+(d*y>h*b)},${this._x1=e+P*u},${this._y1=t+P*c}`}}arc(e,t,r,i,a,o){if(e=+e,t=+t,r=+r,o=!!o,r<0)throw new Error(`negative radius: ${r}`);let s=r*Math.cos(i),u=r*Math.sin(i),c=e+s,h=t+u,d=1^o,g=o?i-a:a-i;this._x1===null?this._append`M${c},${h}`:(Math.abs(this._x1-c)>df||Math.abs(this._y1-h)>df)&&this._append`L${c},${h}`,r&&(g<0&&(g=g%YA+YA),g>$K?this._append`A${r},${r},0,1,${d},${e-s},${t-u}A${r},${r},0,1,${d},${this._x1=c},${this._y1=h}`:g>df&&this._append`A${r},${r},0,${+(g>=XA)},${d},${this._x1=e+r*Math.cos(a)},${this._y1=t+r*Math.sin(a)}`)}rect(e,t,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+t}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function hP(n){let e=3;return n.digits=function(t){if(!arguments.length)return e;if(t==null)e=null;else{const r=Math.floor(t);if(!(r>=0))throw new RangeError(`invalid digits: ${t}`);e=r}return n},()=>new YK(e)}function dP(n){return typeof n=="object"&&"length"in n?n:Array.from(n)}function e4(n){this._context=n}e4.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(n,e){switch(n=+n,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(n,e):this._context.moveTo(n,e);break;case 1:this._point=2;default:this._context.lineTo(n,e);break}}};function H_(n){return new e4(n)}function t4(n){return n[0]}function n4(n){return n[1]}function r4(n,e){var t=or(!0),r=null,i=H_,a=null,o=hP(s);n=typeof n=="function"?n:n===void 0?t4:or(n),e=typeof e=="function"?e:e===void 0?n4:or(e);function s(u){var c,h=(u=dP(u)).length,d,g=!1,y;for(r==null&&(a=i(y=o())),c=0;c<=h;++c)!(c<h&&t(d=u[c],c,u))===g&&((g=!g)?a.lineStart():a.lineEnd()),g&&a.point(+n(d,c,u),+e(d,c,u));if(y)return a=null,y+""||null}return s.x=function(u){return arguments.length?(n=typeof u=="function"?u:or(+u),s):n},s.y=function(u){return arguments.length?(e=typeof u=="function"?u:or(+u),s):e},s.defined=function(u){return arguments.length?(t=typeof u=="function"?u:or(!!u),s):t},s.curve=function(u){return arguments.length?(i=u,r!=null&&(a=i(r)),s):i},s.context=function(u){return arguments.length?(u==null?r=a=null:a=i(r=u),s):r},s}function Iy(n,e,t){var r=null,i=or(!0),a=null,o=H_,s=null,u=hP(c);n=typeof n=="function"?n:n===void 0?t4:or(+n),e=typeof e=="function"?e:or(e===void 0?0:+e),t=typeof t=="function"?t:t===void 0?n4:or(+t);function c(d){var g,y,b,S=(d=dP(d)).length,x,_=!1,E,A=new Array(S),T=new Array(S);for(a==null&&(s=o(E=u())),g=0;g<=S;++g){if(!(g<S&&i(x=d[g],g,d))===_)if(_=!_)y=g,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),b=g-1;b>=y;--b)s.point(A[b],T[b]);s.lineEnd(),s.areaEnd()}_&&(A[g]=+n(x,g,d),T[g]=+e(x,g,d),s.point(r?+r(x,g,d):A[g],t?+t(x,g,d):T[g]))}if(E)return s=null,E+""||null}function h(){return r4().defined(i).curve(o).context(a)}return c.x=function(d){return arguments.length?(n=typeof d=="function"?d:or(+d),r=null,c):n},c.x0=function(d){return arguments.length?(n=typeof d=="function"?d:or(+d),c):n},c.x1=function(d){return arguments.length?(r=d==null?null:typeof d=="function"?d:or(+d),c):r},c.y=function(d){return arguments.length?(e=typeof d=="function"?d:or(+d),t=null,c):e},c.y0=function(d){return arguments.length?(e=typeof d=="function"?d:or(+d),c):e},c.y1=function(d){return arguments.length?(t=d==null?null:typeof d=="function"?d:or(+d),c):t},c.lineX0=c.lineY0=function(){return h().x(n).y(e)},c.lineY1=function(){return h().x(n).y(t)},c.lineX1=function(){return h().x(r).y(e)},c.defined=function(d){return arguments.length?(i=typeof d=="function"?d:or(!!d),c):i},c.curve=function(d){return arguments.length?(o=d,a!=null&&(s=o(a)),c):o},c.context=function(d){return arguments.length?(d==null?a=s=null:s=o(a=d),c):a},c}class i4{constructor(e,t){this._context=e,this._x=t}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,t){switch(e=+e,t=+t,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,t,e,t):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+t)/2,e,this._y0,e,t);break}}this._x0=e,this._y0=t}}function KK(n){return new i4(n,!0)}function ZK(n){return new i4(n,!1)}const pP={draw(n,e){const t=hs(e/mx);n.moveTo(t,0),n.arc(0,0,t,0,j_)}},JK={draw(n,e){const t=hs(e/5)/2;n.moveTo(-3*t,-t),n.lineTo(-t,-t),n.lineTo(-t,-3*t),n.lineTo(t,-3*t),n.lineTo(t,-t),n.lineTo(3*t,-t),n.lineTo(3*t,t),n.lineTo(t,t),n.lineTo(t,3*t),n.lineTo(-t,3*t),n.lineTo(-t,t),n.lineTo(-3*t,t),n.closePath()}},a4=hs(1/3),QK=a4*2,eZ={draw(n,e){const t=hs(e/QK),r=t*a4;n.moveTo(0,-t),n.lineTo(r,0),n.lineTo(0,t),n.lineTo(-r,0),n.closePath()}},tZ={draw(n,e){const t=hs(e),r=-t/2;n.rect(r,r,t,t)}},nZ=.8908130915292852,o4=px(mx/10)/px(7*mx/10),rZ=px(j_/10)*o4,iZ=-Jz(j_/10)*o4,aZ={draw(n,e){const t=hs(e*nZ),r=rZ*t,i=iZ*t;n.moveTo(0,-t),n.lineTo(r,i);for(let a=1;a<5;++a){const o=j_*a/5,s=Jz(o),u=px(o);n.lineTo(u*t,-s*t),n.lineTo(s*r-u*i,u*r+s*i)}n.closePath()}},aw=hs(3),oZ={draw(n,e){const t=-hs(e/(aw*3));n.moveTo(0,t*2),n.lineTo(-aw*t,-t),n.lineTo(aw*t,-t),n.closePath()}},_o=-.5,bo=hs(3)/2,KA=1/hs(12),sZ=(KA/2+1)*3,lZ={draw(n,e){const t=hs(e/sZ),r=t/2,i=t*KA,a=r,o=t*KA+t,s=-a,u=o;n.moveTo(r,i),n.lineTo(a,o),n.lineTo(s,u),n.lineTo(_o*r-bo*i,bo*r+_o*i),n.lineTo(_o*a-bo*o,bo*a+_o*o),n.lineTo(_o*s-bo*u,bo*s+_o*u),n.lineTo(_o*r+bo*i,_o*i-bo*r),n.lineTo(_o*a+bo*o,_o*o-bo*a),n.lineTo(_o*s+bo*u,_o*u-bo*s),n.closePath()}};function uZ(n,e){let t=null,r=hP(i);n=typeof n=="function"?n:or(n||pP),e=typeof e=="function"?e:or(e===void 0?64:+e);function i(){let a;if(t||(t=a=r()),n.apply(this,arguments).draw(t,+e.apply(this,arguments)),a)return t=null,a+""||null}return i.type=function(a){return arguments.length?(n=typeof a=="function"?a:or(a),i):n},i.size=function(a){return arguments.length?(e=typeof a=="function"?a:or(+a),i):e},i.context=function(a){return arguments.length?(t=a??null,i):t},i}function gx(){}function vx(n,e,t){n._context.bezierCurveTo((2*n._x0+n._x1)/3,(2*n._y0+n._y1)/3,(n._x0+2*n._x1)/3,(n._y0+2*n._y1)/3,(n._x0+4*n._x1+e)/6,(n._y0+4*n._y1+t)/6)}function s4(n){this._context=n}s4.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:vx(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(n,e){switch(n=+n,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(n,e):this._context.moveTo(n,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:vx(this,n,e);break}this._x0=this._x1,this._x1=n,this._y0=this._y1,this._y1=e}};function cZ(n){return new s4(n)}function l4(n){this._context=n}l4.prototype={areaStart:gx,areaEnd:gx,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(n,e){switch(n=+n,e=+e,this._point){case 0:this._point=1,this._x2=n,this._y2=e;break;case 1:this._point=2,this._x3=n,this._y3=e;break;case 2:this._point=3,this._x4=n,this._y4=e,this._context.moveTo((this._x0+4*this._x1+n)/6,(this._y0+4*this._y1+e)/6);break;default:vx(this,n,e);break}this._x0=this._x1,this._x1=n,this._y0=this._y1,this._y1=e}};function fZ(n){return new l4(n)}function u4(n){this._context=n}u4.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(n,e){switch(n=+n,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var t=(this._x0+4*this._x1+n)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break;case 3:this._point=4;default:vx(this,n,e);break}this._x0=this._x1,this._x1=n,this._y0=this._y1,this._y1=e}};function hZ(n){return new u4(n)}function c4(n){this._context=n}c4.prototype={areaStart:gx,areaEnd:gx,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(n,e){n=+n,e=+e,this._point?this._context.lineTo(n,e):(this._point=1,this._context.moveTo(n,e))}};function dZ(n){return new c4(n)}function AN(n){return n<0?-1:1}function TN(n,e,t){var r=n._x1-n._x0,i=e-n._x1,a=(n._y1-n._y0)/(r||i<0&&-0),o=(t-n._y1)/(i||r<0&&-0),s=(a*i+o*r)/(r+i);return(AN(a)+AN(o))*Math.min(Math.abs(a),Math.abs(o),.5*Math.abs(s))||0}function CN(n,e){var t=n._x1-n._x0;return t?(3*(n._y1-n._y0)/t-e)/2:e}function ow(n,e,t){var r=n._x0,i=n._y0,a=n._x1,o=n._y1,s=(a-r)/3;n._context.bezierCurveTo(r+s,i+s*e,a-s,o-s*t,a,o)}function yx(n){this._context=n}yx.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:ow(this,this._t0,CN(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(n,e){var t=NaN;if(n=+n,e=+e,!(n===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(n,e):this._context.moveTo(n,e);break;case 1:this._point=2;break;case 2:this._point=3,ow(this,CN(this,t=TN(this,n,e)),t);break;default:ow(this,this._t0,t=TN(this,n,e));break}this._x0=this._x1,this._x1=n,this._y0=this._y1,this._y1=e,this._t0=t}}};function f4(n){this._context=new h4(n)}(f4.prototype=Object.create(yx.prototype)).point=function(n,e){yx.prototype.point.call(this,e,n)};function h4(n){this._context=n}h4.prototype={moveTo:function(n,e){this._context.moveTo(e,n)},closePath:function(){this._context.closePath()},lineTo:function(n,e){this._context.lineTo(e,n)},bezierCurveTo:function(n,e,t,r,i,a){this._context.bezierCurveTo(e,n,r,t,a,i)}};function pZ(n){return new yx(n)}function mZ(n){return new f4(n)}function d4(n){this._context=n}d4.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var n=this._x,e=this._y,t=n.length;if(t)if(this._line?this._context.lineTo(n[0],e[0]):this._context.moveTo(n[0],e[0]),t===2)this._context.lineTo(n[1],e[1]);else for(var r=PN(n),i=PN(e),a=0,o=1;o<t;++a,++o)this._context.bezierCurveTo(r[0][a],i[0][a],r[1][a],i[1][a],n[o],e[o]);(this._line||this._line!==0&&t===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(n,e){this._x.push(+n),this._y.push(+e)}};function PN(n){var e,t=n.length-1,r,i=new Array(t),a=new Array(t),o=new Array(t);for(i[0]=0,a[0]=2,o[0]=n[0]+2*n[1],e=1;e<t-1;++e)i[e]=1,a[e]=4,o[e]=4*n[e]+2*n[e+1];for(i[t-1]=2,a[t-1]=7,o[t-1]=8*n[t-1]+n[t],e=1;e<t;++e)r=i[e]/a[e-1],a[e]-=r,o[e]-=r*o[e-1];for(i[t-1]=o[t-1]/a[t-1],e=t-2;e>=0;--e)i[e]=(o[e]-i[e+1])/a[e];for(a[t-1]=(n[t]+i[t-1])/2,e=0;e<t-1;++e)a[e]=2*n[e+1]-i[e+1];return[i,a]}function gZ(n){return new d4(n)}function V_(n,e){this._context=n,this._t=e}V_.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(n,e){switch(n=+n,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(n,e):this._context.moveTo(n,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(n,e);else{var t=this._x*(1-this._t)+n*this._t;this._context.lineTo(t,this._y),this._context.lineTo(t,e)}break}}this._x=n,this._y=e}};function vZ(n){return new V_(n,.5)}function yZ(n){return new V_(n,0)}function xZ(n){return new V_(n,1)}function $d(n,e){if((o=n.length)>1)for(var t=1,r,i,a=n[e[0]],o,s=a.length;t<o;++t)for(i=a,a=n[e[t]],r=0;r<s;++r)a[r][1]+=a[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function ZA(n){for(var e=n.length,t=new Array(e);--e>=0;)t[e]=e;return t}function _Z(n,e){return n[e]}function bZ(n){const e=[];return e.key=n,e}function SZ(){var n=or([]),e=ZA,t=$d,r=_Z;function i(a){var o=Array.from(n.apply(this,arguments),bZ),s,u=o.length,c=-1,h;for(const d of a)for(s=0,++c;s<u;++s)(o[s][c]=[0,+r(d,o[s].key,c,a)]).data=d;for(s=0,h=dP(e(o));s<u;++s)o[h[s]].index=s;return t(o,h),o}return i.keys=function(a){return arguments.length?(n=typeof a=="function"?a:or(Array.from(a)),i):n},i.value=function(a){return arguments.length?(r=typeof a=="function"?a:or(+a),i):r},i.order=function(a){return arguments.length?(e=a==null?ZA:typeof a=="function"?a:or(Array.from(a)),i):e},i.offset=function(a){return arguments.length?(t=a??$d,i):t},i}function wZ(n,e){if((r=n.length)>0){for(var t,r,i=0,a=n[0].length,o;i<a;++i){for(o=t=0;t<r;++t)o+=n[t][i][1]||0;if(o)for(t=0;t<r;++t)n[t][i][1]/=o}$d(n,e)}}function MZ(n,e){if((i=n.length)>0){for(var t=0,r=n[e[0]],i,a=r.length;t<a;++t){for(var o=0,s=0;o<i;++o)s+=n[o][t][1]||0;r[t][1]+=r[t][0]=-s/2}$d(n,e)}}function EZ(n,e){if(!(!((o=n.length)>0)||!((a=(i=n[e[0]]).length)>0))){for(var t=0,r=1,i,a,o;r<a;++r){for(var s=0,u=0,c=0;s<o;++s){for(var h=n[e[s]],d=h[r][1]||0,g=h[r-1][1]||0,y=(d-g)/2,b=0;b<s;++b){var S=n[e[b]],x=S[r][1]||0,_=S[r-1][1]||0;y+=x-_}u+=d,c+=y*d}i[r-1][1]+=i[r-1][0]=t,u&&(t-=c/u)}i[r-1][1]+=i[r-1][0]=t,$d(n,e)}}function Ag(n){"@babel/helpers - typeof";return Ag=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ag(n)}var AZ=["type","size","sizeType"];function JA(){return JA=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},JA.apply(this,arguments)}function RN(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function ON(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?RN(Object(t),!0).forEach(function(r){TZ(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):RN(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function TZ(n,e,t){return e=CZ(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function CZ(n){var e=PZ(n,"string");return Ag(e)=="symbol"?e:String(e)}function PZ(n,e){if(Ag(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(Ag(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function RZ(n,e){if(n==null)return{};var t=OZ(n,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(t[r]=n[r])}return t}function OZ(n,e){if(n==null)return{};var t={},r=Object.keys(n),i,a;for(a=0;a<r.length;a++)i=r[a],!(e.indexOf(i)>=0)&&(t[i]=n[i]);return t}var p4={symbolCircle:pP,symbolCross:JK,symbolDiamond:eZ,symbolSquare:tZ,symbolStar:aZ,symbolTriangle:oZ,symbolWye:lZ},IZ=Math.PI/180,NZ=function(e){var t="symbol".concat(z_(e));return p4[t]||pP},LZ=function(e,t,r){if(t==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var i=18*IZ;return 1.25*e*e*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},kZ=function(e,t){p4["symbol".concat(z_(e))]=t},mP=function(e){var t=e.type,r=t===void 0?"circle":t,i=e.size,a=i===void 0?64:i,o=e.sizeType,s=o===void 0?"area":o,u=RZ(e,AZ),c=ON(ON({},u),{},{type:r,size:a,sizeType:s}),h=function(){var x=NZ(r),_=uZ().type(x).size(LZ(a,s,r));return _()},d=c.className,g=c.cx,y=c.cy,b=Sn(c,!0);return g===+g&&y===+y&&a===+a?_e.createElement("path",JA({},b,{className:Bn("recharts-symbols",d),transform:"translate(".concat(g,", ").concat(y,")"),d:h()})):null};mP.registerSymbol=kZ;function Xd(n){"@babel/helpers - typeof";return Xd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xd(n)}function QA(){return QA=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},QA.apply(this,arguments)}function IN(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function DZ(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?IN(Object(t),!0).forEach(function(r){Tg(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):IN(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function UZ(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function FZ(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,g4(r.key),r)}}function BZ(n,e,t){return e&&FZ(n.prototype,e),Object.defineProperty(n,"prototype",{writable:!1}),n}function zZ(n,e,t){return e=xx(e),jZ(n,m4()?Reflect.construct(e,t||[],xx(n).constructor):e.apply(n,t))}function jZ(n,e){if(e&&(Xd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return HZ(n)}function HZ(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function m4(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(m4=function(){return!!n})()}function xx(n){return xx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},xx(n)}function VZ(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&eT(n,e)}function eT(n,e){return eT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},eT(n,e)}function Tg(n,e,t){return e=g4(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function g4(n){var e=GZ(n,"string");return Xd(e)=="symbol"?e:String(e)}function GZ(n,e){if(Xd(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(Xd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}var So=32,gP=(function(n){VZ(e,n);function e(){return UZ(this,e),zZ(this,e,arguments)}return BZ(e,[{key:"renderIcon",value:function(r){var i=this.props.inactiveColor,a=So/2,o=So/6,s=So/3,u=r.inactive?i:r.color;if(r.type==="plainline")return _e.createElement("line",{strokeWidth:4,fill:"none",stroke:u,strokeDasharray:r.payload.strokeDasharray,x1:0,y1:a,x2:So,y2:a,className:"recharts-legend-icon"});if(r.type==="line")return _e.createElement("path",{strokeWidth:4,fill:"none",stroke:u,d:"M0,".concat(a,"h").concat(s,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*s,",").concat(a,`
            H`).concat(So,"M").concat(2*s,",").concat(a,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(s,",").concat(a),className:"recharts-legend-icon"});if(r.type==="rect")return _e.createElement("path",{stroke:"none",fill:u,d:"M0,".concat(So/8,"h").concat(So,"v").concat(So*3/4,"h").concat(-So,"z"),className:"recharts-legend-icon"});if(_e.isValidElement(r.legendIcon)){var c=DZ({},r);return delete c.legendIcon,_e.cloneElement(r.legendIcon,c)}return _e.createElement(mP,{fill:u,cx:a,cy:a,size:So,sizeType:"diameter",type:r.type})}},{key:"renderItems",value:function(){var r=this,i=this.props,a=i.payload,o=i.iconSize,s=i.layout,u=i.formatter,c=i.inactiveColor,h={x:0,y:0,width:So,height:So},d={display:s==="horizontal"?"inline-block":"block",marginRight:10},g={display:"inline-block",verticalAlign:"middle",marginRight:4};return a.map(function(y,b){var S=y.formatter||u,x=Bn(Tg(Tg({"recharts-legend-item":!0},"legend-item-".concat(b),!0),"inactive",y.inactive));if(y.type==="none")return null;var _=_n(y.value)?null:y.value;Ll(!_n(y.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var E=y.inactive?c:y.color;return _e.createElement("li",QA({className:x,style:d,key:"legend-item-".concat(b)},dx(r.props,y,b)),_e.createElement(qA,{width:o,height:o,viewBox:h,style:g},r.renderIcon(y)),_e.createElement("span",{className:"recharts-legend-item-text",style:{color:E}},S?S(_,y,b):_))})}},{key:"render",value:function(){var r=this.props,i=r.payload,a=r.layout,o=r.align;if(!i||!i.length)return null;var s={padding:0,margin:0,textAlign:a==="horizontal"?o:"left"};return _e.createElement("ul",{className:"recharts-default-legend",style:s},this.renderItems())}}]),e})(ee.PureComponent);Tg(gP,"displayName","Legend");Tg(gP,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var sw,NN;function WZ(){if(NN)return sw;NN=1;var n=U_();function e(){this.__data__=new n,this.size=0}return sw=e,sw}var lw,LN;function qZ(){if(LN)return lw;LN=1;function n(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}return lw=n,lw}var uw,kN;function $Z(){if(kN)return uw;kN=1;function n(e){return this.__data__.get(e)}return uw=n,uw}var cw,DN;function XZ(){if(DN)return cw;DN=1;function n(e){return this.__data__.has(e)}return cw=n,cw}var fw,UN;function YZ(){if(UN)return fw;UN=1;var n=U_(),e=oP(),t=sP(),r=200;function i(a,o){var s=this.__data__;if(s instanceof n){var u=s.__data__;if(!e||u.length<r-1)return u.push([a,o]),this.size=++s.size,this;s=this.__data__=new t(u)}return s.set(a,o),this.size=s.size,this}return fw=i,fw}var hw,FN;function v4(){if(FN)return hw;FN=1;var n=U_(),e=WZ(),t=qZ(),r=$Z(),i=XZ(),a=YZ();function o(s){var u=this.__data__=new n(s);this.size=u.size}return o.prototype.clear=e,o.prototype.delete=t,o.prototype.get=r,o.prototype.has=i,o.prototype.set=a,hw=o,hw}var dw,BN;function KZ(){if(BN)return dw;BN=1;var n="__lodash_hash_undefined__";function e(t){return this.__data__.set(t,n),this}return dw=e,dw}var pw,zN;function ZZ(){if(zN)return pw;zN=1;function n(e){return this.__data__.has(e)}return pw=n,pw}var mw,jN;function y4(){if(jN)return mw;jN=1;var n=sP(),e=KZ(),t=ZZ();function r(i){var a=-1,o=i==null?0:i.length;for(this.__data__=new n;++a<o;)this.add(i[a])}return r.prototype.add=r.prototype.push=e,r.prototype.has=t,mw=r,mw}var gw,HN;function x4(){if(HN)return gw;HN=1;function n(e,t){for(var r=-1,i=e==null?0:e.length;++r<i;)if(t(e[r],r,e))return!0;return!1}return gw=n,gw}var vw,VN;function _4(){if(VN)return vw;VN=1;function n(e,t){return e.has(t)}return vw=n,vw}var yw,GN;function b4(){if(GN)return yw;GN=1;var n=y4(),e=x4(),t=_4(),r=1,i=2;function a(o,s,u,c,h,d){var g=u&r,y=o.length,b=s.length;if(y!=b&&!(g&&b>y))return!1;var S=d.get(o),x=d.get(s);if(S&&x)return S==s&&x==o;var _=-1,E=!0,A=u&i?new n:void 0;for(d.set(o,s),d.set(s,o);++_<y;){var T=o[_],P=s[_];if(c)var O=g?c(P,T,_,s,o,d):c(T,P,_,o,s,d);if(O!==void 0){if(O)continue;E=!1;break}if(A){if(!e(s,function(N,F){if(!t(A,F)&&(T===N||h(T,N,u,c,d)))return A.push(F)})){E=!1;break}}else if(!(T===P||h(T,P,u,c,d))){E=!1;break}}return d.delete(o),d.delete(s),E}return yw=a,yw}var xw,WN;function JZ(){if(WN)return xw;WN=1;var n=Gs(),e=n.Uint8Array;return xw=e,xw}var _w,qN;function QZ(){if(qN)return _w;qN=1;function n(e){var t=-1,r=Array(e.size);return e.forEach(function(i,a){r[++t]=[a,i]}),r}return _w=n,_w}var bw,$N;function vP(){if($N)return bw;$N=1;function n(e){var t=-1,r=Array(e.size);return e.forEach(function(i){r[++t]=i}),r}return bw=n,bw}var Sw,XN;function eJ(){if(XN)return Sw;XN=1;var n=Tv(),e=JZ(),t=aP(),r=b4(),i=QZ(),a=vP(),o=1,s=2,u="[object Boolean]",c="[object Date]",h="[object Error]",d="[object Map]",g="[object Number]",y="[object RegExp]",b="[object Set]",S="[object String]",x="[object Symbol]",_="[object ArrayBuffer]",E="[object DataView]",A=n?n.prototype:void 0,T=A?A.valueOf:void 0;function P(O,N,F,D,U,G,q){switch(F){case E:if(O.byteLength!=N.byteLength||O.byteOffset!=N.byteOffset)return!1;O=O.buffer,N=N.buffer;case _:return!(O.byteLength!=N.byteLength||!G(new e(O),new e(N)));case u:case c:case g:return t(+O,+N);case h:return O.name==N.name&&O.message==N.message;case y:case S:return O==N+"";case d:var Q=i;case b:var H=D&o;if(Q||(Q=a),O.size!=N.size&&!H)return!1;var te=q.get(O);if(te)return te==N;D|=s,q.set(O,N);var Z=r(Q(O),Q(N),D,U,G,q);return q.delete(O),Z;case x:if(T)return T.call(O)==T.call(N)}return!1}return Sw=P,Sw}var ww,YN;function S4(){if(YN)return ww;YN=1;function n(e,t){for(var r=-1,i=t.length,a=e.length;++r<i;)e[a+r]=t[r];return e}return ww=n,ww}var Mw,KN;function tJ(){if(KN)return Mw;KN=1;var n=S4(),e=Fa();function t(r,i,a){var o=i(r);return e(r)?o:n(o,a(r))}return Mw=t,Mw}var Ew,ZN;function nJ(){if(ZN)return Ew;ZN=1;function n(e,t){for(var r=-1,i=e==null?0:e.length,a=0,o=[];++r<i;){var s=e[r];t(s,r,e)&&(o[a++]=s)}return o}return Ew=n,Ew}var Aw,JN;function rJ(){if(JN)return Aw;JN=1;function n(){return[]}return Aw=n,Aw}var Tw,QN;function iJ(){if(QN)return Tw;QN=1;var n=nJ(),e=rJ(),t=Object.prototype,r=t.propertyIsEnumerable,i=Object.getOwnPropertySymbols,a=i?function(o){return o==null?[]:(o=Object(o),n(i(o),function(s){return r.call(o,s)}))}:e;return Tw=a,Tw}var Cw,e3;function aJ(){if(e3)return Cw;e3=1;function n(e,t){for(var r=-1,i=Array(e);++r<e;)i[r]=t(r);return i}return Cw=n,Cw}var Pw,t3;function oJ(){if(t3)return Pw;t3=1;var n=Gl(),e=Wl(),t="[object Arguments]";function r(i){return e(i)&&n(i)==t}return Pw=r,Pw}var Rw,n3;function yP(){if(n3)return Rw;n3=1;var n=oJ(),e=Wl(),t=Object.prototype,r=t.hasOwnProperty,i=t.propertyIsEnumerable,a=n((function(){return arguments})())?n:function(o){return e(o)&&r.call(o,"callee")&&!i.call(o,"callee")};return Rw=a,Rw}var Bm={exports:{}},Ow,r3;function sJ(){if(r3)return Ow;r3=1;function n(){return!1}return Ow=n,Ow}Bm.exports;var i3;function w4(){return i3||(i3=1,(function(n,e){var t=Gs(),r=sJ(),i=e&&!e.nodeType&&e,a=i&&!0&&n&&!n.nodeType&&n,o=a&&a.exports===i,s=o?t.Buffer:void 0,u=s?s.isBuffer:void 0,c=u||r;n.exports=c})(Bm,Bm.exports)),Bm.exports}var Iw,a3;function xP(){if(a3)return Iw;a3=1;var n=9007199254740991,e=/^(?:0|[1-9]\d*)$/;function t(r,i){var a=typeof r;return i=i??n,!!i&&(a=="number"||a!="symbol"&&e.test(r))&&r>-1&&r%1==0&&r<i}return Iw=t,Iw}var Nw,o3;function _P(){if(o3)return Nw;o3=1;var n=9007199254740991;function e(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=n}return Nw=e,Nw}var Lw,s3;function lJ(){if(s3)return Lw;s3=1;var n=Gl(),e=_P(),t=Wl(),r="[object Arguments]",i="[object Array]",a="[object Boolean]",o="[object Date]",s="[object Error]",u="[object Function]",c="[object Map]",h="[object Number]",d="[object Object]",g="[object RegExp]",y="[object Set]",b="[object String]",S="[object WeakMap]",x="[object ArrayBuffer]",_="[object DataView]",E="[object Float32Array]",A="[object Float64Array]",T="[object Int8Array]",P="[object Int16Array]",O="[object Int32Array]",N="[object Uint8Array]",F="[object Uint8ClampedArray]",D="[object Uint16Array]",U="[object Uint32Array]",G={};G[E]=G[A]=G[T]=G[P]=G[O]=G[N]=G[F]=G[D]=G[U]=!0,G[r]=G[i]=G[x]=G[a]=G[_]=G[o]=G[s]=G[u]=G[c]=G[h]=G[d]=G[g]=G[y]=G[b]=G[S]=!1;function q(Q){return t(Q)&&e(Q.length)&&!!G[n(Q)]}return Lw=q,Lw}var kw,l3;function M4(){if(l3)return kw;l3=1;function n(e){return function(t){return e(t)}}return kw=n,kw}var zm={exports:{}};zm.exports;var u3;function uJ(){return u3||(u3=1,(function(n,e){var t=Gz(),r=e&&!e.nodeType&&e,i=r&&!0&&n&&!n.nodeType&&n,a=i&&i.exports===r,o=a&&t.process,s=(function(){try{var u=i&&i.require&&i.require("util").types;return u||o&&o.binding&&o.binding("util")}catch{}})();n.exports=s})(zm,zm.exports)),zm.exports}var Dw,c3;function E4(){if(c3)return Dw;c3=1;var n=lJ(),e=M4(),t=uJ(),r=t&&t.isTypedArray,i=r?e(r):n;return Dw=i,Dw}var Uw,f3;function cJ(){if(f3)return Uw;f3=1;var n=aJ(),e=yP(),t=Fa(),r=w4(),i=xP(),a=E4(),o=Object.prototype,s=o.hasOwnProperty;function u(c,h){var d=t(c),g=!d&&e(c),y=!d&&!g&&r(c),b=!d&&!g&&!y&&a(c),S=d||g||y||b,x=S?n(c.length,String):[],_=x.length;for(var E in c)(h||s.call(c,E))&&!(S&&(E=="length"||y&&(E=="offset"||E=="parent")||b&&(E=="buffer"||E=="byteLength"||E=="byteOffset")||i(E,_)))&&x.push(E);return x}return Uw=u,Uw}var Fw,h3;function fJ(){if(h3)return Fw;h3=1;var n=Object.prototype;function e(t){var r=t&&t.constructor,i=typeof r=="function"&&r.prototype||n;return t===i}return Fw=e,Fw}var Bw,d3;function A4(){if(d3)return Bw;d3=1;function n(e,t){return function(r){return e(t(r))}}return Bw=n,Bw}var zw,p3;function hJ(){if(p3)return zw;p3=1;var n=A4(),e=n(Object.keys,Object);return zw=e,zw}var jw,m3;function dJ(){if(m3)return jw;m3=1;var n=fJ(),e=hJ(),t=Object.prototype,r=t.hasOwnProperty;function i(a){if(!n(a))return e(a);var o=[];for(var s in Object(a))r.call(a,s)&&s!="constructor"&&o.push(s);return o}return jw=i,jw}var Hw,g3;function Rv(){if(g3)return Hw;g3=1;var n=iP(),e=_P();function t(r){return r!=null&&e(r.length)&&!n(r)}return Hw=t,Hw}var Vw,v3;function G_(){if(v3)return Vw;v3=1;var n=cJ(),e=dJ(),t=Rv();function r(i){return t(i)?n(i):e(i)}return Vw=r,Vw}var Gw,y3;function pJ(){if(y3)return Gw;y3=1;var n=tJ(),e=iJ(),t=G_();function r(i){return n(i,t,e)}return Gw=r,Gw}var Ww,x3;function mJ(){if(x3)return Ww;x3=1;var n=pJ(),e=1,t=Object.prototype,r=t.hasOwnProperty;function i(a,o,s,u,c,h){var d=s&e,g=n(a),y=g.length,b=n(o),S=b.length;if(y!=S&&!d)return!1;for(var x=y;x--;){var _=g[x];if(!(d?_ in o:r.call(o,_)))return!1}var E=h.get(a),A=h.get(o);if(E&&A)return E==o&&A==a;var T=!0;h.set(a,o),h.set(o,a);for(var P=d;++x<y;){_=g[x];var O=a[_],N=o[_];if(u)var F=d?u(N,O,_,o,a,h):u(O,N,_,a,o,h);if(!(F===void 0?O===N||c(O,N,s,u,h):F)){T=!1;break}P||(P=_=="constructor")}if(T&&!P){var D=a.constructor,U=o.constructor;D!=U&&"constructor"in a&&"constructor"in o&&!(typeof D=="function"&&D instanceof D&&typeof U=="function"&&U instanceof U)&&(T=!1)}return h.delete(a),h.delete(o),T}return Ww=i,Ww}var qw,_3;function gJ(){if(_3)return qw;_3=1;var n=$f(),e=Gs(),t=n(e,"DataView");return qw=t,qw}var $w,b3;function vJ(){if(b3)return $w;b3=1;var n=$f(),e=Gs(),t=n(e,"Promise");return $w=t,$w}var Xw,S3;function T4(){if(S3)return Xw;S3=1;var n=$f(),e=Gs(),t=n(e,"Set");return Xw=t,Xw}var Yw,w3;function yJ(){if(w3)return Yw;w3=1;var n=$f(),e=Gs(),t=n(e,"WeakMap");return Yw=t,Yw}var Kw,M3;function xJ(){if(M3)return Kw;M3=1;var n=gJ(),e=oP(),t=vJ(),r=T4(),i=yJ(),a=Gl(),o=Wz(),s="[object Map]",u="[object Object]",c="[object Promise]",h="[object Set]",d="[object WeakMap]",g="[object DataView]",y=o(n),b=o(e),S=o(t),x=o(r),_=o(i),E=a;return(n&&E(new n(new ArrayBuffer(1)))!=g||e&&E(new e)!=s||t&&E(t.resolve())!=c||r&&E(new r)!=h||i&&E(new i)!=d)&&(E=function(A){var T=a(A),P=T==u?A.constructor:void 0,O=P?o(P):"";if(O)switch(O){case y:return g;case b:return s;case S:return c;case x:return h;case _:return d}return T}),Kw=E,Kw}var Zw,E3;function _J(){if(E3)return Zw;E3=1;var n=v4(),e=b4(),t=eJ(),r=mJ(),i=xJ(),a=Fa(),o=w4(),s=E4(),u=1,c="[object Arguments]",h="[object Array]",d="[object Object]",g=Object.prototype,y=g.hasOwnProperty;function b(S,x,_,E,A,T){var P=a(S),O=a(x),N=P?h:i(S),F=O?h:i(x);N=N==c?d:N,F=F==c?d:F;var D=N==d,U=F==d,G=N==F;if(G&&o(S)){if(!o(x))return!1;P=!0,D=!1}if(G&&!D)return T||(T=new n),P||s(S)?e(S,x,_,E,A,T):t(S,x,N,_,E,A,T);if(!(_&u)){var q=D&&y.call(S,"__wrapped__"),Q=U&&y.call(x,"__wrapped__");if(q||Q){var H=q?S.value():S,te=Q?x.value():x;return T||(T=new n),A(H,te,_,E,T)}}return G?(T||(T=new n),r(S,x,_,E,A,T)):!1}return Zw=b,Zw}var Jw,A3;function bP(){if(A3)return Jw;A3=1;var n=_J(),e=Wl();function t(r,i,a,o,s){return r===i?!0:r==null||i==null||!e(r)&&!e(i)?r!==r&&i!==i:n(r,i,a,o,t,s)}return Jw=t,Jw}var Qw,T3;function bJ(){if(T3)return Qw;T3=1;var n=v4(),e=bP(),t=1,r=2;function i(a,o,s,u){var c=s.length,h=c,d=!u;if(a==null)return!h;for(a=Object(a);c--;){var g=s[c];if(d&&g[2]?g[1]!==a[g[0]]:!(g[0]in a))return!1}for(;++c<h;){g=s[c];var y=g[0],b=a[y],S=g[1];if(d&&g[2]){if(b===void 0&&!(y in a))return!1}else{var x=new n;if(u)var _=u(b,S,y,a,o,x);if(!(_===void 0?e(S,b,t|r,u,x):_))return!1}}return!0}return Qw=i,Qw}var eM,C3;function C4(){if(C3)return eM;C3=1;var n=cc();function e(t){return t===t&&!n(t)}return eM=e,eM}var tM,P3;function SJ(){if(P3)return tM;P3=1;var n=C4(),e=G_();function t(r){for(var i=e(r),a=i.length;a--;){var o=i[a],s=r[o];i[a]=[o,s,n(s)]}return i}return tM=t,tM}var nM,R3;function P4(){if(R3)return nM;R3=1;function n(e,t){return function(r){return r==null?!1:r[e]===t&&(t!==void 0||e in Object(r))}}return nM=n,nM}var rM,O3;function wJ(){if(O3)return rM;O3=1;var n=bJ(),e=SJ(),t=P4();function r(i){var a=e(i);return a.length==1&&a[0][2]?t(a[0][0],a[0][1]):function(o){return o===i||n(o,i,a)}}return rM=r,rM}var iM,I3;function MJ(){if(I3)return iM;I3=1;function n(e,t){return e!=null&&t in Object(e)}return iM=n,iM}var aM,N3;function EJ(){if(N3)return aM;N3=1;var n=Xz(),e=yP(),t=Fa(),r=xP(),i=_P(),a=B_();function o(s,u,c){u=n(u,s);for(var h=-1,d=u.length,g=!1;++h<d;){var y=a(u[h]);if(!(g=s!=null&&c(s,y)))break;s=s[y]}return g||++h!=d?g:(d=s==null?0:s.length,!!d&&i(d)&&r(y,d)&&(t(s)||e(s)))}return aM=o,aM}var oM,L3;function AJ(){if(L3)return oM;L3=1;var n=MJ(),e=EJ();function t(r,i){return r!=null&&e(r,i,n)}return oM=t,oM}var sM,k3;function TJ(){if(k3)return sM;k3=1;var n=bP(),e=Yz(),t=AJ(),r=rP(),i=C4(),a=P4(),o=B_(),s=1,u=2;function c(h,d){return r(h)&&i(d)?a(o(h),d):function(g){var y=e(g,h);return y===void 0&&y===d?t(g,h):n(d,y,s|u)}}return sM=c,sM}var lM,D3;function _p(){if(D3)return lM;D3=1;function n(e){return e}return lM=n,lM}var uM,U3;function CJ(){if(U3)return uM;U3=1;function n(e){return function(t){return t==null?void 0:t[e]}}return uM=n,uM}var cM,F3;function PJ(){if(F3)return cM;F3=1;var n=uP();function e(t){return function(r){return n(r,t)}}return cM=e,cM}var fM,B3;function RJ(){if(B3)return fM;B3=1;var n=CJ(),e=PJ(),t=rP(),r=B_();function i(a){return t(a)?n(r(a)):e(a)}return fM=i,fM}var hM,z3;function fc(){if(z3)return hM;z3=1;var n=wJ(),e=TJ(),t=_p(),r=Fa(),i=RJ();function a(o){return typeof o=="function"?o:o==null?t:typeof o=="object"?r(o)?e(o[0],o[1]):n(o):i(o)}return hM=a,hM}var dM,j3;function R4(){if(j3)return dM;j3=1;function n(e,t,r,i){for(var a=e.length,o=r+(i?1:-1);i?o--:++o<a;)if(t(e[o],o,e))return o;return-1}return dM=n,dM}var pM,H3;function OJ(){if(H3)return pM;H3=1;function n(e){return e!==e}return pM=n,pM}var mM,V3;function IJ(){if(V3)return mM;V3=1;function n(e,t,r){for(var i=r-1,a=e.length;++i<a;)if(e[i]===t)return i;return-1}return mM=n,mM}var gM,G3;function NJ(){if(G3)return gM;G3=1;var n=R4(),e=OJ(),t=IJ();function r(i,a,o){return a===a?t(i,a,o):n(i,e,o)}return gM=r,gM}var vM,W3;function LJ(){if(W3)return vM;W3=1;var n=NJ();function e(t,r){var i=t==null?0:t.length;return!!i&&n(t,r,0)>-1}return vM=e,vM}var yM,q3;function kJ(){if(q3)return yM;q3=1;function n(e,t,r){for(var i=-1,a=e==null?0:e.length;++i<a;)if(r(t,e[i]))return!0;return!1}return yM=n,yM}var xM,$3;function DJ(){if($3)return xM;$3=1;function n(){}return xM=n,xM}var _M,X3;function UJ(){if(X3)return _M;X3=1;var n=T4(),e=DJ(),t=vP(),r=1/0,i=n&&1/t(new n([,-0]))[1]==r?function(a){return new n(a)}:e;return _M=i,_M}var bM,Y3;function FJ(){if(Y3)return bM;Y3=1;var n=y4(),e=LJ(),t=kJ(),r=_4(),i=UJ(),a=vP(),o=200;function s(u,c,h){var d=-1,g=e,y=u.length,b=!0,S=[],x=S;if(h)b=!1,g=t;else if(y>=o){var _=c?null:i(u);if(_)return a(_);b=!1,g=r,x=new n}else x=c?[]:S;e:for(;++d<y;){var E=u[d],A=c?c(E):E;if(E=h||E!==0?E:0,b&&A===A){for(var T=x.length;T--;)if(x[T]===A)continue e;c&&x.push(A),S.push(E)}else g(x,A,h)||(x!==S&&x.push(A),S.push(E))}return S}return bM=s,bM}var SM,K3;function BJ(){if(K3)return SM;K3=1;var n=fc(),e=FJ();function t(r,i){return r&&r.length?e(r,n(i,2)):[]}return SM=t,SM}var zJ=BJ();const Z3=Xn(zJ);function O4(n,e,t){return e===!0?Z3(n,t):_n(e)?Z3(n,e):n}function Yd(n){"@babel/helpers - typeof";return Yd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yd(n)}var jJ=["ref"];function J3(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function lf(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?J3(Object(t),!0).forEach(function(r){W_(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):J3(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function HJ(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function Q3(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,L4(r.key),r)}}function VJ(n,e,t){return e&&Q3(n.prototype,e),t&&Q3(n,t),Object.defineProperty(n,"prototype",{writable:!1}),n}function GJ(n,e,t){return e=_x(e),WJ(n,I4()?Reflect.construct(e,t||[],_x(n).constructor):e.apply(n,t))}function WJ(n,e){if(e&&(Yd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return N4(n)}function I4(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(I4=function(){return!!n})()}function _x(n){return _x=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},_x(n)}function N4(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function qJ(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&tT(n,e)}function tT(n,e){return tT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},tT(n,e)}function W_(n,e,t){return e=L4(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function L4(n){var e=$J(n,"string");return Yd(e)=="symbol"?e:String(e)}function $J(n,e){if(Yd(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(Yd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function XJ(n,e){if(n==null)return{};var t=YJ(n,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(t[r]=n[r])}return t}function YJ(n,e){if(n==null)return{};var t={},r=Object.keys(n),i,a;for(a=0;a<r.length;a++)i=r[a],!(e.indexOf(i)>=0)&&(t[i]=n[i]);return t}function KJ(n){return n.value}function ZJ(n,e){if(_e.isValidElement(n))return _e.cloneElement(n,e);if(typeof n=="function")return _e.createElement(n,e);e.ref;var t=XJ(e,jJ);return _e.createElement(gP,t)}var eL=1,Cg=(function(n){qJ(e,n);function e(){var t;HJ(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return t=GJ(this,e,[].concat(i)),W_(N4(t),"lastBoundingBox",{width:-1,height:-1}),t}return VJ(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();return r.height=this.wrapperNode.offsetHeight,r.width=this.wrapperNode.offsetWidth,r}return null}},{key:"updateBBox",value:function(){var r=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>eL||Math.abs(i.height-this.lastBoundingBox.height)>eL)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,r&&r(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,r&&r(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?lf({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(r){var i=this.props,a=i.layout,o=i.align,s=i.verticalAlign,u=i.margin,c=i.chartWidth,h=i.chartHeight,d,g;if(!r||(r.left===void 0||r.left===null)&&(r.right===void 0||r.right===null))if(o==="center"&&a==="vertical"){var y=this.getBBoxSnapshot();d={left:((c||0)-y.width)/2}}else d=o==="right"?{right:u&&u.right||0}:{left:u&&u.left||0};if(!r||(r.top===void 0||r.top===null)&&(r.bottom===void 0||r.bottom===null))if(s==="middle"){var b=this.getBBoxSnapshot();g={top:((h||0)-b.height)/2}}else g=s==="bottom"?{bottom:u&&u.bottom||0}:{top:u&&u.top||0};return lf(lf({},d),g)}},{key:"render",value:function(){var r=this,i=this.props,a=i.content,o=i.width,s=i.height,u=i.wrapperStyle,c=i.payloadUniqBy,h=i.payload,d=lf(lf({position:"absolute",width:o||"auto",height:s||"auto"},this.getDefaultPosition(u)),u);return _e.createElement("div",{className:"recharts-legend-wrapper",style:d,ref:function(y){r.wrapperNode=y}},ZJ(a,lf(lf({},this.props),{},{payload:O4(h,c,KJ)})))}}],[{key:"getWithHeight",value:function(r,i){var a=r.props.layout;return a==="vertical"&&ct(r.props.height)?{height:r.props.height}:a==="horizontal"?{width:r.props.width||i}:null}}]),e})(ee.PureComponent);W_(Cg,"displayName","Legend");W_(Cg,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var wM,tL;function JJ(){if(tL)return wM;tL=1;var n=Tv(),e=yP(),t=Fa(),r=n?n.isConcatSpreadable:void 0;function i(a){return t(a)||e(a)||!!(r&&a&&a[r])}return wM=i,wM}var MM,nL;function k4(){if(nL)return MM;nL=1;var n=S4(),e=JJ();function t(r,i,a,o,s){var u=-1,c=r.length;for(a||(a=e),s||(s=[]);++u<c;){var h=r[u];i>0&&a(h)?i>1?t(h,i-1,a,o,s):n(s,h):o||(s[s.length]=h)}return s}return MM=t,MM}var EM,rL;function QJ(){if(rL)return EM;rL=1;function n(e){return function(t,r,i){for(var a=-1,o=Object(t),s=i(t),u=s.length;u--;){var c=s[e?u:++a];if(r(o[c],c,o)===!1)break}return t}}return EM=n,EM}var AM,iL;function eQ(){if(iL)return AM;iL=1;var n=QJ(),e=n();return AM=e,AM}var TM,aL;function D4(){if(aL)return TM;aL=1;var n=eQ(),e=G_();function t(r,i){return r&&n(r,i,e)}return TM=t,TM}var CM,oL;function tQ(){if(oL)return CM;oL=1;var n=Rv();function e(t,r){return function(i,a){if(i==null)return i;if(!n(i))return t(i,a);for(var o=i.length,s=r?o:-1,u=Object(i);(r?s--:++s<o)&&a(u[s],s,u)!==!1;);return i}}return CM=e,CM}var PM,sL;function SP(){if(sL)return PM;sL=1;var n=D4(),e=tQ(),t=e(n);return PM=t,PM}var RM,lL;function U4(){if(lL)return RM;lL=1;var n=SP(),e=Rv();function t(r,i){var a=-1,o=e(r)?Array(r.length):[];return n(r,function(s,u,c){o[++a]=i(s,u,c)}),o}return RM=t,RM}var OM,uL;function nQ(){if(uL)return OM;uL=1;function n(e,t){var r=e.length;for(e.sort(t);r--;)e[r]=e[r].value;return e}return OM=n,OM}var IM,cL;function rQ(){if(cL)return IM;cL=1;var n=vp();function e(t,r){if(t!==r){var i=t!==void 0,a=t===null,o=t===t,s=n(t),u=r!==void 0,c=r===null,h=r===r,d=n(r);if(!c&&!d&&!s&&t>r||s&&u&&h&&!c&&!d||a&&u&&h||!i&&h||!o)return 1;if(!a&&!s&&!d&&t<r||d&&i&&o&&!a&&!s||c&&i&&o||!u&&o||!h)return-1}return 0}return IM=e,IM}var NM,fL;function iQ(){if(fL)return NM;fL=1;var n=rQ();function e(t,r,i){for(var a=-1,o=t.criteria,s=r.criteria,u=o.length,c=i.length;++a<u;){var h=n(o[a],s[a]);if(h){if(a>=c)return h;var d=i[a];return h*(d=="desc"?-1:1)}}return t.index-r.index}return NM=e,NM}var LM,hL;function aQ(){if(hL)return LM;hL=1;var n=lP(),e=uP(),t=fc(),r=U4(),i=nQ(),a=M4(),o=iQ(),s=_p(),u=Fa();function c(h,d,g){d.length?d=n(d,function(S){return u(S)?function(x){return e(x,S.length===1?S[0]:S)}:S}):d=[s];var y=-1;d=n(d,a(t));var b=r(h,function(S,x,_){var E=n(d,function(A){return A(S)});return{criteria:E,index:++y,value:S}});return i(b,function(S,x){return o(S,x,g)})}return LM=c,LM}var kM,dL;function oQ(){if(dL)return kM;dL=1;function n(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}return kM=n,kM}var DM,pL;function sQ(){if(pL)return DM;pL=1;var n=oQ(),e=Math.max;function t(r,i,a){return i=e(i===void 0?r.length-1:i,0),function(){for(var o=arguments,s=-1,u=e(o.length-i,0),c=Array(u);++s<u;)c[s]=o[i+s];s=-1;for(var h=Array(i+1);++s<i;)h[s]=o[s];return h[i]=a(c),n(r,this,h)}}return DM=t,DM}var UM,mL;function lQ(){if(mL)return UM;mL=1;function n(e){return function(){return e}}return UM=n,UM}var FM,gL;function F4(){if(gL)return FM;gL=1;var n=$f(),e=(function(){try{var t=n(Object,"defineProperty");return t({},"",{}),t}catch{}})();return FM=e,FM}var BM,vL;function uQ(){if(vL)return BM;vL=1;var n=lQ(),e=F4(),t=_p(),r=e?function(i,a){return e(i,"toString",{configurable:!0,enumerable:!1,value:n(a),writable:!0})}:t;return BM=r,BM}var zM,yL;function cQ(){if(yL)return zM;yL=1;var n=800,e=16,t=Date.now;function r(i){var a=0,o=0;return function(){var s=t(),u=e-(s-o);if(o=s,u>0){if(++a>=n)return arguments[0]}else a=0;return i.apply(void 0,arguments)}}return zM=r,zM}var jM,xL;function fQ(){if(xL)return jM;xL=1;var n=uQ(),e=cQ(),t=e(n);return jM=t,jM}var HM,_L;function hQ(){if(_L)return HM;_L=1;var n=_p(),e=sQ(),t=fQ();function r(i,a){return t(e(i,a,n),i+"")}return HM=r,HM}var VM,bL;function q_(){if(bL)return VM;bL=1;var n=aP(),e=Rv(),t=xP(),r=cc();function i(a,o,s){if(!r(s))return!1;var u=typeof o;return(u=="number"?e(s)&&t(o,s.length):u=="string"&&o in s)?n(s[o],a):!1}return VM=i,VM}var GM,SL;function dQ(){if(SL)return GM;SL=1;var n=k4(),e=aQ(),t=hQ(),r=q_(),i=t(function(a,o){if(a==null)return[];var s=o.length;return s>1&&r(a,o[0],o[1])?o=[]:s>2&&r(o[0],o[1],o[2])&&(o=[o[0]]),e(a,n(o,1),[])});return GM=i,GM}var pQ=dQ();const wP=Xn(pQ);function Pg(n){"@babel/helpers - typeof";return Pg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pg(n)}function nT(){return nT=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},nT.apply(this,arguments)}function mQ(n,e){return xQ(n)||yQ(n,e)||vQ(n,e)||gQ()}function gQ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vQ(n,e){if(n){if(typeof n=="string")return wL(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(n);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return wL(n,e)}}function wL(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function yQ(n,e){var t=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t!=null){var r,i,a,o,s=[],u=!0,c=!1;try{if(a=(t=t.call(n)).next,e!==0)for(;!(u=(r=a.call(t)).done)&&(s.push(r.value),s.length!==e);u=!0);}catch(h){c=!0,i=h}finally{try{if(!u&&t.return!=null&&(o=t.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}function xQ(n){if(Array.isArray(n))return n}function ML(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function WM(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?ML(Object(t),!0).forEach(function(r){_Q(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):ML(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function _Q(n,e,t){return e=bQ(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function bQ(n){var e=SQ(n,"string");return Pg(e)=="symbol"?e:String(e)}function SQ(n,e){if(Pg(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(Pg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function wQ(n){return Array.isArray(n)&&ii(n[0])&&ii(n[1])?n.join(" ~ "):n}var MQ=function(e){var t=e.separator,r=t===void 0?" : ":t,i=e.contentStyle,a=i===void 0?{}:i,o=e.itemStyle,s=o===void 0?{}:o,u=e.labelStyle,c=u===void 0?{}:u,h=e.payload,d=e.formatter,g=e.itemSorter,y=e.wrapperClassName,b=e.labelClassName,S=e.label,x=e.labelFormatter,_=e.accessibilityLayer,E=_===void 0?!1:_,A=function(){if(h&&h.length){var q={padding:0,margin:0},Q=(g?wP(h,g):h).map(function(H,te){if(H.type==="none")return null;var Z=WM({display:"block",paddingTop:4,paddingBottom:4,color:H.color||"#000"},s),he=H.formatter||d||wQ,X=H.value,ae=H.name,z=X,re=ae;if(he&&z!=null&&re!=null){var le=he(X,ae,H,te,h);if(Array.isArray(le)){var ce=mQ(le,2);z=ce[0],re=ce[1]}else z=le}return _e.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(te),style:Z},ii(re)?_e.createElement("span",{className:"recharts-tooltip-item-name"},re):null,ii(re)?_e.createElement("span",{className:"recharts-tooltip-item-separator"},r):null,_e.createElement("span",{className:"recharts-tooltip-item-value"},z),_e.createElement("span",{className:"recharts-tooltip-item-unit"},H.unit||""))});return _e.createElement("ul",{className:"recharts-tooltip-item-list",style:q},Q)}return null},T=WM({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},a),P=WM({margin:0},c),O=!An(S),N=O?S:"",F=Bn("recharts-default-tooltip",y),D=Bn("recharts-tooltip-label",b);O&&x&&h!==void 0&&h!==null&&(N=x(S,h));var U=E?{role:"status","aria-live":"assertive"}:{};return _e.createElement("div",nT({className:F,style:T},U),_e.createElement("p",{className:D,style:P},_e.isValidElement(N)?N:"".concat(N)),A())};function Rg(n){"@babel/helpers - typeof";return Rg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rg(n)}function Ny(n,e,t){return e=EQ(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function EQ(n){var e=AQ(n,"string");return Rg(e)=="symbol"?e:String(e)}function AQ(n,e){if(Rg(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(Rg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var Pm="recharts-tooltip-wrapper",TQ={visibility:"hidden"};function CQ(n){var e=n.coordinate,t=n.translateX,r=n.translateY;return Bn(Pm,Ny(Ny(Ny(Ny({},"".concat(Pm,"-right"),ct(t)&&e&&ct(e.x)&&t>=e.x),"".concat(Pm,"-left"),ct(t)&&e&&ct(e.x)&&t<e.x),"".concat(Pm,"-bottom"),ct(r)&&e&&ct(e.y)&&r>=e.y),"".concat(Pm,"-top"),ct(r)&&e&&ct(e.y)&&r<e.y))}function EL(n){var e=n.allowEscapeViewBox,t=n.coordinate,r=n.key,i=n.offsetTopLeft,a=n.position,o=n.reverseDirection,s=n.tooltipDimension,u=n.viewBox,c=n.viewBoxDimension;if(a&&ct(a[r]))return a[r];var h=t[r]-s-i,d=t[r]+i;if(e[r])return o[r]?h:d;if(o[r]){var g=h,y=u[r];return g<y?Math.max(d,u[r]):Math.max(h,u[r])}var b=d+s,S=u[r]+c;return b>S?Math.max(h,u[r]):Math.max(d,u[r])}function PQ(n){var e=n.translateX,t=n.translateY,r=n.useTranslate3d;return{transform:r?"translate3d(".concat(e,"px, ").concat(t,"px, 0)"):"translate(".concat(e,"px, ").concat(t,"px)")}}function RQ(n){var e=n.allowEscapeViewBox,t=n.coordinate,r=n.offsetTopLeft,i=n.position,a=n.reverseDirection,o=n.tooltipBox,s=n.useTranslate3d,u=n.viewBox,c,h,d;return o.height>0&&o.width>0&&t?(h=EL({allowEscapeViewBox:e,coordinate:t,key:"x",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:o.width,viewBox:u,viewBoxDimension:u.width}),d=EL({allowEscapeViewBox:e,coordinate:t,key:"y",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:o.height,viewBox:u,viewBoxDimension:u.height}),c=PQ({translateX:h,translateY:d,useTranslate3d:s})):c=TQ,{cssProperties:c,cssClasses:CQ({translateX:h,translateY:d,coordinate:t})}}function Kd(n){"@babel/helpers - typeof";return Kd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Kd(n)}function AL(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function TL(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?AL(Object(t),!0).forEach(function(r){tx(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):AL(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function OQ(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function IQ(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,z4(r.key),r)}}function NQ(n,e,t){return e&&IQ(n.prototype,e),Object.defineProperty(n,"prototype",{writable:!1}),n}function LQ(n,e,t){return e=bx(e),kQ(n,B4()?Reflect.construct(e,t||[],bx(n).constructor):e.apply(n,t))}function kQ(n,e){if(e&&(Kd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ex(n)}function B4(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(B4=function(){return!!n})()}function bx(n){return bx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},bx(n)}function ex(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function DQ(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&rT(n,e)}function rT(n,e){return rT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},rT(n,e)}function tx(n,e,t){return e=z4(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function z4(n){var e=UQ(n,"string");return Kd(e)=="symbol"?e:String(e)}function UQ(n,e){if(Kd(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(Kd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var CL=1,FQ=(function(n){DQ(e,n);function e(){var t;OQ(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return t=LQ(this,e,[].concat(i)),tx(ex(t),"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),tx(ex(t),"lastBoundingBox",{width:-1,height:-1}),tx(ex(t),"handleKeyDown",function(o){if(o.key==="Escape"){var s,u,c,h;t.setState({dismissed:!0,dismissedAtCoordinate:{x:(s=(u=t.props.coordinate)===null||u===void 0?void 0:u.x)!==null&&s!==void 0?s:0,y:(c=(h=t.props.coordinate)===null||h===void 0?void 0:h.y)!==null&&c!==void 0?c:0}})}}),t}return NQ(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();(Math.abs(r.width-this.lastBoundingBox.width)>CL||Math.abs(r.height-this.lastBoundingBox.height)>CL)&&(this.lastBoundingBox.width=r.width,this.lastBoundingBox.height=r.height)}else(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1)}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var r,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var r=this,i=this.props,a=i.active,o=i.allowEscapeViewBox,s=i.animationDuration,u=i.animationEasing,c=i.children,h=i.coordinate,d=i.hasPayload,g=i.isAnimationActive,y=i.offset,b=i.position,S=i.reverseDirection,x=i.useTranslate3d,_=i.viewBox,E=i.wrapperStyle,A=RQ({allowEscapeViewBox:o,coordinate:h,offsetTopLeft:y,position:b,reverseDirection:S,tooltipBox:{height:this.lastBoundingBox.height,width:this.lastBoundingBox.width},useTranslate3d:x,viewBox:_}),T=A.cssClasses,P=A.cssProperties,O=TL(TL({transition:g&&a?"transform ".concat(s,"ms ").concat(u):void 0},P),{},{pointerEvents:"none",visibility:!this.state.dismissed&&a&&d?"visible":"hidden",position:"absolute",top:0,left:0},E);return _e.createElement("div",{tabIndex:-1,className:T,style:O,ref:function(F){r.wrapperNode=F}},c)}}]),e})(ee.PureComponent),BQ=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},bp={isSsr:BQ()};function Zd(n){"@babel/helpers - typeof";return Zd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zd(n)}function PL(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function RL(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?PL(Object(t),!0).forEach(function(r){MP(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):PL(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function zQ(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function jQ(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,H4(r.key),r)}}function HQ(n,e,t){return e&&jQ(n.prototype,e),Object.defineProperty(n,"prototype",{writable:!1}),n}function VQ(n,e,t){return e=Sx(e),GQ(n,j4()?Reflect.construct(e,t||[],Sx(n).constructor):e.apply(n,t))}function GQ(n,e){if(e&&(Zd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return WQ(n)}function WQ(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function j4(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(j4=function(){return!!n})()}function Sx(n){return Sx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Sx(n)}function qQ(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&iT(n,e)}function iT(n,e){return iT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},iT(n,e)}function MP(n,e,t){return e=H4(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function H4(n){var e=$Q(n,"string");return Zd(e)=="symbol"?e:String(e)}function $Q(n,e){if(Zd(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(Zd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}function XQ(n){return n.dataKey}function YQ(n,e){return _e.isValidElement(n)?_e.cloneElement(n,e):typeof n=="function"?_e.createElement(n,e):_e.createElement(MQ,e)}var rs=(function(n){qQ(e,n);function e(){return zQ(this,e),VQ(this,e,arguments)}return HQ(e,[{key:"render",value:function(){var r=this,i=this.props,a=i.active,o=i.allowEscapeViewBox,s=i.animationDuration,u=i.animationEasing,c=i.content,h=i.coordinate,d=i.filterNull,g=i.isAnimationActive,y=i.offset,b=i.payload,S=i.payloadUniqBy,x=i.position,_=i.reverseDirection,E=i.useTranslate3d,A=i.viewBox,T=i.wrapperStyle,P=b??[];d&&P.length&&(P=O4(b.filter(function(N){return N.value!=null&&(N.hide!==!0||r.props.includeHidden)}),S,XQ));var O=P.length>0;return _e.createElement(FQ,{allowEscapeViewBox:o,animationDuration:s,animationEasing:u,isAnimationActive:g,active:a,coordinate:h,hasPayload:O,offset:y,position:x,reverseDirection:_,useTranslate3d:E,viewBox:A,wrapperStyle:T},YQ(c,RL(RL({},this.props),{},{payload:P})))}}]),e})(ee.PureComponent);MP(rs,"displayName","Tooltip");MP(rs,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!bp.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var qM,OL;function KQ(){if(OL)return qM;OL=1;var n=Gs(),e=function(){return n.Date.now()};return qM=e,qM}var $M,IL;function ZQ(){if(IL)return $M;IL=1;var n=/\s/;function e(t){for(var r=t.length;r--&&n.test(t.charAt(r)););return r}return $M=e,$M}var XM,NL;function JQ(){if(NL)return XM;NL=1;var n=ZQ(),e=/^\s+/;function t(r){return r&&r.slice(0,n(r)+1).replace(e,"")}return XM=t,XM}var YM,LL;function V4(){if(LL)return YM;LL=1;var n=JQ(),e=cc(),t=vp(),r=NaN,i=/^[-+]0x[0-9a-f]+$/i,a=/^0b[01]+$/i,o=/^0o[0-7]+$/i,s=parseInt;function u(c){if(typeof c=="number")return c;if(t(c))return r;if(e(c)){var h=typeof c.valueOf=="function"?c.valueOf():c;c=e(h)?h+"":h}if(typeof c!="string")return c===0?c:+c;c=n(c);var d=a.test(c);return d||o.test(c)?s(c.slice(2),d?2:8):i.test(c)?r:+c}return YM=u,YM}var KM,kL;function QQ(){if(kL)return KM;kL=1;var n=cc(),e=KQ(),t=V4(),r="Expected a function",i=Math.max,a=Math.min;function o(s,u,c){var h,d,g,y,b,S,x=0,_=!1,E=!1,A=!0;if(typeof s!="function")throw new TypeError(r);u=t(u)||0,n(c)&&(_=!!c.leading,E="maxWait"in c,g=E?i(t(c.maxWait)||0,u):g,A="trailing"in c?!!c.trailing:A);function T(Q){var H=h,te=d;return h=d=void 0,x=Q,y=s.apply(te,H),y}function P(Q){return x=Q,b=setTimeout(F,u),_?T(Q):y}function O(Q){var H=Q-S,te=Q-x,Z=u-H;return E?a(Z,g-te):Z}function N(Q){var H=Q-S,te=Q-x;return S===void 0||H>=u||H<0||E&&te>=g}function F(){var Q=e();if(N(Q))return D(Q);b=setTimeout(F,O(Q))}function D(Q){return b=void 0,A&&h?T(Q):(h=d=void 0,y)}function U(){b!==void 0&&clearTimeout(b),x=0,h=S=d=b=void 0}function G(){return b===void 0?y:D(e())}function q(){var Q=e(),H=N(Q);if(h=arguments,d=this,S=Q,H){if(b===void 0)return P(S);if(E)return clearTimeout(b),b=setTimeout(F,u),T(S)}return b===void 0&&(b=setTimeout(F,u)),y}return q.cancel=U,q.flush=G,q}return KM=o,KM}var ZM,DL;function eee(){if(DL)return ZM;DL=1;var n=QQ(),e=cc(),t="Expected a function";function r(i,a,o){var s=!0,u=!0;if(typeof i!="function")throw new TypeError(t);return e(o)&&(s="leading"in o?!!o.leading:s,u="trailing"in o?!!o.trailing:u),n(i,a,{leading:s,maxWait:a,trailing:u})}return ZM=r,ZM}var tee=eee();const G4=Xn(tee);function Og(n){"@babel/helpers - typeof";return Og=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Og(n)}function UL(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function Ly(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?UL(Object(t),!0).forEach(function(r){nee(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):UL(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function nee(n,e,t){return e=ree(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function ree(n){var e=iee(n,"string");return Og(e)=="symbol"?e:String(e)}function iee(n,e){if(Og(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(Og(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function aee(n,e){return uee(n)||lee(n,e)||see(n,e)||oee()}function oee(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function see(n,e){if(n){if(typeof n=="string")return FL(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(n);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return FL(n,e)}}function FL(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function lee(n,e){var t=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t!=null){var r,i,a,o,s=[],u=!0,c=!1;try{if(a=(t=t.call(n)).next,e!==0)for(;!(u=(r=a.call(t)).done)&&(s.push(r.value),s.length!==e);u=!0);}catch(h){c=!0,i=h}finally{try{if(!u&&t.return!=null&&(o=t.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}function uee(n){if(Array.isArray(n))return n}var BL=ee.forwardRef(function(n,e){var t=n.aspect,r=n.initialDimension,i=r===void 0?{width:-1,height:-1}:r,a=n.width,o=a===void 0?"100%":a,s=n.height,u=s===void 0?"100%":s,c=n.minWidth,h=c===void 0?0:c,d=n.minHeight,g=n.maxHeight,y=n.children,b=n.debounce,S=b===void 0?0:b,x=n.id,_=n.className,E=n.onResize,A=n.style,T=A===void 0?{}:A,P=ee.useRef(null),O=ee.useRef();O.current=E,ee.useImperativeHandle(e,function(){return Object.defineProperty(P.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),P.current},configurable:!0})});var N=ee.useState({containerWidth:i.width,containerHeight:i.height}),F=aee(N,2),D=F[0],U=F[1],G=ee.useCallback(function(Q,H){U(function(te){var Z=Math.round(Q),he=Math.round(H);return te.containerWidth===Z&&te.containerHeight===he?te:{containerWidth:Z,containerHeight:he}})},[]);ee.useEffect(function(){var Q=function(ae){var z,re=ae[0].contentRect,le=re.width,ce=re.height;G(le,ce),(z=O.current)===null||z===void 0||z.call(O,le,ce)};S>0&&(Q=G4(Q,S,{trailing:!0,leading:!1}));var H=new ResizeObserver(Q),te=P.current.getBoundingClientRect(),Z=te.width,he=te.height;return G(Z,he),H.observe(P.current),function(){H.disconnect()}},[G,S]);var q=ee.useMemo(function(){var Q=D.containerWidth,H=D.containerHeight;if(Q<0||H<0)return null;Ll(Sf(o)||Sf(u),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,o,u),Ll(!t||t>0,"The aspect(%s) must be greater than zero.",t);var te=Sf(o)?Q:o,Z=Sf(u)?H:u;t&&t>0&&(te?Z=te/t:Z&&(te=Z*t),g&&Z>g&&(Z=g)),Ll(te>0||Z>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,te,Z,o,u,h,d,t);var he=!Array.isArray(y)&&jA.isElement(y)&&Nl(y.type).endsWith("Chart");return _e.Children.map(y,function(X){return jA.isElement(X)?ee.cloneElement(X,Ly({width:te,height:Z},he?{style:Ly({height:"100%",width:"100%",maxHeight:Z,maxWidth:te},X.props.style)}:{})):X})},[t,y,u,g,d,h,D,o]);return _e.createElement("div",{id:x?"".concat(x):void 0,className:Bn("recharts-responsive-container",_),style:Ly(Ly({},T),{},{width:o,height:u,minWidth:h,minHeight:d,maxHeight:g}),ref:P},q)}),W4=function(e){return null};W4.displayName="Cell";function Ig(n){"@babel/helpers - typeof";return Ig=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ig(n)}function zL(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function aT(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?zL(Object(t),!0).forEach(function(r){cee(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):zL(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function cee(n,e,t){return e=fee(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function fee(n){var e=hee(n,"string");return Ig(e)=="symbol"?e:String(e)}function hee(n,e){if(Ig(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(Ig(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var Sd={widthCache:{},cacheCount:0},dee=2e3,pee={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},jL="recharts_measurement_span";function mee(n){var e=aT({},n);return Object.keys(e).forEach(function(t){e[t]||delete e[t]}),e}var Zm=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||bp.isSsr)return{width:0,height:0};var r=mee(t),i=JSON.stringify({text:e,copyStyle:r});if(Sd.widthCache[i])return Sd.widthCache[i];try{var a=document.getElementById(jL);a||(a=document.createElement("span"),a.setAttribute("id",jL),a.setAttribute("aria-hidden","true"),document.body.appendChild(a));var o=aT(aT({},pee),r);Object.assign(a.style,o),a.textContent="".concat(e);var s=a.getBoundingClientRect(),u={width:s.width,height:s.height};return Sd.widthCache[i]=u,++Sd.cacheCount>dee&&(Sd.cacheCount=0,Sd.widthCache={}),u}catch{return{width:0,height:0}}},gee=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function Ng(n){"@babel/helpers - typeof";return Ng=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ng(n)}function wx(n,e){return _ee(n)||xee(n,e)||yee(n,e)||vee()}function vee(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function yee(n,e){if(n){if(typeof n=="string")return HL(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(n);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return HL(n,e)}}function HL(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function xee(n,e){var t=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t!=null){var r,i,a,o,s=[],u=!0,c=!1;try{if(a=(t=t.call(n)).next,e===0){if(Object(t)!==t)return;u=!1}else for(;!(u=(r=a.call(t)).done)&&(s.push(r.value),s.length!==e);u=!0);}catch(h){c=!0,i=h}finally{try{if(!u&&t.return!=null&&(o=t.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}function _ee(n){if(Array.isArray(n))return n}function bee(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function VL(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,wee(r.key),r)}}function See(n,e,t){return e&&VL(n.prototype,e),t&&VL(n,t),Object.defineProperty(n,"prototype",{writable:!1}),n}function wee(n){var e=Mee(n,"string");return Ng(e)=="symbol"?e:String(e)}function Mee(n,e){if(Ng(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(Ng(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}var GL=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,WL=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Eee=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,Aee=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,q4={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},Tee=Object.keys(q4),Ld="NaN";function Cee(n,e){return n*q4[e]}var ky=(function(){function n(e,t){bee(this,n),this.num=e,this.unit=t,this.num=e,this.unit=t,Number.isNaN(e)&&(this.unit=""),t!==""&&!Eee.test(t)&&(this.num=NaN,this.unit=""),Tee.includes(t)&&(this.num=Cee(e,t),this.unit="px")}return See(n,[{key:"add",value:function(t){return this.unit!==t.unit?new n(NaN,""):new n(this.num+t.num,this.unit)}},{key:"subtract",value:function(t){return this.unit!==t.unit?new n(NaN,""):new n(this.num-t.num,this.unit)}},{key:"multiply",value:function(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new n(NaN,""):new n(this.num*t.num,this.unit||t.unit)}},{key:"divide",value:function(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new n(NaN,""):new n(this.num/t.num,this.unit||t.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(t){var r,i=(r=Aee.exec(t))!==null&&r!==void 0?r:[],a=wx(i,3),o=a[1],s=a[2];return new n(parseFloat(o),s??"")}}]),n})();function $4(n){if(n.includes(Ld))return Ld;for(var e=n;e.includes("*")||e.includes("/");){var t,r=(t=GL.exec(e))!==null&&t!==void 0?t:[],i=wx(r,4),a=i[1],o=i[2],s=i[3],u=ky.parse(a??""),c=ky.parse(s??""),h=o==="*"?u.multiply(c):u.divide(c);if(h.isNaN())return Ld;e=e.replace(GL,h.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var d,g=(d=WL.exec(e))!==null&&d!==void 0?d:[],y=wx(g,4),b=y[1],S=y[2],x=y[3],_=ky.parse(b??""),E=ky.parse(x??""),A=S==="+"?_.add(E):_.subtract(E);if(A.isNaN())return Ld;e=e.replace(WL,A.toString())}return e}var qL=/\(([^()]*)\)/;function Pee(n){for(var e=n;e.includes("(");){var t=qL.exec(e),r=wx(t,2),i=r[1];e=e.replace(qL,$4(i))}return e}function Ree(n){var e=n.replace(/\s+/g,"");return e=Pee(e),e=$4(e),e}function Oee(n){try{return Ree(n)}catch{return Ld}}function JM(n){var e=Oee(n.slice(5,-1));return e===Ld?"":e}var Iee=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],Nee=["dx","dy","angle","className","breakAll"];function oT(){return oT=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},oT.apply(this,arguments)}function $L(n,e){if(n==null)return{};var t=Lee(n,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(t[r]=n[r])}return t}function Lee(n,e){if(n==null)return{};var t={},r=Object.keys(n),i,a;for(a=0;a<r.length;a++)i=r[a],!(e.indexOf(i)>=0)&&(t[i]=n[i]);return t}function XL(n,e){return Fee(n)||Uee(n,e)||Dee(n,e)||kee()}function kee(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Dee(n,e){if(n){if(typeof n=="string")return YL(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(n);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return YL(n,e)}}function YL(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function Uee(n,e){var t=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t!=null){var r,i,a,o,s=[],u=!0,c=!1;try{if(a=(t=t.call(n)).next,e===0){if(Object(t)!==t)return;u=!1}else for(;!(u=(r=a.call(t)).done)&&(s.push(r.value),s.length!==e);u=!0);}catch(h){c=!0,i=h}finally{try{if(!u&&t.return!=null&&(o=t.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}function Fee(n){if(Array.isArray(n))return n}var X4=/[ \f\n\r\t\v\u2028\u2029]+/,Y4=function(e){var t=e.children,r=e.breakAll,i=e.style;try{var a=[];An(t)||(r?a=t.toString().split(""):a=t.toString().split(X4));var o=a.map(function(u){return{word:u,width:Zm(u,i).width}}),s=r?0:Zm("",i).width;return{wordsWithComputedWidth:o,spaceWidth:s}}catch{return null}},Bee=function(e,t,r,i,a){var o=e.maxLines,s=e.children,u=e.style,c=e.breakAll,h=ct(o),d=s,g=function(){var te=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return te.reduce(function(Z,he){var X=he.word,ae=he.width,z=Z[Z.length-1];if(z&&(i==null||a||z.width+ae+r<Number(i)))z.words.push(X),z.width+=ae+r;else{var re={words:[X],width:ae};Z.push(re)}return Z},[])},y=g(t),b=function(te){return te.reduce(function(Z,he){return Z.width>he.width?Z:he})};if(!h)return y;for(var S="",x=function(te){var Z=d.slice(0,te),he=Y4({breakAll:c,style:u,children:Z+S}).wordsWithComputedWidth,X=g(he),ae=X.length>o||b(X).width>Number(i);return[ae,X]},_=0,E=d.length-1,A=0,T;_<=E&&A<=d.length-1;){var P=Math.floor((_+E)/2),O=P-1,N=x(O),F=XL(N,2),D=F[0],U=F[1],G=x(P),q=XL(G,1),Q=q[0];if(!D&&!Q&&(_=P+1),D&&Q&&(E=P-1),!D&&Q){T=U;break}A++}return T||y},KL=function(e){var t=An(e)?[]:e.toString().split(X4);return[{words:t}]},zee=function(e){var t=e.width,r=e.scaleToFit,i=e.children,a=e.style,o=e.breakAll,s=e.maxLines;if((t||r)&&!bp.isSsr){var u,c,h=Y4({breakAll:o,children:i,style:a});if(h){var d=h.wordsWithComputedWidth,g=h.spaceWidth;u=d,c=g}else return KL(i);return Bee({breakAll:o,children:i,maxLines:s,style:a},u,c,t,r)}return KL(i)},ZL="#808080",Mx=function(e){var t=e.x,r=t===void 0?0:t,i=e.y,a=i===void 0?0:i,o=e.lineHeight,s=o===void 0?"1em":o,u=e.capHeight,c=u===void 0?"0.71em":u,h=e.scaleToFit,d=h===void 0?!1:h,g=e.textAnchor,y=g===void 0?"start":g,b=e.verticalAnchor,S=b===void 0?"end":b,x=e.fill,_=x===void 0?ZL:x,E=$L(e,Iee),A=ee.useMemo(function(){return zee({breakAll:E.breakAll,children:E.children,maxLines:E.maxLines,scaleToFit:d,style:E.style,width:E.width})},[E.breakAll,E.children,E.maxLines,d,E.style,E.width]),T=E.dx,P=E.dy,O=E.angle,N=E.className,F=E.breakAll,D=$L(E,Nee);if(!ii(r)||!ii(a))return null;var U=r+(ct(T)?T:0),G=a+(ct(P)?P:0),q;switch(S){case"start":q=JM("calc(".concat(c,")"));break;case"middle":q=JM("calc(".concat((A.length-1)/2," * -").concat(s," + (").concat(c," / 2))"));break;default:q=JM("calc(".concat(A.length-1," * -").concat(s,")"));break}var Q=[];if(d){var H=A[0].width,te=E.width;Q.push("scale(".concat((ct(te)?te/H:1)/H,")"))}return O&&Q.push("rotate(".concat(O,", ").concat(U,", ").concat(G,")")),Q.length&&(D.transform=Q.join(" ")),_e.createElement("text",oT({},Sn(D,!0),{x:U,y:G,className:Bn("recharts-text",N),textAnchor:y,fill:_.includes("url")?ZL:_}),A.map(function(Z,he){var X=Z.words.join(F?"":" ");return _e.createElement("tspan",{x:U,dy:he===0?q:s,key:X},X)}))};function ec(n,e){return n==null||e==null?NaN:n<e?-1:n>e?1:n>=e?0:NaN}function jee(n,e){return n==null||e==null?NaN:e<n?-1:e>n?1:e>=n?0:NaN}function EP(n){let e,t,r;n.length!==2?(e=ec,t=(s,u)=>ec(n(s),u),r=(s,u)=>n(s)-u):(e=n===ec||n===jee?n:Hee,t=n,r=n);function i(s,u,c=0,h=s.length){if(c<h){if(e(u,u)!==0)return h;do{const d=c+h>>>1;t(s[d],u)<0?c=d+1:h=d}while(c<h)}return c}function a(s,u,c=0,h=s.length){if(c<h){if(e(u,u)!==0)return h;do{const d=c+h>>>1;t(s[d],u)<=0?c=d+1:h=d}while(c<h)}return c}function o(s,u,c=0,h=s.length){const d=i(s,u,c,h-1);return d>c&&r(s[d-1],u)>-r(s[d],u)?d-1:d}return{left:i,center:o,right:a}}function Hee(){return 0}function K4(n){return n===null?NaN:+n}function*Vee(n,e){for(let t of n)t!=null&&(t=+t)>=t&&(yield t)}const Gee=EP(ec),Ov=Gee.right;EP(K4).center;class JL extends Map{constructor(e,t=$ee){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:t}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(QL(this,e))}has(e){return super.has(QL(this,e))}set(e,t){return super.set(Wee(this,e),t)}delete(e){return super.delete(qee(this,e))}}function QL({_intern:n,_key:e},t){const r=e(t);return n.has(r)?n.get(r):t}function Wee({_intern:n,_key:e},t){const r=e(t);return n.has(r)?n.get(r):(n.set(r,t),t)}function qee({_intern:n,_key:e},t){const r=e(t);return n.has(r)&&(t=n.get(r),n.delete(r)),t}function $ee(n){return n!==null&&typeof n=="object"?n.valueOf():n}function Xee(n=ec){if(n===ec)return Z4;if(typeof n!="function")throw new TypeError("compare is not a function");return(e,t)=>{const r=n(e,t);return r||r===0?r:(n(t,t)===0)-(n(e,e)===0)}}function Z4(n,e){return(n==null||!(n>=n))-(e==null||!(e>=e))||(n<e?-1:n>e?1:0)}const Yee=Math.sqrt(50),Kee=Math.sqrt(10),Zee=Math.sqrt(2);function Ex(n,e,t){const r=(e-n)/Math.max(0,t),i=Math.floor(Math.log10(r)),a=r/Math.pow(10,i),o=a>=Yee?10:a>=Kee?5:a>=Zee?2:1;let s,u,c;return i<0?(c=Math.pow(10,-i)/o,s=Math.round(n*c),u=Math.round(e*c),s/c<n&&++s,u/c>e&&--u,c=-c):(c=Math.pow(10,i)*o,s=Math.round(n/c),u=Math.round(e/c),s*c<n&&++s,u*c>e&&--u),u<s&&.5<=t&&t<2?Ex(n,e,t*2):[s,u,c]}function sT(n,e,t){if(e=+e,n=+n,t=+t,!(t>0))return[];if(n===e)return[n];const r=e<n,[i,a,o]=r?Ex(e,n,t):Ex(n,e,t);if(!(a>=i))return[];const s=a-i+1,u=new Array(s);if(r)if(o<0)for(let c=0;c<s;++c)u[c]=(a-c)/-o;else for(let c=0;c<s;++c)u[c]=(a-c)*o;else if(o<0)for(let c=0;c<s;++c)u[c]=(i+c)/-o;else for(let c=0;c<s;++c)u[c]=(i+c)*o;return u}function lT(n,e,t){return e=+e,n=+n,t=+t,Ex(n,e,t)[2]}function uT(n,e,t){e=+e,n=+n,t=+t;const r=e<n,i=r?lT(e,n,t):lT(n,e,t);return(r?-1:1)*(i<0?1/-i:i)}function ek(n,e){let t;for(const r of n)r!=null&&(t<r||t===void 0&&r>=r)&&(t=r);return t}function tk(n,e){let t;for(const r of n)r!=null&&(t>r||t===void 0&&r>=r)&&(t=r);return t}function J4(n,e,t=0,r=1/0,i){if(e=Math.floor(e),t=Math.floor(Math.max(0,t)),r=Math.floor(Math.min(n.length-1,r)),!(t<=e&&e<=r))return n;for(i=i===void 0?Z4:Xee(i);r>t;){if(r-t>600){const u=r-t+1,c=e-t+1,h=Math.log(u),d=.5*Math.exp(2*h/3),g=.5*Math.sqrt(h*d*(u-d)/u)*(c-u/2<0?-1:1),y=Math.max(t,Math.floor(e-c*d/u+g)),b=Math.min(r,Math.floor(e+(u-c)*d/u+g));J4(n,e,y,b,i)}const a=n[e];let o=t,s=r;for(Rm(n,t,e),i(n[r],a)>0&&Rm(n,t,r);o<s;){for(Rm(n,o,s),++o,--s;i(n[o],a)<0;)++o;for(;i(n[s],a)>0;)--s}i(n[t],a)===0?Rm(n,t,s):(++s,Rm(n,s,r)),s<=e&&(t=s+1),e<=s&&(r=s-1)}return n}function Rm(n,e,t){const r=n[e];n[e]=n[t],n[t]=r}function Jee(n,e,t){if(n=Float64Array.from(Vee(n)),!(!(r=n.length)||isNaN(e=+e))){if(e<=0||r<2)return tk(n);if(e>=1)return ek(n);var r,i=(r-1)*e,a=Math.floor(i),o=ek(J4(n,a).subarray(0,a+1)),s=tk(n.subarray(a+1));return o+(s-o)*(i-a)}}function Qee(n,e,t=K4){if(!(!(r=n.length)||isNaN(e=+e))){if(e<=0||r<2)return+t(n[0],0,n);if(e>=1)return+t(n[r-1],r-1,n);var r,i=(r-1)*e,a=Math.floor(i),o=+t(n[a],a,n),s=+t(n[a+1],a+1,n);return o+(s-o)*(i-a)}}function ete(n,e,t){n=+n,e=+e,t=(i=arguments.length)<2?(e=n,n=0,1):i<3?1:+t;for(var r=-1,i=Math.max(0,Math.ceil((e-n)/t))|0,a=new Array(i);++r<i;)a[r]=n+r*t;return a}function Ro(n,e){switch(arguments.length){case 0:break;case 1:this.range(n);break;default:this.range(e).domain(n);break}return this}function ql(n,e){switch(arguments.length){case 0:break;case 1:{typeof n=="function"?this.interpolator(n):this.range(n);break}default:{this.domain(n),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const cT=Symbol("implicit");function AP(){var n=new JL,e=[],t=[],r=cT;function i(a){let o=n.get(a);if(o===void 0){if(r!==cT)return r;n.set(a,o=e.push(a)-1)}return t[o%t.length]}return i.domain=function(a){if(!arguments.length)return e.slice();e=[],n=new JL;for(const o of a)n.has(o)||n.set(o,e.push(o)-1);return i},i.range=function(a){return arguments.length?(t=Array.from(a),i):t.slice()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return AP(e,t).unknown(r)},Ro.apply(i,arguments),i}function Lg(){var n=AP().unknown(void 0),e=n.domain,t=n.range,r=0,i=1,a,o,s=!1,u=0,c=0,h=.5;delete n.unknown;function d(){var g=e().length,y=i<r,b=y?i:r,S=y?r:i;a=(S-b)/Math.max(1,g-u+c*2),s&&(a=Math.floor(a)),b+=(S-b-a*(g-u))*h,o=a*(1-u),s&&(b=Math.round(b),o=Math.round(o));var x=ete(g).map(function(_){return b+a*_});return t(y?x.reverse():x)}return n.domain=function(g){return arguments.length?(e(g),d()):e()},n.range=function(g){return arguments.length?([r,i]=g,r=+r,i=+i,d()):[r,i]},n.rangeRound=function(g){return[r,i]=g,r=+r,i=+i,s=!0,d()},n.bandwidth=function(){return o},n.step=function(){return a},n.round=function(g){return arguments.length?(s=!!g,d()):s},n.padding=function(g){return arguments.length?(u=Math.min(1,c=+g),d()):u},n.paddingInner=function(g){return arguments.length?(u=Math.min(1,g),d()):u},n.paddingOuter=function(g){return arguments.length?(c=+g,d()):c},n.align=function(g){return arguments.length?(h=Math.max(0,Math.min(1,g)),d()):h},n.copy=function(){return Lg(e(),[r,i]).round(s).paddingInner(u).paddingOuter(c).align(h)},Ro.apply(d(),arguments)}function Q4(n){var e=n.copy;return n.padding=n.paddingOuter,delete n.paddingInner,delete n.paddingOuter,n.copy=function(){return Q4(e())},n}function Jm(){return Q4(Lg.apply(null,arguments).paddingInner(1))}function TP(n,e,t){n.prototype=e.prototype=t,t.constructor=n}function e5(n,e){var t=Object.create(n.prototype);for(var r in e)t[r]=e[r];return t}function Iv(){}var kg=.7,Ax=1/kg,Fd="\\s*([+-]?\\d+)\\s*",Dg="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Fs="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",tte=/^#([0-9a-f]{3,8})$/,nte=new RegExp(`^rgb\\(${Fd},${Fd},${Fd}\\)$`),rte=new RegExp(`^rgb\\(${Fs},${Fs},${Fs}\\)$`),ite=new RegExp(`^rgba\\(${Fd},${Fd},${Fd},${Dg}\\)$`),ate=new RegExp(`^rgba\\(${Fs},${Fs},${Fs},${Dg}\\)$`),ote=new RegExp(`^hsl\\(${Dg},${Fs},${Fs}\\)$`),ste=new RegExp(`^hsla\\(${Dg},${Fs},${Fs},${Dg}\\)$`),nk={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};TP(Iv,Ug,{copy(n){return Object.assign(new this.constructor,this,n)},displayable(){return this.rgb().displayable()},hex:rk,formatHex:rk,formatHex8:lte,formatHsl:ute,formatRgb:ik,toString:ik});function rk(){return this.rgb().formatHex()}function lte(){return this.rgb().formatHex8()}function ute(){return t5(this).formatHsl()}function ik(){return this.rgb().formatRgb()}function Ug(n){var e,t;return n=(n+"").trim().toLowerCase(),(e=tte.exec(n))?(t=e[1].length,e=parseInt(e[1],16),t===6?ak(e):t===3?new ka(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):t===8?Dy(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):t===4?Dy(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=nte.exec(n))?new ka(e[1],e[2],e[3],1):(e=rte.exec(n))?new ka(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=ite.exec(n))?Dy(e[1],e[2],e[3],e[4]):(e=ate.exec(n))?Dy(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=ote.exec(n))?lk(e[1],e[2]/100,e[3]/100,1):(e=ste.exec(n))?lk(e[1],e[2]/100,e[3]/100,e[4]):nk.hasOwnProperty(n)?ak(nk[n]):n==="transparent"?new ka(NaN,NaN,NaN,0):null}function ak(n){return new ka(n>>16&255,n>>8&255,n&255,1)}function Dy(n,e,t,r){return r<=0&&(n=e=t=NaN),new ka(n,e,t,r)}function cte(n){return n instanceof Iv||(n=Ug(n)),n?(n=n.rgb(),new ka(n.r,n.g,n.b,n.opacity)):new ka}function fT(n,e,t,r){return arguments.length===1?cte(n):new ka(n,e,t,r??1)}function ka(n,e,t,r){this.r=+n,this.g=+e,this.b=+t,this.opacity=+r}TP(ka,fT,e5(Iv,{brighter(n){return n=n==null?Ax:Math.pow(Ax,n),new ka(this.r*n,this.g*n,this.b*n,this.opacity)},darker(n){return n=n==null?kg:Math.pow(kg,n),new ka(this.r*n,this.g*n,this.b*n,this.opacity)},rgb(){return this},clamp(){return new ka(Of(this.r),Of(this.g),Of(this.b),Tx(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:ok,formatHex:ok,formatHex8:fte,formatRgb:sk,toString:sk}));function ok(){return`#${wf(this.r)}${wf(this.g)}${wf(this.b)}`}function fte(){return`#${wf(this.r)}${wf(this.g)}${wf(this.b)}${wf((isNaN(this.opacity)?1:this.opacity)*255)}`}function sk(){const n=Tx(this.opacity);return`${n===1?"rgb(":"rgba("}${Of(this.r)}, ${Of(this.g)}, ${Of(this.b)}${n===1?")":`, ${n})`}`}function Tx(n){return isNaN(n)?1:Math.max(0,Math.min(1,n))}function Of(n){return Math.max(0,Math.min(255,Math.round(n)||0))}function wf(n){return n=Of(n),(n<16?"0":"")+n.toString(16)}function lk(n,e,t,r){return r<=0?n=e=t=NaN:t<=0||t>=1?n=e=NaN:e<=0&&(n=NaN),new os(n,e,t,r)}function t5(n){if(n instanceof os)return new os(n.h,n.s,n.l,n.opacity);if(n instanceof Iv||(n=Ug(n)),!n)return new os;if(n instanceof os)return n;n=n.rgb();var e=n.r/255,t=n.g/255,r=n.b/255,i=Math.min(e,t,r),a=Math.max(e,t,r),o=NaN,s=a-i,u=(a+i)/2;return s?(e===a?o=(t-r)/s+(t<r)*6:t===a?o=(r-e)/s+2:o=(e-t)/s+4,s/=u<.5?a+i:2-a-i,o*=60):s=u>0&&u<1?0:o,new os(o,s,u,n.opacity)}function hte(n,e,t,r){return arguments.length===1?t5(n):new os(n,e,t,r??1)}function os(n,e,t,r){this.h=+n,this.s=+e,this.l=+t,this.opacity=+r}TP(os,hte,e5(Iv,{brighter(n){return n=n==null?Ax:Math.pow(Ax,n),new os(this.h,this.s,this.l*n,this.opacity)},darker(n){return n=n==null?kg:Math.pow(kg,n),new os(this.h,this.s,this.l*n,this.opacity)},rgb(){var n=this.h%360+(this.h<0)*360,e=isNaN(n)||isNaN(this.s)?0:this.s,t=this.l,r=t+(t<.5?t:1-t)*e,i=2*t-r;return new ka(QM(n>=240?n-240:n+120,i,r),QM(n,i,r),QM(n<120?n+240:n-120,i,r),this.opacity)},clamp(){return new os(uk(this.h),Uy(this.s),Uy(this.l),Tx(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const n=Tx(this.opacity);return`${n===1?"hsl(":"hsla("}${uk(this.h)}, ${Uy(this.s)*100}%, ${Uy(this.l)*100}%${n===1?")":`, ${n})`}`}}));function uk(n){return n=(n||0)%360,n<0?n+360:n}function Uy(n){return Math.max(0,Math.min(1,n||0))}function QM(n,e,t){return(n<60?e+(t-e)*n/60:n<180?t:n<240?e+(t-e)*(240-n)/60:e)*255}const CP=n=>()=>n;function dte(n,e){return function(t){return n+t*e}}function pte(n,e,t){return n=Math.pow(n,t),e=Math.pow(e,t)-n,t=1/t,function(r){return Math.pow(n+r*e,t)}}function mte(n){return(n=+n)==1?n5:function(e,t){return t-e?pte(e,t,n):CP(isNaN(e)?t:e)}}function n5(n,e){var t=e-n;return t?dte(n,t):CP(isNaN(n)?e:n)}const ck=(function n(e){var t=mte(e);function r(i,a){var o=t((i=fT(i)).r,(a=fT(a)).r),s=t(i.g,a.g),u=t(i.b,a.b),c=n5(i.opacity,a.opacity);return function(h){return i.r=o(h),i.g=s(h),i.b=u(h),i.opacity=c(h),i+""}}return r.gamma=n,r})(1);function gte(n,e){e||(e=[]);var t=n?Math.min(e.length,n.length):0,r=e.slice(),i;return function(a){for(i=0;i<t;++i)r[i]=n[i]*(1-a)+e[i]*a;return r}}function vte(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}function yte(n,e){var t=e?e.length:0,r=n?Math.min(t,n.length):0,i=new Array(r),a=new Array(t),o;for(o=0;o<r;++o)i[o]=Sp(n[o],e[o]);for(;o<t;++o)a[o]=e[o];return function(s){for(o=0;o<r;++o)a[o]=i[o](s);return a}}function xte(n,e){var t=new Date;return n=+n,e=+e,function(r){return t.setTime(n*(1-r)+e*r),t}}function Cx(n,e){return n=+n,e=+e,function(t){return n*(1-t)+e*t}}function _te(n,e){var t={},r={},i;(n===null||typeof n!="object")&&(n={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in n?t[i]=Sp(n[i],e[i]):r[i]=e[i];return function(a){for(i in t)r[i]=t[i](a);return r}}var hT=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,eE=new RegExp(hT.source,"g");function bte(n){return function(){return n}}function Ste(n){return function(e){return n(e)+""}}function wte(n,e){var t=hT.lastIndex=eE.lastIndex=0,r,i,a,o=-1,s=[],u=[];for(n=n+"",e=e+"";(r=hT.exec(n))&&(i=eE.exec(e));)(a=i.index)>t&&(a=e.slice(t,a),s[o]?s[o]+=a:s[++o]=a),(r=r[0])===(i=i[0])?s[o]?s[o]+=i:s[++o]=i:(s[++o]=null,u.push({i:o,x:Cx(r,i)})),t=eE.lastIndex;return t<e.length&&(a=e.slice(t),s[o]?s[o]+=a:s[++o]=a),s.length<2?u[0]?Ste(u[0].x):bte(e):(e=u.length,function(c){for(var h=0,d;h<e;++h)s[(d=u[h]).i]=d.x(c);return s.join("")})}function Sp(n,e){var t=typeof e,r;return e==null||t==="boolean"?CP(e):(t==="number"?Cx:t==="string"?(r=Ug(e))?(e=r,ck):wte:e instanceof Ug?ck:e instanceof Date?xte:vte(e)?gte:Array.isArray(e)?yte:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?_te:Cx)(n,e)}function PP(n,e){return n=+n,e=+e,function(t){return Math.round(n*(1-t)+e*t)}}function Mte(n,e){e===void 0&&(e=n,n=Sp);for(var t=0,r=e.length-1,i=e[0],a=new Array(r<0?0:r);t<r;)a[t]=n(i,i=e[++t]);return function(o){var s=Math.max(0,Math.min(r-1,Math.floor(o*=r)));return a[s](o-s)}}function Ete(n){return function(){return n}}function Px(n){return+n}var fk=[0,1];function da(n){return n}function dT(n,e){return(e-=n=+n)?function(t){return(t-n)/e}:Ete(isNaN(e)?NaN:.5)}function Ate(n,e){var t;return n>e&&(t=n,n=e,e=t),function(r){return Math.max(n,Math.min(e,r))}}function Tte(n,e,t){var r=n[0],i=n[1],a=e[0],o=e[1];return i<r?(r=dT(i,r),a=t(o,a)):(r=dT(r,i),a=t(a,o)),function(s){return a(r(s))}}function Cte(n,e,t){var r=Math.min(n.length,e.length)-1,i=new Array(r),a=new Array(r),o=-1;for(n[r]<n[0]&&(n=n.slice().reverse(),e=e.slice().reverse());++o<r;)i[o]=dT(n[o],n[o+1]),a[o]=t(e[o],e[o+1]);return function(s){var u=Ov(n,s,1,r)-1;return a[u](i[u](s))}}function Nv(n,e){return e.domain(n.domain()).range(n.range()).interpolate(n.interpolate()).clamp(n.clamp()).unknown(n.unknown())}function $_(){var n=fk,e=fk,t=Sp,r,i,a,o=da,s,u,c;function h(){var g=Math.min(n.length,e.length);return o!==da&&(o=Ate(n[0],n[g-1])),s=g>2?Cte:Tte,u=c=null,d}function d(g){return g==null||isNaN(g=+g)?a:(u||(u=s(n.map(r),e,t)))(r(o(g)))}return d.invert=function(g){return o(i((c||(c=s(e,n.map(r),Cx)))(g)))},d.domain=function(g){return arguments.length?(n=Array.from(g,Px),h()):n.slice()},d.range=function(g){return arguments.length?(e=Array.from(g),h()):e.slice()},d.rangeRound=function(g){return e=Array.from(g),t=PP,h()},d.clamp=function(g){return arguments.length?(o=g?!0:da,h()):o!==da},d.interpolate=function(g){return arguments.length?(t=g,h()):t},d.unknown=function(g){return arguments.length?(a=g,d):a},function(g,y){return r=g,i=y,h()}}function RP(){return $_()(da,da)}function Pte(n){return Math.abs(n=Math.round(n))>=1e21?n.toLocaleString("en").replace(/,/g,""):n.toString(10)}function Rx(n,e){if(!isFinite(n)||n===0)return null;var t=(n=e?n.toExponential(e-1):n.toExponential()).indexOf("e"),r=n.slice(0,t);return[r.length>1?r[0]+r.slice(2):r,+n.slice(t+1)]}function Jd(n){return n=Rx(Math.abs(n)),n?n[1]:NaN}function Rte(n,e){return function(t,r){for(var i=t.length,a=[],o=0,s=n[0],u=0;i>0&&s>0&&(u+s+1>r&&(s=Math.max(1,r-u)),a.push(t.substring(i-=s,i+s)),!((u+=s+1)>r));)s=n[o=(o+1)%n.length];return a.reverse().join(e)}}function Ote(n){return function(e){return e.replace(/[0-9]/g,function(t){return n[+t]})}}var Ite=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Fg(n){if(!(e=Ite.exec(n)))throw new Error("invalid format: "+n);var e;return new OP({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Fg.prototype=OP.prototype;function OP(n){this.fill=n.fill===void 0?" ":n.fill+"",this.align=n.align===void 0?">":n.align+"",this.sign=n.sign===void 0?"-":n.sign+"",this.symbol=n.symbol===void 0?"":n.symbol+"",this.zero=!!n.zero,this.width=n.width===void 0?void 0:+n.width,this.comma=!!n.comma,this.precision=n.precision===void 0?void 0:+n.precision,this.trim=!!n.trim,this.type=n.type===void 0?"":n.type+""}OP.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Nte(n){e:for(var e=n.length,t=1,r=-1,i;t<e;++t)switch(n[t]){case".":r=i=t;break;case"0":r===0&&(r=t),i=t;break;default:if(!+n[t])break e;r>0&&(r=0);break}return r>0?n.slice(0,r)+n.slice(i+1):n}var Ox;function Lte(n,e){var t=Rx(n,e);if(!t)return Ox=void 0,n.toPrecision(e);var r=t[0],i=t[1],a=i-(Ox=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,o=r.length;return a===o?r:a>o?r+new Array(a-o+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+Rx(n,Math.max(0,e+a-1))[0]}function hk(n,e){var t=Rx(n,e);if(!t)return n+"";var r=t[0],i=t[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const dk={"%":(n,e)=>(n*100).toFixed(e),b:n=>Math.round(n).toString(2),c:n=>n+"",d:Pte,e:(n,e)=>n.toExponential(e),f:(n,e)=>n.toFixed(e),g:(n,e)=>n.toPrecision(e),o:n=>Math.round(n).toString(8),p:(n,e)=>hk(n*100,e),r:hk,s:Lte,X:n=>Math.round(n).toString(16).toUpperCase(),x:n=>Math.round(n).toString(16)};function pk(n){return n}var mk=Array.prototype.map,gk=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function kte(n){var e=n.grouping===void 0||n.thousands===void 0?pk:Rte(mk.call(n.grouping,Number),n.thousands+""),t=n.currency===void 0?"":n.currency[0]+"",r=n.currency===void 0?"":n.currency[1]+"",i=n.decimal===void 0?".":n.decimal+"",a=n.numerals===void 0?pk:Ote(mk.call(n.numerals,String)),o=n.percent===void 0?"%":n.percent+"",s=n.minus===void 0?"":n.minus+"",u=n.nan===void 0?"NaN":n.nan+"";function c(d,g){d=Fg(d);var y=d.fill,b=d.align,S=d.sign,x=d.symbol,_=d.zero,E=d.width,A=d.comma,T=d.precision,P=d.trim,O=d.type;O==="n"?(A=!0,O="g"):dk[O]||(T===void 0&&(T=12),P=!0,O="g"),(_||y==="0"&&b==="=")&&(_=!0,y="0",b="=");var N=(g&&g.prefix!==void 0?g.prefix:"")+(x==="$"?t:x==="#"&&/[boxX]/.test(O)?"0"+O.toLowerCase():""),F=(x==="$"?r:/[%p]/.test(O)?o:"")+(g&&g.suffix!==void 0?g.suffix:""),D=dk[O],U=/[defgprs%]/.test(O);T=T===void 0?6:/[gprs]/.test(O)?Math.max(1,Math.min(21,T)):Math.max(0,Math.min(20,T));function G(q){var Q=N,H=F,te,Z,he;if(O==="c")H=D(q)+H,q="";else{q=+q;var X=q<0||1/q<0;if(q=isNaN(q)?u:D(Math.abs(q),T),P&&(q=Nte(q)),X&&+q==0&&S!=="+"&&(X=!1),Q=(X?S==="("?S:s:S==="-"||S==="("?"":S)+Q,H=(O==="s"&&!isNaN(q)&&Ox!==void 0?gk[8+Ox/3]:"")+H+(X&&S==="("?")":""),U){for(te=-1,Z=q.length;++te<Z;)if(he=q.charCodeAt(te),48>he||he>57){H=(he===46?i+q.slice(te+1):q.slice(te))+H,q=q.slice(0,te);break}}}A&&!_&&(q=e(q,1/0));var ae=Q.length+q.length+H.length,z=ae<E?new Array(E-ae+1).join(y):"";switch(A&&_&&(q=e(z+q,z.length?E-H.length:1/0),z=""),b){case"<":q=Q+q+H+z;break;case"=":q=Q+z+q+H;break;case"^":q=z.slice(0,ae=z.length>>1)+Q+q+H+z.slice(ae);break;default:q=z+Q+q+H;break}return a(q)}return G.toString=function(){return d+""},G}function h(d,g){var y=Math.max(-8,Math.min(8,Math.floor(Jd(g)/3)))*3,b=Math.pow(10,-y),S=c((d=Fg(d),d.type="f",d),{suffix:gk[8+y/3]});return function(x){return S(b*x)}}return{format:c,formatPrefix:h}}var Fy,IP,r5;Dte({thousands:",",grouping:[3],currency:["$",""]});function Dte(n){return Fy=kte(n),IP=Fy.format,r5=Fy.formatPrefix,Fy}function Ute(n){return Math.max(0,-Jd(Math.abs(n)))}function Fte(n,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Jd(e)/3)))*3-Jd(Math.abs(n)))}function Bte(n,e){return n=Math.abs(n),e=Math.abs(e)-n,Math.max(0,Jd(e)-Jd(n))+1}function i5(n,e,t,r){var i=uT(n,e,t),a;switch(r=Fg(r??",f"),r.type){case"s":{var o=Math.max(Math.abs(n),Math.abs(e));return r.precision==null&&!isNaN(a=Fte(i,o))&&(r.precision=a),r5(r,o)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(a=Bte(i,Math.max(Math.abs(n),Math.abs(e))))&&(r.precision=a-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(a=Ute(i))&&(r.precision=a-(r.type==="%")*2);break}}return IP(r)}function hc(n){var e=n.domain;return n.ticks=function(t){var r=e();return sT(r[0],r[r.length-1],t??10)},n.tickFormat=function(t,r){var i=e();return i5(i[0],i[i.length-1],t??10,r)},n.nice=function(t){t==null&&(t=10);var r=e(),i=0,a=r.length-1,o=r[i],s=r[a],u,c,h=10;for(s<o&&(c=o,o=s,s=c,c=i,i=a,a=c);h-- >0;){if(c=lT(o,s,t),c===u)return r[i]=o,r[a]=s,e(r);if(c>0)o=Math.floor(o/c)*c,s=Math.ceil(s/c)*c;else if(c<0)o=Math.ceil(o*c)/c,s=Math.floor(s*c)/c;else break;u=c}return n},n}function Ix(){var n=RP();return n.copy=function(){return Nv(n,Ix())},Ro.apply(n,arguments),hc(n)}function a5(n){var e;function t(r){return r==null||isNaN(r=+r)?e:r}return t.invert=t,t.domain=t.range=function(r){return arguments.length?(n=Array.from(r,Px),t):n.slice()},t.unknown=function(r){return arguments.length?(e=r,t):e},t.copy=function(){return a5(n).unknown(e)},n=arguments.length?Array.from(n,Px):[0,1],hc(t)}function o5(n,e){n=n.slice();var t=0,r=n.length-1,i=n[t],a=n[r],o;return a<i&&(o=t,t=r,r=o,o=i,i=a,a=o),n[t]=e.floor(i),n[r]=e.ceil(a),n}function vk(n){return Math.log(n)}function yk(n){return Math.exp(n)}function zte(n){return-Math.log(-n)}function jte(n){return-Math.exp(-n)}function Hte(n){return isFinite(n)?+("1e"+n):n<0?0:n}function Vte(n){return n===10?Hte:n===Math.E?Math.exp:e=>Math.pow(n,e)}function Gte(n){return n===Math.E?Math.log:n===10&&Math.log10||n===2&&Math.log2||(n=Math.log(n),e=>Math.log(e)/n)}function xk(n){return(e,t)=>-n(-e,t)}function NP(n){const e=n(vk,yk),t=e.domain;let r=10,i,a;function o(){return i=Gte(r),a=Vte(r),t()[0]<0?(i=xk(i),a=xk(a),n(zte,jte)):n(vk,yk),e}return e.base=function(s){return arguments.length?(r=+s,o()):r},e.domain=function(s){return arguments.length?(t(s),o()):t()},e.ticks=s=>{const u=t();let c=u[0],h=u[u.length-1];const d=h<c;d&&([c,h]=[h,c]);let g=i(c),y=i(h),b,S;const x=s==null?10:+s;let _=[];if(!(r%1)&&y-g<x){if(g=Math.floor(g),y=Math.ceil(y),c>0){for(;g<=y;++g)for(b=1;b<r;++b)if(S=g<0?b/a(-g):b*a(g),!(S<c)){if(S>h)break;_.push(S)}}else for(;g<=y;++g)for(b=r-1;b>=1;--b)if(S=g>0?b/a(-g):b*a(g),!(S<c)){if(S>h)break;_.push(S)}_.length*2<x&&(_=sT(c,h,x))}else _=sT(g,y,Math.min(y-g,x)).map(a);return d?_.reverse():_},e.tickFormat=(s,u)=>{if(s==null&&(s=10),u==null&&(u=r===10?"s":","),typeof u!="function"&&(!(r%1)&&(u=Fg(u)).precision==null&&(u.trim=!0),u=IP(u)),s===1/0)return u;const c=Math.max(1,r*s/e.ticks().length);return h=>{let d=h/a(Math.round(i(h)));return d*r<r-.5&&(d*=r),d<=c?u(h):""}},e.nice=()=>t(o5(t(),{floor:s=>a(Math.floor(i(s))),ceil:s=>a(Math.ceil(i(s)))})),e}function s5(){const n=NP($_()).domain([1,10]);return n.copy=()=>Nv(n,s5()).base(n.base()),Ro.apply(n,arguments),n}function _k(n){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/n))}}function bk(n){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*n}}function LP(n){var e=1,t=n(_k(e),bk(e));return t.constant=function(r){return arguments.length?n(_k(e=+r),bk(e)):e},hc(t)}function l5(){var n=LP($_());return n.copy=function(){return Nv(n,l5()).constant(n.constant())},Ro.apply(n,arguments)}function Sk(n){return function(e){return e<0?-Math.pow(-e,n):Math.pow(e,n)}}function Wte(n){return n<0?-Math.sqrt(-n):Math.sqrt(n)}function qte(n){return n<0?-n*n:n*n}function kP(n){var e=n(da,da),t=1;function r(){return t===1?n(da,da):t===.5?n(Wte,qte):n(Sk(t),Sk(1/t))}return e.exponent=function(i){return arguments.length?(t=+i,r()):t},hc(e)}function DP(){var n=kP($_());return n.copy=function(){return Nv(n,DP()).exponent(n.exponent())},Ro.apply(n,arguments),n}function $te(){return DP.apply(null,arguments).exponent(.5)}function wk(n){return Math.sign(n)*n*n}function Xte(n){return Math.sign(n)*Math.sqrt(Math.abs(n))}function u5(){var n=RP(),e=[0,1],t=!1,r;function i(a){var o=Xte(n(a));return isNaN(o)?r:t?Math.round(o):o}return i.invert=function(a){return n.invert(wk(a))},i.domain=function(a){return arguments.length?(n.domain(a),i):n.domain()},i.range=function(a){return arguments.length?(n.range((e=Array.from(a,Px)).map(wk)),i):e.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(t=!!a,i):t},i.clamp=function(a){return arguments.length?(n.clamp(a),i):n.clamp()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return u5(n.domain(),e).round(t).clamp(n.clamp()).unknown(r)},Ro.apply(i,arguments),hc(i)}function c5(){var n=[],e=[],t=[],r;function i(){var o=0,s=Math.max(1,e.length);for(t=new Array(s-1);++o<s;)t[o-1]=Qee(n,o/s);return a}function a(o){return o==null||isNaN(o=+o)?r:e[Ov(t,o)]}return a.invertExtent=function(o){var s=e.indexOf(o);return s<0?[NaN,NaN]:[s>0?t[s-1]:n[0],s<t.length?t[s]:n[n.length-1]]},a.domain=function(o){if(!arguments.length)return n.slice();n=[];for(let s of o)s!=null&&!isNaN(s=+s)&&n.push(s);return n.sort(ec),i()},a.range=function(o){return arguments.length?(e=Array.from(o),i()):e.slice()},a.unknown=function(o){return arguments.length?(r=o,a):r},a.quantiles=function(){return t.slice()},a.copy=function(){return c5().domain(n).range(e).unknown(r)},Ro.apply(a,arguments)}function f5(){var n=0,e=1,t=1,r=[.5],i=[0,1],a;function o(u){return u!=null&&u<=u?i[Ov(r,u,0,t)]:a}function s(){var u=-1;for(r=new Array(t);++u<t;)r[u]=((u+1)*e-(u-t)*n)/(t+1);return o}return o.domain=function(u){return arguments.length?([n,e]=u,n=+n,e=+e,s()):[n,e]},o.range=function(u){return arguments.length?(t=(i=Array.from(u)).length-1,s()):i.slice()},o.invertExtent=function(u){var c=i.indexOf(u);return c<0?[NaN,NaN]:c<1?[n,r[0]]:c>=t?[r[t-1],e]:[r[c-1],r[c]]},o.unknown=function(u){return arguments.length&&(a=u),o},o.thresholds=function(){return r.slice()},o.copy=function(){return f5().domain([n,e]).range(i).unknown(a)},Ro.apply(hc(o),arguments)}function h5(){var n=[.5],e=[0,1],t,r=1;function i(a){return a!=null&&a<=a?e[Ov(n,a,0,r)]:t}return i.domain=function(a){return arguments.length?(n=Array.from(a),r=Math.min(n.length,e.length-1),i):n.slice()},i.range=function(a){return arguments.length?(e=Array.from(a),r=Math.min(n.length,e.length-1),i):e.slice()},i.invertExtent=function(a){var o=e.indexOf(a);return[n[o-1],n[o]]},i.unknown=function(a){return arguments.length?(t=a,i):t},i.copy=function(){return h5().domain(n).range(e).unknown(t)},Ro.apply(i,arguments)}const tE=new Date,nE=new Date;function si(n,e,t,r){function i(a){return n(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(n(a=new Date(+a)),a),i.ceil=a=>(n(a=new Date(a-1)),e(a,1),n(a),a),i.round=a=>{const o=i(a),s=i.ceil(a);return a-o<s-a?o:s},i.offset=(a,o)=>(e(a=new Date(+a),o==null?1:Math.floor(o)),a),i.range=(a,o,s)=>{const u=[];if(a=i.ceil(a),s=s==null?1:Math.floor(s),!(a<o)||!(s>0))return u;let c;do u.push(c=new Date(+a)),e(a,s),n(a);while(c<a&&a<o);return u},i.filter=a=>si(o=>{if(o>=o)for(;n(o),!a(o);)o.setTime(o-1)},(o,s)=>{if(o>=o)if(s<0)for(;++s<=0;)for(;e(o,-1),!a(o););else for(;--s>=0;)for(;e(o,1),!a(o););}),t&&(i.count=(a,o)=>(tE.setTime(+a),nE.setTime(+o),n(tE),n(nE),Math.floor(t(tE,nE))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(r?o=>r(o)%a===0:o=>i.count(0,o)%a===0):i)),i}const Nx=si(()=>{},(n,e)=>{n.setTime(+n+e)},(n,e)=>e-n);Nx.every=n=>(n=Math.floor(n),!isFinite(n)||!(n>0)?null:n>1?si(e=>{e.setTime(Math.floor(e/n)*n)},(e,t)=>{e.setTime(+e+t*n)},(e,t)=>(t-e)/n):Nx);Nx.range;const Pl=1e3,To=Pl*60,Rl=To*60,Bl=Rl*24,UP=Bl*7,Mk=Bl*30,rE=Bl*365,Mf=si(n=>{n.setTime(n-n.getMilliseconds())},(n,e)=>{n.setTime(+n+e*Pl)},(n,e)=>(e-n)/Pl,n=>n.getUTCSeconds());Mf.range;const FP=si(n=>{n.setTime(n-n.getMilliseconds()-n.getSeconds()*Pl)},(n,e)=>{n.setTime(+n+e*To)},(n,e)=>(e-n)/To,n=>n.getMinutes());FP.range;const BP=si(n=>{n.setUTCSeconds(0,0)},(n,e)=>{n.setTime(+n+e*To)},(n,e)=>(e-n)/To,n=>n.getUTCMinutes());BP.range;const zP=si(n=>{n.setTime(n-n.getMilliseconds()-n.getSeconds()*Pl-n.getMinutes()*To)},(n,e)=>{n.setTime(+n+e*Rl)},(n,e)=>(e-n)/Rl,n=>n.getHours());zP.range;const jP=si(n=>{n.setUTCMinutes(0,0,0)},(n,e)=>{n.setTime(+n+e*Rl)},(n,e)=>(e-n)/Rl,n=>n.getUTCHours());jP.range;const Lv=si(n=>n.setHours(0,0,0,0),(n,e)=>n.setDate(n.getDate()+e),(n,e)=>(e-n-(e.getTimezoneOffset()-n.getTimezoneOffset())*To)/Bl,n=>n.getDate()-1);Lv.range;const X_=si(n=>{n.setUTCHours(0,0,0,0)},(n,e)=>{n.setUTCDate(n.getUTCDate()+e)},(n,e)=>(e-n)/Bl,n=>n.getUTCDate()-1);X_.range;const d5=si(n=>{n.setUTCHours(0,0,0,0)},(n,e)=>{n.setUTCDate(n.getUTCDate()+e)},(n,e)=>(e-n)/Bl,n=>Math.floor(n/Bl));d5.range;function Xf(n){return si(e=>{e.setDate(e.getDate()-(e.getDay()+7-n)%7),e.setHours(0,0,0,0)},(e,t)=>{e.setDate(e.getDate()+t*7)},(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*To)/UP)}const Y_=Xf(0),Lx=Xf(1),Yte=Xf(2),Kte=Xf(3),Qd=Xf(4),Zte=Xf(5),Jte=Xf(6);Y_.range;Lx.range;Yte.range;Kte.range;Qd.range;Zte.range;Jte.range;function Yf(n){return si(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-n)%7),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t*7)},(e,t)=>(t-e)/UP)}const K_=Yf(0),kx=Yf(1),Qte=Yf(2),ene=Yf(3),ep=Yf(4),tne=Yf(5),nne=Yf(6);K_.range;kx.range;Qte.range;ene.range;ep.range;tne.range;nne.range;const HP=si(n=>{n.setDate(1),n.setHours(0,0,0,0)},(n,e)=>{n.setMonth(n.getMonth()+e)},(n,e)=>e.getMonth()-n.getMonth()+(e.getFullYear()-n.getFullYear())*12,n=>n.getMonth());HP.range;const VP=si(n=>{n.setUTCDate(1),n.setUTCHours(0,0,0,0)},(n,e)=>{n.setUTCMonth(n.getUTCMonth()+e)},(n,e)=>e.getUTCMonth()-n.getUTCMonth()+(e.getUTCFullYear()-n.getUTCFullYear())*12,n=>n.getUTCMonth());VP.range;const zl=si(n=>{n.setMonth(0,1),n.setHours(0,0,0,0)},(n,e)=>{n.setFullYear(n.getFullYear()+e)},(n,e)=>e.getFullYear()-n.getFullYear(),n=>n.getFullYear());zl.every=n=>!isFinite(n=Math.floor(n))||!(n>0)?null:si(e=>{e.setFullYear(Math.floor(e.getFullYear()/n)*n),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t*n)});zl.range;const jl=si(n=>{n.setUTCMonth(0,1),n.setUTCHours(0,0,0,0)},(n,e)=>{n.setUTCFullYear(n.getUTCFullYear()+e)},(n,e)=>e.getUTCFullYear()-n.getUTCFullYear(),n=>n.getUTCFullYear());jl.every=n=>!isFinite(n=Math.floor(n))||!(n>0)?null:si(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/n)*n),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t*n)});jl.range;function p5(n,e,t,r,i,a){const o=[[Mf,1,Pl],[Mf,5,5*Pl],[Mf,15,15*Pl],[Mf,30,30*Pl],[a,1,To],[a,5,5*To],[a,15,15*To],[a,30,30*To],[i,1,Rl],[i,3,3*Rl],[i,6,6*Rl],[i,12,12*Rl],[r,1,Bl],[r,2,2*Bl],[t,1,UP],[e,1,Mk],[e,3,3*Mk],[n,1,rE]];function s(c,h,d){const g=h<c;g&&([c,h]=[h,c]);const y=d&&typeof d.range=="function"?d:u(c,h,d),b=y?y.range(c,+h+1):[];return g?b.reverse():b}function u(c,h,d){const g=Math.abs(h-c)/d,y=EP(([,,x])=>x).right(o,g);if(y===o.length)return n.every(uT(c/rE,h/rE,d));if(y===0)return Nx.every(Math.max(uT(c,h,d),1));const[b,S]=o[g/o[y-1][2]<o[y][2]/g?y-1:y];return b.every(S)}return[s,u]}const[rne,ine]=p5(jl,VP,K_,d5,jP,BP),[ane,one]=p5(zl,HP,Y_,Lv,zP,FP);function iE(n){if(0<=n.y&&n.y<100){var e=new Date(-1,n.m,n.d,n.H,n.M,n.S,n.L);return e.setFullYear(n.y),e}return new Date(n.y,n.m,n.d,n.H,n.M,n.S,n.L)}function aE(n){if(0<=n.y&&n.y<100){var e=new Date(Date.UTC(-1,n.m,n.d,n.H,n.M,n.S,n.L));return e.setUTCFullYear(n.y),e}return new Date(Date.UTC(n.y,n.m,n.d,n.H,n.M,n.S,n.L))}function Om(n,e,t){return{y:n,m:e,d:t,H:0,M:0,S:0,L:0}}function sne(n){var e=n.dateTime,t=n.date,r=n.time,i=n.periods,a=n.days,o=n.shortDays,s=n.months,u=n.shortMonths,c=Im(i),h=Nm(i),d=Im(a),g=Nm(a),y=Im(o),b=Nm(o),S=Im(s),x=Nm(s),_=Im(u),E=Nm(u),A={a:he,A:X,b:ae,B:z,c:null,d:Rk,e:Rk,f:Rne,g:zne,G:Hne,H:Tne,I:Cne,j:Pne,L:m5,m:One,M:Ine,p:re,q:le,Q:Nk,s:Lk,S:Nne,u:Lne,U:kne,V:Dne,w:Une,W:Fne,x:null,X:null,y:Bne,Y:jne,Z:Vne,"%":Ik},T={a:ce,A:be,b:Oe,B:ke,c:null,d:Ok,e:Ok,f:$ne,g:rre,G:are,H:Gne,I:Wne,j:qne,L:v5,m:Xne,M:Yne,p:He,q:Je,Q:Nk,s:Lk,S:Kne,u:Zne,U:Jne,V:Qne,w:ere,W:tre,x:null,X:null,y:nre,Y:ire,Z:ore,"%":Ik},P={a:U,A:G,b:q,B:Q,c:H,d:Ck,e:Ck,f:wne,g:Tk,G:Ak,H:Pk,I:Pk,j:xne,L:Sne,m:yne,M:_ne,p:D,q:vne,Q:Ene,s:Ane,S:bne,u:hne,U:dne,V:pne,w:fne,W:mne,x:te,X:Z,y:Tk,Y:Ak,Z:gne,"%":Mne};A.x=O(t,A),A.X=O(r,A),A.c=O(e,A),T.x=O(t,T),T.X=O(r,T),T.c=O(e,T);function O(Ue,qe){return function(Qe){var K=[],je=-1,Ae=0,We=Ue.length,Ne,gt,st;for(Qe instanceof Date||(Qe=new Date(+Qe));++je<We;)Ue.charCodeAt(je)===37&&(K.push(Ue.slice(Ae,je)),(gt=Ek[Ne=Ue.charAt(++je)])!=null?Ne=Ue.charAt(++je):gt=Ne==="e"?" ":"0",(st=qe[Ne])&&(Ne=st(Qe,gt)),K.push(Ne),Ae=je+1);return K.push(Ue.slice(Ae,je)),K.join("")}}function N(Ue,qe){return function(Qe){var K=Om(1900,void 0,1),je=F(K,Ue,Qe+="",0),Ae,We;if(je!=Qe.length)return null;if("Q"in K)return new Date(K.Q);if("s"in K)return new Date(K.s*1e3+("L"in K?K.L:0));if(qe&&!("Z"in K)&&(K.Z=0),"p"in K&&(K.H=K.H%12+K.p*12),K.m===void 0&&(K.m="q"in K?K.q:0),"V"in K){if(K.V<1||K.V>53)return null;"w"in K||(K.w=1),"Z"in K?(Ae=aE(Om(K.y,0,1)),We=Ae.getUTCDay(),Ae=We>4||We===0?kx.ceil(Ae):kx(Ae),Ae=X_.offset(Ae,(K.V-1)*7),K.y=Ae.getUTCFullYear(),K.m=Ae.getUTCMonth(),K.d=Ae.getUTCDate()+(K.w+6)%7):(Ae=iE(Om(K.y,0,1)),We=Ae.getDay(),Ae=We>4||We===0?Lx.ceil(Ae):Lx(Ae),Ae=Lv.offset(Ae,(K.V-1)*7),K.y=Ae.getFullYear(),K.m=Ae.getMonth(),K.d=Ae.getDate()+(K.w+6)%7)}else("W"in K||"U"in K)&&("w"in K||(K.w="u"in K?K.u%7:"W"in K?1:0),We="Z"in K?aE(Om(K.y,0,1)).getUTCDay():iE(Om(K.y,0,1)).getDay(),K.m=0,K.d="W"in K?(K.w+6)%7+K.W*7-(We+5)%7:K.w+K.U*7-(We+6)%7);return"Z"in K?(K.H+=K.Z/100|0,K.M+=K.Z%100,aE(K)):iE(K)}}function F(Ue,qe,Qe,K){for(var je=0,Ae=qe.length,We=Qe.length,Ne,gt;je<Ae;){if(K>=We)return-1;if(Ne=qe.charCodeAt(je++),Ne===37){if(Ne=qe.charAt(je++),gt=P[Ne in Ek?qe.charAt(je++):Ne],!gt||(K=gt(Ue,Qe,K))<0)return-1}else if(Ne!=Qe.charCodeAt(K++))return-1}return K}function D(Ue,qe,Qe){var K=c.exec(qe.slice(Qe));return K?(Ue.p=h.get(K[0].toLowerCase()),Qe+K[0].length):-1}function U(Ue,qe,Qe){var K=y.exec(qe.slice(Qe));return K?(Ue.w=b.get(K[0].toLowerCase()),Qe+K[0].length):-1}function G(Ue,qe,Qe){var K=d.exec(qe.slice(Qe));return K?(Ue.w=g.get(K[0].toLowerCase()),Qe+K[0].length):-1}function q(Ue,qe,Qe){var K=_.exec(qe.slice(Qe));return K?(Ue.m=E.get(K[0].toLowerCase()),Qe+K[0].length):-1}function Q(Ue,qe,Qe){var K=S.exec(qe.slice(Qe));return K?(Ue.m=x.get(K[0].toLowerCase()),Qe+K[0].length):-1}function H(Ue,qe,Qe){return F(Ue,e,qe,Qe)}function te(Ue,qe,Qe){return F(Ue,t,qe,Qe)}function Z(Ue,qe,Qe){return F(Ue,r,qe,Qe)}function he(Ue){return o[Ue.getDay()]}function X(Ue){return a[Ue.getDay()]}function ae(Ue){return u[Ue.getMonth()]}function z(Ue){return s[Ue.getMonth()]}function re(Ue){return i[+(Ue.getHours()>=12)]}function le(Ue){return 1+~~(Ue.getMonth()/3)}function ce(Ue){return o[Ue.getUTCDay()]}function be(Ue){return a[Ue.getUTCDay()]}function Oe(Ue){return u[Ue.getUTCMonth()]}function ke(Ue){return s[Ue.getUTCMonth()]}function He(Ue){return i[+(Ue.getUTCHours()>=12)]}function Je(Ue){return 1+~~(Ue.getUTCMonth()/3)}return{format:function(Ue){var qe=O(Ue+="",A);return qe.toString=function(){return Ue},qe},parse:function(Ue){var qe=N(Ue+="",!1);return qe.toString=function(){return Ue},qe},utcFormat:function(Ue){var qe=O(Ue+="",T);return qe.toString=function(){return Ue},qe},utcParse:function(Ue){var qe=N(Ue+="",!0);return qe.toString=function(){return Ue},qe}}}var Ek={"-":"",_:" ",0:"0"},mi=/^\s*\d+/,lne=/^%/,une=/[\\^$*+?|[\]().{}]/g;function Ln(n,e,t){var r=n<0?"-":"",i=(r?-n:n)+"",a=i.length;return r+(a<t?new Array(t-a+1).join(e)+i:i)}function cne(n){return n.replace(une,"\\$&")}function Im(n){return new RegExp("^(?:"+n.map(cne).join("|")+")","i")}function Nm(n){return new Map(n.map((e,t)=>[e.toLowerCase(),t]))}function fne(n,e,t){var r=mi.exec(e.slice(t,t+1));return r?(n.w=+r[0],t+r[0].length):-1}function hne(n,e,t){var r=mi.exec(e.slice(t,t+1));return r?(n.u=+r[0],t+r[0].length):-1}function dne(n,e,t){var r=mi.exec(e.slice(t,t+2));return r?(n.U=+r[0],t+r[0].length):-1}function pne(n,e,t){var r=mi.exec(e.slice(t,t+2));return r?(n.V=+r[0],t+r[0].length):-1}function mne(n,e,t){var r=mi.exec(e.slice(t,t+2));return r?(n.W=+r[0],t+r[0].length):-1}function Ak(n,e,t){var r=mi.exec(e.slice(t,t+4));return r?(n.y=+r[0],t+r[0].length):-1}function Tk(n,e,t){var r=mi.exec(e.slice(t,t+2));return r?(n.y=+r[0]+(+r[0]>68?1900:2e3),t+r[0].length):-1}function gne(n,e,t){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(t,t+6));return r?(n.Z=r[1]?0:-(r[2]+(r[3]||"00")),t+r[0].length):-1}function vne(n,e,t){var r=mi.exec(e.slice(t,t+1));return r?(n.q=r[0]*3-3,t+r[0].length):-1}function yne(n,e,t){var r=mi.exec(e.slice(t,t+2));return r?(n.m=r[0]-1,t+r[0].length):-1}function Ck(n,e,t){var r=mi.exec(e.slice(t,t+2));return r?(n.d=+r[0],t+r[0].length):-1}function xne(n,e,t){var r=mi.exec(e.slice(t,t+3));return r?(n.m=0,n.d=+r[0],t+r[0].length):-1}function Pk(n,e,t){var r=mi.exec(e.slice(t,t+2));return r?(n.H=+r[0],t+r[0].length):-1}function _ne(n,e,t){var r=mi.exec(e.slice(t,t+2));return r?(n.M=+r[0],t+r[0].length):-1}function bne(n,e,t){var r=mi.exec(e.slice(t,t+2));return r?(n.S=+r[0],t+r[0].length):-1}function Sne(n,e,t){var r=mi.exec(e.slice(t,t+3));return r?(n.L=+r[0],t+r[0].length):-1}function wne(n,e,t){var r=mi.exec(e.slice(t,t+6));return r?(n.L=Math.floor(r[0]/1e3),t+r[0].length):-1}function Mne(n,e,t){var r=lne.exec(e.slice(t,t+1));return r?t+r[0].length:-1}function Ene(n,e,t){var r=mi.exec(e.slice(t));return r?(n.Q=+r[0],t+r[0].length):-1}function Ane(n,e,t){var r=mi.exec(e.slice(t));return r?(n.s=+r[0],t+r[0].length):-1}function Rk(n,e){return Ln(n.getDate(),e,2)}function Tne(n,e){return Ln(n.getHours(),e,2)}function Cne(n,e){return Ln(n.getHours()%12||12,e,2)}function Pne(n,e){return Ln(1+Lv.count(zl(n),n),e,3)}function m5(n,e){return Ln(n.getMilliseconds(),e,3)}function Rne(n,e){return m5(n,e)+"000"}function One(n,e){return Ln(n.getMonth()+1,e,2)}function Ine(n,e){return Ln(n.getMinutes(),e,2)}function Nne(n,e){return Ln(n.getSeconds(),e,2)}function Lne(n){var e=n.getDay();return e===0?7:e}function kne(n,e){return Ln(Y_.count(zl(n)-1,n),e,2)}function g5(n){var e=n.getDay();return e>=4||e===0?Qd(n):Qd.ceil(n)}function Dne(n,e){return n=g5(n),Ln(Qd.count(zl(n),n)+(zl(n).getDay()===4),e,2)}function Une(n){return n.getDay()}function Fne(n,e){return Ln(Lx.count(zl(n)-1,n),e,2)}function Bne(n,e){return Ln(n.getFullYear()%100,e,2)}function zne(n,e){return n=g5(n),Ln(n.getFullYear()%100,e,2)}function jne(n,e){return Ln(n.getFullYear()%1e4,e,4)}function Hne(n,e){var t=n.getDay();return n=t>=4||t===0?Qd(n):Qd.ceil(n),Ln(n.getFullYear()%1e4,e,4)}function Vne(n){var e=n.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+Ln(e/60|0,"0",2)+Ln(e%60,"0",2)}function Ok(n,e){return Ln(n.getUTCDate(),e,2)}function Gne(n,e){return Ln(n.getUTCHours(),e,2)}function Wne(n,e){return Ln(n.getUTCHours()%12||12,e,2)}function qne(n,e){return Ln(1+X_.count(jl(n),n),e,3)}function v5(n,e){return Ln(n.getUTCMilliseconds(),e,3)}function $ne(n,e){return v5(n,e)+"000"}function Xne(n,e){return Ln(n.getUTCMonth()+1,e,2)}function Yne(n,e){return Ln(n.getUTCMinutes(),e,2)}function Kne(n,e){return Ln(n.getUTCSeconds(),e,2)}function Zne(n){var e=n.getUTCDay();return e===0?7:e}function Jne(n,e){return Ln(K_.count(jl(n)-1,n),e,2)}function y5(n){var e=n.getUTCDay();return e>=4||e===0?ep(n):ep.ceil(n)}function Qne(n,e){return n=y5(n),Ln(ep.count(jl(n),n)+(jl(n).getUTCDay()===4),e,2)}function ere(n){return n.getUTCDay()}function tre(n,e){return Ln(kx.count(jl(n)-1,n),e,2)}function nre(n,e){return Ln(n.getUTCFullYear()%100,e,2)}function rre(n,e){return n=y5(n),Ln(n.getUTCFullYear()%100,e,2)}function ire(n,e){return Ln(n.getUTCFullYear()%1e4,e,4)}function are(n,e){var t=n.getUTCDay();return n=t>=4||t===0?ep(n):ep.ceil(n),Ln(n.getUTCFullYear()%1e4,e,4)}function ore(){return"+0000"}function Ik(){return"%"}function Nk(n){return+n}function Lk(n){return Math.floor(+n/1e3)}var wd,x5,_5;sre({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function sre(n){return wd=sne(n),x5=wd.format,wd.parse,_5=wd.utcFormat,wd.utcParse,wd}function lre(n){return new Date(n)}function ure(n){return n instanceof Date?+n:+new Date(+n)}function GP(n,e,t,r,i,a,o,s,u,c){var h=RP(),d=h.invert,g=h.domain,y=c(".%L"),b=c(":%S"),S=c("%I:%M"),x=c("%I %p"),_=c("%a %d"),E=c("%b %d"),A=c("%B"),T=c("%Y");function P(O){return(u(O)<O?y:s(O)<O?b:o(O)<O?S:a(O)<O?x:r(O)<O?i(O)<O?_:E:t(O)<O?A:T)(O)}return h.invert=function(O){return new Date(d(O))},h.domain=function(O){return arguments.length?g(Array.from(O,ure)):g().map(lre)},h.ticks=function(O){var N=g();return n(N[0],N[N.length-1],O??10)},h.tickFormat=function(O,N){return N==null?P:c(N)},h.nice=function(O){var N=g();return(!O||typeof O.range!="function")&&(O=e(N[0],N[N.length-1],O??10)),O?g(o5(N,O)):h},h.copy=function(){return Nv(h,GP(n,e,t,r,i,a,o,s,u,c))},h}function cre(){return Ro.apply(GP(ane,one,zl,HP,Y_,Lv,zP,FP,Mf,x5).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function fre(){return Ro.apply(GP(rne,ine,jl,VP,K_,X_,jP,BP,Mf,_5).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Z_(){var n=0,e=1,t,r,i,a,o=da,s=!1,u;function c(d){return d==null||isNaN(d=+d)?u:o(i===0?.5:(d=(a(d)-t)*i,s?Math.max(0,Math.min(1,d)):d))}c.domain=function(d){return arguments.length?([n,e]=d,t=a(n=+n),r=a(e=+e),i=t===r?0:1/(r-t),c):[n,e]},c.clamp=function(d){return arguments.length?(s=!!d,c):s},c.interpolator=function(d){return arguments.length?(o=d,c):o};function h(d){return function(g){var y,b;return arguments.length?([y,b]=g,o=d(y,b),c):[o(0),o(1)]}}return c.range=h(Sp),c.rangeRound=h(PP),c.unknown=function(d){return arguments.length?(u=d,c):u},function(d){return a=d,t=d(n),r=d(e),i=t===r?0:1/(r-t),c}}function dc(n,e){return e.domain(n.domain()).interpolator(n.interpolator()).clamp(n.clamp()).unknown(n.unknown())}function b5(){var n=hc(Z_()(da));return n.copy=function(){return dc(n,b5())},ql.apply(n,arguments)}function S5(){var n=NP(Z_()).domain([1,10]);return n.copy=function(){return dc(n,S5()).base(n.base())},ql.apply(n,arguments)}function w5(){var n=LP(Z_());return n.copy=function(){return dc(n,w5()).constant(n.constant())},ql.apply(n,arguments)}function WP(){var n=kP(Z_());return n.copy=function(){return dc(n,WP()).exponent(n.exponent())},ql.apply(n,arguments)}function hre(){return WP.apply(null,arguments).exponent(.5)}function M5(){var n=[],e=da;function t(r){if(r!=null&&!isNaN(r=+r))return e((Ov(n,r,1)-1)/(n.length-1))}return t.domain=function(r){if(!arguments.length)return n.slice();n=[];for(let i of r)i!=null&&!isNaN(i=+i)&&n.push(i);return n.sort(ec),t},t.interpolator=function(r){return arguments.length?(e=r,t):e},t.range=function(){return n.map((r,i)=>e(i/(n.length-1)))},t.quantiles=function(r){return Array.from({length:r+1},(i,a)=>Jee(n,a/r))},t.copy=function(){return M5(e).domain(n)},ql.apply(t,arguments)}function J_(){var n=0,e=.5,t=1,r=1,i,a,o,s,u,c=da,h,d=!1,g;function y(S){return isNaN(S=+S)?g:(S=.5+((S=+h(S))-a)*(r*S<r*a?s:u),c(d?Math.max(0,Math.min(1,S)):S))}y.domain=function(S){return arguments.length?([n,e,t]=S,i=h(n=+n),a=h(e=+e),o=h(t=+t),s=i===a?0:.5/(a-i),u=a===o?0:.5/(o-a),r=a<i?-1:1,y):[n,e,t]},y.clamp=function(S){return arguments.length?(d=!!S,y):d},y.interpolator=function(S){return arguments.length?(c=S,y):c};function b(S){return function(x){var _,E,A;return arguments.length?([_,E,A]=x,c=Mte(S,[_,E,A]),y):[c(0),c(.5),c(1)]}}return y.range=b(Sp),y.rangeRound=b(PP),y.unknown=function(S){return arguments.length?(g=S,y):g},function(S){return h=S,i=S(n),a=S(e),o=S(t),s=i===a?0:.5/(a-i),u=a===o?0:.5/(o-a),r=a<i?-1:1,y}}function E5(){var n=hc(J_()(da));return n.copy=function(){return dc(n,E5())},ql.apply(n,arguments)}function A5(){var n=NP(J_()).domain([.1,1,10]);return n.copy=function(){return dc(n,A5()).base(n.base())},ql.apply(n,arguments)}function T5(){var n=LP(J_());return n.copy=function(){return dc(n,T5()).constant(n.constant())},ql.apply(n,arguments)}function qP(){var n=kP(J_());return n.copy=function(){return dc(n,qP()).exponent(n.exponent())},ql.apply(n,arguments)}function dre(){return qP.apply(null,arguments).exponent(.5)}const kk=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Lg,scaleDiverging:E5,scaleDivergingLog:A5,scaleDivergingPow:qP,scaleDivergingSqrt:dre,scaleDivergingSymlog:T5,scaleIdentity:a5,scaleImplicit:cT,scaleLinear:Ix,scaleLog:s5,scaleOrdinal:AP,scalePoint:Jm,scalePow:DP,scaleQuantile:c5,scaleQuantize:f5,scaleRadial:u5,scaleSequential:b5,scaleSequentialLog:S5,scaleSequentialPow:WP,scaleSequentialQuantile:M5,scaleSequentialSqrt:hre,scaleSequentialSymlog:w5,scaleSqrt:$te,scaleSymlog:l5,scaleThreshold:h5,scaleTime:cre,scaleUtc:fre,tickFormat:i5},Symbol.toStringTag,{value:"Module"}));var oE,Dk;function C5(){if(Dk)return oE;Dk=1;var n=vp();function e(t,r,i){for(var a=-1,o=t.length;++a<o;){var s=t[a],u=r(s);if(u!=null&&(c===void 0?u===u&&!n(u):i(u,c)))var c=u,h=s}return h}return oE=e,oE}var sE,Uk;function pre(){if(Uk)return sE;Uk=1;function n(e,t){return e>t}return sE=n,sE}var lE,Fk;function mre(){if(Fk)return lE;Fk=1;var n=C5(),e=pre(),t=_p();function r(i){return i&&i.length?n(i,t,e):void 0}return lE=r,lE}var gre=mre();const qu=Xn(gre);var uE,Bk;function vre(){if(Bk)return uE;Bk=1;function n(e,t){return e<t}return uE=n,uE}var cE,zk;function yre(){if(zk)return cE;zk=1;var n=C5(),e=vre(),t=_p();function r(i){return i&&i.length?n(i,t,e):void 0}return cE=r,cE}var xre=yre();const Q_=Xn(xre);var fE,jk;function _re(){if(jk)return fE;jk=1;var n=lP(),e=fc(),t=U4(),r=Fa();function i(a,o){var s=r(a)?n:t;return s(a,e(o,3))}return fE=i,fE}var hE,Hk;function bre(){if(Hk)return hE;Hk=1;var n=k4(),e=_re();function t(r,i){return n(e(r,i),1)}return hE=t,hE}var Sre=bre();const wre=Xn(Sre);var dE,Vk;function Mre(){if(Vk)return dE;Vk=1;var n=bP();function e(t,r){return n(t,r)}return dE=e,dE}var Ere=Mre();const Bg=Xn(Ere);var wp=1e9,Are={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},XP,vr=!0,Po="[DecimalError] ",If=Po+"Invalid argument: ",$P=Po+"Exponent out of range: ",Mp=Math.floor,pf=Math.pow,Tre=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,to,pi=1e7,hr=7,P5=9007199254740991,Dx=Mp(P5/hr),Ot={};Ot.absoluteValue=Ot.abs=function(){var n=new this.constructor(this);return n.s&&(n.s=1),n};Ot.comparedTo=Ot.cmp=function(n){var e,t,r,i,a=this;if(n=new a.constructor(n),a.s!==n.s)return a.s||-n.s;if(a.e!==n.e)return a.e>n.e^a.s<0?1:-1;for(r=a.d.length,i=n.d.length,e=0,t=r<i?r:i;e<t;++e)if(a.d[e]!==n.d[e])return a.d[e]>n.d[e]^a.s<0?1:-1;return r===i?0:r>i^a.s<0?1:-1};Ot.decimalPlaces=Ot.dp=function(){var n=this,e=n.d.length-1,t=(e-n.e)*hr;if(e=n.d[e],e)for(;e%10==0;e/=10)t--;return t<0?0:t};Ot.dividedBy=Ot.div=function(n){return kl(this,new this.constructor(n))};Ot.dividedToIntegerBy=Ot.idiv=function(n){var e=this,t=e.constructor;return nr(kl(e,new t(n),0,1),t.precision)};Ot.equals=Ot.eq=function(n){return!this.cmp(n)};Ot.exponent=function(){return Kr(this)};Ot.greaterThan=Ot.gt=function(n){return this.cmp(n)>0};Ot.greaterThanOrEqualTo=Ot.gte=function(n){return this.cmp(n)>=0};Ot.isInteger=Ot.isint=function(){return this.e>this.d.length-2};Ot.isNegative=Ot.isneg=function(){return this.s<0};Ot.isPositive=Ot.ispos=function(){return this.s>0};Ot.isZero=function(){return this.s===0};Ot.lessThan=Ot.lt=function(n){return this.cmp(n)<0};Ot.lessThanOrEqualTo=Ot.lte=function(n){return this.cmp(n)<1};Ot.logarithm=Ot.log=function(n){var e,t=this,r=t.constructor,i=r.precision,a=i+5;if(n===void 0)n=new r(10);else if(n=new r(n),n.s<1||n.eq(to))throw Error(Po+"NaN");if(t.s<1)throw Error(Po+(t.s?"NaN":"-Infinity"));return t.eq(to)?new r(0):(vr=!1,e=kl(zg(t,a),zg(n,a),a),vr=!0,nr(e,i))};Ot.minus=Ot.sub=function(n){var e=this;return n=new e.constructor(n),e.s==n.s?I5(e,n):R5(e,(n.s=-n.s,n))};Ot.modulo=Ot.mod=function(n){var e,t=this,r=t.constructor,i=r.precision;if(n=new r(n),!n.s)throw Error(Po+"NaN");return t.s?(vr=!1,e=kl(t,n,0,1).times(n),vr=!0,t.minus(e)):nr(new r(t),i)};Ot.naturalExponential=Ot.exp=function(){return O5(this)};Ot.naturalLogarithm=Ot.ln=function(){return zg(this)};Ot.negated=Ot.neg=function(){var n=new this.constructor(this);return n.s=-n.s||0,n};Ot.plus=Ot.add=function(n){var e=this;return n=new e.constructor(n),e.s==n.s?R5(e,n):I5(e,(n.s=-n.s,n))};Ot.precision=Ot.sd=function(n){var e,t,r,i=this;if(n!==void 0&&n!==!!n&&n!==1&&n!==0)throw Error(If+n);if(e=Kr(i)+1,r=i.d.length-1,t=r*hr+1,r=i.d[r],r){for(;r%10==0;r/=10)t--;for(r=i.d[0];r>=10;r/=10)t++}return n&&e>t?e:t};Ot.squareRoot=Ot.sqrt=function(){var n,e,t,r,i,a,o,s=this,u=s.constructor;if(s.s<1){if(!s.s)return new u(0);throw Error(Po+"NaN")}for(n=Kr(s),vr=!1,i=Math.sqrt(+s),i==0||i==1/0?(e=Ns(s.d),(e.length+n)%2==0&&(e+="0"),i=Math.sqrt(e),n=Mp((n+1)/2)-(n<0||n%2),i==1/0?e="5e"+n:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+n),r=new u(e)):r=new u(i.toString()),t=u.precision,i=o=t+3;;)if(a=r,r=a.plus(kl(s,a,o+2)).times(.5),Ns(a.d).slice(0,o)===(e=Ns(r.d)).slice(0,o)){if(e=e.slice(o-3,o+1),i==o&&e=="4999"){if(nr(a,t+1,0),a.times(a).eq(s)){r=a;break}}else if(e!="9999")break;o+=4}return vr=!0,nr(r,t)};Ot.times=Ot.mul=function(n){var e,t,r,i,a,o,s,u,c,h=this,d=h.constructor,g=h.d,y=(n=new d(n)).d;if(!h.s||!n.s)return new d(0);for(n.s*=h.s,t=h.e+n.e,u=g.length,c=y.length,u<c&&(a=g,g=y,y=a,o=u,u=c,c=o),a=[],o=u+c,r=o;r--;)a.push(0);for(r=c;--r>=0;){for(e=0,i=u+r;i>r;)s=a[i]+y[r]*g[i-r-1]+e,a[i--]=s%pi|0,e=s/pi|0;a[i]=(a[i]+e)%pi|0}for(;!a[--o];)a.pop();return e?++t:a.shift(),n.d=a,n.e=t,vr?nr(n,d.precision):n};Ot.toDecimalPlaces=Ot.todp=function(n,e){var t=this,r=t.constructor;return t=new r(t),n===void 0?t:(Hs(n,0,wp),e===void 0?e=r.rounding:Hs(e,0,8),nr(t,n+Kr(t)+1,e))};Ot.toExponential=function(n,e){var t,r=this,i=r.constructor;return n===void 0?t=Uf(r,!0):(Hs(n,0,wp),e===void 0?e=i.rounding:Hs(e,0,8),r=nr(new i(r),n+1,e),t=Uf(r,!0,n+1)),t};Ot.toFixed=function(n,e){var t,r,i=this,a=i.constructor;return n===void 0?Uf(i):(Hs(n,0,wp),e===void 0?e=a.rounding:Hs(e,0,8),r=nr(new a(i),n+Kr(i)+1,e),t=Uf(r.abs(),!1,n+Kr(r)+1),i.isneg()&&!i.isZero()?"-"+t:t)};Ot.toInteger=Ot.toint=function(){var n=this,e=n.constructor;return nr(new e(n),Kr(n)+1,e.rounding)};Ot.toNumber=function(){return+this};Ot.toPower=Ot.pow=function(n){var e,t,r,i,a,o,s=this,u=s.constructor,c=12,h=+(n=new u(n));if(!n.s)return new u(to);if(s=new u(s),!s.s){if(n.s<1)throw Error(Po+"Infinity");return s}if(s.eq(to))return s;if(r=u.precision,n.eq(to))return nr(s,r);if(e=n.e,t=n.d.length-1,o=e>=t,a=s.s,o){if((t=h<0?-h:h)<=P5){for(i=new u(to),e=Math.ceil(r/hr+4),vr=!1;t%2&&(i=i.times(s),Wk(i.d,e)),t=Mp(t/2),t!==0;)s=s.times(s),Wk(s.d,e);return vr=!0,n.s<0?new u(to).div(i):nr(i,r)}}else if(a<0)throw Error(Po+"NaN");return a=a<0&&n.d[Math.max(e,t)]&1?-1:1,s.s=1,vr=!1,i=n.times(zg(s,r+c)),vr=!0,i=O5(i),i.s=a,i};Ot.toPrecision=function(n,e){var t,r,i=this,a=i.constructor;return n===void 0?(t=Kr(i),r=Uf(i,t<=a.toExpNeg||t>=a.toExpPos)):(Hs(n,1,wp),e===void 0?e=a.rounding:Hs(e,0,8),i=nr(new a(i),n,e),t=Kr(i),r=Uf(i,n<=t||t<=a.toExpNeg,n)),r};Ot.toSignificantDigits=Ot.tosd=function(n,e){var t=this,r=t.constructor;return n===void 0?(n=r.precision,e=r.rounding):(Hs(n,1,wp),e===void 0?e=r.rounding:Hs(e,0,8)),nr(new r(t),n,e)};Ot.toString=Ot.valueOf=Ot.val=Ot.toJSON=Ot[Symbol.for("nodejs.util.inspect.custom")]=function(){var n=this,e=Kr(n),t=n.constructor;return Uf(n,e<=t.toExpNeg||e>=t.toExpPos)};function R5(n,e){var t,r,i,a,o,s,u,c,h=n.constructor,d=h.precision;if(!n.s||!e.s)return e.s||(e=new h(n)),vr?nr(e,d):e;if(u=n.d,c=e.d,o=n.e,i=e.e,u=u.slice(),a=o-i,a){for(a<0?(r=u,a=-a,s=c.length):(r=c,i=o,s=u.length),o=Math.ceil(d/hr),s=o>s?o+1:s+1,a>s&&(a=s,r.length=1),r.reverse();a--;)r.push(0);r.reverse()}for(s=u.length,a=c.length,s-a<0&&(a=s,r=c,c=u,u=r),t=0;a;)t=(u[--a]=u[a]+c[a]+t)/pi|0,u[a]%=pi;for(t&&(u.unshift(t),++i),s=u.length;u[--s]==0;)u.pop();return e.d=u,e.e=i,vr?nr(e,d):e}function Hs(n,e,t){if(n!==~~n||n<e||n>t)throw Error(If+n)}function Ns(n){var e,t,r,i=n.length-1,a="",o=n[0];if(i>0){for(a+=o,e=1;e<i;e++)r=n[e]+"",t=hr-r.length,t&&(a+=ju(t)),a+=r;o=n[e],r=o+"",t=hr-r.length,t&&(a+=ju(t))}else if(o===0)return"0";for(;o%10===0;)o/=10;return a+o}var kl=(function(){function n(r,i){var a,o=0,s=r.length;for(r=r.slice();s--;)a=r[s]*i+o,r[s]=a%pi|0,o=a/pi|0;return o&&r.unshift(o),r}function e(r,i,a,o){var s,u;if(a!=o)u=a>o?1:-1;else for(s=u=0;s<a;s++)if(r[s]!=i[s]){u=r[s]>i[s]?1:-1;break}return u}function t(r,i,a){for(var o=0;a--;)r[a]-=o,o=r[a]<i[a]?1:0,r[a]=o*pi+r[a]-i[a];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,a,o){var s,u,c,h,d,g,y,b,S,x,_,E,A,T,P,O,N,F,D=r.constructor,U=r.s==i.s?1:-1,G=r.d,q=i.d;if(!r.s)return new D(r);if(!i.s)throw Error(Po+"Division by zero");for(u=r.e-i.e,N=q.length,P=G.length,y=new D(U),b=y.d=[],c=0;q[c]==(G[c]||0);)++c;if(q[c]>(G[c]||0)&&--u,a==null?E=a=D.precision:o?E=a+(Kr(r)-Kr(i))+1:E=a,E<0)return new D(0);if(E=E/hr+2|0,c=0,N==1)for(h=0,q=q[0],E++;(c<P||h)&&E--;c++)A=h*pi+(G[c]||0),b[c]=A/q|0,h=A%q|0;else{for(h=pi/(q[0]+1)|0,h>1&&(q=n(q,h),G=n(G,h),N=q.length,P=G.length),T=N,S=G.slice(0,N),x=S.length;x<N;)S[x++]=0;F=q.slice(),F.unshift(0),O=q[0],q[1]>=pi/2&&++O;do h=0,s=e(q,S,N,x),s<0?(_=S[0],N!=x&&(_=_*pi+(S[1]||0)),h=_/O|0,h>1?(h>=pi&&(h=pi-1),d=n(q,h),g=d.length,x=S.length,s=e(d,S,g,x),s==1&&(h--,t(d,N<g?F:q,g))):(h==0&&(s=h=1),d=q.slice()),g=d.length,g<x&&d.unshift(0),t(S,d,x),s==-1&&(x=S.length,s=e(q,S,N,x),s<1&&(h++,t(S,N<x?F:q,x))),x=S.length):s===0&&(h++,S=[0]),b[c++]=h,s&&S[0]?S[x++]=G[T]||0:(S=[G[T]],x=1);while((T++<P||S[0]!==void 0)&&E--)}return b[0]||b.shift(),y.e=u,nr(y,o?a+Kr(y)+1:a)}})();function O5(n,e){var t,r,i,a,o,s,u=0,c=0,h=n.constructor,d=h.precision;if(Kr(n)>16)throw Error($P+Kr(n));if(!n.s)return new h(to);for(vr=!1,s=d,o=new h(.03125);n.abs().gte(.1);)n=n.times(o),c+=5;for(r=Math.log(pf(2,c))/Math.LN10*2+5|0,s+=r,t=i=a=new h(to),h.precision=s;;){if(i=nr(i.times(n),s),t=t.times(++u),o=a.plus(kl(i,t,s)),Ns(o.d).slice(0,s)===Ns(a.d).slice(0,s)){for(;c--;)a=nr(a.times(a),s);return h.precision=d,e==null?(vr=!0,nr(a,d)):a}a=o}}function Kr(n){for(var e=n.e*hr,t=n.d[0];t>=10;t/=10)e++;return e}function pE(n,e,t){if(e>n.LN10.sd())throw vr=!0,t&&(n.precision=t),Error(Po+"LN10 precision limit exceeded");return nr(new n(n.LN10),e)}function ju(n){for(var e="";n--;)e+="0";return e}function zg(n,e){var t,r,i,a,o,s,u,c,h,d=1,g=10,y=n,b=y.d,S=y.constructor,x=S.precision;if(y.s<1)throw Error(Po+(y.s?"NaN":"-Infinity"));if(y.eq(to))return new S(0);if(e==null?(vr=!1,c=x):c=e,y.eq(10))return e==null&&(vr=!0),pE(S,c);if(c+=g,S.precision=c,t=Ns(b),r=t.charAt(0),a=Kr(y),Math.abs(a)<15e14){for(;r<7&&r!=1||r==1&&t.charAt(1)>3;)y=y.times(n),t=Ns(y.d),r=t.charAt(0),d++;a=Kr(y),r>1?(y=new S("0."+t),a++):y=new S(r+"."+t.slice(1))}else return u=pE(S,c+2,x).times(a+""),y=zg(new S(r+"."+t.slice(1)),c-g).plus(u),S.precision=x,e==null?(vr=!0,nr(y,x)):y;for(s=o=y=kl(y.minus(to),y.plus(to),c),h=nr(y.times(y),c),i=3;;){if(o=nr(o.times(h),c),u=s.plus(kl(o,new S(i),c)),Ns(u.d).slice(0,c)===Ns(s.d).slice(0,c))return s=s.times(2),a!==0&&(s=s.plus(pE(S,c+2,x).times(a+""))),s=kl(s,new S(d),c),S.precision=x,e==null?(vr=!0,nr(s,x)):s;s=u,i+=2}}function Gk(n,e){var t,r,i;for((t=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(t<0&&(t=r),t+=+e.slice(r+1),e=e.substring(0,r)):t<0&&(t=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,t=t-r-1,n.e=Mp(t/hr),n.d=[],r=(t+1)%hr,t<0&&(r+=hr),r<i){for(r&&n.d.push(+e.slice(0,r)),i-=hr;r<i;)n.d.push(+e.slice(r,r+=hr));e=e.slice(r),r=hr-e.length}else r-=i;for(;r--;)e+="0";if(n.d.push(+e),vr&&(n.e>Dx||n.e<-Dx))throw Error($P+t)}else n.s=0,n.e=0,n.d=[0];return n}function nr(n,e,t){var r,i,a,o,s,u,c,h,d=n.d;for(o=1,a=d[0];a>=10;a/=10)o++;if(r=e-o,r<0)r+=hr,i=e,c=d[h=0];else{if(h=Math.ceil((r+1)/hr),a=d.length,h>=a)return n;for(c=a=d[h],o=1;a>=10;a/=10)o++;r%=hr,i=r-hr+o}if(t!==void 0&&(a=pf(10,o-i-1),s=c/a%10|0,u=e<0||d[h+1]!==void 0||c%a,u=t<4?(s||u)&&(t==0||t==(n.s<0?3:2)):s>5||s==5&&(t==4||u||t==6&&(r>0?i>0?c/pf(10,o-i):0:d[h-1])%10&1||t==(n.s<0?8:7))),e<1||!d[0])return u?(a=Kr(n),d.length=1,e=e-a-1,d[0]=pf(10,(hr-e%hr)%hr),n.e=Mp(-e/hr)||0):(d.length=1,d[0]=n.e=n.s=0),n;if(r==0?(d.length=h,a=1,h--):(d.length=h+1,a=pf(10,hr-r),d[h]=i>0?(c/pf(10,o-i)%pf(10,i)|0)*a:0),u)for(;;)if(h==0){(d[0]+=a)==pi&&(d[0]=1,++n.e);break}else{if(d[h]+=a,d[h]!=pi)break;d[h--]=0,a=1}for(r=d.length;d[--r]===0;)d.pop();if(vr&&(n.e>Dx||n.e<-Dx))throw Error($P+Kr(n));return n}function I5(n,e){var t,r,i,a,o,s,u,c,h,d,g=n.constructor,y=g.precision;if(!n.s||!e.s)return e.s?e.s=-e.s:e=new g(n),vr?nr(e,y):e;if(u=n.d,d=e.d,r=e.e,c=n.e,u=u.slice(),o=c-r,o){for(h=o<0,h?(t=u,o=-o,s=d.length):(t=d,r=c,s=u.length),i=Math.max(Math.ceil(y/hr),s)+2,o>i&&(o=i,t.length=1),t.reverse(),i=o;i--;)t.push(0);t.reverse()}else{for(i=u.length,s=d.length,h=i<s,h&&(s=i),i=0;i<s;i++)if(u[i]!=d[i]){h=u[i]<d[i];break}o=0}for(h&&(t=u,u=d,d=t,e.s=-e.s),s=u.length,i=d.length-s;i>0;--i)u[s++]=0;for(i=d.length;i>o;){if(u[--i]<d[i]){for(a=i;a&&u[--a]===0;)u[a]=pi-1;--u[a],u[i]+=pi}u[i]-=d[i]}for(;u[--s]===0;)u.pop();for(;u[0]===0;u.shift())--r;return u[0]?(e.d=u,e.e=r,vr?nr(e,y):e):new g(0)}function Uf(n,e,t){var r,i=Kr(n),a=Ns(n.d),o=a.length;return e?(t&&(r=t-o)>0?a=a.charAt(0)+"."+a.slice(1)+ju(r):o>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+ju(-i-1)+a,t&&(r=t-o)>0&&(a+=ju(r))):i>=o?(a+=ju(i+1-o),t&&(r=t-i-1)>0&&(a=a+"."+ju(r))):((r=i+1)<o&&(a=a.slice(0,r)+"."+a.slice(r)),t&&(r=t-o)>0&&(i+1===o&&(a+="."),a+=ju(r))),n.s<0?"-"+a:a}function Wk(n,e){if(n.length>e)return n.length=e,!0}function N5(n){var e,t,r;function i(a){var o=this;if(!(o instanceof i))return new i(a);if(o.constructor=i,a instanceof i){o.s=a.s,o.e=a.e,o.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(If+a);if(a>0)o.s=1;else if(a<0)a=-a,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(a===~~a&&a<1e7){o.e=0,o.d=[a];return}return Gk(o,a.toString())}else if(typeof a!="string")throw Error(If+a);if(a.charCodeAt(0)===45?(a=a.slice(1),o.s=-1):o.s=1,Tre.test(a))Gk(o,a);else throw Error(If+a)}if(i.prototype=Ot,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=N5,i.config=i.set=Cre,n===void 0&&(n={}),n)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)n.hasOwnProperty(t=r[e++])||(n[t]=this[t]);return i.config(n),i}function Cre(n){if(!n||typeof n!="object")throw Error(Po+"Object expected");var e,t,r,i=["precision",1,wp,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=n[t=i[e]])!==void 0)if(Mp(r)===r&&r>=i[e+1]&&r<=i[e+2])this[t]=r;else throw Error(If+t+": "+r);if((r=n[t="LN10"])!==void 0)if(r==Math.LN10)this[t]=new this(r);else throw Error(If+t+": "+r);return this}var XP=N5(Are);to=new XP(1);const Jn=XP;function Pre(n){return Nre(n)||Ire(n)||Ore(n)||Rre()}function Rre(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ore(n,e){if(n){if(typeof n=="string")return pT(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(n);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return pT(n,e)}}function Ire(n){if(typeof Symbol<"u"&&Symbol.iterator in Object(n))return Array.from(n)}function Nre(n){if(Array.isArray(n))return pT(n)}function pT(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}var Lre=function(e){return e},L5={},k5=function(e){return e===L5},qk=function(e){return function t(){return arguments.length===0||arguments.length===1&&k5(arguments.length<=0?void 0:arguments[0])?t:e.apply(void 0,arguments)}},kre=function n(e,t){return e===1?t:qk(function(){for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];var o=i.filter(function(s){return s!==L5}).length;return o>=e?t.apply(void 0,i):n(e-o,qk(function(){for(var s=arguments.length,u=new Array(s),c=0;c<s;c++)u[c]=arguments[c];var h=i.map(function(d){return k5(d)?u.shift():d});return t.apply(void 0,Pre(h).concat(u))}))})},eb=function(e){return kre(e.length,e)},mT=function(e,t){for(var r=[],i=e;i<t;++i)r[i-e]=i;return r},Dre=eb(function(n,e){return Array.isArray(e)?e.map(n):Object.keys(e).map(function(t){return e[t]}).map(n)}),Ure=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];if(!t.length)return Lre;var i=t.reverse(),a=i[0],o=i.slice(1);return function(){return o.reduce(function(s,u){return u(s)},a.apply(void 0,arguments))}},gT=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},D5=function(e){var t=null,r=null;return function(){for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return t&&a.every(function(s,u){return s===t[u]})||(t=a,r=e.apply(void 0,a)),r}};function Fre(n){var e;return n===0?e=1:e=Math.floor(new Jn(n).abs().log(10).toNumber())+1,e}function Bre(n,e,t){for(var r=new Jn(n),i=0,a=[];r.lt(e)&&i<1e5;)a.push(r.toNumber()),r=r.add(t),i++;return a}var zre=eb(function(n,e,t){var r=+n,i=+e;return r+t*(i-r)}),jre=eb(function(n,e,t){var r=e-+n;return r=r||1/0,(t-n)/r}),Hre=eb(function(n,e,t){var r=e-+n;return r=r||1/0,Math.max(0,Math.min(1,(t-n)/r))});const tb={rangeStep:Bre,getDigitCount:Fre,interpolateNumber:zre,uninterpolateNumber:jre,uninterpolateTruncation:Hre};function vT(n){return Wre(n)||Gre(n)||U5(n)||Vre()}function Vre(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Gre(n){if(typeof Symbol<"u"&&Symbol.iterator in Object(n))return Array.from(n)}function Wre(n){if(Array.isArray(n))return yT(n)}function jg(n,e){return Xre(n)||$re(n,e)||U5(n,e)||qre()}function qre(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function U5(n,e){if(n){if(typeof n=="string")return yT(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(n);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return yT(n,e)}}function yT(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function $re(n,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(n)))){var t=[],r=!0,i=!1,a=void 0;try{for(var o=n[Symbol.iterator](),s;!(r=(s=o.next()).done)&&(t.push(s.value),!(e&&t.length===e));r=!0);}catch(u){i=!0,a=u}finally{try{!r&&o.return!=null&&o.return()}finally{if(i)throw a}}return t}}function Xre(n){if(Array.isArray(n))return n}function F5(n){var e=jg(n,2),t=e[0],r=e[1],i=t,a=r;return t>r&&(i=r,a=t),[i,a]}function B5(n,e,t){if(n.lte(0))return new Jn(0);var r=tb.getDigitCount(n.toNumber()),i=new Jn(10).pow(r),a=n.div(i),o=r!==1?.05:.1,s=new Jn(Math.ceil(a.div(o).toNumber())).add(t).mul(o),u=s.mul(i);return e?u:new Jn(Math.ceil(u))}function Yre(n,e,t){var r=1,i=new Jn(n);if(!i.isint()&&t){var a=Math.abs(n);a<1?(r=new Jn(10).pow(tb.getDigitCount(n)-1),i=new Jn(Math.floor(i.div(r).toNumber())).mul(r)):a>1&&(i=new Jn(Math.floor(n)))}else n===0?i=new Jn(Math.floor((e-1)/2)):t||(i=new Jn(Math.floor(n)));var o=Math.floor((e-1)/2),s=Ure(Dre(function(u){return i.add(new Jn(u-o).mul(r)).toNumber()}),mT);return s(0,e)}function z5(n,e,t,r){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-n)/(t-1)))return{step:new Jn(0),tickMin:new Jn(0),tickMax:new Jn(0)};var a=B5(new Jn(e).sub(n).div(t-1),r,i),o;n<=0&&e>=0?o=new Jn(0):(o=new Jn(n).add(e).div(2),o=o.sub(new Jn(o).mod(a)));var s=Math.ceil(o.sub(n).div(a).toNumber()),u=Math.ceil(new Jn(e).sub(o).div(a).toNumber()),c=s+u+1;return c>t?z5(n,e,t,r,i+1):(c<t&&(u=e>0?u+(t-c):u,s=e>0?s:s+(t-c)),{step:a,tickMin:o.sub(new Jn(s).mul(a)),tickMax:o.add(new Jn(u).mul(a))})}function Kre(n){var e=jg(n,2),t=e[0],r=e[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(i,2),s=F5([t,r]),u=jg(s,2),c=u[0],h=u[1];if(c===-1/0||h===1/0){var d=h===1/0?[c].concat(vT(mT(0,i-1).map(function(){return 1/0}))):[].concat(vT(mT(0,i-1).map(function(){return-1/0})),[h]);return t>r?gT(d):d}if(c===h)return Yre(c,i,a);var g=z5(c,h,o,a),y=g.step,b=g.tickMin,S=g.tickMax,x=tb.rangeStep(b,S.add(new Jn(.1).mul(y)),y);return t>r?gT(x):x}function Zre(n,e){var t=jg(n,2),r=t[0],i=t[1],a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=F5([r,i]),s=jg(o,2),u=s[0],c=s[1];if(u===-1/0||c===1/0)return[r,i];if(u===c)return[u];var h=Math.max(e,2),d=B5(new Jn(c).sub(u).div(h-1),a,0),g=[].concat(vT(tb.rangeStep(new Jn(u),new Jn(c).sub(new Jn(.99).mul(d)),d)),[c]);return r>i?gT(g):g}var Jre=D5(Kre),Qre=D5(Zre),eie="Invariant failed";function Ff(n,e){throw new Error(eie)}var tie=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Ux(){return Ux=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Ux.apply(this,arguments)}function nie(n,e){return oie(n)||aie(n,e)||iie(n,e)||rie()}function rie(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function iie(n,e){if(n){if(typeof n=="string")return $k(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(n);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return $k(n,e)}}function $k(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function aie(n,e){var t=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t!=null){var r,i,a,o,s=[],u=!0,c=!1;try{if(a=(t=t.call(n)).next,e!==0)for(;!(u=(r=a.call(t)).done)&&(s.push(r.value),s.length!==e);u=!0);}catch(h){c=!0,i=h}finally{try{if(!u&&t.return!=null&&(o=t.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}function oie(n){if(Array.isArray(n))return n}function sie(n,e){if(n==null)return{};var t=lie(n,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(t[r]=n[r])}return t}function lie(n,e){if(n==null)return{};var t={},r=Object.keys(n),i,a;for(a=0;a<r.length;a++)i=r[a],!(e.indexOf(i)>=0)&&(t[i]=n[i]);return t}function nb(n){var e=n.offset,t=n.layout,r=n.width,i=n.dataKey,a=n.data,o=n.dataPointFormatter,s=n.xAxis,u=n.yAxis,c=sie(n,tie),h=Sn(c,!1);n.direction==="x"&&s.type!=="number"&&Ff();var d=a.map(function(g){var y=o(g,i),b=y.x,S=y.y,x=y.value,_=y.errorVal;if(!_)return null;var E=[],A,T;if(Array.isArray(_)){var P=nie(_,2);A=P[0],T=P[1]}else A=T=_;if(t==="vertical"){var O=s.scale,N=S+e,F=N+r,D=N-r,U=O(x-A),G=O(x+T);E.push({x1:G,y1:F,x2:G,y2:D}),E.push({x1:U,y1:N,x2:G,y2:N}),E.push({x1:U,y1:F,x2:U,y2:D})}else if(t==="horizontal"){var q=u.scale,Q=b+e,H=Q-r,te=Q+r,Z=q(x-A),he=q(x+T);E.push({x1:H,y1:he,x2:te,y2:he}),E.push({x1:Q,y1:Z,x2:Q,y2:he}),E.push({x1:H,y1:Z,x2:te,y2:Z})}return _e.createElement(wr,Ux({className:"recharts-errorBar",key:"bar-".concat(E.map(function(X){return"".concat(X.x1,"-").concat(X.x2,"-").concat(X.y1,"-").concat(X.y2)}))},h),E.map(function(X){return _e.createElement("line",Ux({},X,{key:"line-".concat(X.x1,"-").concat(X.x2,"-").concat(X.y1,"-").concat(X.y2)}))}))});return _e.createElement(wr,{className:"recharts-errorBars"},d)}nb.defaultProps={stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"};nb.displayName="ErrorBar";function Hg(n){"@babel/helpers - typeof";return Hg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hg(n)}function Xk(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function mE(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Xk(Object(t),!0).forEach(function(r){uie(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):Xk(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function uie(n,e,t){return e=cie(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function cie(n){var e=fie(n,"string");return Hg(e)=="symbol"?e:String(e)}function fie(n,e){if(Hg(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(Hg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var j5=function(e){var t=e.children,r=e.formattedGraphicalItems,i=e.legendWidth,a=e.legendContent,o=Qa(t,Cg);if(!o)return null;var s;return o.props&&o.props.payload?s=o.props&&o.props.payload:a==="children"?s=(r||[]).reduce(function(u,c){var h=c.item,d=c.props,g=d.sectors||d.data||[];return u.concat(g.map(function(y){return{type:o.props.iconType||h.props.legendType,value:y.name,color:y.fill,payload:y}}))},[]):s=(r||[]).map(function(u){var c=u.item,h=c.props,d=h.dataKey,g=h.name,y=h.legendType,b=h.hide;return{inactive:b,dataKey:d,type:o.props.iconType||y||"square",color:YP(c),value:g||d,payload:c.props}}),mE(mE(mE({},o.props),Cg.getWithHeight(o,i)),{},{payload:s,item:o})};function Vg(n){"@babel/helpers - typeof";return Vg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vg(n)}function Yk(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function Mo(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Yk(Object(t),!0).forEach(function(r){Bd(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):Yk(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function Bd(n,e,t){return e=hie(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function hie(n){var e=die(n,"string");return Vg(e)=="symbol"?e:String(e)}function die(n,e){if(Vg(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(Vg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function Kk(n){return vie(n)||gie(n)||mie(n)||pie()}function pie(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mie(n,e){if(n){if(typeof n=="string")return xT(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(n);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return xT(n,e)}}function gie(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function vie(n){if(Array.isArray(n))return xT(n)}function xT(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function io(n,e,t){return An(n)||An(e)?t:ii(e)?Co(n,e,t):_n(e)?e(n):t}function Qm(n,e,t,r){var i=wre(n,function(s){return io(s,e)});if(t==="number"){var a=i.filter(function(s){return ct(s)||parseFloat(s)});return a.length?[Q_(a),qu(a)]:[1/0,-1/0]}var o=r?i.filter(function(s){return!An(s)}):i;return o.map(function(s){return ii(s)||s instanceof Date?s:""})}var yie=function(e){var t,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0,o=-1,s=(t=r==null?void 0:r.length)!==null&&t!==void 0?t:0;if(s<=1)return 0;if(a&&a.axisType==="angleAxis"&&Math.abs(Math.abs(a.range[1]-a.range[0])-360)<=1e-6)for(var u=a.range,c=0;c<s;c++){var h=c>0?i[c-1].coordinate:i[s-1].coordinate,d=i[c].coordinate,g=c>=s-1?i[0].coordinate:i[c+1].coordinate,y=void 0;if(ls(d-h)!==ls(g-d)){var b=[];if(ls(g-d)===ls(u[1]-u[0])){y=g;var S=d+u[1]-u[0];b[0]=Math.min(S,(S+h)/2),b[1]=Math.max(S,(S+h)/2)}else{y=h;var x=g+u[1]-u[0];b[0]=Math.min(d,(x+d)/2),b[1]=Math.max(d,(x+d)/2)}var _=[Math.min(d,(y+d)/2),Math.max(d,(y+d)/2)];if(e>_[0]&&e<=_[1]||e>=b[0]&&e<=b[1]){o=i[c].index;break}}else{var E=Math.min(h,g),A=Math.max(h,g);if(e>(E+d)/2&&e<=(A+d)/2){o=i[c].index;break}}}else for(var T=0;T<s;T++)if(T===0&&e<=(r[T].coordinate+r[T+1].coordinate)/2||T>0&&T<s-1&&e>(r[T].coordinate+r[T-1].coordinate)/2&&e<=(r[T].coordinate+r[T+1].coordinate)/2||T===s-1&&e>(r[T].coordinate+r[T-1].coordinate)/2){o=r[T].index;break}return o},YP=function(e){var t=e,r=t.type.displayName,i=e.props,a=i.stroke,o=i.fill,s;switch(r){case"Line":s=a;break;case"Area":case"Radar":s=a&&a!=="none"?a:o;break;default:s=o;break}return s},xie=function(e){var t=e.barSize,r=e.stackGroups,i=r===void 0?{}:r;if(!i)return{};for(var a={},o=Object.keys(i),s=0,u=o.length;s<u;s++)for(var c=i[o[s]].stackGroups,h=Object.keys(c),d=0,g=h.length;d<g;d++){var y=c[h[d]],b=y.items,S=y.cateAxisId,x=b.filter(function(A){return Nl(A.type).indexOf("Bar")>=0});if(x&&x.length){var _=x[0].props.barSize,E=x[0].props[S];a[E]||(a[E]=[]),a[E].push({item:x[0],stackList:x.slice(1),barSize:An(_)?t:_})}}return a},_ie=function(e){var t=e.barGap,r=e.barCategoryGap,i=e.bandSize,a=e.sizeList,o=a===void 0?[]:a,s=e.maxBarSize,u=o.length;if(u<1)return null;var c=qd(t,i,0,!0),h,d=[];if(o[0].barSize===+o[0].barSize){var g=!1,y=i/u,b=o.reduce(function(T,P){return T+P.barSize||0},0);b+=(u-1)*c,b>=i&&(b-=(u-1)*c,c=0),b>=i&&y>0&&(g=!0,y*=.9,b=u*y);var S=(i-b)/2>>0,x={offset:S-c,size:0};h=o.reduce(function(T,P){var O={item:P.item,position:{offset:x.offset+x.size+c,size:g?y:P.barSize}},N=[].concat(Kk(T),[O]);return x=N[N.length-1].position,P.stackList&&P.stackList.length&&P.stackList.forEach(function(F){N.push({item:F,position:x})}),N},d)}else{var _=qd(r,i,0,!0);i-2*_-(u-1)*c<=0&&(c=0);var E=(i-2*_-(u-1)*c)/u;E>1&&(E>>=0);var A=s===+s?Math.min(E,s):E;h=o.reduce(function(T,P,O){var N=[].concat(Kk(T),[{item:P.item,position:{offset:_+(E+c)*O+(E-A)/2,size:A}}]);return P.stackList&&P.stackList.length&&P.stackList.forEach(function(F){N.push({item:F,position:N[N.length-1].position})}),N},d)}return h},bie=function(e,t,r,i){var a=r.children,o=r.width,s=r.margin,u=o-(s.left||0)-(s.right||0),c=j5({children:a,legendWidth:u});if(c){var h=i||{},d=h.width,g=h.height,y=c.align,b=c.verticalAlign,S=c.layout;if((S==="vertical"||S==="horizontal"&&b==="middle")&&y!=="center"&&ct(e[y]))return Mo(Mo({},e),{},Bd({},y,e[y]+(d||0)));if((S==="horizontal"||S==="vertical"&&y==="center")&&b!=="middle"&&ct(e[b]))return Mo(Mo({},e),{},Bd({},b,e[b]+(g||0)))}return e},Sie=function(e,t,r){return An(t)?!0:e==="horizontal"?t==="yAxis":e==="vertical"||r==="x"?t==="xAxis":r==="y"?t==="yAxis":!0},H5=function(e,t,r,i,a){var o=t.props.children,s=us(o,nb).filter(function(c){return Sie(i,a,c.props.direction)});if(s&&s.length){var u=s.map(function(c){return c.props.dataKey});return e.reduce(function(c,h){var d=io(h,r);if(An(d))return c;var g=Array.isArray(d)?[Q_(d),qu(d)]:[d,d],y=u.reduce(function(b,S){var x=io(h,S,0),_=g[0]-Math.abs(Array.isArray(x)?x[0]:x),E=g[1]+Math.abs(Array.isArray(x)?x[1]:x);return[Math.min(_,b[0]),Math.max(E,b[1])]},[1/0,-1/0]);return[Math.min(y[0],c[0]),Math.max(y[1],c[1])]},[1/0,-1/0])}return null},wie=function(e,t,r,i,a){var o=t.map(function(s){return H5(e,s,r,a,i)}).filter(function(s){return!An(s)});return o&&o.length?o.reduce(function(s,u){return[Math.min(s[0],u[0]),Math.max(s[1],u[1])]},[1/0,-1/0]):null},V5=function(e,t,r,i,a){var o=t.map(function(u){var c=u.props.dataKey;return r==="number"&&c&&H5(e,u,c,i)||Qm(e,c,r,a)});if(r==="number")return o.reduce(function(u,c){return[Math.min(u[0],c[0]),Math.max(u[1],c[1])]},[1/0,-1/0]);var s={};return o.reduce(function(u,c){for(var h=0,d=c.length;h<d;h++)s[c[h]]||(s[c[h]]=!0,u.push(c[h]));return u},[])},G5=function(e,t){return e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis"},W5=function(e,t,r,i){if(i)return e.map(function(u){return u.coordinate});var a,o,s=e.map(function(u){return u.coordinate===t&&(a=!0),u.coordinate===r&&(o=!0),u.coordinate});return a||s.push(t),o||s.push(r),s},Ol=function(e,t,r){if(!e)return null;var i=e.scale,a=e.duplicateDomain,o=e.type,s=e.range,u=e.realScaleType==="scaleBand"?i.bandwidth()/2:2,c=(t||r)&&o==="category"&&i.bandwidth?i.bandwidth()/u:0;if(c=e.axisType==="angleAxis"&&(s==null?void 0:s.length)>=2?ls(s[0]-s[1])*2*c:c,t&&(e.ticks||e.niceTicks)){var h=(e.ticks||e.niceTicks).map(function(d){var g=a?a.indexOf(d):d;return{coordinate:i(g)+c,value:d,offset:c}});return h.filter(function(d){return!xp(d.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(d,g){return{coordinate:i(d)+c,value:d,index:g,offset:c}}):i.ticks&&!r?i.ticks(e.tickCount).map(function(d){return{coordinate:i(d)+c,value:d,offset:c}}):i.domain().map(function(d,g){return{coordinate:i(d)+c,value:a?a[d]:d,index:g,offset:c}})},gE=new WeakMap,By=function(e,t){if(typeof t!="function")return e;gE.has(e)||gE.set(e,new WeakMap);var r=gE.get(e);if(r.has(t))return r.get(t);var i=function(){e.apply(void 0,arguments),t.apply(void 0,arguments)};return r.set(t,i),i},Mie=function(e,t,r){var i=e.scale,a=e.type,o=e.layout,s=e.axisType;if(i==="auto")return o==="radial"&&s==="radiusAxis"?{scale:Lg(),realScaleType:"band"}:o==="radial"&&s==="angleAxis"?{scale:Ix(),realScaleType:"linear"}:a==="category"&&t&&(t.indexOf("LineChart")>=0||t.indexOf("AreaChart")>=0||t.indexOf("ComposedChart")>=0&&!r)?{scale:Jm(),realScaleType:"point"}:a==="category"?{scale:Lg(),realScaleType:"band"}:{scale:Ix(),realScaleType:"linear"};if(Cv(i)){var u="scale".concat(z_(i));return{scale:(kk[u]||Jm)(),realScaleType:kk[u]?u:"point"}}return _n(i)?{scale:i}:{scale:Jm(),realScaleType:"point"}},Zk=1e-4,Eie=function(e){var t=e.domain();if(!(!t||t.length<=2)){var r=t.length,i=e.range(),a=Math.min(i[0],i[1])-Zk,o=Math.max(i[0],i[1])+Zk,s=e(t[0]),u=e(t[r-1]);(s<a||s>o||u<a||u>o)&&e.domain([t[0],t[r-1]])}},Aie=function(e,t){if(!e)return null;for(var r=0,i=e.length;r<i;r++)if(e[r].item===t)return e[r].position;return null},Tie=function(e,t){if(!t||t.length!==2||!ct(t[0])||!ct(t[1]))return e;var r=Math.min(t[0],t[1]),i=Math.max(t[0],t[1]),a=[e[0],e[1]];return(!ct(e[0])||e[0]<r)&&(a[0]=r),(!ct(e[1])||e[1]>i)&&(a[1]=i),a[0]>i&&(a[0]=i),a[1]<r&&(a[1]=r),a},Cie=function(e){var t=e.length;if(!(t<=0))for(var r=0,i=e[0].length;r<i;++r)for(var a=0,o=0,s=0;s<t;++s){var u=xp(e[s][r][1])?e[s][r][0]:e[s][r][1];u>=0?(e[s][r][0]=a,e[s][r][1]=a+u,a=e[s][r][1]):(e[s][r][0]=o,e[s][r][1]=o+u,o=e[s][r][1])}},Pie=function(e){var t=e.length;if(!(t<=0))for(var r=0,i=e[0].length;r<i;++r)for(var a=0,o=0;o<t;++o){var s=xp(e[o][r][1])?e[o][r][0]:e[o][r][1];s>=0?(e[o][r][0]=a,e[o][r][1]=a+s,a=e[o][r][1]):(e[o][r][0]=0,e[o][r][1]=0)}},Rie={sign:Cie,expand:wZ,none:$d,silhouette:MZ,wiggle:EZ,positive:Pie},Oie=function(e,t,r){var i=t.map(function(s){return s.props.dataKey}),a=Rie[r],o=SZ().keys(i).value(function(s,u){return+io(s,u,0)}).order(ZA).offset(a);return o(e)},Iie=function(e,t,r,i,a,o){if(!e)return null;var s=o?t.reverse():t,u={},c=s.reduce(function(d,g){var y=g.props,b=y.stackId,S=y.hide;if(S)return d;var x=g.props[r],_=d[x]||{hasStack:!1,stackGroups:{}};if(ii(b)){var E=_.stackGroups[b]||{numericAxisId:r,cateAxisId:i,items:[]};E.items.push(g),_.hasStack=!0,_.stackGroups[b]=E}else _.stackGroups[Pv("_stackId_")]={numericAxisId:r,cateAxisId:i,items:[g]};return Mo(Mo({},d),{},Bd({},x,_))},u),h={};return Object.keys(c).reduce(function(d,g){var y=c[g];if(y.hasStack){var b={};y.stackGroups=Object.keys(y.stackGroups).reduce(function(S,x){var _=y.stackGroups[x];return Mo(Mo({},S),{},Bd({},x,{numericAxisId:r,cateAxisId:i,items:_.items,stackedData:Oie(e,_.items,a)}))},b)}return Mo(Mo({},d),{},Bd({},g,y))},h)},Nie=function(e,t){var r=t.realScaleType,i=t.type,a=t.tickCount,o=t.originalDomain,s=t.allowDecimals,u=r||t.scale;if(u!=="auto"&&u!=="linear")return null;if(a&&i==="number"&&o&&(o[0]==="auto"||o[1]==="auto")){var c=e.domain();if(!c.length)return null;var h=Jre(c,a,s);return e.domain([Q_(h),qu(h)]),{niceTicks:h}}if(a&&i==="number"){var d=e.domain(),g=Qre(d,a,s);return{niceTicks:g}}return null};function Jk(n){var e=n.axis,t=n.ticks,r=n.bandSize,i=n.entry,a=n.index,o=n.dataKey;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!An(i[e.dataKey])){var s=fx(t,"value",i[e.dataKey]);if(s)return s.coordinate+r/2}return t[a]?t[a].coordinate+r/2:null}var u=io(i,An(o)?e.dataKey:o);return An(u)?null:e.scale(u)}var Qk=function(e){var t=e.axis,r=e.ticks,i=e.offset,a=e.bandSize,o=e.entry,s=e.index;if(t.type==="category")return r[s]?r[s].coordinate+i:null;var u=io(o,t.dataKey,t.domain[s]);return An(u)?null:t.scale(u)-a/2+i},Lie=function(e){var t=e.numericAxis,r=t.scale.domain();if(t.type==="number"){var i=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]);return i<=0&&a>=0?0:a<0?a:i}return r[0]},kie=function(e,t){var r=e.props.stackId;if(ii(r)){var i=t[r];if(i){var a=i.items.indexOf(e);return a>=0?i.stackedData[a]:null}}return null},Die=function(e){return e.reduce(function(t,r){return[Q_(r.concat([t[0]]).filter(ct)),qu(r.concat([t[1]]).filter(ct))]},[1/0,-1/0])},q5=function(e,t,r){return Object.keys(e).reduce(function(i,a){var o=e[a],s=o.stackedData,u=s.reduce(function(c,h){var d=Die(h.slice(t,r+1));return[Math.min(c[0],d[0]),Math.max(c[1],d[1])]},[1/0,-1/0]);return[Math.min(u[0],i[0]),Math.max(u[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},eD=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,tD=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,_T=function(e,t,r){if(_n(e))return e(t,r);if(!Array.isArray(e))return t;var i=[];if(ct(e[0]))i[0]=r?e[0]:Math.min(e[0],t[0]);else if(eD.test(e[0])){var a=+eD.exec(e[0])[1];i[0]=t[0]-a}else _n(e[0])?i[0]=e[0](t[0]):i[0]=t[0];if(ct(e[1]))i[1]=r?e[1]:Math.max(e[1],t[1]);else if(tD.test(e[1])){var o=+tD.exec(e[1])[1];i[1]=t[1]+o}else _n(e[1])?i[1]=e[1](t[1]):i[1]=t[1];return i},Fx=function(e,t,r){if(e&&e.scale&&e.scale.bandwidth){var i=e.scale.bandwidth();if(!r||i>0)return i}if(e&&t&&t.length>=2){for(var a=wP(t,function(d){return d.coordinate}),o=1/0,s=1,u=a.length;s<u;s++){var c=a[s],h=a[s-1];o=Math.min((c.coordinate||0)-(h.coordinate||0),o)}return o===1/0?0:o}return r?void 0:0},nD=function(e,t,r){return!e||!e.length||Bg(e,Co(r,"type.defaultProps.domain"))?t:e},$5=function(e,t){var r=e.props,i=r.dataKey,a=r.name,o=r.unit,s=r.formatter,u=r.tooltipType,c=r.chartType,h=r.hide;return Mo(Mo({},Sn(e,!1)),{},{dataKey:i,unit:o,formatter:s,name:a||i,color:YP(e),value:io(t,i),type:u,payload:t,chartType:c,hide:h})};function Gg(n){"@babel/helpers - typeof";return Gg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gg(n)}function rD(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function iD(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?rD(Object(t),!0).forEach(function(r){Uie(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):rD(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function Uie(n,e,t){return e=Fie(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function Fie(n){var e=Bie(n,"string");return Gg(e)=="symbol"?e:String(e)}function Bie(n,e){if(Gg(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(Gg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var Bx=Math.PI/180,zie=function(e){return e*180/Math.PI},Oi=function(e,t,r,i){return{x:e+Math.cos(-Bx*i)*r,y:t+Math.sin(-Bx*i)*r}},jie=function(e,t){var r=e.x,i=e.y,a=t.x,o=t.y;return Math.sqrt(Math.pow(r-a,2)+Math.pow(i-o,2))},Hie=function(e,t){var r=e.x,i=e.y,a=t.cx,o=t.cy,s=jie({x:r,y:i},{x:a,y:o});if(s<=0)return{radius:s};var u=(r-a)/s,c=Math.acos(u);return i>o&&(c=2*Math.PI-c),{radius:s,angle:zie(c),angleInRadian:c}},Vie=function(e){var t=e.startAngle,r=e.endAngle,i=Math.floor(t/360),a=Math.floor(r/360),o=Math.min(i,a);return{startAngle:t-o*360,endAngle:r-o*360}},Gie=function(e,t){var r=t.startAngle,i=t.endAngle,a=Math.floor(r/360),o=Math.floor(i/360),s=Math.min(a,o);return e+s*360},aD=function(e,t){var r=e.x,i=e.y,a=Hie({x:r,y:i},t),o=a.radius,s=a.angle,u=t.innerRadius,c=t.outerRadius;if(o<u||o>c)return!1;if(o===0)return!0;var h=Vie(t),d=h.startAngle,g=h.endAngle,y=s,b;if(d<=g){for(;y>g;)y-=360;for(;y<d;)y+=360;b=y>=d&&y<=g}else{for(;y>d;)y-=360;for(;y<g;)y+=360;b=y>=g&&y<=d}return b?iD(iD({},t),{},{radius:o,angle:Gie(y,t)}):null};function Wg(n){"@babel/helpers - typeof";return Wg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wg(n)}var Wie=["offset"];function qie(n){return Kie(n)||Yie(n)||Xie(n)||$ie()}function $ie(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Xie(n,e){if(n){if(typeof n=="string")return bT(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(n);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return bT(n,e)}}function Yie(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function Kie(n){if(Array.isArray(n))return bT(n)}function bT(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function Zie(n,e){if(n==null)return{};var t=Jie(n,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(t[r]=n[r])}return t}function Jie(n,e){if(n==null)return{};var t={},r=Object.keys(n),i,a;for(a=0;a<r.length;a++)i=r[a],!(e.indexOf(i)>=0)&&(t[i]=n[i]);return t}function oD(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function ni(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?oD(Object(t),!0).forEach(function(r){Qie(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):oD(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function Qie(n,e,t){return e=eae(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function eae(n){var e=tae(n,"string");return Wg(e)=="symbol"?e:String(e)}function tae(n,e){if(Wg(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(Wg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function qg(){return qg=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},qg.apply(this,arguments)}var nae=function(e){var t=e.value,r=e.formatter,i=An(e.children)?t:e.children;return _n(r)?r(i):i},rae=function(e,t){var r=ls(t-e),i=Math.min(Math.abs(t-e),360);return r*i},iae=function(e,t,r){var i=e.position,a=e.viewBox,o=e.offset,s=e.className,u=a,c=u.cx,h=u.cy,d=u.innerRadius,g=u.outerRadius,y=u.startAngle,b=u.endAngle,S=u.clockWise,x=(d+g)/2,_=rae(y,b),E=_>=0?1:-1,A,T;i==="insideStart"?(A=y+E*o,T=S):i==="insideEnd"?(A=b-E*o,T=!S):i==="end"&&(A=b+E*o,T=S),T=_<=0?T:!T;var P=Oi(c,h,x,A),O=Oi(c,h,x,A+(T?1:-1)*359),N="M".concat(P.x,",").concat(P.y,`
    A`).concat(x,",").concat(x,",0,1,").concat(T?0:1,`,
    `).concat(O.x,",").concat(O.y),F=An(e.id)?Pv("recharts-radial-line-"):e.id;return _e.createElement("text",qg({},r,{dominantBaseline:"central",className:Bn("recharts-radial-bar-label",s)}),_e.createElement("defs",null,_e.createElement("path",{id:F,d:N})),_e.createElement("textPath",{xlinkHref:"#".concat(F)},t))},aae=function(e){var t=e.viewBox,r=e.offset,i=e.position,a=t,o=a.cx,s=a.cy,u=a.innerRadius,c=a.outerRadius,h=a.startAngle,d=a.endAngle,g=(h+d)/2;if(i==="outside"){var y=Oi(o,s,c+r,g),b=y.x,S=y.y;return{x:b,y:S,textAnchor:b>=o?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:o,y:s,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:o,y:s,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:o,y:s,textAnchor:"middle",verticalAnchor:"end"};var x=(u+c)/2,_=Oi(o,s,x,g),E=_.x,A=_.y;return{x:E,y:A,textAnchor:"middle",verticalAnchor:"middle"}},oae=function(e){var t=e.viewBox,r=e.parentViewBox,i=e.offset,a=e.position,o=t,s=o.x,u=o.y,c=o.width,h=o.height,d=h>=0?1:-1,g=d*i,y=d>0?"end":"start",b=d>0?"start":"end",S=c>=0?1:-1,x=S*i,_=S>0?"end":"start",E=S>0?"start":"end";if(a==="top"){var A={x:s+c/2,y:u-d*i,textAnchor:"middle",verticalAnchor:y};return ni(ni({},A),r?{height:Math.max(u-r.y,0),width:c}:{})}if(a==="bottom"){var T={x:s+c/2,y:u+h+g,textAnchor:"middle",verticalAnchor:b};return ni(ni({},T),r?{height:Math.max(r.y+r.height-(u+h),0),width:c}:{})}if(a==="left"){var P={x:s-x,y:u+h/2,textAnchor:_,verticalAnchor:"middle"};return ni(ni({},P),r?{width:Math.max(P.x-r.x,0),height:h}:{})}if(a==="right"){var O={x:s+c+x,y:u+h/2,textAnchor:E,verticalAnchor:"middle"};return ni(ni({},O),r?{width:Math.max(r.x+r.width-O.x,0),height:h}:{})}var N=r?{width:c,height:h}:{};return a==="insideLeft"?ni({x:s+x,y:u+h/2,textAnchor:E,verticalAnchor:"middle"},N):a==="insideRight"?ni({x:s+c-x,y:u+h/2,textAnchor:_,verticalAnchor:"middle"},N):a==="insideTop"?ni({x:s+c/2,y:u+g,textAnchor:"middle",verticalAnchor:b},N):a==="insideBottom"?ni({x:s+c/2,y:u+h-g,textAnchor:"middle",verticalAnchor:y},N):a==="insideTopLeft"?ni({x:s+x,y:u+g,textAnchor:E,verticalAnchor:b},N):a==="insideTopRight"?ni({x:s+c-x,y:u+g,textAnchor:_,verticalAnchor:b},N):a==="insideBottomLeft"?ni({x:s+x,y:u+h-g,textAnchor:E,verticalAnchor:y},N):a==="insideBottomRight"?ni({x:s+c-x,y:u+h-g,textAnchor:_,verticalAnchor:y},N):yp(a)&&(ct(a.x)||Sf(a.x))&&(ct(a.y)||Sf(a.y))?ni({x:s+qd(a.x,c),y:u+qd(a.y,h),textAnchor:"end",verticalAnchor:"end"},N):ni({x:s+c/2,y:u+h/2,textAnchor:"middle",verticalAnchor:"middle"},N)},sae=function(e){return"cx"in e&&ct(e.cx)};function $i(n){var e=n.offset,t=e===void 0?5:e,r=Zie(n,Wie),i=ni({offset:t},r),a=i.viewBox,o=i.position,s=i.value,u=i.children,c=i.content,h=i.className,d=h===void 0?"":h,g=i.textBreakAll;if(!a||An(s)&&An(u)&&!ee.isValidElement(c)&&!_n(c))return null;if(ee.isValidElement(c))return ee.cloneElement(c,i);var y;if(_n(c)){if(y=ee.createElement(c,i),ee.isValidElement(y))return y}else y=nae(i);var b=sae(a),S=Sn(i,!0);if(b&&(o==="insideStart"||o==="insideEnd"||o==="end"))return iae(i,y,S);var x=b?aae(i):oae(i);return _e.createElement(Mx,qg({className:Bn("recharts-label",d)},S,x,{breakAll:g}),y)}$i.displayName="Label";var X5=function(e){var t=e.cx,r=e.cy,i=e.angle,a=e.startAngle,o=e.endAngle,s=e.r,u=e.radius,c=e.innerRadius,h=e.outerRadius,d=e.x,g=e.y,y=e.top,b=e.left,S=e.width,x=e.height,_=e.clockWise,E=e.labelViewBox;if(E)return E;if(ct(S)&&ct(x)){if(ct(d)&&ct(g))return{x:d,y:g,width:S,height:x};if(ct(y)&&ct(b))return{x:y,y:b,width:S,height:x}}return ct(d)&&ct(g)?{x:d,y:g,width:0,height:0}:ct(t)&&ct(r)?{cx:t,cy:r,startAngle:a||i||0,endAngle:o||i||0,innerRadius:c||0,outerRadius:h||u||s||0,clockWise:_}:e.viewBox?e.viewBox:{}},lae=function(e,t){return e?e===!0?_e.createElement($i,{key:"label-implicit",viewBox:t}):ii(e)?_e.createElement($i,{key:"label-implicit",viewBox:t,value:e}):ee.isValidElement(e)?e.type===$i?ee.cloneElement(e,{key:"label-implicit",viewBox:t}):_e.createElement($i,{key:"label-implicit",content:e,viewBox:t}):_n(e)?_e.createElement($i,{key:"label-implicit",content:e,viewBox:t}):yp(e)?_e.createElement($i,qg({viewBox:t},e,{key:"label-implicit"})):null:null},uae=function(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var i=e.children,a=X5(e),o=us(i,$i).map(function(u,c){return ee.cloneElement(u,{viewBox:t||a,key:"label-".concat(c)})});if(!r)return o;var s=lae(e.label,t||a);return[s].concat(qie(o))};$i.parseViewBox=X5;$i.renderCallByParent=uae;var vE,sD;function cae(){if(sD)return vE;sD=1;function n(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}return vE=n,vE}var fae=cae();const hae=Xn(fae);function $g(n){"@babel/helpers - typeof";return $g=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$g(n)}var dae=["valueAccessor"],pae=["data","dataKey","clockWise","id","textBreakAll"];function mae(n){return xae(n)||yae(n)||vae(n)||gae()}function gae(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vae(n,e){if(n){if(typeof n=="string")return ST(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(n);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return ST(n,e)}}function yae(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function xae(n){if(Array.isArray(n))return ST(n)}function ST(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function zx(){return zx=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},zx.apply(this,arguments)}function lD(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function uD(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?lD(Object(t),!0).forEach(function(r){_ae(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):lD(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function _ae(n,e,t){return e=bae(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function bae(n){var e=Sae(n,"string");return $g(e)=="symbol"?e:String(e)}function Sae(n,e){if($g(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if($g(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function cD(n,e){if(n==null)return{};var t=wae(n,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(t[r]=n[r])}return t}function wae(n,e){if(n==null)return{};var t={},r=Object.keys(n),i,a;for(a=0;a<r.length;a++)i=r[a],!(e.indexOf(i)>=0)&&(t[i]=n[i]);return t}var Mae=function(e){return Array.isArray(e.value)?hae(e.value):e.value};function tc(n){var e=n.valueAccessor,t=e===void 0?Mae:e,r=cD(n,dae),i=r.data,a=r.dataKey,o=r.clockWise,s=r.id,u=r.textBreakAll,c=cD(r,pae);return!i||!i.length?null:_e.createElement(wr,{className:"recharts-label-list"},i.map(function(h,d){var g=An(a)?t(h,d):io(h&&h.payload,a),y=An(s)?{}:{id:"".concat(s,"-").concat(d)};return _e.createElement($i,zx({},Sn(h,!0),c,y,{parentViewBox:h.parentViewBox,value:g,textBreakAll:u,viewBox:$i.parseViewBox(An(o)?h:uD(uD({},h),{},{clockWise:o})),key:"label-".concat(d),index:d}))}))}tc.displayName="LabelList";function Eae(n,e){return n?n===!0?_e.createElement(tc,{key:"labelList-implicit",data:e}):_e.isValidElement(n)||_n(n)?_e.createElement(tc,{key:"labelList-implicit",data:e,content:n}):yp(n)?_e.createElement(tc,zx({data:e},n,{key:"labelList-implicit"})):null:null}function Aae(n,e){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!n||!n.children&&t&&!n.label)return null;var r=n.children,i=us(r,tc).map(function(o,s){return ee.cloneElement(o,{data:e,key:"labelList-".concat(s)})});if(!t)return i;var a=Eae(n.label,e);return[a].concat(mae(i))}tc.renderCallByParent=Aae;function Xg(n){"@babel/helpers - typeof";return Xg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xg(n)}function wT(){return wT=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},wT.apply(this,arguments)}function fD(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function hD(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?fD(Object(t),!0).forEach(function(r){Tae(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):fD(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function Tae(n,e,t){return e=Cae(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function Cae(n){var e=Pae(n,"string");return Xg(e)=="symbol"?e:String(e)}function Pae(n,e){if(Xg(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(Xg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var Rae=function(e,t){var r=ls(t-e),i=Math.min(Math.abs(t-e),359.999);return r*i},zy=function(e){var t=e.cx,r=e.cy,i=e.radius,a=e.angle,o=e.sign,s=e.isExternal,u=e.cornerRadius,c=e.cornerIsExternal,h=u*(s?1:-1)+i,d=Math.asin(u/h)/Bx,g=c?a:a+o*d,y=Oi(t,r,h,g),b=Oi(t,r,i,g),S=c?a-o*d:a,x=Oi(t,r,h*Math.cos(d*Bx),S);return{center:y,circleTangency:b,lineTangency:x,theta:d}},Y5=function(e){var t=e.cx,r=e.cy,i=e.innerRadius,a=e.outerRadius,o=e.startAngle,s=e.endAngle,u=Rae(o,s),c=o+u,h=Oi(t,r,a,o),d=Oi(t,r,a,c),g="M ".concat(h.x,",").concat(h.y,`
    A `).concat(a,",").concat(a,`,0,
    `).concat(+(Math.abs(u)>180),",").concat(+(o>c),`,
    `).concat(d.x,",").concat(d.y,`
  `);if(i>0){var y=Oi(t,r,i,o),b=Oi(t,r,i,c);g+="L ".concat(b.x,",").concat(b.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(u)>180),",").concat(+(o<=c),`,
            `).concat(y.x,",").concat(y.y," Z")}else g+="L ".concat(t,",").concat(r," Z");return g},Oae=function(e){var t=e.cx,r=e.cy,i=e.innerRadius,a=e.outerRadius,o=e.cornerRadius,s=e.forceCornerRadius,u=e.cornerIsExternal,c=e.startAngle,h=e.endAngle,d=ls(h-c),g=zy({cx:t,cy:r,radius:a,angle:c,sign:d,cornerRadius:o,cornerIsExternal:u}),y=g.circleTangency,b=g.lineTangency,S=g.theta,x=zy({cx:t,cy:r,radius:a,angle:h,sign:-d,cornerRadius:o,cornerIsExternal:u}),_=x.circleTangency,E=x.lineTangency,A=x.theta,T=u?Math.abs(c-h):Math.abs(c-h)-S-A;if(T<0)return s?"M ".concat(b.x,",").concat(b.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):Y5({cx:t,cy:r,innerRadius:i,outerRadius:a,startAngle:c,endAngle:h});var P="M ".concat(b.x,",").concat(b.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(d<0),",").concat(y.x,",").concat(y.y,`
    A`).concat(a,",").concat(a,",0,").concat(+(T>180),",").concat(+(d<0),",").concat(_.x,",").concat(_.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(d<0),",").concat(E.x,",").concat(E.y,`
  `);if(i>0){var O=zy({cx:t,cy:r,radius:i,angle:c,sign:d,isExternal:!0,cornerRadius:o,cornerIsExternal:u}),N=O.circleTangency,F=O.lineTangency,D=O.theta,U=zy({cx:t,cy:r,radius:i,angle:h,sign:-d,isExternal:!0,cornerRadius:o,cornerIsExternal:u}),G=U.circleTangency,q=U.lineTangency,Q=U.theta,H=u?Math.abs(c-h):Math.abs(c-h)-D-Q;if(H<0&&o===0)return"".concat(P,"L").concat(t,",").concat(r,"Z");P+="L".concat(q.x,",").concat(q.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(d<0),",").concat(G.x,",").concat(G.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(H>180),",").concat(+(d>0),",").concat(N.x,",").concat(N.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(d<0),",").concat(F.x,",").concat(F.y,"Z")}else P+="L".concat(t,",").concat(r,"Z");return P},Iae={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},K5=function(e){var t=hD(hD({},Iae),e),r=t.cx,i=t.cy,a=t.innerRadius,o=t.outerRadius,s=t.cornerRadius,u=t.forceCornerRadius,c=t.cornerIsExternal,h=t.startAngle,d=t.endAngle,g=t.className;if(o<a||h===d)return null;var y=Bn("recharts-sector",g),b=o-a,S=qd(s,b,0,!0),x;return S>0&&Math.abs(h-d)<360?x=Oae({cx:r,cy:i,innerRadius:a,outerRadius:o,cornerRadius:Math.min(S,b/2),forceCornerRadius:u,cornerIsExternal:c,startAngle:h,endAngle:d}):x=Y5({cx:r,cy:i,innerRadius:a,outerRadius:o,startAngle:h,endAngle:d}),_e.createElement("path",wT({},Sn(t,!0),{className:y,d:x,role:"img"}))};function Yg(n){"@babel/helpers - typeof";return Yg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yg(n)}function MT(){return MT=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},MT.apply(this,arguments)}function dD(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function pD(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?dD(Object(t),!0).forEach(function(r){Nae(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):dD(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function Nae(n,e,t){return e=Lae(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function Lae(n){var e=kae(n,"string");return Yg(e)=="symbol"?e:String(e)}function kae(n,e){if(Yg(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(Yg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var mD={curveBasisClosed:fZ,curveBasisOpen:hZ,curveBasis:cZ,curveBumpX:KK,curveBumpY:ZK,curveLinearClosed:dZ,curveLinear:H_,curveMonotoneX:pZ,curveMonotoneY:mZ,curveNatural:gZ,curveStep:vZ,curveStepAfter:xZ,curveStepBefore:yZ},jy=function(e){return e.x===+e.x&&e.y===+e.y},Lm=function(e){return e.x},km=function(e){return e.y},Dae=function(e,t){if(_n(e))return e;var r="curve".concat(z_(e));return(r==="curveMonotone"||r==="curveBump")&&t?mD["".concat(r).concat(t==="vertical"?"Y":"X")]:mD[r]||H_},Uae=function(e){var t=e.type,r=t===void 0?"linear":t,i=e.points,a=i===void 0?[]:i,o=e.baseLine,s=e.layout,u=e.connectNulls,c=u===void 0?!1:u,h=Dae(r,s),d=c?a.filter(function(S){return jy(S)}):a,g;if(Array.isArray(o)){var y=c?o.filter(function(S){return jy(S)}):o,b=d.map(function(S,x){return pD(pD({},S),{},{base:y[x]})});return s==="vertical"?g=Iy().y(km).x1(Lm).x0(function(S){return S.base.x}):g=Iy().x(Lm).y1(km).y0(function(S){return S.base.y}),g.defined(jy).curve(h),g(b)}return s==="vertical"&&ct(o)?g=Iy().y(km).x1(Lm).x0(o):ct(o)?g=Iy().x(Lm).y1(km).y0(o):g=r4().x(Lm).y(km),g.defined(jy).curve(h),g(d)},eg=function(e){var t=e.className,r=e.points,i=e.path,a=e.pathRef;if((!r||!r.length)&&!i)return null;var o=r&&r.length?Uae(e):i;return _e.createElement("path",MT({},Sn(e,!1),hx(e),{className:Bn("recharts-curve",t),d:o,ref:a}))};const{getOwnPropertyNames:Fae,getOwnPropertySymbols:Bae}=Object,{hasOwnProperty:zae}=Object.prototype;function yE(n,e){return function(r,i,a){return n(r,i,a)&&e(r,i,a)}}function Hy(n){return function(t,r,i){if(!t||!r||typeof t!="object"||typeof r!="object")return n(t,r,i);const{cache:a}=i,o=a.get(t),s=a.get(r);if(o&&s)return o===r&&s===t;a.set(t,r),a.set(r,t);const u=n(t,r,i);return a.delete(t),a.delete(r),u}}function jae(n){return n!=null?n[Symbol.toStringTag]:void 0}function gD(n){return Fae(n).concat(Bae(n))}const Hae=Object.hasOwn||((n,e)=>zae.call(n,e));function Kf(n,e){return n===e||!n&&!e&&n!==n&&e!==e}const Vae="__v",Gae="__o",Wae="_owner",{getOwnPropertyDescriptor:vD,keys:yD}=Object;function qae(n,e){return n.byteLength===e.byteLength&&jx(new Uint8Array(n),new Uint8Array(e))}function $ae(n,e,t){let r=n.length;if(e.length!==r)return!1;for(;r-- >0;)if(!t.equals(n[r],e[r],r,r,n,e,t))return!1;return!0}function Xae(n,e){return n.byteLength===e.byteLength&&jx(new Uint8Array(n.buffer,n.byteOffset,n.byteLength),new Uint8Array(e.buffer,e.byteOffset,e.byteLength))}function Yae(n,e){return Kf(n.getTime(),e.getTime())}function Kae(n,e){return n.name===e.name&&n.message===e.message&&n.cause===e.cause&&n.stack===e.stack}function Zae(n,e){return n===e}function xD(n,e,t){const r=n.size;if(r!==e.size)return!1;if(!r)return!0;const i=new Array(r),a=n.entries();let o,s,u=0;for(;(o=a.next())&&!o.done;){const c=e.entries();let h=!1,d=0;for(;(s=c.next())&&!s.done;){if(i[d]){d++;continue}const g=o.value,y=s.value;if(t.equals(g[0],y[0],u,d,n,e,t)&&t.equals(g[1],y[1],g[0],y[0],n,e,t)){h=i[d]=!0;break}d++}if(!h)return!1;u++}return!0}const Jae=Kf;function Qae(n,e,t){const r=yD(n);let i=r.length;if(yD(e).length!==i)return!1;for(;i-- >0;)if(!Z5(n,e,t,r[i]))return!1;return!0}function Dm(n,e,t){const r=gD(n);let i=r.length;if(gD(e).length!==i)return!1;let a,o,s;for(;i-- >0;)if(a=r[i],!Z5(n,e,t,a)||(o=vD(n,a),s=vD(e,a),(o||s)&&(!o||!s||o.configurable!==s.configurable||o.enumerable!==s.enumerable||o.writable!==s.writable)))return!1;return!0}function eoe(n,e){return Kf(n.valueOf(),e.valueOf())}function toe(n,e){return n.source===e.source&&n.flags===e.flags}function _D(n,e,t){const r=n.size;if(r!==e.size)return!1;if(!r)return!0;const i=new Array(r),a=n.values();let o,s;for(;(o=a.next())&&!o.done;){const u=e.values();let c=!1,h=0;for(;(s=u.next())&&!s.done;){if(!i[h]&&t.equals(o.value,s.value,o.value,s.value,n,e,t)){c=i[h]=!0;break}h++}if(!c)return!1}return!0}function jx(n,e){let t=n.byteLength;if(e.byteLength!==t||n.byteOffset!==e.byteOffset)return!1;for(;t-- >0;)if(n[t]!==e[t])return!1;return!0}function noe(n,e){return n.hostname===e.hostname&&n.pathname===e.pathname&&n.protocol===e.protocol&&n.port===e.port&&n.hash===e.hash&&n.username===e.username&&n.password===e.password}function Z5(n,e,t,r){return(r===Wae||r===Gae||r===Vae)&&(n.$$typeof||e.$$typeof)?!0:Hae(e,r)&&t.equals(n[r],e[r],r,r,n,e,t)}const roe="[object ArrayBuffer]",ioe="[object Arguments]",aoe="[object Boolean]",ooe="[object DataView]",soe="[object Date]",loe="[object Error]",uoe="[object Map]",coe="[object Number]",foe="[object Object]",hoe="[object RegExp]",doe="[object Set]",poe="[object String]",moe={"[object Int8Array]":!0,"[object Uint8Array]":!0,"[object Uint8ClampedArray]":!0,"[object Int16Array]":!0,"[object Uint16Array]":!0,"[object Int32Array]":!0,"[object Uint32Array]":!0,"[object Float16Array]":!0,"[object Float32Array]":!0,"[object Float64Array]":!0,"[object BigInt64Array]":!0,"[object BigUint64Array]":!0},goe="[object URL]",voe=Object.prototype.toString;function yoe({areArrayBuffersEqual:n,areArraysEqual:e,areDataViewsEqual:t,areDatesEqual:r,areErrorsEqual:i,areFunctionsEqual:a,areMapsEqual:o,areNumbersEqual:s,areObjectsEqual:u,arePrimitiveWrappersEqual:c,areRegExpsEqual:h,areSetsEqual:d,areTypedArraysEqual:g,areUrlsEqual:y,unknownTagComparators:b}){return function(x,_,E){if(x===_)return!0;if(x==null||_==null)return!1;const A=typeof x;if(A!==typeof _)return!1;if(A!=="object")return A==="number"?s(x,_,E):A==="function"?a(x,_,E):!1;const T=x.constructor;if(T!==_.constructor)return!1;if(T===Object)return u(x,_,E);if(Array.isArray(x))return e(x,_,E);if(T===Date)return r(x,_,E);if(T===RegExp)return h(x,_,E);if(T===Map)return o(x,_,E);if(T===Set)return d(x,_,E);const P=voe.call(x);if(P===soe)return r(x,_,E);if(P===hoe)return h(x,_,E);if(P===uoe)return o(x,_,E);if(P===doe)return d(x,_,E);if(P===foe)return typeof x.then!="function"&&typeof _.then!="function"&&u(x,_,E);if(P===goe)return y(x,_,E);if(P===loe)return i(x,_,E);if(P===ioe)return u(x,_,E);if(moe[P])return g(x,_,E);if(P===roe)return n(x,_,E);if(P===ooe)return t(x,_,E);if(P===aoe||P===coe||P===poe)return c(x,_,E);if(b){let O=b[P];if(!O){const N=jae(x);N&&(O=b[N])}if(O)return O(x,_,E)}return!1}}function xoe({circular:n,createCustomConfig:e,strict:t}){let r={areArrayBuffersEqual:qae,areArraysEqual:t?Dm:$ae,areDataViewsEqual:Xae,areDatesEqual:Yae,areErrorsEqual:Kae,areFunctionsEqual:Zae,areMapsEqual:t?yE(xD,Dm):xD,areNumbersEqual:Jae,areObjectsEqual:t?Dm:Qae,arePrimitiveWrappersEqual:eoe,areRegExpsEqual:toe,areSetsEqual:t?yE(_D,Dm):_D,areTypedArraysEqual:t?yE(jx,Dm):jx,areUrlsEqual:noe,unknownTagComparators:void 0};if(e&&(r=Object.assign({},r,e(r))),n){const i=Hy(r.areArraysEqual),a=Hy(r.areMapsEqual),o=Hy(r.areObjectsEqual),s=Hy(r.areSetsEqual);r=Object.assign({},r,{areArraysEqual:i,areMapsEqual:a,areObjectsEqual:o,areSetsEqual:s})}return r}function _oe(n){return function(e,t,r,i,a,o,s){return n(e,t,s)}}function boe({circular:n,comparator:e,createState:t,equals:r,strict:i}){if(t)return function(s,u){const{cache:c=n?new WeakMap:void 0,meta:h}=t();return e(s,u,{cache:c,equals:r,meta:h,strict:i})};if(n)return function(s,u){return e(s,u,{cache:new WeakMap,equals:r,meta:void 0,strict:i})};const a={cache:void 0,equals:r,meta:void 0,strict:i};return function(s,u){return e(s,u,a)}}const Soe=pc();pc({strict:!0});pc({circular:!0});pc({circular:!0,strict:!0});pc({createInternalComparator:()=>Kf});pc({strict:!0,createInternalComparator:()=>Kf});pc({circular:!0,createInternalComparator:()=>Kf});pc({circular:!0,createInternalComparator:()=>Kf,strict:!0});function pc(n={}){const{circular:e=!1,createInternalComparator:t,createState:r,strict:i=!1}=n,a=xoe(n),o=yoe(a),s=t?t(o):_oe(o);return boe({circular:e,comparator:o,createState:r,equals:s,strict:i})}function woe(n){typeof requestAnimationFrame<"u"&&requestAnimationFrame(n)}function bD(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,t=-1,r=function i(a){t<0&&(t=a),a-t>e?(n(a),t=-1):woe(i)};requestAnimationFrame(r)}function ET(n){"@babel/helpers - typeof";return ET=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ET(n)}function Moe(n){return Coe(n)||Toe(n)||Aoe(n)||Eoe()}function Eoe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Aoe(n,e){if(n){if(typeof n=="string")return SD(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(n);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return SD(n,e)}}function SD(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function Toe(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function Coe(n){if(Array.isArray(n))return n}function Poe(){var n={},e=function(){return null},t=!1,r=function i(a){if(!t){if(Array.isArray(a)){if(!a.length)return;var o=a,s=Moe(o),u=s[0],c=s.slice(1);if(typeof u=="number"){bD(i.bind(null,c),u);return}i(u),bD(i.bind(null,c));return}ET(a)==="object"&&(n=a,e(n)),typeof a=="function"&&a()}};return{stop:function(){t=!0},start:function(a){t=!1,r(a)},subscribe:function(a){return e=a,function(){e=function(){return null}}}}}function Kg(n){"@babel/helpers - typeof";return Kg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Kg(n)}function wD(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function MD(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?wD(Object(t),!0).forEach(function(r){J5(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):wD(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function J5(n,e,t){return e=Roe(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function Roe(n){var e=Ooe(n,"string");return Kg(e)==="symbol"?e:String(e)}function Ooe(n,e){if(Kg(n)!=="object"||n===null)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(Kg(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var Ioe=function(e,t){return[Object.keys(e),Object.keys(t)].reduce(function(r,i){return r.filter(function(a){return i.includes(a)})})},Noe=function(e){return e},Loe=function(e){return e.replace(/([A-Z])/g,function(t){return"-".concat(t.toLowerCase())})},tg=function(e,t){return Object.keys(t).reduce(function(r,i){return MD(MD({},r),{},J5({},i,e(i,t[i])))},{})},ED=function(e,t,r){return e.map(function(i){return"".concat(Loe(i)," ").concat(t,"ms ").concat(r)}).join(",")};function koe(n,e){return Foe(n)||Uoe(n,e)||Q5(n,e)||Doe()}function Doe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Uoe(n,e){var t=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t!=null){var r,i,a,o,s=[],u=!0,c=!1;try{if(a=(t=t.call(n)).next,e!==0)for(;!(u=(r=a.call(t)).done)&&(s.push(r.value),s.length!==e);u=!0);}catch(h){c=!0,i=h}finally{try{if(!u&&t.return!=null&&(o=t.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}function Foe(n){if(Array.isArray(n))return n}function Boe(n){return Hoe(n)||joe(n)||Q5(n)||zoe()}function zoe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Q5(n,e){if(n){if(typeof n=="string")return AT(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(n);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return AT(n,e)}}function joe(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function Hoe(n){if(Array.isArray(n))return AT(n)}function AT(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}var Hx=1e-4,ej=function(e,t){return[0,3*e,3*t-6*e,3*e-3*t+1]},tj=function(e,t){return e.map(function(r,i){return r*Math.pow(t,i)}).reduce(function(r,i){return r+i})},AD=function(e,t){return function(r){var i=ej(e,t);return tj(i,r)}},Voe=function(e,t){return function(r){var i=ej(e,t),a=[].concat(Boe(i.map(function(o,s){return o*s}).slice(1)),[0]);return tj(a,r)}},TD=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var i=t[0],a=t[1],o=t[2],s=t[3];if(t.length===1)switch(t[0]){case"linear":i=0,a=0,o=1,s=1;break;case"ease":i=.25,a=.1,o=.25,s=1;break;case"ease-in":i=.42,a=0,o=1,s=1;break;case"ease-out":i=.42,a=0,o=.58,s=1;break;case"ease-in-out":i=0,a=0,o=.58,s=1;break;default:{var u=t[0].split("(");if(u[0]==="cubic-bezier"&&u[1].split(")")[0].split(",").length===4){var c=u[1].split(")")[0].split(",").map(function(x){return parseFloat(x)}),h=koe(c,4);i=h[0],a=h[1],o=h[2],s=h[3]}}}var d=AD(i,o),g=AD(a,s),y=Voe(i,o),b=function(_){return _>1?1:_<0?0:_},S=function(_){for(var E=_>1?1:_,A=E,T=0;T<8;++T){var P=d(A)-E,O=y(A);if(Math.abs(P-E)<Hx||O<Hx)return g(A);A=b(A-P/O)}return g(A)};return S.isStepper=!1,S},Goe=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=e.stiff,r=t===void 0?100:t,i=e.damping,a=i===void 0?8:i,o=e.dt,s=o===void 0?17:o,u=function(h,d,g){var y=-(h-d)*r,b=g*a,S=g+(y-b)*s/1e3,x=g*s/1e3+h;return Math.abs(x-d)<Hx&&Math.abs(S)<Hx?[d,0]:[x,S]};return u.isStepper=!0,u.dt=s,u},Woe=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var i=t[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return TD(i);case"spring":return Goe();default:if(i.split("(")[0]==="cubic-bezier")return TD(i)}return typeof i=="function"?i:null};function Zg(n){"@babel/helpers - typeof";return Zg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zg(n)}function CD(n){return Xoe(n)||$oe(n)||nj(n)||qoe()}function qoe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $oe(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function Xoe(n){if(Array.isArray(n))return CT(n)}function PD(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function Pi(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?PD(Object(t),!0).forEach(function(r){TT(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):PD(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function TT(n,e,t){return e=Yoe(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function Yoe(n){var e=Koe(n,"string");return Zg(e)==="symbol"?e:String(e)}function Koe(n,e){if(Zg(n)!=="object"||n===null)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(Zg(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function Zoe(n,e){return ese(n)||Qoe(n,e)||nj(n,e)||Joe()}function Joe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nj(n,e){if(n){if(typeof n=="string")return CT(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(n);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return CT(n,e)}}function CT(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function Qoe(n,e){var t=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t!=null){var r,i,a,o,s=[],u=!0,c=!1;try{if(a=(t=t.call(n)).next,e!==0)for(;!(u=(r=a.call(t)).done)&&(s.push(r.value),s.length!==e);u=!0);}catch(h){c=!0,i=h}finally{try{if(!u&&t.return!=null&&(o=t.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}function ese(n){if(Array.isArray(n))return n}var Vx=function(e,t,r){return e+(t-e)*r},PT=function(e){var t=e.from,r=e.to;return t!==r},tse=function n(e,t,r){var i=tg(function(a,o){if(PT(o)){var s=e(o.from,o.to,o.velocity),u=Zoe(s,2),c=u[0],h=u[1];return Pi(Pi({},o),{},{from:c,velocity:h})}return o},t);return r<1?tg(function(a,o){return PT(o)?Pi(Pi({},o),{},{velocity:Vx(o.velocity,i[a].velocity,r),from:Vx(o.from,i[a].from,r)}):o},t):n(e,i,r-1)};const nse=(function(n,e,t,r,i){var a=Ioe(n,e),o=a.reduce(function(x,_){return Pi(Pi({},x),{},TT({},_,[n[_],e[_]]))},{}),s=a.reduce(function(x,_){return Pi(Pi({},x),{},TT({},_,{from:n[_],velocity:0,to:e[_]}))},{}),u=-1,c,h,d=function(){return null},g=function(){return tg(function(_,E){return E.from},s)},y=function(){return!Object.values(s).filter(PT).length},b=function(_){c||(c=_);var E=_-c,A=E/t.dt;s=tse(t,s,A),i(Pi(Pi(Pi({},n),e),g())),c=_,y()||(u=requestAnimationFrame(d))},S=function(_){h||(h=_);var E=(_-h)/r,A=tg(function(P,O){return Vx.apply(void 0,CD(O).concat([t(E)]))},o);if(i(Pi(Pi(Pi({},n),e),A)),E<1)u=requestAnimationFrame(d);else{var T=tg(function(P,O){return Vx.apply(void 0,CD(O).concat([t(1)]))},o);i(Pi(Pi(Pi({},n),e),T))}};return d=t.isStepper?b:S,function(){return requestAnimationFrame(d),function(){cancelAnimationFrame(u)}}});function tp(n){"@babel/helpers - typeof";return tp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tp(n)}var rse=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function ise(n,e){if(n==null)return{};var t=ase(n,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(t[r]=n[r])}return t}function ase(n,e){if(n==null)return{};var t={},r=Object.keys(n),i,a;for(a=0;a<r.length;a++)i=r[a],!(e.indexOf(i)>=0)&&(t[i]=n[i]);return t}function xE(n){return use(n)||lse(n)||sse(n)||ose()}function ose(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function sse(n,e){if(n){if(typeof n=="string")return RT(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(n);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return RT(n,e)}}function lse(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function use(n){if(Array.isArray(n))return RT(n)}function RT(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function RD(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function ts(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?RD(Object(t),!0).forEach(function(r){jm(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):RD(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function jm(n,e,t){return e=rj(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function cse(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function fse(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,rj(r.key),r)}}function hse(n,e,t){return e&&fse(n.prototype,e),Object.defineProperty(n,"prototype",{writable:!1}),n}function rj(n){var e=dse(n,"string");return tp(e)==="symbol"?e:String(e)}function dse(n,e){if(tp(n)!=="object"||n===null)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(tp(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function pse(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&OT(n,e)}function OT(n,e){return OT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},OT(n,e)}function mse(n){var e=gse();return function(){var r=Gx(n),i;if(e){var a=Gx(this).constructor;i=Reflect.construct(r,arguments,a)}else i=r.apply(this,arguments);return IT(this,i)}}function IT(n,e){if(e&&(tp(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return NT(n)}function NT(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function gse(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Gx(n){return Gx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Gx(n)}var Hl=(function(n){pse(t,n);var e=mse(t);function t(r,i){var a;cse(this,t),a=e.call(this,r,i);var o=a.props,s=o.isActive,u=o.attributeName,c=o.from,h=o.to,d=o.steps,g=o.children,y=o.duration;if(a.handleStyleChange=a.handleStyleChange.bind(NT(a)),a.changeStyle=a.changeStyle.bind(NT(a)),!s||y<=0)return a.state={style:{}},typeof g=="function"&&(a.state={style:h}),IT(a);if(d&&d.length)a.state={style:d[0].style};else if(c){if(typeof g=="function")return a.state={style:c},IT(a);a.state={style:u?jm({},u,c):c}}else a.state={style:{}};return a}return hse(t,[{key:"componentDidMount",value:function(){var i=this.props,a=i.isActive,o=i.canBegin;this.mounted=!0,!(!a||!o)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var a=this.props,o=a.isActive,s=a.canBegin,u=a.attributeName,c=a.shouldReAnimate,h=a.to,d=a.from,g=this.state.style;if(s){if(!o){var y={style:u?jm({},u,h):h};this.state&&g&&(u&&g[u]!==h||!u&&g!==h)&&this.setState(y);return}if(!(Soe(i.to,h)&&i.canBegin&&i.isActive)){var b=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var S=b||c?d:i.to;if(this.state&&g){var x={style:u?jm({},u,S):S};(u&&g[u]!==S||!u&&g!==S)&&this.setState(x)}this.runAnimation(ts(ts({},this.props),{},{from:S,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var a=this,o=i.from,s=i.to,u=i.duration,c=i.easing,h=i.begin,d=i.onAnimationEnd,g=i.onAnimationStart,y=nse(o,s,Woe(c),u,this.changeStyle),b=function(){a.stopJSAnimation=y()};this.manager.start([g,h,b,u,d])}},{key:"runStepAnimation",value:function(i){var a=this,o=i.steps,s=i.begin,u=i.onAnimationStart,c=o[0],h=c.style,d=c.duration,g=d===void 0?0:d,y=function(S,x,_){if(_===0)return S;var E=x.duration,A=x.easing,T=A===void 0?"ease":A,P=x.style,O=x.properties,N=x.onAnimationEnd,F=_>0?o[_-1]:x,D=O||Object.keys(P);if(typeof T=="function"||T==="spring")return[].concat(xE(S),[a.runJSAnimation.bind(a,{from:F.style,to:P,duration:E,easing:T}),E]);var U=ED(D,E,T),G=ts(ts(ts({},F.style),P),{},{transition:U});return[].concat(xE(S),[G,E,N]).filter(Noe)};return this.manager.start([u].concat(xE(o.reduce(y,[h,Math.max(g,s)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=Poe());var a=i.begin,o=i.duration,s=i.attributeName,u=i.to,c=i.easing,h=i.onAnimationStart,d=i.onAnimationEnd,g=i.steps,y=i.children,b=this.manager;if(this.unSubscribe=b.subscribe(this.handleStyleChange),typeof c=="function"||typeof y=="function"||c==="spring"){this.runJSAnimation(i);return}if(g.length>1){this.runStepAnimation(i);return}var S=s?jm({},s,u):u,x=ED(Object.keys(S),o,c);b.start([h,a,ts(ts({},S),{},{transition:x}),o,d])}},{key:"render",value:function(){var i=this.props,a=i.children;i.begin;var o=i.duration;i.attributeName,i.easing;var s=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var u=ise(i,rse),c=ee.Children.count(a),h=this.state.style;if(typeof a=="function")return a(h);if(!s||c===0||o<=0)return a;var d=function(y){var b=y.props,S=b.style,x=S===void 0?{}:S,_=b.className,E=ee.cloneElement(y,ts(ts({},u),{},{style:ts(ts({},x),h),className:_}));return E};return c===1?d(ee.Children.only(a)):_e.createElement("div",null,ee.Children.map(a,function(g){return d(g)}))}}]),t})(ee.PureComponent);Hl.displayName="Animate";Hl.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};Hl.propTypes={from:Dn.oneOfType([Dn.object,Dn.string]),to:Dn.oneOfType([Dn.object,Dn.string]),attributeName:Dn.string,duration:Dn.number,begin:Dn.number,easing:Dn.oneOfType([Dn.string,Dn.func]),steps:Dn.arrayOf(Dn.shape({duration:Dn.number.isRequired,style:Dn.object.isRequired,easing:Dn.oneOfType([Dn.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),Dn.func]),properties:Dn.arrayOf("string"),onAnimationEnd:Dn.func})),children:Dn.oneOfType([Dn.node,Dn.func]),isActive:Dn.bool,canBegin:Dn.bool,onAnimationEnd:Dn.func,shouldReAnimate:Dn.bool,onAnimationStart:Dn.func,onAnimationReStart:Dn.func};function Jg(n){"@babel/helpers - typeof";return Jg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jg(n)}function Wx(){return Wx=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Wx.apply(this,arguments)}function vse(n,e){return bse(n)||_se(n,e)||xse(n,e)||yse()}function yse(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xse(n,e){if(n){if(typeof n=="string")return OD(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(n);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return OD(n,e)}}function OD(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function _se(n,e){var t=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t!=null){var r,i,a,o,s=[],u=!0,c=!1;try{if(a=(t=t.call(n)).next,e!==0)for(;!(u=(r=a.call(t)).done)&&(s.push(r.value),s.length!==e);u=!0);}catch(h){c=!0,i=h}finally{try{if(!u&&t.return!=null&&(o=t.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}function bse(n){if(Array.isArray(n))return n}function ID(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function ND(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?ID(Object(t),!0).forEach(function(r){Sse(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):ID(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function Sse(n,e,t){return e=wse(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function wse(n){var e=Mse(n,"string");return Jg(e)=="symbol"?e:String(e)}function Mse(n,e){if(Jg(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(Jg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var LD=function(e,t,r,i,a){var o=Math.min(Math.abs(r)/2,Math.abs(i)/2),s=i>=0?1:-1,u=r>=0?1:-1,c=i>=0&&r>=0||i<0&&r<0?1:0,h;if(o>0&&a instanceof Array){for(var d=[0,0,0,0],g=0,y=4;g<y;g++)d[g]=a[g]>o?o:a[g];h="M".concat(e,",").concat(t+s*d[0]),d[0]>0&&(h+="A ".concat(d[0],",").concat(d[0],",0,0,").concat(c,",").concat(e+u*d[0],",").concat(t)),h+="L ".concat(e+r-u*d[1],",").concat(t),d[1]>0&&(h+="A ".concat(d[1],",").concat(d[1],",0,0,").concat(c,`,
        `).concat(e+r,",").concat(t+s*d[1])),h+="L ".concat(e+r,",").concat(t+i-s*d[2]),d[2]>0&&(h+="A ".concat(d[2],",").concat(d[2],",0,0,").concat(c,`,
        `).concat(e+r-u*d[2],",").concat(t+i)),h+="L ".concat(e+u*d[3],",").concat(t+i),d[3]>0&&(h+="A ".concat(d[3],",").concat(d[3],",0,0,").concat(c,`,
        `).concat(e,",").concat(t+i-s*d[3])),h+="Z"}else if(o>0&&a===+a&&a>0){var b=Math.min(o,a);h="M ".concat(e,",").concat(t+s*b,`
            A `).concat(b,",").concat(b,",0,0,").concat(c,",").concat(e+u*b,",").concat(t,`
            L `).concat(e+r-u*b,",").concat(t,`
            A `).concat(b,",").concat(b,",0,0,").concat(c,",").concat(e+r,",").concat(t+s*b,`
            L `).concat(e+r,",").concat(t+i-s*b,`
            A `).concat(b,",").concat(b,",0,0,").concat(c,",").concat(e+r-u*b,",").concat(t+i,`
            L `).concat(e+u*b,",").concat(t+i,`
            A `).concat(b,",").concat(b,",0,0,").concat(c,",").concat(e,",").concat(t+i-s*b," Z")}else h="M ".concat(e,",").concat(t," h ").concat(r," v ").concat(i," h ").concat(-r," Z");return h},Ese=function(e,t){if(!e||!t)return!1;var r=e.x,i=e.y,a=t.x,o=t.y,s=t.width,u=t.height;if(Math.abs(s)>0&&Math.abs(u)>0){var c=Math.min(a,a+s),h=Math.max(a,a+s),d=Math.min(o,o+u),g=Math.max(o,o+u);return r>=c&&r<=h&&i>=d&&i<=g}return!1},Ase={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},KP=function(e){var t=ND(ND({},Ase),e),r=ee.useRef(),i=ee.useState(-1),a=vse(i,2),o=a[0],s=a[1];ee.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var T=r.current.getTotalLength();T&&s(T)}catch{}},[]);var u=t.x,c=t.y,h=t.width,d=t.height,g=t.radius,y=t.className,b=t.animationEasing,S=t.animationDuration,x=t.animationBegin,_=t.isAnimationActive,E=t.isUpdateAnimationActive;if(u!==+u||c!==+c||h!==+h||d!==+d||h===0||d===0)return null;var A=Bn("recharts-rectangle",y);return E?_e.createElement(Hl,{canBegin:o>0,from:{width:h,height:d,x:u,y:c},to:{width:h,height:d,x:u,y:c},duration:S,animationEasing:b,isActive:E},function(T){var P=T.width,O=T.height,N=T.x,F=T.y;return _e.createElement(Hl,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:x,duration:S,isActive:_,easing:b},_e.createElement("path",Wx({},Sn(t,!0),{className:A,d:LD(N,F,P,O,g),ref:r})))}):_e.createElement("path",Wx({},Sn(t,!0),{className:A,d:LD(u,c,h,d,g)}))};function LT(){return LT=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},LT.apply(this,arguments)}var ZP=function(e){var t=e.cx,r=e.cy,i=e.r,a=e.className,o=Bn("recharts-dot",a);return t===+t&&r===+r&&i===+i?_e.createElement("circle",LT({},Sn(e,!1),hx(e),{className:o,cx:t,cy:r,r:i})):null};function Qg(n){"@babel/helpers - typeof";return Qg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qg(n)}var Tse=["x","y","top","left","width","height","className"];function kT(){return kT=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},kT.apply(this,arguments)}function kD(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function Cse(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?kD(Object(t),!0).forEach(function(r){Pse(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):kD(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function Pse(n,e,t){return e=Rse(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function Rse(n){var e=Ose(n,"string");return Qg(e)=="symbol"?e:String(e)}function Ose(n,e){if(Qg(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(Qg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function Ise(n,e){if(n==null)return{};var t=Nse(n,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(t[r]=n[r])}return t}function Nse(n,e){if(n==null)return{};var t={},r=Object.keys(n),i,a;for(a=0;a<r.length;a++)i=r[a],!(e.indexOf(i)>=0)&&(t[i]=n[i]);return t}var Lse=function(e,t,r,i,a,o){return"M".concat(e,",").concat(a,"v").concat(i,"M").concat(o,",").concat(t,"h").concat(r)},kse=function(e){var t=e.x,r=t===void 0?0:t,i=e.y,a=i===void 0?0:i,o=e.top,s=o===void 0?0:o,u=e.left,c=u===void 0?0:u,h=e.width,d=h===void 0?0:h,g=e.height,y=g===void 0?0:g,b=e.className,S=Ise(e,Tse),x=Cse({x:r,y:a,top:s,left:c,width:d,height:y},S);return!ct(r)||!ct(a)||!ct(d)||!ct(y)||!ct(s)||!ct(c)?null:_e.createElement("path",kT({},Sn(x,!0),{className:Bn("recharts-cross",b),d:Lse(r,a,d,y,s,c)}))},_E,DD;function Dse(){if(DD)return _E;DD=1;var n=A4(),e=n(Object.getPrototypeOf,Object);return _E=e,_E}var bE,UD;function Use(){if(UD)return bE;UD=1;var n=Gl(),e=Dse(),t=Wl(),r="[object Object]",i=Function.prototype,a=Object.prototype,o=i.toString,s=a.hasOwnProperty,u=o.call(Object);function c(h){if(!t(h)||n(h)!=r)return!1;var d=e(h);if(d===null)return!0;var g=s.call(d,"constructor")&&d.constructor;return typeof g=="function"&&g instanceof g&&o.call(g)==u}return bE=c,bE}var Fse=Use();const Bse=Xn(Fse);var SE,FD;function zse(){if(FD)return SE;FD=1;var n=Gl(),e=Wl(),t="[object Boolean]";function r(i){return i===!0||i===!1||e(i)&&n(i)==t}return SE=r,SE}var jse=zse();const Hse=Xn(jse);function ev(n){"@babel/helpers - typeof";return ev=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ev(n)}function qx(){return qx=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},qx.apply(this,arguments)}function Vse(n,e){return $se(n)||qse(n,e)||Wse(n,e)||Gse()}function Gse(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Wse(n,e){if(n){if(typeof n=="string")return BD(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(n);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return BD(n,e)}}function BD(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function qse(n,e){var t=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t!=null){var r,i,a,o,s=[],u=!0,c=!1;try{if(a=(t=t.call(n)).next,e!==0)for(;!(u=(r=a.call(t)).done)&&(s.push(r.value),s.length!==e);u=!0);}catch(h){c=!0,i=h}finally{try{if(!u&&t.return!=null&&(o=t.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}function $se(n){if(Array.isArray(n))return n}function zD(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function jD(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?zD(Object(t),!0).forEach(function(r){Xse(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):zD(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function Xse(n,e,t){return e=Yse(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function Yse(n){var e=Kse(n,"string");return ev(e)=="symbol"?e:String(e)}function Kse(n,e){if(ev(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(ev(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var HD=function(e,t,r,i,a){var o=r-i,s;return s="M ".concat(e,",").concat(t),s+="L ".concat(e+r,",").concat(t),s+="L ".concat(e+r-o/2,",").concat(t+a),s+="L ".concat(e+r-o/2-i,",").concat(t+a),s+="L ".concat(e,",").concat(t," Z"),s},Zse={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Jse=function(e){var t=jD(jD({},Zse),e),r=ee.useRef(),i=ee.useState(-1),a=Vse(i,2),o=a[0],s=a[1];ee.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var A=r.current.getTotalLength();A&&s(A)}catch{}},[]);var u=t.x,c=t.y,h=t.upperWidth,d=t.lowerWidth,g=t.height,y=t.className,b=t.animationEasing,S=t.animationDuration,x=t.animationBegin,_=t.isUpdateAnimationActive;if(u!==+u||c!==+c||h!==+h||d!==+d||g!==+g||h===0&&d===0||g===0)return null;var E=Bn("recharts-trapezoid",y);return _?_e.createElement(Hl,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:g,x:u,y:c},to:{upperWidth:h,lowerWidth:d,height:g,x:u,y:c},duration:S,animationEasing:b,isActive:_},function(A){var T=A.upperWidth,P=A.lowerWidth,O=A.height,N=A.x,F=A.y;return _e.createElement(Hl,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:x,duration:S,easing:b},_e.createElement("path",qx({},Sn(t,!0),{className:E,d:HD(N,F,T,P,O),ref:r})))}):_e.createElement("g",null,_e.createElement("path",qx({},Sn(t,!0),{className:E,d:HD(u,c,h,d,g)})))},Qse=["option","shapeType","propTransformer","activeClassName","isActive"];function tv(n){"@babel/helpers - typeof";return tv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tv(n)}function ele(n,e){if(n==null)return{};var t=tle(n,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(t[r]=n[r])}return t}function tle(n,e){if(n==null)return{};var t={},r=Object.keys(n),i,a;for(a=0;a<r.length;a++)i=r[a],!(e.indexOf(i)>=0)&&(t[i]=n[i]);return t}function VD(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function $x(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?VD(Object(t),!0).forEach(function(r){nle(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):VD(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function nle(n,e,t){return e=rle(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function rle(n){var e=ile(n,"string");return tv(e)=="symbol"?e:String(e)}function ile(n,e){if(tv(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(tv(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function ale(n,e){return $x($x({},e),n)}function ole(n,e){return n==="symbols"}function GD(n){var e=n.shapeType,t=n.elementProps;switch(e){case"rectangle":return _e.createElement(KP,t);case"trapezoid":return _e.createElement(Jse,t);case"sector":return _e.createElement(K5,t);case"symbols":if(ole(e))return _e.createElement(mP,t);break;default:return null}}function sle(n){return ee.isValidElement(n)?n.props:n}function lle(n){var e=n.option,t=n.shapeType,r=n.propTransformer,i=r===void 0?ale:r,a=n.activeClassName,o=a===void 0?"recharts-active-shape":a,s=n.isActive,u=ele(n,Qse),c;if(ee.isValidElement(e))c=ee.cloneElement(e,$x($x({},u),sle(e)));else if(_n(e))c=e(u);else if(Bse(e)&&!Hse(e)){var h=i(e,u);c=_e.createElement(GD,{shapeType:t,elementProps:h})}else{var d=u;c=_e.createElement(GD,{shapeType:t,elementProps:d})}return s?_e.createElement(wr,{className:o},c):c}function rb(n,e){return e!=null&&"trapezoids"in n.props}function ib(n,e){return e!=null&&"sectors"in n.props}function nv(n,e){return e!=null&&"points"in n.props}function ule(n,e){var t,r,i=n.x===(e==null||(t=e.labelViewBox)===null||t===void 0?void 0:t.x)||n.x===e.x,a=n.y===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.y)||n.y===e.y;return i&&a}function cle(n,e){var t=n.endAngle===e.endAngle,r=n.startAngle===e.startAngle;return t&&r}function fle(n,e){var t=n.x===e.x,r=n.y===e.y,i=n.z===e.z;return t&&r&&i}function hle(n,e){var t;return rb(n,e)?t=ule:ib(n,e)?t=cle:nv(n,e)&&(t=fle),t}function dle(n,e){var t;return rb(n,e)?t="trapezoids":ib(n,e)?t="sectors":nv(n,e)&&(t="points"),t}function ple(n,e){if(rb(n,e)){var t;return(t=e.tooltipPayload)===null||t===void 0||(t=t[0])===null||t===void 0||(t=t.payload)===null||t===void 0?void 0:t.payload}if(ib(n,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}return nv(n,e)?e.payload:{}}function mle(n){var e=n.activeTooltipItem,t=n.graphicalItem,r=n.itemData,i=dle(t,e),a=ple(t,e),o=r.filter(function(u,c){var h=Bg(a,u),d=t.props[i].filter(function(b){var S=hle(t,e);return S(b,e)}),g=t.props[i].indexOf(d[d.length-1]),y=c===g;return h&&y}),s=r.indexOf(o[o.length-1]);return s}var wE,WD;function gle(){if(WD)return wE;WD=1;var n=Math.ceil,e=Math.max;function t(r,i,a,o){for(var s=-1,u=e(n((i-r)/(a||1)),0),c=Array(u);u--;)c[o?u:++s]=r,r+=a;return c}return wE=t,wE}var ME,qD;function ij(){if(qD)return ME;qD=1;var n=V4(),e=1/0,t=17976931348623157e292;function r(i){if(!i)return i===0?i:0;if(i=n(i),i===e||i===-e){var a=i<0?-1:1;return a*t}return i===i?i:0}return ME=r,ME}var EE,$D;function vle(){if($D)return EE;$D=1;var n=gle(),e=q_(),t=ij();function r(i){return function(a,o,s){return s&&typeof s!="number"&&e(a,o,s)&&(o=s=void 0),a=t(a),o===void 0?(o=a,a=0):o=t(o),s=s===void 0?a<o?1:-1:t(s),n(a,o,s,i)}}return EE=r,EE}var AE,XD;function yle(){if(XD)return AE;XD=1;var n=vle(),e=n();return AE=e,AE}var xle=yle();const Xx=Xn(xle);function rv(n){"@babel/helpers - typeof";return rv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rv(n)}function YD(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function KD(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?YD(Object(t),!0).forEach(function(r){aj(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):YD(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function aj(n,e,t){return e=_le(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function _le(n){var e=ble(n,"string");return rv(e)=="symbol"?e:String(e)}function ble(n,e){if(rv(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(rv(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var Sle=["Webkit","Moz","O","ms"],wle=function(e,t){var r=e.replace(/(\w)/,function(a){return a.toUpperCase()}),i=Sle.reduce(function(a,o){return KD(KD({},a),{},aj({},o+r,t))},{});return i[e]=t,i};function np(n){"@babel/helpers - typeof";return np=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},np(n)}function Yx(){return Yx=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Yx.apply(this,arguments)}function ZD(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function TE(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?ZD(Object(t),!0).forEach(function(r){Ja(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):ZD(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function Mle(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function JD(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,sj(r.key),r)}}function Ele(n,e,t){return e&&JD(n.prototype,e),t&&JD(n,t),Object.defineProperty(n,"prototype",{writable:!1}),n}function Ale(n,e,t){return e=Kx(e),Tle(n,oj()?Reflect.construct(e,t||[],Kx(n).constructor):e.apply(n,t))}function Tle(n,e){if(e&&(np(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Is(n)}function oj(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(oj=function(){return!!n})()}function Kx(n){return Kx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Kx(n)}function Is(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function Cle(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&DT(n,e)}function DT(n,e){return DT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},DT(n,e)}function Ja(n,e,t){return e=sj(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function sj(n){var e=Ple(n,"string");return np(e)=="symbol"?e:String(e)}function Ple(n,e){if(np(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(np(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var Rle=function(e){var t=e.data,r=e.startIndex,i=e.endIndex,a=e.x,o=e.width,s=e.travellerWidth;if(!t||!t.length)return{};var u=t.length,c=Jm().domain(Xx(0,u)).range([a,a+o-s]),h=c.domain().map(function(d){return c(d)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:c(r),endX:c(i),scale:c,scaleValues:h}},QD=function(e){return e.changedTouches&&!!e.changedTouches.length},rp=(function(n){Cle(e,n);function e(t){var r;return Mle(this,e),r=Ale(this,e,[t]),Ja(Is(r),"handleDrag",function(i){r.leaveTimer&&(clearTimeout(r.leaveTimer),r.leaveTimer=null),r.state.isTravellerMoving?r.handleTravellerMove(i):r.state.isSlideMoving&&r.handleSlideDrag(i)}),Ja(Is(r),"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&r.handleDrag(i.changedTouches[0])}),Ja(Is(r),"handleDragEnd",function(){r.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=r.props,a=i.endIndex,o=i.onDragEnd,s=i.startIndex;o==null||o({endIndex:a,startIndex:s})}),r.detachDragEndListener()}),Ja(Is(r),"handleLeaveWrapper",function(){(r.state.isTravellerMoving||r.state.isSlideMoving)&&(r.leaveTimer=window.setTimeout(r.handleDragEnd,r.props.leaveTimeOut))}),Ja(Is(r),"handleEnterSlideOrTraveller",function(){r.setState({isTextActive:!0})}),Ja(Is(r),"handleLeaveSlideOrTraveller",function(){r.setState({isTextActive:!1})}),Ja(Is(r),"handleSlideDragStart",function(i){var a=QD(i)?i.changedTouches[0]:i;r.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:a.pageX}),r.attachDragEndListener()}),r.travellerDragStartHandlers={startX:r.handleTravellerDragStart.bind(Is(r),"startX"),endX:r.handleTravellerDragStart.bind(Is(r),"endX")},r.state={},r}return Ele(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(r){var i=r.startX,a=r.endX,o=this.state.scaleValues,s=this.props,u=s.gap,c=s.data,h=c.length-1,d=Math.min(i,a),g=Math.max(i,a),y=e.getIndexInRange(o,d),b=e.getIndexInRange(o,g);return{startIndex:y-y%u,endIndex:b===h?h:b-b%u}}},{key:"getTextOfTick",value:function(r){var i=this.props,a=i.data,o=i.tickFormatter,s=i.dataKey,u=io(a[r],s,r);return _n(o)?o(u,r):u}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(r){var i=this.state,a=i.slideMoveStartX,o=i.startX,s=i.endX,u=this.props,c=u.x,h=u.width,d=u.travellerWidth,g=u.startIndex,y=u.endIndex,b=u.onChange,S=r.pageX-a;S>0?S=Math.min(S,c+h-d-s,c+h-d-o):S<0&&(S=Math.max(S,c-o,c-s));var x=this.getIndex({startX:o+S,endX:s+S});(x.startIndex!==g||x.endIndex!==y)&&b&&b(x),this.setState({startX:o+S,endX:s+S,slideMoveStartX:r.pageX})}},{key:"handleTravellerDragStart",value:function(r,i){var a=QD(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:r,brushMoveStartX:a.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(r){var i=this.state,a=i.brushMoveStartX,o=i.movingTravellerId,s=i.endX,u=i.startX,c=this.state[o],h=this.props,d=h.x,g=h.width,y=h.travellerWidth,b=h.onChange,S=h.gap,x=h.data,_={startX:this.state.startX,endX:this.state.endX},E=r.pageX-a;E>0?E=Math.min(E,d+g-y-c):E<0&&(E=Math.max(E,d-c)),_[o]=c+E;var A=this.getIndex(_),T=A.startIndex,P=A.endIndex,O=function(){var F=x.length-1;return o==="startX"&&(s>u?T%S===0:P%S===0)||s<u&&P===F||o==="endX"&&(s>u?P%S===0:T%S===0)||s>u&&P===F};this.setState(Ja(Ja({},o,c+E),"brushMoveStartX",r.pageX),function(){b&&O()&&b(A)})}},{key:"handleTravellerMoveKeyboard",value:function(r,i){var a=this,o=this.state,s=o.scaleValues,u=o.startX,c=o.endX,h=this.state[i],d=s.indexOf(h);if(d!==-1){var g=d+r;if(!(g===-1||g>=s.length)){var y=s[g];i==="startX"&&y>=c||i==="endX"&&y<=u||this.setState(Ja({},i,y),function(){a.props.onChange(a.getIndex({startX:a.state.startX,endX:a.state.endX}))})}}}},{key:"renderBackground",value:function(){var r=this.props,i=r.x,a=r.y,o=r.width,s=r.height,u=r.fill,c=r.stroke;return _e.createElement("rect",{stroke:c,fill:u,x:i,y:a,width:o,height:s})}},{key:"renderPanorama",value:function(){var r=this.props,i=r.x,a=r.y,o=r.width,s=r.height,u=r.data,c=r.children,h=r.padding,d=ee.Children.only(c);return d?_e.cloneElement(d,{x:i,y:a,width:o,height:s,margin:h,compact:!0,data:u}):null}},{key:"renderTravellerLayer",value:function(r,i){var a=this,o=this.props,s=o.y,u=o.travellerWidth,c=o.height,h=o.traveller,d=o.ariaLabel,g=o.data,y=o.startIndex,b=o.endIndex,S=Math.max(r,this.props.x),x=TE(TE({},Sn(this.props,!1)),{},{x:S,y:s,width:u,height:c}),_=d||"Min value: ".concat(g[y].name,", Max value: ").concat(g[b].name);return _e.createElement(wr,{tabIndex:0,role:"slider","aria-label":_,"aria-valuenow":r,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(A){["ArrowLeft","ArrowRight"].includes(A.key)&&(A.preventDefault(),A.stopPropagation(),a.handleTravellerMoveKeyboard(A.key==="ArrowRight"?1:-1,i))},onFocus:function(){a.setState({isTravellerFocused:!0})},onBlur:function(){a.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(h,x))}},{key:"renderSlide",value:function(r,i){var a=this.props,o=a.y,s=a.height,u=a.stroke,c=a.travellerWidth,h=Math.min(r,i)+c,d=Math.max(Math.abs(i-r)-c,0);return _e.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:u,fillOpacity:.2,x:h,y:o,width:d,height:s})}},{key:"renderText",value:function(){var r=this.props,i=r.startIndex,a=r.endIndex,o=r.y,s=r.height,u=r.travellerWidth,c=r.stroke,h=this.state,d=h.startX,g=h.endX,y=5,b={pointerEvents:"none",fill:c};return _e.createElement(wr,{className:"recharts-brush-texts"},_e.createElement(Mx,Yx({textAnchor:"end",verticalAnchor:"middle",x:Math.min(d,g)-y,y:o+s/2},b),this.getTextOfTick(i)),_e.createElement(Mx,Yx({textAnchor:"start",verticalAnchor:"middle",x:Math.max(d,g)+u+y,y:o+s/2},b),this.getTextOfTick(a)))}},{key:"render",value:function(){var r=this.props,i=r.data,a=r.className,o=r.children,s=r.x,u=r.y,c=r.width,h=r.height,d=r.alwaysShowText,g=this.state,y=g.startX,b=g.endX,S=g.isTextActive,x=g.isSlideMoving,_=g.isTravellerMoving,E=g.isTravellerFocused;if(!i||!i.length||!ct(s)||!ct(u)||!ct(c)||!ct(h)||c<=0||h<=0)return null;var A=Bn("recharts-brush",a),T=_e.Children.count(o)===1,P=wle("userSelect","none");return _e.createElement(wr,{className:A,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:P},this.renderBackground(),T&&this.renderPanorama(),this.renderSlide(y,b),this.renderTravellerLayer(y,"startX"),this.renderTravellerLayer(b,"endX"),(S||x||_||E||d)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(r){var i=r.x,a=r.y,o=r.width,s=r.height,u=r.stroke,c=Math.floor(a+s/2)-1;return _e.createElement(_e.Fragment,null,_e.createElement("rect",{x:i,y:a,width:o,height:s,fill:u,stroke:"none"}),_e.createElement("line",{x1:i+1,y1:c,x2:i+o-1,y2:c,fill:"none",stroke:"#fff"}),_e.createElement("line",{x1:i+1,y1:c+2,x2:i+o-1,y2:c+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(r,i){var a;return _e.isValidElement(r)?a=_e.cloneElement(r,i):_n(r)?a=r(i):a=e.renderDefaultTraveller(i),a}},{key:"getDerivedStateFromProps",value:function(r,i){var a=r.data,o=r.width,s=r.x,u=r.travellerWidth,c=r.updateId,h=r.startIndex,d=r.endIndex;if(a!==i.prevData||c!==i.prevUpdateId)return TE({prevData:a,prevTravellerWidth:u,prevUpdateId:c,prevX:s,prevWidth:o},a&&a.length?Rle({data:a,width:o,x:s,travellerWidth:u,startIndex:h,endIndex:d}):{scale:null,scaleValues:null});if(i.scale&&(o!==i.prevWidth||s!==i.prevX||u!==i.prevTravellerWidth)){i.scale.range([s,s+o-u]);var g=i.scale.domain().map(function(y){return i.scale(y)});return{prevData:a,prevTravellerWidth:u,prevUpdateId:c,prevX:s,prevWidth:o,startX:i.scale(r.startIndex),endX:i.scale(r.endIndex),scaleValues:g}}return null}},{key:"getIndexInRange",value:function(r,i){for(var a=r.length,o=0,s=a-1;s-o>1;){var u=Math.floor((o+s)/2);r[u]>i?s=u:o=u}return i>=r[s]?s:o}}]),e})(ee.PureComponent);Ja(rp,"displayName","Brush");Ja(rp,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var CE,eU;function Ole(){if(eU)return CE;eU=1;var n=SP();function e(t,r){var i;return n(t,function(a,o,s){return i=r(a,o,s),!i}),!!i}return CE=e,CE}var PE,tU;function Ile(){if(tU)return PE;tU=1;var n=x4(),e=fc(),t=Ole(),r=Fa(),i=q_();function a(o,s,u){var c=r(o)?n:t;return u&&i(o,s,u)&&(s=void 0),c(o,e(s,3))}return PE=a,PE}var Nle=Ile();const Lle=Xn(Nle);var Bs=function(e,t){var r=e.alwaysShow,i=e.ifOverflow;return r&&(i="extendDomain"),i===t},RE,nU;function kle(){if(nU)return RE;nU=1;var n=F4();function e(t,r,i){r=="__proto__"&&n?n(t,r,{configurable:!0,enumerable:!0,value:i,writable:!0}):t[r]=i}return RE=e,RE}var OE,rU;function Dle(){if(rU)return OE;rU=1;var n=kle(),e=D4(),t=fc();function r(i,a){var o={};return a=t(a,3),e(i,function(s,u,c){n(o,u,a(s,u,c))}),o}return OE=r,OE}var Ule=Dle();const Fle=Xn(Ule);var IE,iU;function Ble(){if(iU)return IE;iU=1;function n(e,t){for(var r=-1,i=e==null?0:e.length;++r<i;)if(!t(e[r],r,e))return!1;return!0}return IE=n,IE}var NE,aU;function zle(){if(aU)return NE;aU=1;var n=SP();function e(t,r){var i=!0;return n(t,function(a,o,s){return i=!!r(a,o,s),i}),i}return NE=e,NE}var LE,oU;function jle(){if(oU)return LE;oU=1;var n=Ble(),e=zle(),t=fc(),r=Fa(),i=q_();function a(o,s,u){var c=r(o)?n:e;return u&&i(o,s,u)&&(s=void 0),c(o,t(s,3))}return LE=a,LE}var Hle=jle();const lj=Xn(Hle);var Vle=["x","y"];function iv(n){"@babel/helpers - typeof";return iv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},iv(n)}function UT(){return UT=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},UT.apply(this,arguments)}function sU(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function Um(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?sU(Object(t),!0).forEach(function(r){Gle(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):sU(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function Gle(n,e,t){return e=Wle(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function Wle(n){var e=qle(n,"string");return iv(e)=="symbol"?e:String(e)}function qle(n,e){if(iv(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(iv(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function $le(n,e){if(n==null)return{};var t=Xle(n,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(t[r]=n[r])}return t}function Xle(n,e){if(n==null)return{};var t={},r=Object.keys(n),i,a;for(a=0;a<r.length;a++)i=r[a],!(e.indexOf(i)>=0)&&(t[i]=n[i]);return t}function Yle(n,e){var t=n.x,r=n.y,i=$le(n,Vle),a="".concat(t),o=parseInt(a,10),s="".concat(r),u=parseInt(s,10),c="".concat(e.height||i.height),h=parseInt(c,10),d="".concat(e.width||i.width),g=parseInt(d,10);return Um(Um(Um(Um(Um({},e),i),o?{x:o}:{}),u?{y:u}:{}),{},{height:h,width:g,name:e.name,radius:e.radius})}function lU(n){return _e.createElement(lle,UT({shapeType:"rectangle",propTransformer:Yle,activeClassName:"recharts-active-bar"},n))}var Kle=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(r,i){if(typeof e=="number")return e;var a=typeof r=="number";return a?e(r,i):(a||Ff(),t)}},Zle=["value","background"],uj;function ip(n){"@babel/helpers - typeof";return ip=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ip(n)}function Jle(n,e){if(n==null)return{};var t=Qle(n,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(t[r]=n[r])}return t}function Qle(n,e){if(n==null)return{};var t={},r=Object.keys(n),i,a;for(a=0;a<r.length;a++)i=r[a],!(e.indexOf(i)>=0)&&(t[i]=n[i]);return t}function Zx(){return Zx=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Zx.apply(this,arguments)}function uU(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function di(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?uU(Object(t),!0).forEach(function(r){$u(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):uU(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function eue(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function cU(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,fj(r.key),r)}}function tue(n,e,t){return e&&cU(n.prototype,e),t&&cU(n,t),Object.defineProperty(n,"prototype",{writable:!1}),n}function nue(n,e,t){return e=Jx(e),rue(n,cj()?Reflect.construct(e,t||[],Jx(n).constructor):e.apply(n,t))}function rue(n,e){if(e&&(ip(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Hm(n)}function cj(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(cj=function(){return!!n})()}function Jx(n){return Jx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Jx(n)}function Hm(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function iue(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&FT(n,e)}function FT(n,e){return FT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},FT(n,e)}function $u(n,e,t){return e=fj(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function fj(n){var e=aue(n,"string");return ip(e)=="symbol"?e:String(e)}function aue(n,e){if(ip(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(ip(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var Zf=(function(n){iue(e,n);function e(){var t;eue(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return t=nue(this,e,[].concat(i)),$u(Hm(t),"state",{isAnimationFinished:!1}),$u(Hm(t),"id",Pv("recharts-bar-")),$u(Hm(t),"handleAnimationEnd",function(){var o=t.props.onAnimationEnd;t.setState({isAnimationFinished:!0}),o&&o()}),$u(Hm(t),"handleAnimationStart",function(){var o=t.props.onAnimationStart;t.setState({isAnimationFinished:!1}),o&&o()}),t}return tue(e,[{key:"renderRectanglesStatically",value:function(r){var i=this,a=this.props,o=a.shape,s=a.dataKey,u=a.activeIndex,c=a.activeBar,h=Sn(this.props,!1);return r&&r.map(function(d,g){var y=g===u,b=y?c:o,S=di(di(di({},h),d),{},{isActive:y,option:b,index:g,dataKey:s,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return _e.createElement(wr,Zx({className:"recharts-bar-rectangle"},dx(i.props,d,g),{key:"rectangle-".concat(d==null?void 0:d.x,"-").concat(d==null?void 0:d.y,"-").concat(d==null?void 0:d.value)}),_e.createElement(lU,S))})}},{key:"renderRectanglesWithAnimation",value:function(){var r=this,i=this.props,a=i.data,o=i.layout,s=i.isAnimationActive,u=i.animationBegin,c=i.animationDuration,h=i.animationEasing,d=i.animationId,g=this.state.prevData;return _e.createElement(Hl,{begin:u,duration:c,isActive:s,easing:h,from:{t:0},to:{t:1},key:"bar-".concat(d),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(y){var b=y.t,S=a.map(function(x,_){var E=g&&g[_];if(E){var A=wo(E.x,x.x),T=wo(E.y,x.y),P=wo(E.width,x.width),O=wo(E.height,x.height);return di(di({},x),{},{x:A(b),y:T(b),width:P(b),height:O(b)})}if(o==="horizontal"){var N=wo(0,x.height),F=N(b);return di(di({},x),{},{y:x.y+x.height-F,height:F})}var D=wo(0,x.width),U=D(b);return di(di({},x),{},{width:U})});return _e.createElement(wr,null,r.renderRectanglesStatically(S))})}},{key:"renderRectangles",value:function(){var r=this.props,i=r.data,a=r.isAnimationActive,o=this.state.prevData;return a&&i&&i.length&&(!o||!Bg(o,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var r=this,i=this.props,a=i.data,o=i.dataKey,s=i.activeIndex,u=Sn(this.props.background,!1);return a.map(function(c,h){c.value;var d=c.background,g=Jle(c,Zle);if(!d)return null;var y=di(di(di(di(di({},g),{},{fill:"#eee"},d),u),dx(r.props,c,h)),{},{onAnimationStart:r.handleAnimationStart,onAnimationEnd:r.handleAnimationEnd,dataKey:o,index:h,key:"background-bar-".concat(h),className:"recharts-bar-background-rectangle"});return _e.createElement(lU,Zx({option:r.props.background,isActive:h===s},y))})}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var a=this.props,o=a.data,s=a.xAxis,u=a.yAxis,c=a.layout,h=a.children,d=us(h,nb);if(!d)return null;var g=c==="vertical"?o[0].height/2:o[0].width/2,y=function(x,_){var E=Array.isArray(x.value)?x.value[1]:x.value;return{x:x.x,y:x.y,value:E,errorVal:io(x,_)}},b={clipPath:r?"url(#clipPath-".concat(i,")"):null};return _e.createElement(wr,b,d.map(function(S){return _e.cloneElement(S,{key:"error-bar-".concat(i,"-").concat(S.props.dataKey),data:o,xAxis:s,yAxis:u,layout:c,offset:g,dataPointFormatter:y})}))}},{key:"render",value:function(){var r=this.props,i=r.hide,a=r.data,o=r.className,s=r.xAxis,u=r.yAxis,c=r.left,h=r.top,d=r.width,g=r.height,y=r.isAnimationActive,b=r.background,S=r.id;if(i||!a||!a.length)return null;var x=this.state.isAnimationFinished,_=Bn("recharts-bar",o),E=s&&s.allowDataOverflow,A=u&&u.allowDataOverflow,T=E||A,P=An(S)?this.id:S;return _e.createElement(wr,{className:_},E||A?_e.createElement("defs",null,_e.createElement("clipPath",{id:"clipPath-".concat(P)},_e.createElement("rect",{x:E?c:c-d/2,y:A?h:h-g/2,width:E?d:d*2,height:A?g:g*2}))):null,_e.createElement(wr,{className:"recharts-bar-rectangles",clipPath:T?"url(#clipPath-".concat(P,")"):null},b?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(T,P),(!y||x)&&tc.renderCallByParent(this.props,a))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curData:r.data,prevData:i.curData}:r.data!==i.curData?{curData:r.data}:null}}]),e})(ee.PureComponent);uj=Zf;$u(Zf,"displayName","Bar");$u(Zf,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!bp.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});$u(Zf,"getComposedData",function(n){var e=n.props,t=n.item,r=n.barPosition,i=n.bandSize,a=n.xAxis,o=n.yAxis,s=n.xAxisTicks,u=n.yAxisTicks,c=n.stackedData,h=n.dataStartIndex,d=n.displayedData,g=n.offset,y=Aie(r,t);if(!y)return null;var b=e.layout,S=t.props,x=S.dataKey,_=S.children,E=S.minPointSize,A=b==="horizontal"?o:a,T=c?A.scale.domain():null,P=Lie({numericAxis:A}),O=us(_,W4),N=d.map(function(F,D){var U,G,q,Q,H,te;c?U=Tie(c[h+D],T):(U=io(F,x),Array.isArray(U)||(U=[P,U]));var Z=Kle(E,uj.defaultProps.minPointSize)(U[1],D);if(b==="horizontal"){var he,X=[o.scale(U[0]),o.scale(U[1])],ae=X[0],z=X[1];G=Qk({axis:a,ticks:s,bandSize:i,offset:y.offset,entry:F,index:D}),q=(he=z??ae)!==null&&he!==void 0?he:void 0,Q=y.size;var re=ae-z;if(H=Number.isNaN(re)?0:re,te={x:G,y:o.y,width:Q,height:o.height},Math.abs(Z)>0&&Math.abs(H)<Math.abs(Z)){var le=ls(H||Z)*(Math.abs(Z)-Math.abs(H));q-=le,H+=le}}else{var ce=[a.scale(U[0]),a.scale(U[1])],be=ce[0],Oe=ce[1];if(G=be,q=Qk({axis:o,ticks:u,bandSize:i,offset:y.offset,entry:F,index:D}),Q=Oe-be,H=y.size,te={x:a.x,y:q,width:a.width,height:H},Math.abs(Z)>0&&Math.abs(Q)<Math.abs(Z)){var ke=ls(Q||Z)*(Math.abs(Z)-Math.abs(Q));Q+=ke}}return di(di(di({},F),{},{x:G,y:q,width:Q,height:H,value:c?U:U[1],payload:F,background:te},O&&O[D]&&O[D].props),{},{tooltipPayload:[$5(t,F)],tooltipPosition:{x:G+Q/2,y:q+H/2}})});return di({data:N,layout:b},g)});function av(n){"@babel/helpers - typeof";return av=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},av(n)}function oue(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function fU(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,hj(r.key),r)}}function sue(n,e,t){return e&&fU(n.prototype,e),t&&fU(n,t),Object.defineProperty(n,"prototype",{writable:!1}),n}function hU(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function is(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?hU(Object(t),!0).forEach(function(r){ab(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):hU(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function ab(n,e,t){return e=hj(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function hj(n){var e=lue(n,"string");return av(e)=="symbol"?e:String(e)}function lue(n,e){if(av(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(av(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var dj=function(e,t,r,i,a){var o=e.width,s=e.height,u=e.layout,c=e.children,h=Object.keys(t),d={left:r.left,leftMirror:r.left,right:o-r.right,rightMirror:o-r.right,top:r.top,topMirror:r.top,bottom:s-r.bottom,bottomMirror:s-r.bottom},g=!!Qa(c,Zf);return h.reduce(function(y,b){var S=t[b],x=S.orientation,_=S.domain,E=S.padding,A=E===void 0?{}:E,T=S.mirror,P=S.reversed,O="".concat(x).concat(T?"Mirror":""),N,F,D,U,G;if(S.type==="number"&&(S.padding==="gap"||S.padding==="no-gap")){var q=_[1]-_[0],Q=1/0,H=S.categoricalDomain.sort();H.forEach(function(be,Oe){Oe>0&&(Q=Math.min((be||0)-(H[Oe-1]||0),Q))});var te=Q/q,Z=S.layout==="vertical"?r.height:r.width;if(S.padding==="gap"&&(N=te*Z/2),S.padding==="no-gap"){var he=qd(e.barCategoryGap,te*Z),X=te*Z/2;N=X-he-(X-he)/Z*he}}i==="xAxis"?F=[r.left+(A.left||0)+(N||0),r.left+r.width-(A.right||0)-(N||0)]:i==="yAxis"?F=u==="horizontal"?[r.top+r.height-(A.bottom||0),r.top+(A.top||0)]:[r.top+(A.top||0)+(N||0),r.top+r.height-(A.bottom||0)-(N||0)]:F=S.range,P&&(F=[F[1],F[0]]);var ae=Mie(S,a,g),z=ae.scale,re=ae.realScaleType;z.domain(_).range(F),Eie(z);var le=Nie(z,is(is({},S),{},{realScaleType:re}));i==="xAxis"?(G=x==="top"&&!T||x==="bottom"&&T,D=r.left,U=d[O]-G*S.height):i==="yAxis"&&(G=x==="left"&&!T||x==="right"&&T,D=d[O]-G*S.width,U=r.top);var ce=is(is(is({},S),le),{},{realScaleType:re,x:D,y:U,scale:z,width:i==="xAxis"?r.width:S.width,height:i==="yAxis"?r.height:S.height});return ce.bandSize=Fx(ce,le),!S.hide&&i==="xAxis"?d[O]+=(G?-1:1)*ce.height:S.hide||(d[O]+=(G?-1:1)*ce.width),is(is({},y),{},ab({},b,ce))},{})},pj=function(e,t){var r=e.x,i=e.y,a=t.x,o=t.y;return{x:Math.min(r,a),y:Math.min(i,o),width:Math.abs(a-r),height:Math.abs(o-i)}},uue=function(e){var t=e.x1,r=e.y1,i=e.x2,a=e.y2;return pj({x:t,y:r},{x:i,y:a})},mj=(function(){function n(e){oue(this,n),this.scale=e}return sue(n,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=r.bandAware,a=r.position;if(t!==void 0){if(a)switch(a){case"start":return this.scale(t);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+o}case"end":{var s=this.bandwidth?this.bandwidth():0;return this.scale(t)+s}default:return this.scale(t)}if(i){var u=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+u}return this.scale(t)}}},{key:"isInRange",value:function(t){var r=this.range(),i=r[0],a=r[r.length-1];return i<=a?t>=i&&t<=a:t>=a&&t<=i}}],[{key:"create",value:function(t){return new n(t)}}]),n})();ab(mj,"EPS",1e-4);var JP=function(e){var t=Object.keys(e).reduce(function(r,i){return is(is({},r),{},ab({},i,mj.create(e[i])))},{});return is(is({},t),{},{apply:function(i){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=a.bandAware,s=a.position;return Fle(i,function(u,c){return t[c].apply(u,{bandAware:o,position:s})})},isInRange:function(i){return lj(i,function(a,o){return t[o].isInRange(a)})}})};function cue(n){return(n%180+180)%180}var fue=function(e){var t=e.width,r=e.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=cue(i),o=a*Math.PI/180,s=Math.atan(r/t),u=o>s&&o<Math.PI-s?r/Math.sin(o):t/Math.cos(o);return Math.abs(u)},kE,dU;function hue(){if(dU)return kE;dU=1;var n=fc(),e=Rv(),t=G_();function r(i){return function(a,o,s){var u=Object(a);if(!e(a)){var c=n(o,3);a=t(a),o=function(d){return c(u[d],d,u)}}var h=i(a,o,s);return h>-1?u[c?a[h]:h]:void 0}}return kE=r,kE}var DE,pU;function due(){if(pU)return DE;pU=1;var n=ij();function e(t){var r=n(t),i=r%1;return r===r?i?r-i:r:0}return DE=e,DE}var UE,mU;function pue(){if(mU)return UE;mU=1;var n=R4(),e=fc(),t=due(),r=Math.max;function i(a,o,s){var u=a==null?0:a.length;if(!u)return-1;var c=s==null?0:t(s);return c<0&&(c=r(u+c,0)),n(a,e(o,3),c)}return UE=i,UE}var FE,gU;function mue(){if(gU)return FE;gU=1;var n=hue(),e=pue(),t=n(e);return FE=t,FE}var gue=mue();const vue=Xn(gue);var yue=qz();const xue=Xn(yue);var _ue=xue(function(n){return{x:n.left,y:n.top,width:n.width,height:n.height}},function(n){return["l",n.left,"t",n.top,"w",n.width,"h",n.height].join("")}),QP=ee.createContext(void 0),e2=ee.createContext(void 0),gj=ee.createContext(void 0),vj=ee.createContext({}),yj=ee.createContext(void 0),xj=ee.createContext(0),_j=ee.createContext(0),vU=function(e){var t=e.state,r=t.xAxisMap,i=t.yAxisMap,a=t.offset,o=e.clipPathId,s=e.children,u=e.width,c=e.height,h=_ue(a);return _e.createElement(QP.Provider,{value:r},_e.createElement(e2.Provider,{value:i},_e.createElement(vj.Provider,{value:a},_e.createElement(gj.Provider,{value:h},_e.createElement(yj.Provider,{value:o},_e.createElement(xj.Provider,{value:c},_e.createElement(_j.Provider,{value:u},s)))))))},bue=function(){return ee.useContext(yj)},bj=function(e){var t=ee.useContext(QP);t==null&&Ff();var r=t[e];return r==null&&Ff(),r},Sue=function(){var e=ee.useContext(QP);return Vu(e)},wue=function(){var e=ee.useContext(e2),t=vue(e,function(r){return lj(r.domain,Number.isFinite)});return t||Vu(e)},Sj=function(e){var t=ee.useContext(e2);t==null&&Ff();var r=t[e];return r==null&&Ff(),r},Mue=function(){var e=ee.useContext(gj);return e},Eue=function(){return ee.useContext(vj)},t2=function(){return ee.useContext(_j)},n2=function(){return ee.useContext(xj)};function ov(n){"@babel/helpers - typeof";return ov=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ov(n)}function yU(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function xU(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?yU(Object(t),!0).forEach(function(r){Aue(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):yU(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function Aue(n,e,t){return e=Tue(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function Tue(n){var e=Cue(n,"string");return ov(e)=="symbol"?e:String(e)}function Cue(n,e){if(ov(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(ov(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function Pue(n,e){return Nue(n)||Iue(n,e)||Oue(n,e)||Rue()}function Rue(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Oue(n,e){if(n){if(typeof n=="string")return _U(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(n);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return _U(n,e)}}function _U(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function Iue(n,e){var t=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t!=null){var r,i,a,o,s=[],u=!0,c=!1;try{if(a=(t=t.call(n)).next,e!==0)for(;!(u=(r=a.call(t)).done)&&(s.push(r.value),s.length!==e);u=!0);}catch(h){c=!0,i=h}finally{try{if(!u&&t.return!=null&&(o=t.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}function Nue(n){if(Array.isArray(n))return n}function BT(){return BT=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},BT.apply(this,arguments)}var Lue=function(e,t){var r;return _e.isValidElement(e)?r=_e.cloneElement(e,t):_n(e)?r=e(t):r=_e.createElement("line",BT({},t,{className:"recharts-reference-line-line"})),r},kue=function(e,t,r,i,a,o,s,u,c){var h=a.x,d=a.y,g=a.width,y=a.height;if(r){var b=c.y,S=e.y.apply(b,{position:o});if(Bs(c,"discard")&&!e.y.isInRange(S))return null;var x=[{x:h+g,y:S},{x:h,y:S}];return u==="left"?x.reverse():x}if(t){var _=c.x,E=e.x.apply(_,{position:o});if(Bs(c,"discard")&&!e.x.isInRange(E))return null;var A=[{x:E,y:d+y},{x:E,y:d}];return s==="top"?A.reverse():A}if(i){var T=c.segment,P=T.map(function(O){return e.apply(O,{position:o})});return Bs(c,"discard")&&Lle(P,function(O){return!e.isInRange(O)})?null:P}return null};function r2(n){var e=n.x,t=n.y,r=n.segment,i=n.xAxisId,a=n.yAxisId,o=n.shape,s=n.className,u=n.alwaysShow,c=bue(),h=bj(i),d=Sj(a),g=Mue();if(!c||!g)return null;Ll(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var y=JP({x:h.scale,y:d.scale}),b=ii(e),S=ii(t),x=r&&r.length===2,_=kue(y,b,S,x,g,n.position,h.orientation,d.orientation,n);if(!_)return null;var E=Pue(_,2),A=E[0],T=A.x,P=A.y,O=E[1],N=O.x,F=O.y,D=Bs(n,"hidden")?"url(#".concat(c,")"):void 0,U=xU(xU({clipPath:D},Sn(n,!0)),{},{x1:T,y1:P,x2:N,y2:F});return _e.createElement(wr,{className:Bn("recharts-reference-line",s)},Lue(o,U),$i.renderCallByParent(n,uue({x1:T,y1:P,x2:N,y2:F})))}r2.displayName="ReferenceLine";r2.defaultProps={isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"};function sv(n){"@babel/helpers - typeof";return sv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sv(n)}function zT(){return zT=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},zT.apply(this,arguments)}function bU(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function SU(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?bU(Object(t),!0).forEach(function(r){Due(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):bU(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function Due(n,e,t){return e=Uue(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function Uue(n){var e=Fue(n,"string");return sv(e)=="symbol"?e:String(e)}function Fue(n,e){if(sv(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(sv(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var Bue=function(e){var t=e.x,r=e.y,i=e.xAxis,a=e.yAxis,o=JP({x:i.scale,y:a.scale}),s=o.apply({x:t,y:r},{bandAware:!0});return Bs(e,"discard")&&!o.isInRange(s)?null:s};function kv(n){var e=n.x,t=n.y,r=n.r,i=n.alwaysShow,a=n.clipPathId,o=ii(e),s=ii(t);if(Ll(i===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!o||!s)return null;var u=Bue(n);if(!u)return null;var c=u.x,h=u.y,d=n.shape,g=n.className,y=Bs(n,"hidden")?"url(#".concat(a,")"):void 0,b=SU(SU({clipPath:y},Sn(n,!0)),{},{cx:c,cy:h});return _e.createElement(wr,{className:Bn("recharts-reference-dot",g)},kv.renderDot(d,b),$i.renderCallByParent(n,{x:c-r,y:h-r,width:2*r,height:2*r}))}kv.displayName="ReferenceDot";kv.defaultProps={isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1};kv.renderDot=function(n,e){var t;return _e.isValidElement(n)?t=_e.cloneElement(n,e):_n(n)?t=n(e):t=_e.createElement(ZP,zT({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),t};function lv(n){"@babel/helpers - typeof";return lv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lv(n)}function jT(){return jT=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},jT.apply(this,arguments)}function wU(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function MU(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?wU(Object(t),!0).forEach(function(r){zue(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):wU(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function zue(n,e,t){return e=jue(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function jue(n){var e=Hue(n,"string");return lv(e)=="symbol"?e:String(e)}function Hue(n,e){if(lv(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(lv(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var Vue=function(e,t,r,i,a){var o=a.x1,s=a.x2,u=a.y1,c=a.y2,h=a.xAxis,d=a.yAxis;if(!h||!d)return null;var g=JP({x:h.scale,y:d.scale}),y={x:e?g.x.apply(o,{position:"start"}):g.x.rangeMin,y:r?g.y.apply(u,{position:"start"}):g.y.rangeMin},b={x:t?g.x.apply(s,{position:"end"}):g.x.rangeMax,y:i?g.y.apply(c,{position:"end"}):g.y.rangeMax};return Bs(a,"discard")&&(!g.isInRange(y)||!g.isInRange(b))?null:pj(y,b)};function Dv(n){var e=n.x1,t=n.x2,r=n.y1,i=n.y2,a=n.className,o=n.alwaysShow,s=n.clipPathId;Ll(o===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var u=ii(e),c=ii(t),h=ii(r),d=ii(i),g=n.shape;if(!u&&!c&&!h&&!d&&!g)return null;var y=Vue(u,c,h,d,n);if(!y&&!g)return null;var b=Bs(n,"hidden")?"url(#".concat(s,")"):void 0;return _e.createElement(wr,{className:Bn("recharts-reference-area",a)},Dv.renderRect(g,MU(MU({clipPath:b},Sn(n,!0)),y)),$i.renderCallByParent(n,y))}Dv.displayName="ReferenceArea";Dv.defaultProps={isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1};Dv.renderRect=function(n,e){var t;return _e.isValidElement(n)?t=_e.cloneElement(n,e):_n(n)?t=n(e):t=_e.createElement(KP,jT({},e,{className:"recharts-reference-area-rect"})),t};function wj(n,e,t){if(e<1)return[];if(e===1&&t===void 0)return n;for(var r=[],i=0;i<n.length;i+=e)r.push(n[i]);return r}function Gue(n,e,t){var r={width:n.width+e.width,height:n.height+e.height};return fue(r,t)}function Wue(n,e,t){var r=t==="width",i=n.x,a=n.y,o=n.width,s=n.height;return e===1?{start:r?i:a,end:r?i+o:a+s}:{start:r?i+o:a+s,end:r?i:a}}function Qx(n,e,t,r,i){if(n*e<n*r||n*e>n*i)return!1;var a=t();return n*(e-n*a/2-r)>=0&&n*(e+n*a/2-i)<=0}function que(n,e){return wj(n,e+1)}function $ue(n,e,t,r,i){for(var a=(r||[]).slice(),o=e.start,s=e.end,u=0,c=1,h=o,d=function(){var b=r==null?void 0:r[u];if(b===void 0)return{v:wj(r,c)};var S=u,x,_=function(){return x===void 0&&(x=t(b,S)),x},E=b.coordinate,A=u===0||Qx(n,E,_,h,s);A||(u=0,h=o,c+=1),A&&(h=E+n*(_()/2+i),u+=c)},g;c<=a.length;)if(g=d(),g)return g.v;return[]}function uv(n){"@babel/helpers - typeof";return uv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},uv(n)}function EU(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function qi(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?EU(Object(t),!0).forEach(function(r){Xue(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):EU(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function Xue(n,e,t){return e=Yue(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function Yue(n){var e=Kue(n,"string");return uv(e)=="symbol"?e:String(e)}function Kue(n,e){if(uv(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(uv(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function Zue(n,e,t,r,i){for(var a=(r||[]).slice(),o=a.length,s=e.start,u=e.end,c=function(g){var y=a[g],b,S=function(){return b===void 0&&(b=t(y,g)),b};if(g===o-1){var x=n*(y.coordinate+n*S()/2-u);a[g]=y=qi(qi({},y),{},{tickCoord:x>0?y.coordinate-x*n:y.coordinate})}else a[g]=y=qi(qi({},y),{},{tickCoord:y.coordinate});var _=Qx(n,y.tickCoord,S,s,u);_&&(u=y.tickCoord-n*(S()/2+i),a[g]=qi(qi({},y),{},{isShow:!0}))},h=o-1;h>=0;h--)c(h);return a}function Jue(n,e,t,r,i,a){var o=(r||[]).slice(),s=o.length,u=e.start,c=e.end;if(a){var h=r[s-1],d=t(h,s-1),g=n*(h.coordinate+n*d/2-c);o[s-1]=h=qi(qi({},h),{},{tickCoord:g>0?h.coordinate-g*n:h.coordinate});var y=Qx(n,h.tickCoord,function(){return d},u,c);y&&(c=h.tickCoord-n*(d/2+i),o[s-1]=qi(qi({},h),{},{isShow:!0}))}for(var b=a?s-1:s,S=function(E){var A=o[E],T,P=function(){return T===void 0&&(T=t(A,E)),T};if(E===0){var O=n*(A.coordinate-n*P()/2-u);o[E]=A=qi(qi({},A),{},{tickCoord:O<0?A.coordinate-O*n:A.coordinate})}else o[E]=A=qi(qi({},A),{},{tickCoord:A.coordinate});var N=Qx(n,A.tickCoord,P,u,c);N&&(u=A.tickCoord+n*(P()/2+i),o[E]=qi(qi({},A),{},{isShow:!0}))},x=0;x<b;x++)S(x);return o}function i2(n,e,t){var r=n.tick,i=n.ticks,a=n.viewBox,o=n.minTickGap,s=n.orientation,u=n.interval,c=n.tickFormatter,h=n.unit,d=n.angle;if(!i||!i.length||!r)return[];if(ct(u)||bp.isSsr)return que(i,typeof u=="number"&&ct(u)?u:0);var g=[],y=s==="top"||s==="bottom"?"width":"height",b=h&&y==="width"?Zm(h,{fontSize:e,letterSpacing:t}):{width:0,height:0},S=function(A,T){var P=_n(c)?c(A.value,T):A.value;return y==="width"?Gue(Zm(P,{fontSize:e,letterSpacing:t}),b,d):Zm(P,{fontSize:e,letterSpacing:t})[y]},x=i.length>=2?ls(i[1].coordinate-i[0].coordinate):1,_=Wue(a,x,y);return u==="equidistantPreserveStart"?$ue(x,_,S,i,o):(u==="preserveStart"||u==="preserveStartEnd"?g=Jue(x,_,S,i,o,u==="preserveStartEnd"):g=Zue(x,_,S,i,o),g.filter(function(E){return E.isShow}))}var Que=["viewBox"],ece=["viewBox"],tce=["ticks"];function ap(n){"@babel/helpers - typeof";return ap=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ap(n)}function kd(){return kd=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},kd.apply(this,arguments)}function AU(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function la(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?AU(Object(t),!0).forEach(function(r){a2(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):AU(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function BE(n,e){if(n==null)return{};var t=nce(n,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(t[r]=n[r])}return t}function nce(n,e){if(n==null)return{};var t={},r=Object.keys(n),i,a;for(a=0;a<r.length;a++)i=r[a],!(e.indexOf(i)>=0)&&(t[i]=n[i]);return t}function rce(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function TU(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,Ej(r.key),r)}}function ice(n,e,t){return e&&TU(n.prototype,e),t&&TU(n,t),Object.defineProperty(n,"prototype",{writable:!1}),n}function ace(n,e,t){return e=e_(e),oce(n,Mj()?Reflect.construct(e,t||[],e_(n).constructor):e.apply(n,t))}function oce(n,e){if(e&&(ap(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return sce(n)}function sce(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function Mj(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Mj=function(){return!!n})()}function e_(n){return e_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},e_(n)}function lce(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&HT(n,e)}function HT(n,e){return HT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},HT(n,e)}function a2(n,e,t){return e=Ej(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function Ej(n){var e=uce(n,"string");return ap(e)=="symbol"?e:String(e)}function uce(n,e){if(ap(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(ap(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}var Ep=(function(n){lce(e,n);function e(t){var r;return rce(this,e),r=ace(this,e,[t]),r.state={fontSize:"",letterSpacing:""},r}return ice(e,[{key:"shouldComponentUpdate",value:function(r,i){var a=r.viewBox,o=BE(r,Que),s=this.props,u=s.viewBox,c=BE(s,ece);return!Ud(a,u)||!Ud(o,c)||!Ud(i,this.state)}},{key:"componentDidMount",value:function(){var r=this.layerReference;if(r){var i=r.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(r){var i=this.props,a=i.x,o=i.y,s=i.width,u=i.height,c=i.orientation,h=i.tickSize,d=i.mirror,g=i.tickMargin,y,b,S,x,_,E,A=d?-1:1,T=r.tickSize||h,P=ct(r.tickCoord)?r.tickCoord:r.coordinate;switch(c){case"top":y=b=r.coordinate,x=o+ +!d*u,S=x-A*T,E=S-A*g,_=P;break;case"left":S=x=r.coordinate,b=a+ +!d*s,y=b-A*T,_=y-A*g,E=P;break;case"right":S=x=r.coordinate,b=a+ +d*s,y=b+A*T,_=y+A*g,E=P;break;default:y=b=r.coordinate,x=o+ +d*u,S=x+A*T,E=S+A*g,_=P;break}return{line:{x1:y,y1:S,x2:b,y2:x},tick:{x:_,y:E}}}},{key:"getTickTextAnchor",value:function(){var r=this.props,i=r.orientation,a=r.mirror,o;switch(i){case"left":o=a?"start":"end";break;case"right":o=a?"end":"start";break;default:o="middle";break}return o}},{key:"getTickVerticalAnchor",value:function(){var r=this.props,i=r.orientation,a=r.mirror,o="end";switch(i){case"left":case"right":o="middle";break;case"top":o=a?"start":"end";break;default:o=a?"end":"start";break}return o}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.x,a=r.y,o=r.width,s=r.height,u=r.orientation,c=r.mirror,h=r.axisLine,d=la(la(la({},Sn(this.props,!1)),Sn(h,!1)),{},{fill:"none"});if(u==="top"||u==="bottom"){var g=+(u==="top"&&!c||u==="bottom"&&c);d=la(la({},d),{},{x1:i,y1:a+g*s,x2:i+o,y2:a+g*s})}else{var y=+(u==="left"&&!c||u==="right"&&c);d=la(la({},d),{},{x1:i+y*o,y1:a,x2:i+y*o,y2:a+s})}return _e.createElement("line",kd({},d,{className:Bn("recharts-cartesian-axis-line",Co(h,"className"))}))}},{key:"renderTicks",value:function(r,i,a){var o=this,s=this.props,u=s.tickLine,c=s.stroke,h=s.tick,d=s.tickFormatter,g=s.unit,y=i2(la(la({},this.props),{},{ticks:r}),i,a),b=this.getTickTextAnchor(),S=this.getTickVerticalAnchor(),x=Sn(this.props,!1),_=Sn(h,!1),E=la(la({},x),{},{fill:"none"},Sn(u,!1)),A=y.map(function(T,P){var O=o.getTickLineCoord(T),N=O.line,F=O.tick,D=la(la(la(la({textAnchor:b,verticalAnchor:S},x),{},{stroke:"none",fill:c},_),F),{},{index:P,payload:T,visibleTicksCount:y.length,tickFormatter:d});return _e.createElement(wr,kd({className:"recharts-cartesian-axis-tick",key:"tick-".concat(T.value,"-").concat(T.coordinate,"-").concat(T.tickCoord)},dx(o.props,T,P)),u&&_e.createElement("line",kd({},E,N,{className:Bn("recharts-cartesian-axis-tick-line",Co(u,"className"))})),h&&e.renderTickItem(h,D,"".concat(_n(d)?d(T.value,P):T.value).concat(g||"")))});return _e.createElement("g",{className:"recharts-cartesian-axis-ticks"},A)}},{key:"render",value:function(){var r=this,i=this.props,a=i.axisLine,o=i.width,s=i.height,u=i.ticksGenerator,c=i.className,h=i.hide;if(h)return null;var d=this.props,g=d.ticks,y=BE(d,tce),b=g;return _n(u)&&(b=g&&g.length>0?u(this.props):u(y)),o<=0||s<=0||!b||!b.length?null:_e.createElement(wr,{className:Bn("recharts-cartesian-axis",c),ref:function(x){r.layerReference=x}},a&&this.renderAxisLine(),this.renderTicks(b,this.state.fontSize,this.state.letterSpacing),$i.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(r,i,a){var o;return _e.isValidElement(r)?o=_e.cloneElement(r,i):_n(r)?o=r(i):o=_e.createElement(Mx,kd({},i,{className:"recharts-cartesian-axis-tick-value"}),a),o}}]),e})(ee.Component);a2(Ep,"displayName","CartesianAxis");a2(Ep,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var cce=["x1","y1","x2","y2","key"],fce=["offset"];function Bf(n){"@babel/helpers - typeof";return Bf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bf(n)}function CU(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function Xi(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?CU(Object(t),!0).forEach(function(r){hce(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):CU(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function hce(n,e,t){return e=dce(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function dce(n){var e=pce(n,"string");return Bf(e)=="symbol"?e:String(e)}function pce(n,e){if(Bf(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(Bf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function Ef(){return Ef=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Ef.apply(this,arguments)}function PU(n,e){if(n==null)return{};var t=mce(n,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(t[r]=n[r])}return t}function mce(n,e){if(n==null)return{};var t={},r=Object.keys(n),i,a;for(a=0;a<r.length;a++)i=r[a],!(e.indexOf(i)>=0)&&(t[i]=n[i]);return t}var gce=function(e){var t=e.fill;if(!t||t==="none")return null;var r=e.fillOpacity,i=e.x,a=e.y,o=e.width,s=e.height;return _e.createElement("rect",{x:i,y:a,width:o,height:s,stroke:"none",fill:t,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function Aj(n,e){var t;if(_e.isValidElement(n))t=_e.cloneElement(n,e);else if(_n(n))t=n(e);else{var r=e.x1,i=e.y1,a=e.x2,o=e.y2,s=e.key,u=PU(e,cce),c=Sn(u,!1);c.offset;var h=PU(c,fce);t=_e.createElement("line",Ef({},h,{x1:r,y1:i,x2:a,y2:o,fill:"none",key:s}))}return t}function vce(n){var e=n.x,t=n.width,r=n.horizontal,i=r===void 0?!0:r,a=n.horizontalPoints;if(!i||!a||!a.length)return null;var o=a.map(function(s,u){var c=Xi(Xi({},n),{},{x1:e,y1:s,x2:e+t,y2:s,key:"line-".concat(u),index:u});return Aj(i,c)});return _e.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function yce(n){var e=n.y,t=n.height,r=n.vertical,i=r===void 0?!0:r,a=n.verticalPoints;if(!i||!a||!a.length)return null;var o=a.map(function(s,u){var c=Xi(Xi({},n),{},{x1:s,y1:e,x2:s,y2:e+t,key:"line-".concat(u),index:u});return Aj(i,c)});return _e.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function xce(n){var e=n.horizontalFill,t=n.fillOpacity,r=n.x,i=n.y,a=n.width,o=n.height,s=n.horizontalPoints,u=n.horizontal,c=u===void 0?!0:u;if(!c||!e||!e.length)return null;var h=s.map(function(g){return Math.round(g+i-i)}).sort(function(g,y){return g-y});i!==h[0]&&h.unshift(0);var d=h.map(function(g,y){var b=!h[y+1],S=b?i+o-g:h[y+1]-g;if(S<=0)return null;var x=y%e.length;return _e.createElement("rect",{key:"react-".concat(y),y:g,x:r,height:S,width:a,stroke:"none",fill:e[x],fillOpacity:t,className:"recharts-cartesian-grid-bg"})});return _e.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},d)}function _ce(n){var e=n.vertical,t=e===void 0?!0:e,r=n.verticalFill,i=n.fillOpacity,a=n.x,o=n.y,s=n.width,u=n.height,c=n.verticalPoints;if(!t||!r||!r.length)return null;var h=c.map(function(g){return Math.round(g+a-a)}).sort(function(g,y){return g-y});a!==h[0]&&h.unshift(0);var d=h.map(function(g,y){var b=!h[y+1],S=b?a+s-g:h[y+1]-g;if(S<=0)return null;var x=y%r.length;return _e.createElement("rect",{key:"react-".concat(y),x:g,y:o,width:S,height:u,stroke:"none",fill:r[x],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return _e.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},d)}var bce=function(e,t){var r=e.xAxis,i=e.width,a=e.height,o=e.offset;return W5(i2(Xi(Xi(Xi({},Ep.defaultProps),r),{},{ticks:Ol(r,!0),viewBox:{x:0,y:0,width:i,height:a}})),o.left,o.left+o.width,t)},Sce=function(e,t){var r=e.yAxis,i=e.width,a=e.height,o=e.offset;return W5(i2(Xi(Xi(Xi({},Ep.defaultProps),r),{},{ticks:Ol(r,!0),viewBox:{x:0,y:0,width:i,height:a}})),o.top,o.top+o.height,t)},Md={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function VT(n){var e,t,r,i,a,o,s=t2(),u=n2(),c=Eue(),h=Xi(Xi({},n),{},{stroke:(e=n.stroke)!==null&&e!==void 0?e:Md.stroke,fill:(t=n.fill)!==null&&t!==void 0?t:Md.fill,horizontal:(r=n.horizontal)!==null&&r!==void 0?r:Md.horizontal,horizontalFill:(i=n.horizontalFill)!==null&&i!==void 0?i:Md.horizontalFill,vertical:(a=n.vertical)!==null&&a!==void 0?a:Md.vertical,verticalFill:(o=n.verticalFill)!==null&&o!==void 0?o:Md.verticalFill,x:ct(n.x)?n.x:c.left,y:ct(n.y)?n.y:c.top,width:ct(n.width)?n.width:c.width,height:ct(n.height)?n.height:c.height}),d=h.x,g=h.y,y=h.width,b=h.height,S=h.syncWithTicks,x=h.horizontalValues,_=h.verticalValues,E=Sue(),A=wue();if(!ct(y)||y<=0||!ct(b)||b<=0||!ct(d)||d!==+d||!ct(g)||g!==+g)return null;var T=h.verticalCoordinatesGenerator||bce,P=h.horizontalCoordinatesGenerator||Sce,O=h.horizontalPoints,N=h.verticalPoints;if((!O||!O.length)&&_n(P)){var F=x&&x.length,D=P({yAxis:A?Xi(Xi({},A),{},{ticks:F?x:A.ticks}):void 0,width:s,height:u,offset:c},F?!0:S);Ll(Array.isArray(D),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(Bf(D),"]")),Array.isArray(D)&&(O=D)}if((!N||!N.length)&&_n(T)){var U=_&&_.length,G=T({xAxis:E?Xi(Xi({},E),{},{ticks:U?_:E.ticks}):void 0,width:s,height:u,offset:c},U?!0:S);Ll(Array.isArray(G),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(Bf(G),"]")),Array.isArray(G)&&(N=G)}return _e.createElement("g",{className:"recharts-cartesian-grid"},_e.createElement(gce,{fill:h.fill,fillOpacity:h.fillOpacity,x:h.x,y:h.y,width:h.width,height:h.height}),_e.createElement(vce,Ef({},h,{offset:c,horizontalPoints:O,xAxis:E,yAxis:A})),_e.createElement(yce,Ef({},h,{offset:c,verticalPoints:N,xAxis:E,yAxis:A})),_e.createElement(xce,Ef({},h,{horizontalPoints:O})),_e.createElement(_ce,Ef({},h,{verticalPoints:N})))}VT.displayName="CartesianGrid";var wce=["layout","type","stroke","connectNulls","isRange","ref"],Tj;function op(n){"@babel/helpers - typeof";return op=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},op(n)}function Mce(n,e){if(n==null)return{};var t=Ece(n,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(t[r]=n[r])}return t}function Ece(n,e){if(n==null)return{};var t={},r=Object.keys(n),i,a;for(a=0;a<r.length;a++)i=r[a],!(e.indexOf(i)>=0)&&(t[i]=n[i]);return t}function Af(){return Af=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Af.apply(this,arguments)}function RU(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function zu(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?RU(Object(t),!0).forEach(function(r){Ls(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):RU(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function Ace(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function OU(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,Pj(r.key),r)}}function Tce(n,e,t){return e&&OU(n.prototype,e),t&&OU(n,t),Object.defineProperty(n,"prototype",{writable:!1}),n}function Cce(n,e,t){return e=t_(e),Pce(n,Cj()?Reflect.construct(e,t||[],t_(n).constructor):e.apply(n,t))}function Pce(n,e){if(e&&(op(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Vm(n)}function Cj(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Cj=function(){return!!n})()}function t_(n){return t_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},t_(n)}function Vm(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function Rce(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&GT(n,e)}function GT(n,e){return GT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},GT(n,e)}function Ls(n,e,t){return e=Pj(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function Pj(n){var e=Oce(n,"string");return op(e)=="symbol"?e:String(e)}function Oce(n,e){if(op(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(op(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var mc=(function(n){Rce(e,n);function e(){var t;Ace(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return t=Cce(this,e,[].concat(i)),Ls(Vm(t),"state",{isAnimationFinished:!0}),Ls(Vm(t),"id",Pv("recharts-area-")),Ls(Vm(t),"handleAnimationEnd",function(){var o=t.props.onAnimationEnd;t.setState({isAnimationFinished:!0}),_n(o)&&o()}),Ls(Vm(t),"handleAnimationStart",function(){var o=t.props.onAnimationStart;t.setState({isAnimationFinished:!1}),_n(o)&&o()}),t}return Tce(e,[{key:"renderDots",value:function(r,i,a){var o=this.props.isAnimationActive,s=this.state.isAnimationFinished;if(o&&!s)return null;var u=this.props,c=u.dot,h=u.points,d=u.dataKey,g=Sn(this.props,!1),y=Sn(c,!0),b=h.map(function(x,_){var E=zu(zu(zu({key:"dot-".concat(_),r:3},g),y),{},{dataKey:d,cx:x.x,cy:x.y,index:_,value:x.value,payload:x.payload});return e.renderDotItem(c,E)}),S={clipPath:r?"url(#clipPath-".concat(i?"":"dots-").concat(a,")"):null};return _e.createElement(wr,Af({className:"recharts-area-dots"},S),b)}},{key:"renderHorizontalRect",value:function(r){var i=this.props,a=i.baseLine,o=i.points,s=i.strokeWidth,u=o[0].x,c=o[o.length-1].x,h=r*Math.abs(u-c),d=qu(o.map(function(g){return g.y||0}));return ct(a)&&typeof a=="number"?d=Math.max(a,d):a&&Array.isArray(a)&&a.length&&(d=Math.max(qu(a.map(function(g){return g.y||0})),d)),ct(d)?_e.createElement("rect",{x:u<c?u:u-h,y:0,width:h,height:Math.floor(d+(s?parseInt("".concat(s),10):1))}):null}},{key:"renderVerticalRect",value:function(r){var i=this.props,a=i.baseLine,o=i.points,s=i.strokeWidth,u=o[0].y,c=o[o.length-1].y,h=r*Math.abs(u-c),d=qu(o.map(function(g){return g.x||0}));return ct(a)&&typeof a=="number"?d=Math.max(a,d):a&&Array.isArray(a)&&a.length&&(d=Math.max(qu(a.map(function(g){return g.x||0})),d)),ct(d)?_e.createElement("rect",{x:0,y:u<c?u:u-h,width:d+(s?parseInt("".concat(s),10):1),height:Math.floor(h)}):null}},{key:"renderClipRect",value:function(r){var i=this.props.layout;return i==="vertical"?this.renderVerticalRect(r):this.renderHorizontalRect(r)}},{key:"renderAreaStatically",value:function(r,i,a,o){var s=this.props,u=s.layout,c=s.type,h=s.stroke,d=s.connectNulls,g=s.isRange;s.ref;var y=Mce(s,wce);return _e.createElement(wr,{clipPath:a?"url(#clipPath-".concat(o,")"):null},_e.createElement(eg,Af({},Sn(y,!0),{points:r,connectNulls:d,type:c,baseLine:i,layout:u,stroke:"none",className:"recharts-area-area"})),h!=="none"&&_e.createElement(eg,Af({},Sn(this.props,!1),{className:"recharts-area-curve",layout:u,type:c,connectNulls:d,fill:"none",points:r})),h!=="none"&&g&&_e.createElement(eg,Af({},Sn(this.props,!1),{className:"recharts-area-curve",layout:u,type:c,connectNulls:d,fill:"none",points:i})))}},{key:"renderAreaWithAnimation",value:function(r,i){var a=this,o=this.props,s=o.points,u=o.baseLine,c=o.isAnimationActive,h=o.animationBegin,d=o.animationDuration,g=o.animationEasing,y=o.animationId,b=this.state,S=b.prevPoints,x=b.prevBaseLine;return _e.createElement(Hl,{begin:h,duration:d,isActive:c,easing:g,from:{t:0},to:{t:1},key:"area-".concat(y),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(_){var E=_.t;if(S){var A=S.length/s.length,T=s.map(function(F,D){var U=Math.floor(D*A);if(S[U]){var G=S[U],q=wo(G.x,F.x),Q=wo(G.y,F.y);return zu(zu({},F),{},{x:q(E),y:Q(E)})}return F}),P;if(ct(u)&&typeof u=="number"){var O=wo(x,u);P=O(E)}else if(An(u)||xp(u)){var N=wo(x,0);P=N(E)}else P=u.map(function(F,D){var U=Math.floor(D*A);if(x[U]){var G=x[U],q=wo(G.x,F.x),Q=wo(G.y,F.y);return zu(zu({},F),{},{x:q(E),y:Q(E)})}return F});return a.renderAreaStatically(T,P,r,i)}return _e.createElement(wr,null,_e.createElement("defs",null,_e.createElement("clipPath",{id:"animationClipPath-".concat(i)},a.renderClipRect(E))),_e.createElement(wr,{clipPath:"url(#animationClipPath-".concat(i,")")},a.renderAreaStatically(s,u,r,i)))})}},{key:"renderArea",value:function(r,i){var a=this.props,o=a.points,s=a.baseLine,u=a.isAnimationActive,c=this.state,h=c.prevPoints,d=c.prevBaseLine,g=c.totalLength;return u&&o&&o.length&&(!h&&g>0||!Bg(h,o)||!Bg(d,s))?this.renderAreaWithAnimation(r,i):this.renderAreaStatically(o,s,r,i)}},{key:"render",value:function(){var r,i=this.props,a=i.hide,o=i.dot,s=i.points,u=i.className,c=i.top,h=i.left,d=i.xAxis,g=i.yAxis,y=i.width,b=i.height,S=i.isAnimationActive,x=i.id;if(a||!s||!s.length)return null;var _=this.state.isAnimationFinished,E=s.length===1,A=Bn("recharts-area",u),T=d&&d.allowDataOverflow,P=g&&g.allowDataOverflow,O=T||P,N=An(x)?this.id:x,F=(r=Sn(o,!1))!==null&&r!==void 0?r:{r:3,strokeWidth:2},D=F.r,U=D===void 0?3:D,G=F.strokeWidth,q=G===void 0?2:G,Q=PK(o)?o:{},H=Q.clipDot,te=H===void 0?!0:H,Z=U*2+q;return _e.createElement(wr,{className:A},T||P?_e.createElement("defs",null,_e.createElement("clipPath",{id:"clipPath-".concat(N)},_e.createElement("rect",{x:T?h:h-y/2,y:P?c:c-b/2,width:T?y:y*2,height:P?b:b*2})),!te&&_e.createElement("clipPath",{id:"clipPath-dots-".concat(N)},_e.createElement("rect",{x:h-Z/2,y:c-Z/2,width:y+Z,height:b+Z}))):null,E?null:this.renderArea(O,N),(o||E)&&this.renderDots(O,te,N),(!S||_)&&tc.renderCallByParent(this.props,s))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,curBaseLine:r.baseLine,prevPoints:i.curPoints,prevBaseLine:i.curBaseLine}:r.points!==i.curPoints||r.baseLine!==i.curBaseLine?{curPoints:r.points,curBaseLine:r.baseLine}:null}}]),e})(ee.PureComponent);Tj=mc;Ls(mc,"displayName","Area");Ls(mc,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!bp.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});Ls(mc,"getBaseValue",function(n,e,t,r){var i=n.layout,a=n.baseValue,o=e.props.baseValue,s=o??a;if(ct(s)&&typeof s=="number")return s;var u=i==="horizontal"?r:t,c=u.scale.domain();if(u.type==="number"){var h=Math.max(c[0],c[1]),d=Math.min(c[0],c[1]);return s==="dataMin"?d:s==="dataMax"||h<0?h:Math.max(Math.min(c[0],c[1]),0)}return s==="dataMin"?c[0]:s==="dataMax"?c[1]:c[0]});Ls(mc,"getComposedData",function(n){var e=n.props,t=n.item,r=n.xAxis,i=n.yAxis,a=n.xAxisTicks,o=n.yAxisTicks,s=n.bandSize,u=n.dataKey,c=n.stackedData,h=n.dataStartIndex,d=n.displayedData,g=n.offset,y=e.layout,b=c&&c.length,S=Tj.getBaseValue(e,t,r,i),x=y==="horizontal",_=!1,E=d.map(function(T,P){var O;b?O=c[h+P]:(O=io(T,u),Array.isArray(O)?_=!0:O=[S,O]);var N=O[1]==null||b&&io(T,u)==null;return x?{x:Jk({axis:r,ticks:a,bandSize:s,entry:T,index:P}),y:N?null:i.scale(O[1]),value:O,payload:T}:{x:N?null:r.scale(O[1]),y:Jk({axis:i,ticks:o,bandSize:s,entry:T,index:P}),value:O,payload:T}}),A;return b||_?A=E.map(function(T){var P=Array.isArray(T.value)?T.value[0]:null;return x?{x:T.x,y:P!=null&&T.y!=null?i.scale(P):null}:{x:P!=null?r.scale(P):null,y:T.y}}):A=x?i.scale(S):r.scale(S),zu({points:E,baseLine:A,layout:y,isRange:_},g)});Ls(mc,"renderDotItem",function(n,e){var t;if(_e.isValidElement(n))t=_e.cloneElement(n,e);else if(_n(n))t=n(e);else{var r=Bn("recharts-area-dot",typeof n!="boolean"?n.className:"");t=_e.createElement(ZP,Af({},e,{className:r}))}return t});function WT(){return WT=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},WT.apply(this,arguments)}var sp=function(e){var t=e.xAxisId,r=t2(),i=n2(),a=bj(t);return a==null?null:_e.createElement(Ep,WT({},a,{className:Bn("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:r,height:i},ticksGenerator:function(s){return Ol(s,!0)}}))};sp.displayName="XAxis";sp.defaultProps={allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0};function qT(){return qT=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},qT.apply(this,arguments)}var Uv=function(e){var t=e.yAxisId,r=t2(),i=n2(),a=Sj(t);return a==null?null:_e.createElement(Ep,qT({},a,{className:Bn("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:r,height:i},ticksGenerator:function(s){return Ol(s,!0)}}))};Uv.displayName="YAxis";Uv.defaultProps={allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1};function IU(n){return kce(n)||Lce(n)||Nce(n)||Ice()}function Ice(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Nce(n,e){if(n){if(typeof n=="string")return $T(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(n);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return $T(n,e)}}function Lce(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function kce(n){if(Array.isArray(n))return $T(n)}function $T(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}var XT=function(e,t,r,i,a){var o=us(e,r2),s=us(e,kv),u=[].concat(IU(o),IU(s)),c=us(e,Dv),h="".concat(i,"Id"),d=i[0],g=t;if(u.length&&(g=u.reduce(function(S,x){if(x.props[h]===r&&Bs(x.props,"extendDomain")&&ct(x.props[d])){var _=x.props[d];return[Math.min(S[0],_),Math.max(S[1],_)]}return S},g)),c.length){var y="".concat(d,"1"),b="".concat(d,"2");g=c.reduce(function(S,x){if(x.props[h]===r&&Bs(x.props,"extendDomain")&&ct(x.props[y])&&ct(x.props[b])){var _=x.props[y],E=x.props[b];return[Math.min(S[0],_,E),Math.max(S[1],_,E)]}return S},g)}return a&&a.length&&(g=a.reduce(function(S,x){return ct(x)?[Math.min(S[0],x),Math.max(S[1],x)]:S},g)),g},zE={exports:{}},NU;function Dce(){return NU||(NU=1,(function(n){var e=Object.prototype.hasOwnProperty,t="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(t=!1));function i(u,c,h){this.fn=u,this.context=c,this.once=h||!1}function a(u,c,h,d,g){if(typeof h!="function")throw new TypeError("The listener must be a function");var y=new i(h,d||u,g),b=t?t+c:c;return u._events[b]?u._events[b].fn?u._events[b]=[u._events[b],y]:u._events[b].push(y):(u._events[b]=y,u._eventsCount++),u}function o(u,c){--u._eventsCount===0?u._events=new r:delete u._events[c]}function s(){this._events=new r,this._eventsCount=0}s.prototype.eventNames=function(){var c=[],h,d;if(this._eventsCount===0)return c;for(d in h=this._events)e.call(h,d)&&c.push(t?d.slice(1):d);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(h)):c},s.prototype.listeners=function(c){var h=t?t+c:c,d=this._events[h];if(!d)return[];if(d.fn)return[d.fn];for(var g=0,y=d.length,b=new Array(y);g<y;g++)b[g]=d[g].fn;return b},s.prototype.listenerCount=function(c){var h=t?t+c:c,d=this._events[h];return d?d.fn?1:d.length:0},s.prototype.emit=function(c,h,d,g,y,b){var S=t?t+c:c;if(!this._events[S])return!1;var x=this._events[S],_=arguments.length,E,A;if(x.fn){switch(x.once&&this.removeListener(c,x.fn,void 0,!0),_){case 1:return x.fn.call(x.context),!0;case 2:return x.fn.call(x.context,h),!0;case 3:return x.fn.call(x.context,h,d),!0;case 4:return x.fn.call(x.context,h,d,g),!0;case 5:return x.fn.call(x.context,h,d,g,y),!0;case 6:return x.fn.call(x.context,h,d,g,y,b),!0}for(A=1,E=new Array(_-1);A<_;A++)E[A-1]=arguments[A];x.fn.apply(x.context,E)}else{var T=x.length,P;for(A=0;A<T;A++)switch(x[A].once&&this.removeListener(c,x[A].fn,void 0,!0),_){case 1:x[A].fn.call(x[A].context);break;case 2:x[A].fn.call(x[A].context,h);break;case 3:x[A].fn.call(x[A].context,h,d);break;case 4:x[A].fn.call(x[A].context,h,d,g);break;default:if(!E)for(P=1,E=new Array(_-1);P<_;P++)E[P-1]=arguments[P];x[A].fn.apply(x[A].context,E)}}return!0},s.prototype.on=function(c,h,d){return a(this,c,h,d,!1)},s.prototype.once=function(c,h,d){return a(this,c,h,d,!0)},s.prototype.removeListener=function(c,h,d,g){var y=t?t+c:c;if(!this._events[y])return this;if(!h)return o(this,y),this;var b=this._events[y];if(b.fn)b.fn===h&&(!g||b.once)&&(!d||b.context===d)&&o(this,y);else{for(var S=0,x=[],_=b.length;S<_;S++)(b[S].fn!==h||g&&!b[S].once||d&&b[S].context!==d)&&x.push(b[S]);x.length?this._events[y]=x.length===1?x[0]:x:o(this,y)}return this},s.prototype.removeAllListeners=function(c){var h;return c?(h=t?t+c:c,this._events[h]&&o(this,h)):(this._events=new r,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=t,s.EventEmitter=s,n.exports=s})(zE)),zE.exports}var Uce=Dce();const Fce=Xn(Uce);var jE=new Fce,HE="recharts.syncMouseEvents";function cv(n){"@babel/helpers - typeof";return cv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cv(n)}function Bce(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function zce(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,Rj(r.key),r)}}function jce(n,e,t){return e&&zce(n.prototype,e),Object.defineProperty(n,"prototype",{writable:!1}),n}function VE(n,e,t){return e=Rj(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function Rj(n){var e=Hce(n,"string");return cv(e)=="symbol"?e:String(e)}function Hce(n,e){if(cv(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(cv(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var Vce=(function(){function n(){Bce(this,n),VE(this,"activeIndex",0),VE(this,"coordinateList",[]),VE(this,"layout","horizontal")}return jce(n,[{key:"setDetails",value:function(t){var r,i=t.coordinateList,a=i===void 0?null:i,o=t.container,s=o===void 0?null:o,u=t.layout,c=u===void 0?null:u,h=t.offset,d=h===void 0?null:h,g=t.mouseHandlerCallback,y=g===void 0?null:g;this.coordinateList=(r=a??this.coordinateList)!==null&&r!==void 0?r:[],this.container=s??this.container,this.layout=c??this.layout,this.offset=d??this.offset,this.mouseHandlerCallback=y??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(t){if(this.coordinateList.length!==0)switch(t.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(t){this.activeIndex=t}},{key:"spoofMouse",value:function(){var t,r;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),a=i.x,o=i.y,s=i.height,u=this.coordinateList[this.activeIndex].coordinate,c=((t=window)===null||t===void 0?void 0:t.scrollX)||0,h=((r=window)===null||r===void 0?void 0:r.scrollY)||0,d=a+u+c,g=o+this.offset.top+s/2+h;this.mouseHandlerCallback({pageX:d,pageY:g})}}}]),n})();function Gce(n,e,t){if(t==="number"&&e===!0&&Array.isArray(n)){var r=n==null?void 0:n[0],i=n==null?void 0:n[1];if(r&&i&&ct(r)&&ct(i))return!0}return!1}function Wce(n,e,t,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:n==="horizontal"?e.x-i:t.left+.5,y:n==="horizontal"?t.top+.5:e.y-i,width:n==="horizontal"?r:t.width-1,height:n==="horizontal"?t.height-1:r}}function Oj(n){var e=n.cx,t=n.cy,r=n.radius,i=n.startAngle,a=n.endAngle,o=Oi(e,t,r,i),s=Oi(e,t,r,a);return{points:[o,s],cx:e,cy:t,radius:r,startAngle:i,endAngle:a}}function qce(n,e,t){var r,i,a,o;if(n==="horizontal")r=e.x,a=r,i=t.top,o=t.top+t.height;else if(n==="vertical")i=e.y,o=i,r=t.left,a=t.left+t.width;else if(e.cx!=null&&e.cy!=null)if(n==="centric"){var s=e.cx,u=e.cy,c=e.innerRadius,h=e.outerRadius,d=e.angle,g=Oi(s,u,c,d),y=Oi(s,u,h,d);r=g.x,i=g.y,a=y.x,o=y.y}else return Oj(e);return[{x:r,y:i},{x:a,y:o}]}function fv(n){"@babel/helpers - typeof";return fv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fv(n)}function LU(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function Vy(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?LU(Object(t),!0).forEach(function(r){$ce(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):LU(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function $ce(n,e,t){return e=Xce(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function Xce(n){var e=Yce(n,"string");return fv(e)=="symbol"?e:String(e)}function Yce(n,e){if(fv(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(fv(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function Kce(n){var e=n.element,t=n.tooltipEventType,r=n.isActive,i=n.activeCoordinate,a=n.activePayload,o=n.offset,s=n.activeTooltipIndex,u=n.tooltipAxisBandSize,c=n.layout,h=n.chartName;if(!e||!e.props.cursor||!r||!i||h!=="ScatterChart"&&t!=="axis")return null;var d,g=eg;if(h==="ScatterChart")d=i,g=kse;else if(h==="BarChart")d=Wce(c,i,o,u),g=KP;else if(c==="radial"){var y=Oj(i),b=y.cx,S=y.cy,x=y.radius,_=y.startAngle,E=y.endAngle;d={cx:b,cy:S,startAngle:_,endAngle:E,innerRadius:x,outerRadius:x},g=K5}else d={points:qce(c,i,o)},g=eg;var A=Vy(Vy(Vy(Vy({stroke:"#ccc",pointerEvents:"none"},o),d),Sn(e.props.cursor,!1)),{},{payload:a,payloadIndex:s,className:"recharts-tooltip-cursor"});return ee.isValidElement(e.props.cursor)?ee.cloneElement(e.props.cursor,A):ee.createElement(g,A)}var Zce=["item"],Jce=["children","className","width","height","style","compact","title","desc"];function lp(n){"@babel/helpers - typeof";return lp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lp(n)}function ng(){return ng=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},ng.apply(this,arguments)}function kU(n,e){return tfe(n)||efe(n,e)||Nj(n,e)||Qce()}function Qce(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function efe(n,e){var t=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t!=null){var r,i,a,o,s=[],u=!0,c=!1;try{if(a=(t=t.call(n)).next,e!==0)for(;!(u=(r=a.call(t)).done)&&(s.push(r.value),s.length!==e);u=!0);}catch(h){c=!0,i=h}finally{try{if(!u&&t.return!=null&&(o=t.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}function tfe(n){if(Array.isArray(n))return n}function DU(n,e){if(n==null)return{};var t=nfe(n,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(t[r]=n[r])}return t}function nfe(n,e){if(n==null)return{};var t={},r=Object.keys(n),i,a;for(a=0;a<r.length;a++)i=r[a],!(e.indexOf(i)>=0)&&(t[i]=n[i]);return t}function rfe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function ife(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,Lj(r.key),r)}}function afe(n,e,t){return e&&ife(n.prototype,e),Object.defineProperty(n,"prototype",{writable:!1}),n}function ofe(n,e,t){return e=n_(e),sfe(n,Ij()?Reflect.construct(e,t||[],n_(n).constructor):e.apply(n,t))}function sfe(n,e){if(e&&(lp(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Pn(n)}function Ij(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Ij=function(){return!!n})()}function n_(n){return n_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},n_(n)}function Pn(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function lfe(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&YT(n,e)}function YT(n,e){return YT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},YT(n,e)}function up(n){return ffe(n)||cfe(n)||Nj(n)||ufe()}function ufe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Nj(n,e){if(n){if(typeof n=="string")return KT(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(n);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return KT(n,e)}}function cfe(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function ffe(n){if(Array.isArray(n))return KT(n)}function KT(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function UU(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function Ye(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?UU(Object(t),!0).forEach(function(r){Zt(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):UU(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function Zt(n,e,t){return e=Lj(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function Lj(n){var e=hfe(n,"string");return lp(e)=="symbol"?e:String(e)}function hfe(n,e){if(lp(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(lp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var dfe={xAxis:["bottom","top"],yAxis:["left","right"]},pfe={width:"100%",height:"100%"},kj={x:0,y:0};function Gy(n){return n}var mfe=function(e,t){return t==="horizontal"?e.x:t==="vertical"?e.y:t==="centric"?e.angle:e.radius},gfe=function(e,t,r,i){var a=t.find(function(h){return h&&h.index===r});if(a){if(e==="horizontal")return{x:a.coordinate,y:i.y};if(e==="vertical")return{x:i.x,y:a.coordinate};if(e==="centric"){var o=a.coordinate,s=i.radius;return Ye(Ye(Ye({},i),Oi(i.cx,i.cy,s,o)),{},{angle:o,radius:s})}var u=a.coordinate,c=i.angle;return Ye(Ye(Ye({},i),Oi(i.cx,i.cy,u,c)),{},{angle:c,radius:u})}return kj},ob=function(e,t){var r=t.graphicalItems,i=t.dataStartIndex,a=t.dataEndIndex,o=(r??[]).reduce(function(s,u){var c=u.props.data;return c&&c.length?[].concat(up(s),up(c)):s},[]);return o.length>0?o:e&&e.length&&ct(i)&&ct(a)?e.slice(i,a+1):[]};function Dj(n){return n==="number"?[0,"auto"]:void 0}var ZT=function(e,t,r,i){var a=e.graphicalItems,o=e.tooltipAxis,s=ob(t,e);return r<0||!a||!a.length||r>=s.length?null:a.reduce(function(u,c){var h,d=(h=c.props.data)!==null&&h!==void 0?h:t;d&&e.dataStartIndex+e.dataEndIndex!==0&&(d=d.slice(e.dataStartIndex,e.dataEndIndex+1));var g;if(o.dataKey&&!o.allowDuplicatedCategory){var y=d===void 0?s:d;g=fx(y,o.dataKey,i)}else g=d&&d[r]||s[r];return g?[].concat(up(u),[$5(c,g)]):u},[])},FU=function(e,t,r,i){var a=i||{x:e.chartX,y:e.chartY},o=mfe(a,r),s=e.orderedTooltipTicks,u=e.tooltipAxis,c=e.tooltipTicks,h=yie(o,s,c,u);if(h>=0&&c){var d=c[h]&&c[h].value,g=ZT(e,t,h,d),y=gfe(r,s,h,a);return{activeTooltipIndex:h,activeLabel:d,activePayload:g,activeCoordinate:y}}return null},vfe=function(e,t){var r=t.axes,i=t.graphicalItems,a=t.axisType,o=t.axisIdKey,s=t.stackGroups,u=t.dataStartIndex,c=t.dataEndIndex,h=e.layout,d=e.children,g=e.stackOffset,y=G5(h,a);return r.reduce(function(b,S){var x,_=S.props,E=_.type,A=_.dataKey,T=_.allowDataOverflow,P=_.allowDuplicatedCategory,O=_.scale,N=_.ticks,F=_.includeHidden,D=S.props[o];if(b[D])return b;var U=ob(e.data,{graphicalItems:i.filter(function(le){return le.props[o]===D}),dataStartIndex:u,dataEndIndex:c}),G=U.length,q,Q,H;Gce(S.props.domain,T,E)&&(q=_T(S.props.domain,null,T),y&&(E==="number"||O!=="auto")&&(H=Qm(U,A,"category")));var te=Dj(E);if(!q||q.length===0){var Z,he=(Z=S.props.domain)!==null&&Z!==void 0?Z:te;if(A){if(q=Qm(U,A,E),E==="category"&&y){var X=_K(q);P&&X?(Q=q,q=Xx(0,G)):P||(q=nD(he,q,S).reduce(function(le,ce){return le.indexOf(ce)>=0?le:[].concat(up(le),[ce])},[]))}else if(E==="category")P?q=q.filter(function(le){return le!==""&&!An(le)}):q=nD(he,q,S).reduce(function(le,ce){return le.indexOf(ce)>=0||ce===""||An(ce)?le:[].concat(up(le),[ce])},[]);else if(E==="number"){var ae=wie(U,i.filter(function(le){return le.props[o]===D&&(F||!le.props.hide)}),A,a,h);ae&&(q=ae)}y&&(E==="number"||O!=="auto")&&(H=Qm(U,A,"category"))}else y?q=Xx(0,G):s&&s[D]&&s[D].hasStack&&E==="number"?q=g==="expand"?[0,1]:q5(s[D].stackGroups,u,c):q=V5(U,i.filter(function(le){return le.props[o]===D&&(F||!le.props.hide)}),E,h,!0);if(E==="number")q=XT(d,q,D,a,N),he&&(q=_T(he,q,T));else if(E==="category"&&he){var z=he,re=q.every(function(le){return z.indexOf(le)>=0});re&&(q=z)}}return Ye(Ye({},b),{},Zt({},D,Ye(Ye({},S.props),{},{axisType:a,domain:q,categoricalDomain:H,duplicateDomain:Q,originalDomain:(x=S.props.domain)!==null&&x!==void 0?x:te,isCategorical:y,layout:h})))},{})},yfe=function(e,t){var r=t.graphicalItems,i=t.Axis,a=t.axisType,o=t.axisIdKey,s=t.stackGroups,u=t.dataStartIndex,c=t.dataEndIndex,h=e.layout,d=e.children,g=ob(e.data,{graphicalItems:r,dataStartIndex:u,dataEndIndex:c}),y=g.length,b=G5(h,a),S=-1;return r.reduce(function(x,_){var E=_.props[o],A=Dj("number");if(!x[E]){S++;var T;return b?T=Xx(0,y):s&&s[E]&&s[E].hasStack?(T=q5(s[E].stackGroups,u,c),T=XT(d,T,E,a)):(T=_T(A,V5(g,r.filter(function(P){return P.props[o]===E&&!P.props.hide}),"number",h),i.defaultProps.allowDataOverflow),T=XT(d,T,E,a)),Ye(Ye({},x),{},Zt({},E,Ye(Ye({axisType:a},i.defaultProps),{},{hide:!0,orientation:Co(dfe,"".concat(a,".").concat(S%2),null),domain:T,originalDomain:A,isCategorical:b,layout:h})))}return x},{})},xfe=function(e,t){var r=t.axisType,i=r===void 0?"xAxis":r,a=t.AxisComp,o=t.graphicalItems,s=t.stackGroups,u=t.dataStartIndex,c=t.dataEndIndex,h=e.children,d="".concat(i,"Id"),g=us(h,a),y={};return g&&g.length?y=vfe(e,{axes:g,graphicalItems:o,axisType:i,axisIdKey:d,stackGroups:s,dataStartIndex:u,dataEndIndex:c}):o&&o.length&&(y=yfe(e,{Axis:a,graphicalItems:o,axisType:i,axisIdKey:d,stackGroups:s,dataStartIndex:u,dataEndIndex:c})),y},_fe=function(e){var t=Vu(e),r=Ol(t,!1,!0);return{tooltipTicks:r,orderedTooltipTicks:wP(r,function(i){return i.coordinate}),tooltipAxis:t,tooltipAxisBandSize:Fx(t,r)}},BU=function(e){var t=e.children,r=e.defaultShowTooltip,i=Qa(t,rp),a=0,o=0;return e.data&&e.data.length!==0&&(o=e.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(a=i.props.startIndex),i.props.endIndex>=0&&(o=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:a,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:!!r}},bfe=function(e){return!e||!e.length?!1:e.some(function(t){var r=Nl(t&&t.type);return r&&r.indexOf("Bar")>=0})},zU=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},Sfe=function(e,t){var r=e.props,i=e.graphicalItems,a=e.xAxisMap,o=a===void 0?{}:a,s=e.yAxisMap,u=s===void 0?{}:s,c=r.width,h=r.height,d=r.children,g=r.margin||{},y=Qa(d,rp),b=Qa(d,Cg),S=Object.keys(u).reduce(function(P,O){var N=u[O],F=N.orientation;return!N.mirror&&!N.hide?Ye(Ye({},P),{},Zt({},F,P[F]+N.width)):P},{left:g.left||0,right:g.right||0}),x=Object.keys(o).reduce(function(P,O){var N=o[O],F=N.orientation;return!N.mirror&&!N.hide?Ye(Ye({},P),{},Zt({},F,Co(P,"".concat(F))+N.height)):P},{top:g.top||0,bottom:g.bottom||0}),_=Ye(Ye({},x),S),E=_.bottom;y&&(_.bottom+=y.props.height||rp.defaultProps.height),b&&t&&(_=bie(_,i,r,t));var A=c-_.left-_.right,T=h-_.top-_.bottom;return Ye(Ye({brushBottom:E},_),{},{width:Math.max(A,0),height:Math.max(T,0)})},Uj=function(e){var t,r=e.chartName,i=e.GraphicalChild,a=e.defaultTooltipEventType,o=a===void 0?"axis":a,s=e.validateTooltipEventTypes,u=s===void 0?["axis"]:s,c=e.axisComponents,h=e.legendContent,d=e.formatAxisMap,g=e.defaultProps,y=function(x,_){var E=_.graphicalItems,A=_.stackGroups,T=_.offset,P=_.updateId,O=_.dataStartIndex,N=_.dataEndIndex,F=x.barSize,D=x.layout,U=x.barGap,G=x.barCategoryGap,q=x.maxBarSize,Q=zU(D),H=Q.numericAxisName,te=Q.cateAxisName,Z=bfe(E),he=Z&&xie({barSize:F,stackGroups:A}),X=[];return E.forEach(function(ae,z){var re=ob(x.data,{graphicalItems:[ae],dataStartIndex:O,dataEndIndex:N}),le=ae.props,ce=le.dataKey,be=le.maxBarSize,Oe=ae.props["".concat(H,"Id")],ke=ae.props["".concat(te,"Id")],He={},Je=c.reduce(function($,we){var Xe=_["".concat(we.axisType,"Map")],$e=ae.props["".concat(we.axisType,"Id")];Xe&&Xe[$e]||we.axisType==="zAxis"||Ff();var Ge=Xe[$e];return Ye(Ye({},$),{},Zt(Zt({},we.axisType,Ge),"".concat(we.axisType,"Ticks"),Ol(Ge)))},He),Ue=Je[te],qe=Je["".concat(te,"Ticks")],Qe=A&&A[Oe]&&A[Oe].hasStack&&kie(ae,A[Oe].stackGroups),K=Nl(ae.type).indexOf("Bar")>=0,je=Fx(Ue,qe),Ae=[];if(K){var We,Ne,gt=An(be)?q:be,st=(We=(Ne=Fx(Ue,qe,!0))!==null&&Ne!==void 0?Ne:gt)!==null&&We!==void 0?We:0;Ae=_ie({barGap:U,barCategoryGap:G,bandSize:st!==je?st:je,sizeList:he[ke],maxBarSize:gt}),st!==je&&(Ae=Ae.map(function($){return Ye(Ye({},$),{},{position:Ye(Ye({},$.position),{},{offset:$.position.offset-st/2})})}))}var J=ae&&ae.type&&ae.type.getComposedData;J&&X.push({props:Ye(Ye({},J(Ye(Ye({},Je),{},{displayedData:re,props:x,dataKey:ce,item:ae,bandSize:je,barPosition:Ae,offset:T,stackedData:Qe,layout:D,dataStartIndex:O,dataEndIndex:N}))),{},Zt(Zt(Zt({key:ae.key||"item-".concat(z)},H,Je[H]),te,Je[te]),"animationId",P)),childIndex:IK(ae,x.children),item:ae})}),X},b=function(x,_){var E=x.props,A=x.dataStartIndex,T=x.dataEndIndex,P=x.updateId;if(!mN({props:E}))return null;var O=E.children,N=E.layout,F=E.stackOffset,D=E.data,U=E.reverseStackOrder,G=zU(N),q=G.numericAxisName,Q=G.cateAxisName,H=us(O,i),te=Iie(D,H,"".concat(q,"Id"),"".concat(Q,"Id"),F,U),Z=c.reduce(function(re,le){var ce="".concat(le.axisType,"Map");return Ye(Ye({},re),{},Zt({},ce,xfe(E,Ye(Ye({},le),{},{graphicalItems:H,stackGroups:le.axisType===q&&te,dataStartIndex:A,dataEndIndex:T}))))},{}),he=Sfe(Ye(Ye({},Z),{},{props:E,graphicalItems:H}),_==null?void 0:_.legendBBox);Object.keys(Z).forEach(function(re){Z[re]=d(E,Z[re],he,re.replace("Map",""),r)});var X=Z["".concat(Q,"Map")],ae=_fe(X),z=y(E,Ye(Ye({},Z),{},{dataStartIndex:A,dataEndIndex:T,updateId:P,graphicalItems:H,stackGroups:te,offset:he}));return Ye(Ye({formattedGraphicalItems:z,graphicalItems:H,offset:he,stackGroups:te},ae),Z)};return t=(function(S){lfe(x,S);function x(_){var E,A,T;return rfe(this,x),T=ofe(this,x,[_]),Zt(Pn(T),"eventEmitterSymbol",Symbol("rechartsEventEmitter")),Zt(Pn(T),"accessibilityManager",new Vce),Zt(Pn(T),"handleLegendBBoxUpdate",function(P){if(P){var O=T.state,N=O.dataStartIndex,F=O.dataEndIndex,D=O.updateId;T.setState(Ye({legendBBox:P},b({props:T.props,dataStartIndex:N,dataEndIndex:F,updateId:D},Ye(Ye({},T.state),{},{legendBBox:P}))))}}),Zt(Pn(T),"handleReceiveSyncEvent",function(P,O,N){if(T.props.syncId===P){if(N===T.eventEmitterSymbol&&typeof T.props.syncMethod!="function")return;T.applySyncEvent(O)}}),Zt(Pn(T),"handleBrushChange",function(P){var O=P.startIndex,N=P.endIndex;if(O!==T.state.dataStartIndex||N!==T.state.dataEndIndex){var F=T.state.updateId;T.setState(function(){return Ye({dataStartIndex:O,dataEndIndex:N},b({props:T.props,dataStartIndex:O,dataEndIndex:N,updateId:F},T.state))}),T.triggerSyncEvent({dataStartIndex:O,dataEndIndex:N})}}),Zt(Pn(T),"handleMouseEnter",function(P){var O=T.getMouseInfo(P);if(O){var N=Ye(Ye({},O),{},{isTooltipActive:!0});T.setState(N),T.triggerSyncEvent(N);var F=T.props.onMouseEnter;_n(F)&&F(N,P)}}),Zt(Pn(T),"triggeredAfterMouseMove",function(P){var O=T.getMouseInfo(P),N=O?Ye(Ye({},O),{},{isTooltipActive:!0}):{isTooltipActive:!1};T.setState(N),T.triggerSyncEvent(N);var F=T.props.onMouseMove;_n(F)&&F(N,P)}),Zt(Pn(T),"handleItemMouseEnter",function(P){T.setState(function(){return{isTooltipActive:!0,activeItem:P,activePayload:P.tooltipPayload,activeCoordinate:P.tooltipPosition||{x:P.cx,y:P.cy}}})}),Zt(Pn(T),"handleItemMouseLeave",function(){T.setState(function(){return{isTooltipActive:!1}})}),Zt(Pn(T),"handleMouseMove",function(P){P.persist(),T.throttleTriggeredAfterMouseMove(P)}),Zt(Pn(T),"handleMouseLeave",function(P){T.throttleTriggeredAfterMouseMove.cancel();var O={isTooltipActive:!1};T.setState(O),T.triggerSyncEvent(O);var N=T.props.onMouseLeave;_n(N)&&N(O,P)}),Zt(Pn(T),"handleOuterEvent",function(P){var O=OK(P),N=Co(T.props,"".concat(O));if(O&&_n(N)){var F,D;/.*touch.*/i.test(O)?D=T.getMouseInfo(P.changedTouches[0]):D=T.getMouseInfo(P),N((F=D)!==null&&F!==void 0?F:{},P)}}),Zt(Pn(T),"handleClick",function(P){var O=T.getMouseInfo(P);if(O){var N=Ye(Ye({},O),{},{isTooltipActive:!0});T.setState(N),T.triggerSyncEvent(N);var F=T.props.onClick;_n(F)&&F(N,P)}}),Zt(Pn(T),"handleMouseDown",function(P){var O=T.props.onMouseDown;if(_n(O)){var N=T.getMouseInfo(P);O(N,P)}}),Zt(Pn(T),"handleMouseUp",function(P){var O=T.props.onMouseUp;if(_n(O)){var N=T.getMouseInfo(P);O(N,P)}}),Zt(Pn(T),"handleTouchMove",function(P){P.changedTouches!=null&&P.changedTouches.length>0&&T.throttleTriggeredAfterMouseMove(P.changedTouches[0])}),Zt(Pn(T),"handleTouchStart",function(P){P.changedTouches!=null&&P.changedTouches.length>0&&T.handleMouseDown(P.changedTouches[0])}),Zt(Pn(T),"handleTouchEnd",function(P){P.changedTouches!=null&&P.changedTouches.length>0&&T.handleMouseUp(P.changedTouches[0])}),Zt(Pn(T),"triggerSyncEvent",function(P){T.props.syncId!==void 0&&jE.emit(HE,T.props.syncId,P,T.eventEmitterSymbol)}),Zt(Pn(T),"applySyncEvent",function(P){var O=T.props,N=O.layout,F=O.syncMethod,D=T.state.updateId,U=P.dataStartIndex,G=P.dataEndIndex;if(P.dataStartIndex!==void 0||P.dataEndIndex!==void 0)T.setState(Ye({dataStartIndex:U,dataEndIndex:G},b({props:T.props,dataStartIndex:U,dataEndIndex:G,updateId:D},T.state)));else if(P.activeTooltipIndex!==void 0){var q=P.chartX,Q=P.chartY,H=P.activeTooltipIndex,te=T.state,Z=te.offset,he=te.tooltipTicks;if(!Z)return;if(typeof F=="function")H=F(he,P);else if(F==="value"){H=-1;for(var X=0;X<he.length;X++)if(he[X].value===P.activeLabel){H=X;break}}var ae=Ye(Ye({},Z),{},{x:Z.left,y:Z.top}),z=Math.min(q,ae.x+ae.width),re=Math.min(Q,ae.y+ae.height),le=he[H]&&he[H].value,ce=ZT(T.state,T.props.data,H),be=he[H]?{x:N==="horizontal"?he[H].coordinate:z,y:N==="horizontal"?re:he[H].coordinate}:kj;T.setState(Ye(Ye({},P),{},{activeLabel:le,activeCoordinate:be,activePayload:ce,activeTooltipIndex:H}))}else T.setState(P)}),Zt(Pn(T),"renderCursor",function(P){var O,N=T.state,F=N.isTooltipActive,D=N.activeCoordinate,U=N.activePayload,G=N.offset,q=N.activeTooltipIndex,Q=N.tooltipAxisBandSize,H=T.getTooltipEventType(),te=(O=P.props.active)!==null&&O!==void 0?O:F,Z=T.props.layout,he=P.key||"_recharts-cursor";return _e.createElement(Kce,{key:he,activeCoordinate:D,activePayload:U,activeTooltipIndex:q,chartName:r,element:P,isActive:te,layout:Z,offset:G,tooltipAxisBandSize:Q,tooltipEventType:H})}),Zt(Pn(T),"renderPolarAxis",function(P,O,N){var F=Co(P,"type.axisType"),D=Co(T.state,"".concat(F,"Map")),U=D&&D[P.props["".concat(F,"Id")]];return ee.cloneElement(P,Ye(Ye({},U),{},{className:F,key:P.key||"".concat(O,"-").concat(N),ticks:Ol(U,!0)}))}),Zt(Pn(T),"renderPolarGrid",function(P){var O=P.props,N=O.radialLines,F=O.polarAngles,D=O.polarRadius,U=T.state,G=U.radiusAxisMap,q=U.angleAxisMap,Q=Vu(G),H=Vu(q),te=H.cx,Z=H.cy,he=H.innerRadius,X=H.outerRadius;return ee.cloneElement(P,{polarAngles:Array.isArray(F)?F:Ol(H,!0).map(function(ae){return ae.coordinate}),polarRadius:Array.isArray(D)?D:Ol(Q,!0).map(function(ae){return ae.coordinate}),cx:te,cy:Z,innerRadius:he,outerRadius:X,key:P.key||"polar-grid",radialLines:N})}),Zt(Pn(T),"renderLegend",function(){var P=T.state.formattedGraphicalItems,O=T.props,N=O.children,F=O.width,D=O.height,U=T.props.margin||{},G=F-(U.left||0)-(U.right||0),q=j5({children:N,formattedGraphicalItems:P,legendWidth:G,legendContent:h});if(!q)return null;var Q=q.item,H=DU(q,Zce);return ee.cloneElement(Q,Ye(Ye({},H),{},{chartWidth:F,chartHeight:D,margin:U,onBBoxUpdate:T.handleLegendBBoxUpdate}))}),Zt(Pn(T),"renderTooltip",function(){var P,O=T.props,N=O.children,F=O.accessibilityLayer,D=Qa(N,rs);if(!D)return null;var U=T.state,G=U.isTooltipActive,q=U.activeCoordinate,Q=U.activePayload,H=U.activeLabel,te=U.offset,Z=(P=D.props.active)!==null&&P!==void 0?P:G;return ee.cloneElement(D,{viewBox:Ye(Ye({},te),{},{x:te.left,y:te.top}),active:Z,label:H,payload:Z?Q:[],coordinate:q,accessibilityLayer:F})}),Zt(Pn(T),"renderBrush",function(P){var O=T.props,N=O.margin,F=O.data,D=T.state,U=D.offset,G=D.dataStartIndex,q=D.dataEndIndex,Q=D.updateId;return ee.cloneElement(P,{key:P.key||"_recharts-brush",onChange:By(T.handleBrushChange,P.props.onChange),data:F,x:ct(P.props.x)?P.props.x:U.left,y:ct(P.props.y)?P.props.y:U.top+U.height+U.brushBottom-(N.bottom||0),width:ct(P.props.width)?P.props.width:U.width,startIndex:G,endIndex:q,updateId:"brush-".concat(Q)})}),Zt(Pn(T),"renderReferenceElement",function(P,O,N){if(!P)return null;var F=Pn(T),D=F.clipPathId,U=T.state,G=U.xAxisMap,q=U.yAxisMap,Q=U.offset,H=P.props,te=H.xAxisId,Z=H.yAxisId;return ee.cloneElement(P,{key:P.key||"".concat(O,"-").concat(N),xAxis:G[te],yAxis:q[Z],viewBox:{x:Q.left,y:Q.top,width:Q.width,height:Q.height},clipPathId:D})}),Zt(Pn(T),"renderActivePoints",function(P){var O=P.item,N=P.activePoint,F=P.basePoint,D=P.childIndex,U=P.isRange,G=[],q=O.props.key,Q=O.item.props,H=Q.activeDot,te=Q.dataKey,Z=Ye(Ye({index:D,dataKey:te,cx:N.x,cy:N.y,r:4,fill:YP(O.item),strokeWidth:2,stroke:"#fff",payload:N.payload,value:N.value,key:"".concat(q,"-activePoint-").concat(D)},Sn(H,!1)),hx(H));return G.push(x.renderActiveDot(H,Z)),F?G.push(x.renderActiveDot(H,Ye(Ye({},Z),{},{cx:F.x,cy:F.y,key:"".concat(q,"-basePoint-").concat(D)}))):U&&G.push(null),G}),Zt(Pn(T),"renderGraphicChild",function(P,O,N){var F=T.filterFormatItem(P,O,N);if(!F)return null;var D=T.getTooltipEventType(),U=T.state,G=U.isTooltipActive,q=U.tooltipAxis,Q=U.activeTooltipIndex,H=U.activeLabel,te=T.props.children,Z=Qa(te,rs),he=F.props,X=he.points,ae=he.isRange,z=he.baseLine,re=F.item.props,le=re.activeDot,ce=re.hide,be=re.activeBar,Oe=re.activeShape,ke=!!(!ce&&G&&Z&&(le||be||Oe)),He={};D!=="axis"&&Z&&Z.props.trigger==="click"?He={onClick:By(T.handleItemMouseEnter,P.props.onClick)}:D!=="axis"&&(He={onMouseLeave:By(T.handleItemMouseLeave,P.props.onMouseLeave),onMouseEnter:By(T.handleItemMouseEnter,P.props.onMouseEnter)});var Je=ee.cloneElement(P,Ye(Ye({},F.props),He));function Ue(we){return typeof q.dataKey=="function"?q.dataKey(we.payload):null}if(ke)if(Q>=0){var qe,Qe;if(q.dataKey&&!q.allowDuplicatedCategory){var K=typeof q.dataKey=="function"?Ue:"payload.".concat(q.dataKey.toString());qe=fx(X,K,H),Qe=ae&&z&&fx(z,K,H)}else qe=X==null?void 0:X[Q],Qe=ae&&z&&z[Q];if(Oe||be){var je=P.props.activeIndex!==void 0?P.props.activeIndex:Q;return[ee.cloneElement(P,Ye(Ye(Ye({},F.props),He),{},{activeIndex:je})),null,null]}if(!An(qe))return[Je].concat(up(T.renderActivePoints({item:F,activePoint:qe,basePoint:Qe,childIndex:Q,isRange:ae})))}else{var Ae,We=(Ae=T.getItemByXY(T.state.activeCoordinate))!==null&&Ae!==void 0?Ae:{graphicalItem:Je},Ne=We.graphicalItem,gt=Ne.item,st=gt===void 0?P:gt,J=Ne.childIndex,$=Ye(Ye(Ye({},F.props),He),{},{activeIndex:J});return[ee.cloneElement(st,$),null,null]}return ae?[Je,null,null]:[Je,null]}),Zt(Pn(T),"renderCustomized",function(P,O,N){return ee.cloneElement(P,Ye(Ye({key:"recharts-customized-".concat(N)},T.props),T.state))}),Zt(Pn(T),"renderMap",{CartesianGrid:{handler:Gy,once:!0},ReferenceArea:{handler:T.renderReferenceElement},ReferenceLine:{handler:Gy},ReferenceDot:{handler:T.renderReferenceElement},XAxis:{handler:Gy},YAxis:{handler:Gy},Brush:{handler:T.renderBrush,once:!0},Bar:{handler:T.renderGraphicChild},Line:{handler:T.renderGraphicChild},Area:{handler:T.renderGraphicChild},Radar:{handler:T.renderGraphicChild},RadialBar:{handler:T.renderGraphicChild},Scatter:{handler:T.renderGraphicChild},Pie:{handler:T.renderGraphicChild},Funnel:{handler:T.renderGraphicChild},Tooltip:{handler:T.renderCursor,once:!0},PolarGrid:{handler:T.renderPolarGrid,once:!0},PolarAngleAxis:{handler:T.renderPolarAxis},PolarRadiusAxis:{handler:T.renderPolarAxis},Customized:{handler:T.renderCustomized}}),T.clipPathId="".concat((E=_.id)!==null&&E!==void 0?E:Pv("recharts"),"-clip"),T.throttleTriggeredAfterMouseMove=G4(T.triggeredAfterMouseMove,(A=_.throttleDelay)!==null&&A!==void 0?A:1e3/60),T.state={},T}return afe(x,[{key:"componentDidMount",value:function(){var E,A;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(E=this.props.margin.left)!==null&&E!==void 0?E:0,top:(A=this.props.margin.top)!==null&&A!==void 0?A:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var E=this.props,A=E.children,T=E.data,P=E.height,O=E.layout,N=Qa(A,rs);if(N){var F=N.props.defaultIndex;if(!(typeof F!="number"||F<0||F>this.state.tooltipTicks.length)){var D=this.state.tooltipTicks[F]&&this.state.tooltipTicks[F].value,U=ZT(this.state,T,F,D),G=this.state.tooltipTicks[F].coordinate,q=(this.state.offset.top+P)/2,Q=O==="horizontal",H=Q?{x:G,y:q}:{y:G,x:q},te=this.state.formattedGraphicalItems.find(function(he){var X=he.item;return X.type.name==="Scatter"});te&&(H=Ye(Ye({},H),te.props.points[F].tooltipPosition),U=te.props.points[F].tooltipPayload);var Z={activeTooltipIndex:F,isTooltipActive:!0,activeLabel:D,activePayload:U,activeCoordinate:H};this.setState(Z),this.renderCursor(N),this.accessibilityManager.setIndex(F)}}}},{key:"getSnapshotBeforeUpdate",value:function(E,A){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==A.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==E.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==E.margin){var T,P;this.accessibilityManager.setDetails({offset:{left:(T=this.props.margin.left)!==null&&T!==void 0?T:0,top:(P=this.props.margin.top)!==null&&P!==void 0?P:0}})}return null}},{key:"componentDidUpdate",value:function(E){GA([Qa(E.children,rs)],[Qa(this.props.children,rs)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var E=Qa(this.props.children,rs);if(E&&typeof E.props.shared=="boolean"){var A=E.props.shared?"axis":"item";return u.indexOf(A)>=0?A:o}return o}},{key:"getMouseInfo",value:function(E){if(!this.container)return null;var A=this.container,T=A.getBoundingClientRect(),P=gee(T),O={chartX:Math.round(E.pageX-P.left),chartY:Math.round(E.pageY-P.top)},N=T.width/A.offsetWidth||1,F=this.inRange(O.chartX,O.chartY,N);if(!F)return null;var D=this.state,U=D.xAxisMap,G=D.yAxisMap,q=this.getTooltipEventType();if(q!=="axis"&&U&&G){var Q=Vu(U).scale,H=Vu(G).scale,te=Q&&Q.invert?Q.invert(O.chartX):null,Z=H&&H.invert?H.invert(O.chartY):null;return Ye(Ye({},O),{},{xValue:te,yValue:Z})}var he=FU(this.state,this.props.data,this.props.layout,F);return he?Ye(Ye({},O),he):null}},{key:"inRange",value:function(E,A){var T=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,P=this.props.layout,O=E/T,N=A/T;if(P==="horizontal"||P==="vertical"){var F=this.state.offset,D=O>=F.left&&O<=F.left+F.width&&N>=F.top&&N<=F.top+F.height;return D?{x:O,y:N}:null}var U=this.state,G=U.angleAxisMap,q=U.radiusAxisMap;if(G&&q){var Q=Vu(G);return aD({x:O,y:N},Q)}return null}},{key:"parseEventsOfWrapper",value:function(){var E=this.props.children,A=this.getTooltipEventType(),T=Qa(E,rs),P={};T&&A==="axis"&&(T.props.trigger==="click"?P={onClick:this.handleClick}:P={onMouseEnter:this.handleMouseEnter,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd});var O=hx(this.props,this.handleOuterEvent);return Ye(Ye({},O),P)}},{key:"addListener",value:function(){jE.on(HE,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){jE.removeListener(HE,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(E,A,T){for(var P=this.state.formattedGraphicalItems,O=0,N=P.length;O<N;O++){var F=P[O];if(F.item===E||F.props.key===E.key||A===Nl(F.item.type)&&T===F.childIndex)return F}return null}},{key:"renderClipPath",value:function(){var E=this.clipPathId,A=this.state.offset,T=A.left,P=A.top,O=A.height,N=A.width;return _e.createElement("defs",null,_e.createElement("clipPath",{id:E},_e.createElement("rect",{x:T,y:P,height:O,width:N})))}},{key:"getXScales",value:function(){var E=this.state.xAxisMap;return E?Object.entries(E).reduce(function(A,T){var P=kU(T,2),O=P[0],N=P[1];return Ye(Ye({},A),{},Zt({},O,N.scale))},{}):null}},{key:"getYScales",value:function(){var E=this.state.yAxisMap;return E?Object.entries(E).reduce(function(A,T){var P=kU(T,2),O=P[0],N=P[1];return Ye(Ye({},A),{},Zt({},O,N.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(E){var A;return(A=this.state.xAxisMap)===null||A===void 0||(A=A[E])===null||A===void 0?void 0:A.scale}},{key:"getYScaleByAxisId",value:function(E){var A;return(A=this.state.yAxisMap)===null||A===void 0||(A=A[E])===null||A===void 0?void 0:A.scale}},{key:"getItemByXY",value:function(E){var A=this.state,T=A.formattedGraphicalItems,P=A.activeItem;if(T&&T.length)for(var O=0,N=T.length;O<N;O++){var F=T[O],D=F.props,U=F.item,G=Nl(U.type);if(G==="Bar"){var q=(D.data||[]).find(function(Z){return Ese(E,Z)});if(q)return{graphicalItem:F,payload:q}}else if(G==="RadialBar"){var Q=(D.data||[]).find(function(Z){return aD(E,Z)});if(Q)return{graphicalItem:F,payload:Q}}else if(rb(F,P)||ib(F,P)||nv(F,P)){var H=mle({graphicalItem:F,activeTooltipItem:P,itemData:U.props.data}),te=U.props.activeIndex===void 0?H:U.props.activeIndex;return{graphicalItem:Ye(Ye({},F),{},{childIndex:te}),payload:nv(F,P)?U.props.data[H]:F.props.data[H]}}}return null}},{key:"render",value:function(){var E=this,A;if(!mN(this))return null;var T=this.props,P=T.children,O=T.className,N=T.width,F=T.height,D=T.style,U=T.compact,G=T.title,q=T.desc,Q=DU(T,Jce),H=Sn(Q,!1);if(U)return _e.createElement(vU,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},_e.createElement(qA,ng({},H,{width:N,height:F,title:G,desc:q}),this.renderClipPath(),vN(P,this.renderMap)));if(this.props.accessibilityLayer){var te,Z;H.tabIndex=(te=this.props.tabIndex)!==null&&te!==void 0?te:0,H.role=(Z=this.props.role)!==null&&Z!==void 0?Z:"application",H.onKeyDown=function(X){E.accessibilityManager.keyboardEvent(X)},H.onFocus=function(){E.accessibilityManager.focus()}}var he=this.parseEventsOfWrapper();return _e.createElement(vU,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},_e.createElement("div",ng({className:Bn("recharts-wrapper",O),style:Ye({position:"relative",cursor:"default",width:N,height:F},D)},he,{ref:function(ae){E.container=ae},role:(A=H.role)!==null&&A!==void 0?A:"region"}),_e.createElement(qA,ng({},H,{width:N,height:F,title:G,desc:q,style:pfe}),this.renderClipPath(),vN(P,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}]),x})(ee.Component),Zt(t,"displayName",r),Zt(t,"defaultProps",Ye({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},g)),Zt(t,"getDerivedStateFromProps",function(S,x){var _=S.dataKey,E=S.data,A=S.children,T=S.width,P=S.height,O=S.layout,N=S.stackOffset,F=S.margin,D=x.dataStartIndex,U=x.dataEndIndex;if(x.updateId===void 0){var G=BU(S);return Ye(Ye(Ye({},G),{},{updateId:0},b(Ye(Ye({props:S},G),{},{updateId:0}),x)),{},{prevDataKey:_,prevData:E,prevWidth:T,prevHeight:P,prevLayout:O,prevStackOffset:N,prevMargin:F,prevChildren:A})}if(_!==x.prevDataKey||E!==x.prevData||T!==x.prevWidth||P!==x.prevHeight||O!==x.prevLayout||N!==x.prevStackOffset||!Ud(F,x.prevMargin)){var q=BU(S),Q={chartX:x.chartX,chartY:x.chartY,isTooltipActive:x.isTooltipActive},H=Ye(Ye({},FU(x,E,O)),{},{updateId:x.updateId+1}),te=Ye(Ye(Ye({},q),Q),H);return Ye(Ye(Ye({},te),b(Ye({props:S},te),x)),{},{prevDataKey:_,prevData:E,prevWidth:T,prevHeight:P,prevLayout:O,prevStackOffset:N,prevMargin:F,prevChildren:A})}if(!GA(A,x.prevChildren)){var Z,he,X,ae,z=Qa(A,rp),re=z&&(Z=(he=z.props)===null||he===void 0?void 0:he.startIndex)!==null&&Z!==void 0?Z:D,le=z&&(X=(ae=z.props)===null||ae===void 0?void 0:ae.endIndex)!==null&&X!==void 0?X:U,ce=re!==D||le!==U,be=!An(E),Oe=be&&!ce?x.updateId:x.updateId+1;return Ye(Ye({updateId:Oe},b(Ye(Ye({props:S},x),{},{updateId:Oe,dataStartIndex:re,dataEndIndex:le}),x)),{},{prevChildren:A,dataStartIndex:re,dataEndIndex:le})}return null}),Zt(t,"renderActiveDot",function(S,x){var _;return ee.isValidElement(S)?_=ee.cloneElement(S,x):_n(S)?_=S(x):_=_e.createElement(ZP,x),_e.createElement(wr,{className:"recharts-active-dot",key:x.key},_)}),t},wfe=Uj({chartName:"BarChart",GraphicalChild:Zf,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:sp},{axisType:"yAxis",AxisComp:Uv}],formatAxisMap:dj}),Mfe=Uj({chartName:"AreaChart",GraphicalChild:mc,axisComponents:[{axisType:"xAxis",AxisComp:sp},{axisType:"yAxis",AxisComp:Uv}],formatAxisMap:dj});const Efe=[{name:"Mon",sales:4e3},{name:"Tue",sales:3e3},{name:"Wed",sales:2e3},{name:"Thu",sales:2780},{name:"Fri",sales:1890},{name:"Sat",sales:2390},{name:"Sun",sales:3490}],Afe=[{name:"Base",val:400},{name:"Scholar",val:300},{name:"Kinetic",val:300},{name:"Home",val:200}],Tfe=()=>L.jsx("div",{className:"pt-24 min-h-screen bg-concrete-100 dark:bg-concrete-950 p-8",children:L.jsxs("div",{className:"max-w-7xl mx-auto",children:[L.jsx("h1",{className:"font-display font-bold text-3xl mb-8",children:"COMMAND CENTER"}),L.jsx("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[{label:"REVENUE",val:"157.3M",icon:T8,color:"text-amber-500"},{label:"ORDERS",val:"1,247",icon:L8,color:"text-blue-500"},{label:"CUSTOMERS",val:"3,421",icon:V8,color:"text-green-500"},{label:"QC PASS RATE",val:"98.2%",icon:w8,color:"text-purple-500"}].map((n,e)=>L.jsxs("div",{className:"bg-concrete-50 dark:bg-concrete-900 p-6 border border-concrete-200 dark:border-concrete-800",children:[L.jsxs("div",{className:"flex justify-between items-start mb-4",children:[L.jsx("span",{className:"font-mono text-xs font-bold text-concrete-500",children:n.label}),L.jsx(n.icon,{className:n.color,size:20})]}),L.jsx("div",{className:"font-display font-bold text-3xl",children:n.val})]},e))}),L.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[L.jsxs("div",{className:"lg:col-span-2 bg-concrete-50 dark:bg-concrete-900 p-6 border border-concrete-200 dark:border-concrete-800",children:[L.jsx("h3",{className:"font-mono font-bold text-sm mb-6",children:"REVENUE TRAJECTORY (7 DAYS)"}),L.jsx("div",{className:"h-80 w-full",children:L.jsx(BL,{width:"100%",height:"100%",children:L.jsxs(Mfe,{data:Efe,children:[L.jsx("defs",{children:L.jsxs("linearGradient",{id:"colorSales",x1:"0",y1:"0",x2:"0",y2:"1",children:[L.jsx("stop",{offset:"5%",stopColor:"#FFB300",stopOpacity:.3}),L.jsx("stop",{offset:"95%",stopColor:"#FFB300",stopOpacity:0})]})}),L.jsx(VT,{strokeDasharray:"3 3",stroke:"#333"}),L.jsx(sp,{dataKey:"name",stroke:"#666",fontSize:12,tickLine:!1}),L.jsx(Uv,{stroke:"#666",fontSize:12,tickLine:!1}),L.jsx(rs,{contentStyle:{backgroundColor:"#111",borderColor:"#333",color:"#fff"},itemStyle:{color:"#FFB300"}}),L.jsx(mc,{type:"monotone",dataKey:"sales",stroke:"#FFB300",fillOpacity:1,fill:"url(#colorSales)"})]})})})]}),L.jsxs("div",{className:"bg-concrete-50 dark:bg-concrete-900 p-6 border border-concrete-200 dark:border-concrete-800",children:[L.jsx("h3",{className:"font-mono font-bold text-sm mb-6",children:"SALES BY ELEMENT"}),L.jsx("div",{className:"h-80 w-full",children:L.jsx(BL,{width:"100%",height:"100%",children:L.jsxs(wfe,{data:Afe,children:[L.jsx(VT,{strokeDasharray:"3 3",stroke:"#333",vertical:!1}),L.jsx(sp,{dataKey:"name",stroke:"#666",fontSize:10}),L.jsx(rs,{cursor:{fill:"#222"},contentStyle:{backgroundColor:"#111",borderColor:"#333"}}),L.jsx(Zf,{dataKey:"val",fill:"#333",activeBar:{fill:"#FFB300"}})]})})})]})]}),L.jsxs("div",{className:"mt-8 bg-concrete-50 dark:bg-concrete-900 border border-concrete-200 dark:border-concrete-800",children:[L.jsx("div",{className:"p-6 border-b border-concrete-200 dark:border-concrete-800",children:L.jsx("h3",{className:"font-mono font-bold text-sm",children:"RECENT TRANSMISSIONS"})}),L.jsx("div",{className:"overflow-x-auto",children:L.jsxs("table",{className:"w-full text-left font-mono text-sm",children:[L.jsx("thead",{className:"bg-concrete-100 dark:bg-concrete-950 text-concrete-500",children:L.jsxs("tr",{children:[L.jsx("th",{className:"p-4",children:"ORDER ID"}),L.jsx("th",{className:"p-4",children:"CUSTOMER"}),L.jsx("th",{className:"p-4",children:"STATUS"}),L.jsx("th",{className:"p-4",children:"TOTAL"})]})}),L.jsxs("tbody",{className:"divide-y divide-concrete-200 dark:divide-concrete-800",children:[L.jsxs("tr",{children:[L.jsx("td",{className:"p-4",children:"#EL-9921"}),L.jsx("td",{className:"p-4",children:"Nguyen Van A"}),L.jsx("td",{className:"p-4",children:L.jsx("span",{className:"text-amber-500",children:"PROCESSING"})}),L.jsx("td",{className:"p-4",children:"1,250,000"})]}),L.jsxs("tr",{children:[L.jsx("td",{className:"p-4",children:"#EL-9920"}),L.jsx("td",{className:"p-4",children:"Tran Thi B"}),L.jsx("td",{className:"p-4",children:L.jsx("span",{className:"text-green-500",children:"DISPATCHED"})}),L.jsx("td",{className:"p-4",children:"890,000"})]}),L.jsxs("tr",{children:[L.jsx("td",{className:"p-4",children:"#EL-9919"}),L.jsx("td",{className:"p-4",children:"Le C"}),L.jsx("td",{className:"p-4",children:L.jsx("span",{className:"text-blue-500",children:"DELIVERED"})}),L.jsx("td",{className:"p-4",children:"2,400,000"})]})]})]})})]})]})});function Cfe(){return L.jsx(_8,{children:L.jsx(g8,{children:L.jsx(q8,{children:L.jsxs(u8,{children:[L.jsx(Ed,{path:"/",element:L.jsx(TY,{})}),L.jsx(Ed,{path:"/shop",element:L.jsx(CY,{})}),L.jsx(Ed,{path:"/product/:id",element:L.jsx(NY,{})}),L.jsx(Ed,{path:"/admin",element:L.jsx(Tfe,{})}),L.jsx(Ed,{path:"/about",element:L.jsx("div",{className:"pt-32 text-center font-mono",children:"LAB REPORT UNDER CONSTRUCTION"})})]})})})})}const Fj=document.getElementById("root");if(!Fj)throw new Error("Could not find root element to mount to");const Pfe=xH.createRoot(Fj);Pfe.render(L.jsx(_e.StrictMode,{children:L.jsx(Cfe,{})}));
