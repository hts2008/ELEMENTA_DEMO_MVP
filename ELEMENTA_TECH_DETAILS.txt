
# TÃ€I LIá»†U THIáº¾T Káº¾ Ká»¸ THUáº¬T TOÃ€N DIá»†N
## ELEMENTA E-COMMERCE PLATFORM

**Version:** 1.0  
**Date:** January 29, 2026  
**Client:** ELEMENTA Fashion  
**Prepared by:** Technical Architecture Team

***

# PHáº¦N 1: MÃ” Táº¢ TRANG WEB & PROPOSAL

## 1. Tá»”NG QUAN Dá»° ÃN

### 1.1. Giá»›i Thiá»‡u

ELEMENTA E-Commerce Platform lÃ  giáº£i phÃ¡p website thÆ°Æ¡ng máº¡i Ä‘iá»‡n tá»­ Ä‘áº³ng cáº¥p quá»‘c táº¿, Ä‘Æ°á»£c thiáº¿t káº¿ riÃªng biá»‡t cho thÆ°Æ¡ng hiá»‡u thá»i trang ELEMENTA - thÆ°Æ¡ng hiá»‡u tiÃªn phong mÃ´ hÃ¬nh M2C (Manufacturer to Consumer) táº¡i Viá»‡t Nam vá»›i triáº¿t lÃ½ "The Science of Comfort". [ppl-ai-file-upload.s3.amazonaws](https://ppl-ai-file-upload.s3.amazonaws.com/web/direct-files/attachments/14105502/fb02f63b-3788-45c8-834e-1dcc043fd857/Bo-Nhan-Dien-Thuong-Hieu-Triet-Ly-Thiet-Ke.docx)

Website Ä‘Æ°á»£c xÃ¢y dá»±ng trÃªn ná»n táº£ng cÃ´ng nghá»‡ hiá»‡n Ä‘áº¡i, táº­p trung vÃ o tráº£i nghiá»‡m ngÆ°á»i dÃ¹ng vÆ°á»£t trá»™i vá»›i cÃ¡c tÃ­nh nÄƒng Ä‘á»™c Ä‘Ã¡o nhÆ° **hiá»ƒn thá»‹ sáº£n pháº©m 3D 360Â°**, giao diá»‡n tá»‘i Æ°u cho **mobile-first** vÃ  **dark mode**, phá»¥c vá»¥ Ä‘á»‘i tÆ°á»£ng khÃ¡ch hÃ ng Gen Z, Gen Alpha vÃ  Gen Y trÃªn toÃ n cáº§u. [netclubbed](https://netclubbed.com/blog/importance-of-ux-design-in-fashion-e-commerce/)

### 1.2. Má»¥c TiÃªu Kinh Doanh

- **Chuyá»ƒn Ä‘á»•i sá»‘ toÃ n diá»‡n**: Dáº«n dáº¯t khÃ¡ch hÃ ng tá»« cÃ¡c marketplace bÃªn thá»© ba (Shopee, Lazada, TikTok Shop) vá» website chÃ­nh thá»©c
- **TÄƒng margin lá»£i nhuáº­n**: Loáº¡i bá» phÃ­ platform 15-25% cá»§a cÃ¡c marketplace
- **Kiá»ƒm soÃ¡t tráº£i nghiá»‡m**: 100% ownership vá» customer journey vÃ  brand experience
- **Má»Ÿ rá»™ng toÃ n cáº§u**: Há»— trá»£ Ä‘a ngÃ´n ngá»¯ (Tiáº¿ng Viá»‡t, English) vÃ  thanh toÃ¡n quá»‘c táº¿
- **Conversion rate má»¥c tiÃªu**: 3.5-5% (cao hÆ¡n trung bÃ¬nh ngÃ nh 2.8%)

### 1.3. Äiá»ƒm KhÃ¡c Biá»‡t Cá»‘t LÃµi

| TÃ­nh NÄƒng | Marketplace ThÃ´ng ThÆ°á»ng | ELEMENTA Platform |
|-----------|-------------------------|-------------------|
| **Product Visualization** | áº¢nh 2D tÄ©nh 4-6 táº¥m | **3D Interactive Viewer 360Â°** vá»›i zoom-in chi tiáº¿t sá»£i váº£i |
| **Brand Experience** | Template chuáº©n hÃ³a | **Customized UX theo Industrial Design Language** |
| **Night Shopping** | Giao diá»‡n sÃ¡ng chÃ³i máº¯t | **Dark Mode Optimized** vá»›i mÃ u Amber #FFB300 dá»… nhÃ¬n |
| **Product Information** | MÃ´ táº£ text Ä‘Æ¡n giáº£n | **Technical Specs Dashboard** theo chuáº©n Material Science |
| **Trust Signal** | Review ngÆ°á»i dÃ¹ng | **QC Certification + Fabric Data Transparency** |

***

## 2. THIáº¾T Káº¾ GIAO DIá»†N & TRáº¢I NGHIá»†M NGÆ¯á»œI DÃ™NG

### 2.1. Design Language System

ToÃ n bá»™ website tuÃ¢n thá»§ há»‡ thá»‘ng nháº­n diá»‡n thÆ°Æ¡ng hiá»‡u "The Industrial Standard" vá»›i ngÃ´n ngá»¯ thiáº¿t káº¿ **Swiss-Tech Minimalism**. [videinfra](https://videinfra.com/blog/luxury-ecommerce-ux-best-practices-and-a-case-study)

#### 2.1.1. Báº£ng MÃ u Chiáº¿n LÆ°á»£c

```
PRIMARY COLORS:
â”œâ”€ Industrial Amber: #FFB300 (VÃ ng há»• phÃ¡ch - mÃ u chá»§ Ä‘áº¡o)
â”œâ”€ Carbon Black: #111111 (Äen than - text & accent)
â””â”€ Concrete White: #F4F4F4 (Ná»n chÃ­nh - giáº£m chÃ³i máº¯t)

SECONDARY COLORS (Dark Mode):
â”œâ”€ Deep Charcoal: #1A1A1A (Background)
â”œâ”€ Slate Gray: #2D2D2D (Card surfaces)
â””â”€ Hyperlink Blue: #0000FF (Interactive elements - signature color)
```



#### 2.1.2. Typography System

```
HEADINGS: DIN Next LT Pro (Heavy/Black)
â”œâ”€ H1: 48px / 64px (Desktop/Mobile)
â”œâ”€ H2: 36px / 48px
â””â”€ H3: 24px / 32px

BODY TEXT: Space Mono (Regular/Bold)
â”œâ”€ Body: 16px line-height 1.6
â”œâ”€ Caption: 14px
â””â”€ Label: 12px (All caps tracking +0.5)

TECHNICAL SPECS: Courier New (Monospace)
â””â”€ 14px (Fabric data, measurements)
```



#### 2.1.3. Grid System & Spacing

- **Desktop**: 12-column grid, max-width 1440px
- **Tablet**: 8-column grid, max-width 1024px
- **Mobile**: 4-column grid, max-width 375px
- **Spacing Scale**: 4px base unit (4, 8, 16, 24, 32, 48, 64, 96px)

### 2.2. Trang Chá»§ (Homepage)

#### 2.2.1. Bá»‘ Cá»¥c & Luá»“ng Äiá»u HÆ°á»›ng

**Hero Section:**
- Full-screen hero video/image vá»›i motion parallax effect
- Slogan "FROM LAB TO LIFE" typography lá»›n
- CTA chÃ­nh: "EXPLORE ELEMENTS" button mÃ u Amber
- Scroll indicator animation (dáº¡ng chemical beaker icon)

**Element Navigation Module:**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  CHOOSE YOUR ELEMENT                     â”‚
â”‚                                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”â”‚
â”‚  â”‚ [Sc] â”‚  â”‚ [Hm] â”‚  â”‚ [Ki] â”‚  â”‚ [Ba] â”‚â”‚
â”‚  â”‚SCHOOLâ”‚  â”‚ HOME â”‚  â”‚SPORT â”‚  â”‚ BASE â”‚â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”˜â”‚
â”‚  Scholar    Recovery  Kinetic   Daily   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

Má»—i "Element Tile" lÃ  má»™t Ã´ vuÃ´ng tÆ°Æ¡ng tÃ¡c vá»›i:
- Icon nguyÃªn tá»‘ (kÃ½ hiá»‡u hÃ³a há»c [Sc], [Hm], [Ki], [Ba])
- Hover effect: Láº­t 3D card hiá»ƒn thá»‹ key products
- Click: Navigate Ä‘áº¿n category page tÆ°Æ¡ng á»©ng

 [ppl-ai-file-upload.s3.amazonaws](https://ppl-ai-file-upload.s3.amazonaws.com/web/direct-files/attachments/14105502/fb02f63b-3788-45c8-834e-1dcc043fd857/Bo-Nhan-Dien-Thuong-Hieu-Triet-Ly-Thiet-Ke.docx)

**Featured Products Grid:**
- Masonry layout khÃ´ng Ä‘á»u (táº¡o nhá»‹p thá»‹ giÃ¡c)
- Má»—i product card cÃ³ tráº¡ng thÃ¡i hover 3D tilt effect
- Quick-view button hiá»‡n 3D viewer modal

**Social Proof Section:**
- "Engineered in Vietnam" badge
- Real-time production transparency dashboard (sá»‘ lÆ°á»£ng Ä‘Æ¡n Ä‘ang xá»­ lÃ½, QC passed rate)
- Customer photo gallery (UGC - User Generated Content)

**Newsletter + Footer:**
- Email capture vá»›i messaging "Join the Lab Report"
- Footer vá»›i quick links, social media, payment badges

#### 2.2.2. Äáº·c Äiá»ƒm TÆ°Æ¡ng TÃ¡c

| Element | Interaction | Effect |
|---------|------------|--------|
| Navigation Bar | Sticky on scroll | Transition tá»« transparent â†’ solid background |
| Product Cards | Hover | 3D tilt effect + Quick-view button fade-in |
| Element Tiles | Click | Page transition vá»›i chemical reaction animation |
| Hero Section | Scroll | Parallax scrolling vá»›i depth layers |

 [netclubbed](https://netclubbed.com/blog/importance-of-ux-design-in-fashion-e-commerce/)

### 2.3. Trang Danh Má»¥c Sáº£n Pháº©m (Product Listing Page - PLP)

#### 2.3.1. Layout & Components

**Header Section:**
```
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘ [Sc] SCHOLAR COLLECTION                    â•‘
â•‘ "Sá»± táº­p trung cho há»c Ä‘Æ°á»ng"               â•‘
â•‘ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€   â•‘
â•‘ 42 Products Â· Sort by: [Newest â–¼]          â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
```

**Sidebar Filter Panel (Desktop) / Drawer (Mobile):**

```
FILTER BY:
â”œâ”€ Category
â”‚  â˜‘ Polo Shirts (18)
â”‚  â˜ Dress Shirts (12)
â”‚  â˜ Shorts (8)
â”‚  â˜ Accessories (4)
â”‚
â”œâ”€ Size
â”‚  â˜ S  â˜ M  â˜‘ L  â˜ XL
â”‚
â”œâ”€ Color
â”‚  [Color swatches with inventory count]
â”‚  ğŸŸ¨ Lab White (12) ğŸŸ¦ Sky Blue (8)
â”‚
â”œâ”€ Fabric Tech
â”‚  â˜ CVC Pique
â”‚  â˜ Coolmax
â”‚  â˜ Bamboo Fiber
â”‚
â”œâ”€ Price Range
â”‚  â‚«150,000 â”â”â—â”â”â”â” â‚«800,000
â”‚
â””â”€ [RESET FILTERS] [APPLY]
```



**Product Grid:**
- Desktop: 3-column responsive grid
- Tablet: 2-column
- Mobile: 1-column (card format)

**Product Card Design:**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   [Product Image 3D]    â”‚ â† Hover: Rotate 360Â° preview
â”‚   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€     â”‚
â”‚   THE LAB TEE           â”‚
â”‚   â‚«289,000              â”‚
â”‚   â”€â”€â”€                   â”‚
â”‚   [Sc] Scholar          â”‚ â† Element badge
â”‚   âš¡ Quick View          â”‚ â† Appears on hover
â”‚   ğŸ›’ Add to Cart         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### 2.3.2. Smart Filtering & Sorting

- **Real-time filtering** khÃ´ng reload page (AJAX)
- **Sticky filter count badge** hiá»ƒn thá»‹ sá»‘ sáº£n pháº©m Ä‘ang match
- **Filter history** lÆ°u vÃ o URL params (shareable links)
- **Smart suggestions**: "No results? Try [Ba] Base Collection"

 [luigisbox](https://www.luigisbox.com/blog/ecommerce-ux-best-practices/)

### 2.4. Trang Chi Tiáº¿t Sáº£n Pháº©m (Product Detail Page - PDP)

ÄÃ¢y lÃ  trang quan trá»ng nháº¥t quyáº¿t Ä‘á»‹nh conversion rate. Thiáº¿t káº¿ theo chuáº©n **luxury e-commerce** nhÆ°ng tá»‘i Æ°u cho ngÆ°á»i Viá»‡t Nam. [videinfra](https://videinfra.com/blog/luxury-ecommerce-ux-best-practices-and-a-case-study)

#### 2.4.1. Layout Desktop (60/40 Split)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚                      â”‚  â”‚  THE LAB TEE         â”‚    â”‚
â”‚  â”‚                      â”‚  â”‚  â‚«289,000            â”‚    â”‚
â”‚  â”‚   3D PRODUCT VIEWER  â”‚  â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚    â”‚
â”‚  â”‚   [Interactive 360Â°] â”‚  â”‚  [Element: Ba]       â”‚    â”‚
â”‚  â”‚                      â”‚  â”‚                      â”‚    â”‚
â”‚  â”‚                      â”‚  â”‚  SIZE: â—‹S â—‹M â—L â—‹XL  â”‚    â”‚
â”‚  â”‚   [Rotate] [Zoom]    â”‚  â”‚  COLOR: [Swatches]   â”‚    â”‚
â”‚  â”‚   [Material View]    â”‚  â”‚                      â”‚    â”‚
â”‚  â”‚                      â”‚  â”‚  QUANTITY: [-] 1 [+] â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚                      â”‚    â”‚
â”‚                            â”‚  ğŸ›’ ADD TO CART       â”‚    â”‚
â”‚  [Thumbnail Gallery]       â”‚  â™¡ SAVE FOR LATER    â”‚    â”‚
â”‚  [â—][â—‹][â—‹][â—‹][â—‹]          â”‚                      â”‚    â”‚
â”‚                            â”‚  âœ“ In Stock: 124     â”‚    â”‚
â”‚                            â”‚  ğŸ“¦ Ships: 2-3 days  â”‚    â”‚
â”‚                            â”‚  â†» 30-day Return     â”‚    â”‚
â”‚                            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### 2.4.2. 3D Product Viewer - TÃ­nh NÄƒng Äá»™t PhÃ¡

**Technical Implementation:**
- Framework: **Three.js + React Three Fiber (R3F)**
- Model format: **GLB/GLTF** (optimized, <2MB per model)
- Lighting: PBR (Physically Based Rendering) vá»›i ambient + directional lights
- Controls: **OrbitControls** cho rotate, zoom, pan

 [blog.pixelfreestudio](https://blog.pixelfreestudio.com/webgl-for-e-commerce-how-3d-graphics-enhance-user-experience/)

**User Interactions:**
```
CONTROLS:
â”œâ”€ Drag to Rotate: 360Â° horizontal, 180Â° vertical
â”œâ”€ Pinch/Scroll to Zoom: 0.5x Ä‘áº¿n 3x
â”œâ”€ Double-tap: Reset camera position
â”œâ”€ Material Toggle: Switch giá»¯a "Fabric View" vÃ  "Product View"
â”‚  â””â”€ Fabric View: Zoom extreme vÃ o texture sá»£i váº£i (macro lens effect)
â””â”€ Color Picker Integration: Real-time material swap khi chá»n mÃ u
```

**Fallback Strategy (cho low-end devices):**
- Detect GPU capability via WebGL detection
- Náº¿u device yáº¿u: Fallback vá» **high-quality 2D images** vá»›i CSS 3D transform
- Progressive enhancement: Load 3D model sau khi page Ä‘Ã£ render

 [dev](https://dev.to/kellythomas/how-to-create-high-performance-3d-product-viewers-using-threejs-react-for-modern-ecommerce-stores-5f7p)

#### 2.4.3. Product Information Tabs

**Tab Navigation:**
```
[â— TECH SPECS] [â—‹ FIT GUIDE] [â—‹ CARE] [â—‹ REVIEWS]
```

**Tab 1: TECH SPECS (Máº·c Ä‘á»‹nh)**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ MATERIAL SCIENCE                         â”‚
â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
â”‚ FABRIC: 100% Cotton Compact 2-Way        â”‚
â”‚ WEIGHT: 260 GSM (Heavy duty)             â”‚
â”‚ WEAVE: Plain weave / Tá»• ong             â”‚
â”‚ COLOR: Lab White (Pantone 11-0601 TCX)   â”‚
â”‚                                          â”‚
â”‚ CONSTRUCTION                             â”‚
â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
â”‚ SEAM: 14 SPI (Stitches per inch)         â”‚
â”‚ COLLAR: 3.0cm hard-fused interlining     â”‚
â”‚ HEM: Side slit 4cm with bar-tack        â”‚
â”‚                                          â”‚
â”‚ CERTIFICATIONS                           â”‚
â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
â”‚ âœ“ Oeko-Tex Standard 100                  â”‚
â”‚ âœ“ ISO 9001:2015 Manufacturing            â”‚
â”‚ [VIEW LAB REPORT PDF]                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```



**Tab 2: FIT GUIDE**
- Interactive size chart vá»›i model measurements
- "Find My Size" calculator (nháº­p height, weight â†’ suggest size)
- Comparison vá»›i cÃ¡c brand phá»• biáº¿n (Uniqlo, Zara size mapping)

**Tab 3: CARE INSTRUCTIONS**
- Icon-based washing guide (chuáº©n ISO 3758)
- Video tutorial "How to Care for Your Lab Tee"
- Warranty info: "Báº£o hÃ nh Ä‘Æ°á»ng may trá»n Ä‘á»i"

 [ppl-ai-file-upload.s3.amazonaws](https://ppl-ai-file-upload.s3.amazonaws.com/web/direct-files/attachments/14105502/fb02f63b-3788-45c8-834e-1dcc043fd857/Bo-Nhan-Dien-Thuong-Hieu-Triet-Ly-Thiet-Ke.docx)

**Tab 4: REVIEWS**
- Star rating + review count
- Filter by: Verified Purchase, Rating, Most Helpful
- Photo/video reviews highlighted
- AI-powered review summary (sentiment analysis)

#### 2.4.4. Trust Signals & Urgency

**Prominent Placement:**
- âœ“ **Free Shipping** cho Ä‘Æ¡n >â‚«500,000
- âš¡ **Flash Deal**: Countdown timer náº¿u cÃ³ promotion
- ğŸ‘¥ **Social Proof**: "18 people viewing this product now"
- ğŸ“¦ **Inventory Status**: "Only 5 left in size L" (náº¿u <10)
- ğŸ… **Best Seller Badge** cho top 20% sáº£n pháº©m

### 2.5. Giá» HÃ ng & Thanh ToÃ¡n (Cart & Checkout)

#### 2.5.1. Mini Cart (Slide-in Panel)

Khi click icon giá» hÃ ng á»Ÿ header, slide-in panel tá»« bÃªn pháº£i:

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ YOUR CART (3)        [âœ• Close] â”‚
â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”‚
â”‚                                 â”‚
â”‚ [IMG] THE LAB TEE               â”‚
â”‚       Size L Â· White            â”‚
â”‚       â‚«289,000   [âˆ’] 1 [+] [ğŸ—‘]â”‚
â”‚                                 â”‚
â”‚ [IMG] SCHOLAR POLO              â”‚
â”‚       Size M Â· Navy             â”‚
â”‚       â‚«349,000   [âˆ’] 2 [+] [ğŸ—‘]â”‚
â”‚                                 â”‚
â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”‚
â”‚ Subtotal:        â‚«987,000       â”‚
â”‚ Shipping:        Calculated     â”‚
â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”‚
â”‚                                 â”‚
â”‚ [CONTINUE SHOPPING]             â”‚
â”‚ [ğŸ›’ CHECKOUT]                   â”‚
â”‚                                 â”‚
â”‚ ğŸ’¡ Add â‚«13,000 for Free Ship    â”‚
â”‚                                 â”‚
â”‚ [Suggested: TECH SOCKS â‚«89k]   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```



#### 2.5.2. Checkout Flow (Single-Page Optimized)

**Philosophy:** Minimize steps, maximize trust. Target: <3 minutes checkout time. [centra](https://centra.com/news/best-fashion-checkouts-ux)

**Layout (Desktop):**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ELEMENTA CHECKOUT                    ğŸ”’ Secure          â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
â”‚                                                           â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚  â”‚ 1. CONTACT INFO     â”‚  â”‚  ORDER SUMMARY             â”‚â”‚
â”‚  â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€     â”‚  â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€     â”‚â”‚
â”‚  â”‚ Email: [        ]   â”‚  â”‚  3 items        â‚«987,000   â”‚â”‚
â”‚  â”‚ â˜‘ Text me updates   â”‚  â”‚                            â”‚â”‚
â”‚  â”‚                     â”‚  â”‚  [Product thumbnails]      â”‚â”‚
â”‚  â”‚ 2. SHIPPING         â”‚  â”‚                            â”‚â”‚
â”‚  â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€     â”‚  â”‚  Subtotal:     â‚«987,000    â”‚â”‚
â”‚  â”‚ Name: [         ]   â”‚  â”‚  Shipping:     â‚«30,000     â”‚â”‚
â”‚  â”‚ Phone: [        ]   â”‚  â”‚  Discount:    -â‚«50,000     â”‚â”‚
â”‚  â”‚ Address: [      ]   â”‚  â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€             â”‚â”‚
â”‚  â”‚ City: [VN       â–¼]  â”‚  â”‚  TOTAL:        â‚«967,000    â”‚â”‚
â”‚  â”‚                     â”‚  â”‚                            â”‚â”‚
â”‚  â”‚ 3. SHIPPING METHOD  â”‚  â”‚  [PROMO CODE]              â”‚â”‚
â”‚  â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€     â”‚  â”‚  â””â”€ Applied: LAUNCH50      â”‚â”‚
â”‚  â”‚ â—‹ Standard (2-4d)   â”‚  â”‚                            â”‚â”‚
â”‚  â”‚ â— Express (1-2d)    â”‚  â”‚  [PLACE ORDER]             â”‚â”‚
â”‚  â”‚                     â”‚  â”‚                            â”‚â”‚
â”‚  â”‚ 4. PAYMENT          â”‚  â”‚  30-Day Return Policy      â”‚â”‚
â”‚  â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€     â”‚  â”‚  âœ“ Secure Checkout         â”‚â”‚
â”‚  â”‚ â—‹ COD               â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â”‚  â”‚ â— Bank Transfer     â”‚                                 â”‚
â”‚  â”‚ â—‹ Momo/ZaloPay      â”‚                                 â”‚
â”‚  â”‚ â—‹ Credit Card       â”‚                                 â”‚
â”‚  â”‚   [Card fields...]  â”‚                                 â”‚
â”‚  â”‚                     â”‚                                 â”‚
â”‚  â”‚ [â—€ BACK TO CART]    â”‚                                 â”‚
â”‚  â”‚ [COMPLETE ORDER]    â”‚                                 â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                 â”‚
â”‚                                                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Mobile Optimization:**
- Chuyá»ƒn sang multi-step wizard (4 steps)
- Progress indicator á»Ÿ top
- Sticky CTA button á»Ÿ bottom
- Apple Pay / Google Pay express checkout buttons

 [centra](https://centra.com/news/best-fashion-checkouts-ux)

**Trust Elements:**
- SSL badge (Powered by Stripe/MoMo Secure)
- Return policy reminder
- Customer service chat bubble
- "100% Secure - Your info is safe" messaging

### 2.6. CÃ¡c Trang Phá»¥ Quan Trá»ng

#### 2.6.1. About Us - "The Lab Story"

**Hero Section:**
- Video tour nhÃ  mÃ¡y (30s cinematic)
- "20 Years Manufacturing Excellence â†’ Direct to You"

**Content Blocks:**
- Timeline infographic (1985 â†’ 2026)
- M2C model explanation vá»›i comparison chart
- Team photos vá»›i chemical lab aesthetic
- Sustainability commitments (fabric waste recycling)

#### 2.6.2. Contact & Customer Service

```
SUPPORT CHANNELS:
â”œâ”€ Live Chat: 8AM-10PM daily (Zalo integration)
â”œâ”€ Hotline: 1900-XXXX (Toll-free)
â”œâ”€ Email: lab@elementa.vn (Response <24h)
â”œâ”€ Showroom: [Google Maps embed]
â””â”€ FAQ: Searchable knowledge base
```

#### 2.6.3. Size Guide (Dedicated Page)

- Gender toggle (Male/Female)
- Product category tabs
- Measurement instructions video
- Downloadable PDF size charts
- Virtual try-on (future roadmap)

#### 2.6.4. Order Tracking

```
TRACK YOUR ORDER
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Order #: [____________] [TRACK]

OR

Login to view order history
[EMAIL] [PASSWORD] [LOGIN]
```

**Tracking Result Page:**
```
Order #EL-20260129-001
Status: â— IN TRANSIT

Timeline:
âœ“ Order Placed       Jan 29, 10:30 AM
âœ“ QC Passed          Jan 29, 2:00 PM
âœ“ Packed & Sealed    Jan 29, 4:00 PM
â— Out for Delivery   Jan 30, 8:00 AM
â—‹ Delivered          Est. Jan 31

[Track on GHN/GHTK]
[Contact Shipper]
```

### 2.7. Site Map (Cáº¥u TrÃºc Website)

```
ELEMENTA.VN
â”‚
â”œâ”€ HOME (/)
â”‚  â”œâ”€ Hero Slider
â”‚  â”œâ”€ Element Navigator
â”‚  â”œâ”€ Featured Products
â”‚  â”œâ”€ About Snippet
â”‚  â””â”€ Newsletter
â”‚
â”œâ”€ SHOP (/shop)
â”‚  â”œâ”€ All Products (/shop/all)
â”‚  â”œâ”€ [Sc] Scholar (/shop/scholar)
â”‚  â”‚  â”œâ”€ Polo Shirts
â”‚  â”‚  â”œâ”€ Dress Shirts
â”‚  â”‚  â”œâ”€ Shorts
â”‚  â”‚  â””â”€ Accessories
â”‚  â”‚
â”‚  â”œâ”€ [Hm] Home (/shop/home)
â”‚  â”‚  â”œâ”€ Sleepwear
â”‚  â”‚  â”œâ”€ Loungewear
â”‚  â”‚  â””â”€ Robes
â”‚  â”‚
â”‚  â”œâ”€ [Ki] Kinetic (/shop/kinetic)
â”‚  â”‚  â”œâ”€ Running
â”‚  â”‚  â”œâ”€ Pickleball/Tennis
â”‚  â”‚  â”œâ”€ Football/Basketball
â”‚  â”‚  â””â”€ Swim
â”‚  â”‚
â”‚  â””â”€ [Ba] Base (/shop/base)
â”‚     â”œâ”€ T-Shirts
â”‚     â”œâ”€ Polos
â”‚     â”œâ”€ Bottoms
â”‚     â””â”€ Bags
â”‚
â”œâ”€ PRODUCT (/product/:slug)
â”‚  â””â”€ [Dynamic product pages]
â”‚
â”œâ”€ ABOUT (/about)
â”‚  â”œâ”€ Our Story
â”‚  â”œâ”€ Manufacturing
â”‚  â”œâ”€ Sustainability
â”‚  â””â”€ Team
â”‚
â”œâ”€ SIZE GUIDE (/size-guide)
â”‚
â”œâ”€ CUSTOMER SERVICE (/support)
â”‚  â”œâ”€ FAQ
â”‚  â”œâ”€ Contact
â”‚  â”œâ”€ Shipping Info
â”‚  â”œâ”€ Return Policy
â”‚  â””â”€ Warranty
â”‚
â”œâ”€ ACCOUNT (/account)
â”‚  â”œâ”€ Login/Register
â”‚  â”œâ”€ Dashboard
â”‚  â”œâ”€ Orders
â”‚  â”œâ”€ Addresses
â”‚  â”œâ”€ Wishlist
â”‚  â””â”€ Settings
â”‚
â”œâ”€ CART (/cart)
â”‚
â”œâ”€ CHECKOUT (/checkout)
â”‚
â””â”€ ORDER TRACKING (/track)
```

### 2.8. Responsive & Mobile-First Design

#### 2.8.1. Breakpoints Strategy

```
Mobile-first approach vá»›i breakpoints:

â”œâ”€ Mobile: 320px - 767px (Base styles)
â”œâ”€ Tablet: 768px - 1023px
â”œâ”€ Desktop: 1024px - 1439px
â””â”€ Large Desktop: 1440px+
```



#### 2.8.2. Mobile Optimizations

**Navigation:**
- Hamburger menu vá»›i full-screen overlay
- Sticky bottom tab bar (Home, Shop, Cart, Account)
- Search bar prominent á»Ÿ top

**Product Grid:**
- 1-column card layout (full-width)
- Infinite scroll thay vÃ¬ pagination
- Sticky "Filter" button á»Ÿ bottom-right

**Product Detail:**
- 3D viewer chiáº¿m 70% viewport height
- Swipe gallery for thumbnails
- Sticky "Add to Cart" bar á»Ÿ bottom
- Accordion tabs thay vÃ¬ horizontal tabs

**Checkout:**
- Multi-step wizard (4 steps)
- Large form inputs (min 44px height)
- Auto-fill integration (Google Autofill)
- Mobile wallet buttons (MoMo, ZaloPay, Apple Pay)

#### 2.8.3. Touch Interactions

```
GESTURE MAPPING:
â”œâ”€ Swipe Left/Right: Navigate product images
â”œâ”€ Pinch: Zoom product 3D viewer
â”œâ”€ Double-tap: Add to wishlist (product card)
â”œâ”€ Long-press: Quick view product info
â””â”€ Pull-to-refresh: Reload product listing
```

### 2.9. Dark Mode Optimization (Night Shopping)

#### 2.9.1. Color Palette Adjustments

```
LIGHT MODE:
â”œâ”€ Background: #F4F4F4 (Concrete White)
â”œâ”€ Surface: #FFFFFF
â”œâ”€ Text: #111111 (Carbon Black)
â””â”€ Primary: #FFB300 (Industrial Amber)

DARK MODE:
â”œâ”€ Background: #0D0D0D (Deep Black)
â”œâ”€ Surface: #1A1A1A (Charcoal)
â”œâ”€ Text: #E5E5E5 (Off-White)
â””â”€ Primary: #FFB300 (Industrial Amber - unchanged)
   â””â”€ Reason: Amber vÃ ng váº«n ná»•i báº­t trÃªn ná»n Ä‘en,
              giáº£m blue light, dá»… nhÃ¬n ban Ä‘Ãªm
```



#### 2.9.2. Dark Mode Features

- **Auto-detection**: Respect system preference (prefers-color-scheme: dark)
- **Manual toggle**: Sun/Moon icon á»Ÿ header
- **Persistence**: Save preference trong localStorage
- **Smooth transition**: CSS transition 300ms ease-in-out

**Typography Adjustments:**
- Font weight giáº£m 100 (Bold â†’ Semibold) Ä‘á»ƒ giáº£m strain máº¯t
- Line height tÄƒng 1.1x
- Letter spacing tÄƒng 0.02em

**Image Treatment:**
- Product images: Reduce brightness -10%, increase contrast +5%
- Icons: Outline style thay vÃ¬ filled
- 3D viewer: Ambient light giáº£m 30%

### 2.10. Accessibility (WCAG 2.1 AA Compliance)

Äáº£m báº£o website thÃ¢n thiá»‡n vá»›i má»i ngÆ°á»i dÃ¹ng, bao gá»“m ngÆ°á»i khuyáº¿t táº­t. [netclubbed](https://netclubbed.com/blog/importance-of-ux-design-in-fashion-e-commerce/)

**Checklist:**
- âœ“ Semantic HTML (header, nav, main, section, footer)
- âœ“ Alt text cho táº¥t cáº£ images
- âœ“ Keyboard navigation (Tab order logic)
- âœ“ Focus indicators rÃµ rÃ ng (2px solid Amber outline)
- âœ“ Color contrast ratio â‰¥4.5:1 (text), â‰¥3:1 (UI elements)
- âœ“ Skip to main content link
- âœ“ ARIA labels cho interactive elements
- âœ“ Form validation vá»›i error messages rÃµ rÃ ng
- âœ“ Screen reader tested (NVDA, JAWS)

### 2.11. Performance Targets

```
CORE WEB VITALS (Mobile):
â”œâ”€ LCP (Largest Contentful Paint): <2.5s
â”œâ”€ FID (First Input Delay): <100ms
â”œâ”€ CLS (Cumulative Layout Shift): <0.1
â””â”€ TTI (Time to Interactive): <3.8s

LIGHTHOUSE SCORES (Target):
â”œâ”€ Performance: >90
â”œâ”€ Accessibility: >95
â”œâ”€ Best Practices: >95
â””â”€ SEO: >95
```

**Optimization Strategies:**
- Image lazy loading (native loading="lazy")
- CDN for static assets (Cloudflare)
- Brotli compression
- Critical CSS inlining
- JavaScript code splitting
- Service Worker for offline support (PWA)

***

## 3. Há»† THá»NG QUáº¢N TRá»Š CONTENT (CMS & ADMIN PANEL)

### 3.1. Triáº¿t LÃ½ Thiáº¿t Káº¿ CMS

Há»‡ thá»‘ng CMS Ä‘Æ°á»£c xÃ¢y dá»±ng theo tiÃªu chuáº©n **enterprise e-commerce** tÆ°Æ¡ng tá»± Shopify vÃ  Haravan, nhÆ°ng Ä‘Æ°á»£c tÃ¹y chá»‰nh riÃªng cho quy trÃ¬nh sáº£n xuáº¥t M2C cá»§a ELEMENTA. [ppl-ai-file-upload.s3.amazonaws](https://ppl-ai-file-upload.s3.amazonaws.com/web/direct-files/attachments/14105502/fb02f63b-3788-45c8-834e-1dcc043fd857/Bo-Nhan-Dien-Thuong-Hieu-Triet-Ly-Thiet-Ke.docx)

**Core Principles:**
- **User-friendly**: NhÃ¢n viÃªn khÃ´ng tech váº«n sá»­ dá»¥ng Ä‘Æ°á»£c
- **Workflow-oriented**: Theo Ä‘Ãºng quy trÃ¬nh QC â†’ Pack â†’ Ship
- **Data transparency**: Má»i thÃ´ng sá»‘ váº£i, ká»¹ thuáº­t Ä‘á»u cÃ³ input field
- **Inventory-centric**: Quáº£n lÃ½ tá»“n kho theo size/color/element matrix

### 3.2. Dashboard Overview

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ELEMENTA ADMIN PANEL               ğŸ‘¤ Admin  [Logout]  â”‚
â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”‚
â”‚                                                          â”‚
â”‚ [â‰¡ MENU]  Dashboard                    ğŸ“… Jan 29, 2026 â”‚
â”‚                                                          â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”‚
â”‚ â”‚ TODAY       â”‚ â”‚ THIS WEEK   â”‚ â”‚ THIS MONTH  â”‚       â”‚
â”‚ â”‚ 18 Orders   â”‚ â”‚ 127 Orders  â”‚ â”‚ 542 Orders  â”‚       â”‚
â”‚ â”‚ â‚«5.2M       â”‚ â”‚ â‚«36.8M      â”‚ â”‚ â‚«157.3M     â”‚       â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â”‚
â”‚                                                          â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚ â”‚ SALES CHART (Last 30 Days)                       â”‚   â”‚
â”‚ â”‚ [Line graph: Revenue & Orders]                   â”‚   â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                          â”‚
â”‚ QUICK ACTIONS:                                          â”‚
â”‚ [+ New Product] [Process Orders] [View Reports]        â”‚
â”‚                                                          â”‚
â”‚ PENDING TASKS:                                          â”‚
â”‚ âš  12 orders awaiting QC approval                       â”‚
â”‚ âš  3 products low stock (< 10 units)                    â”‚
â”‚ âš  5 customer inquiries unanswered                      â”‚
â”‚                                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 3.3. Module Chá»©c NÄƒng Chi Tiáº¿t

#### 3.3.1. Product Management (Quáº£n LÃ½ Sáº£n Pháº©m)

**Product List View:**
```
PRODUCTS (542)           [+ Add New Product] [Import CSV]

Filters: [All â–¼] [In Stock] Element: [All â–¼] 
Search: [____________] ğŸ”

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ [âœ“] [IMG] The Lab Tee               [Ba] Base        â”‚
â”‚     SKU: BA-M01-WH-L                                  â”‚
â”‚     Price: â‚«289,000 Â· Stock: 124 Â· Status: â— Active â”‚
â”‚     [Edit] [Duplicate] [Delete]                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ [âœ“] [IMG] Scholar Polo              [Sc] Scholar     â”‚
â”‚     SKU: SC-M-POLO-NV-M                               â”‚
â”‚     Price: â‚«349,000 Â· Stock: 8 âš  Â· Status: â— Active â”‚
â”‚     [Edit] [Duplicate] [Delete]                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Bulk Actions: [Set Status â–¼] [Apply]
```

**Product Edit Screen - Tabs:**

**Tab 1: BASIC INFO**
```
Product Name (VN): [________________________]
Product Name (EN): [________________________]
Element:           [â— [Ba] Base  â—‹ [Sc] Scholar ...]
SKU Prefix:        [BA-M01-] (Auto-generated)

Description (VN):  [Rich text editor...]
Description (EN):  [Rich text editor...]

Category:          [T-Shirts â–¼]
Tags:              [Cotton, Basic, Unisex]
```

**Tab 2: PRICING & INVENTORY**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ VARIANT MATRIX (Size Ã— Color)                   â”‚
â”‚                                                  â”‚
â”‚        â”‚ White  â”‚ Black  â”‚ Navy   â”‚ Add Color   â”‚
â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚
â”‚ S      â”‚ â‚«289k  â”‚ â‚«289k  â”‚ â‚«309k  â”‚ Qty: [___] â”‚
â”‚        â”‚ Qty:50 â”‚ Qty:32 â”‚ Qty:28 â”‚            â”‚
â”‚ M      â”‚ â‚«289k  â”‚ â‚«289k  â”‚ â‚«309k  â”‚            â”‚
â”‚        â”‚ Qty:80 â”‚ Qty:65 â”‚ Qty:48 â”‚            â”‚
â”‚ L      â”‚ â‚«289k  â”‚ â‚«289k  â”‚ â‚«309k  â”‚            â”‚
â”‚        â”‚ Qty:124â”‚ Qty:98 â”‚ Qty:72 â”‚            â”‚
â”‚ XL     â”‚ â‚«289k  â”‚ â‚«289k  â”‚ â‚«309k  â”‚            â”‚
â”‚        â”‚ Qty:45 â”‚ Qty:38 â”‚ Qty:22 â”‚            â”‚
â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚
â”‚ Add Size  [+]                                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Low Stock Alert Threshold:  [humanfactors.jmir](https://humanfactors.jmir.org/2022/3/e37894/PDF) units
SKU Format: [BA-M01-{COLOR}-{SIZE}]
Barcode: [Generate] [Manual Input]
```

**Tab 3: TECH SPECS (Unique cho ELEMENTA)**
```
FABRIC TECHNOLOGY:
Composition:       [100% Cotton Compact 2-Way_______]
Weight:            [260] GSM
Weave Type:        [Plain Weave â–¼]
Color Code:        [Pantone 11-0601 TCX_____________]

CONSTRUCTION:
Seam Density:       [mdpi](https://www.mdpi.com/2227-9709/11/3/56/pdf?version=1722825344) SPI (Stitches per inch)
Collar Type:       [Hard-fused 3.0cm â–¼]
Special Features:  [â˜‘ Bar-tack reinforcement
                    â˜‘ Side slit hem
                    â˜ Hidden placket]

CERTIFICATIONS:
â˜‘ Oeko-Tex Standard 100
â˜‘ ISO 9001:2015
â˜ GOTS (Organic)

Lab Report PDF:    [Upload File] [View Current]
```



**Tab 4: IMAGES & 3D MODEL**
```
PRODUCT IMAGES:
[Drag & drop area or click to upload]

â”Œâ”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”
â”‚IMG1â”‚ â”‚IMG2â”‚ â”‚IMG3â”‚ â”‚IMG4â”‚ â”‚ + â”‚
â””â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”˜
Main    Alt     Alt     Alt    Add

Image Requirements:
Â· Minimum 2000Ã—2000px
Â· JPG/PNG format
Â· White/transparent background
Â· File size <3MB

3D MODEL:
[Upload GLB/GLTF file]
Current: âœ“ ba-m01-tee.glb (1.8MB)
Preview: [Launch 3D Viewer]

Texture Maps (Optional):
Base Color:    [Upload]
Normal Map:    [Upload]
Roughness:     [Upload]
```

**Tab 5: SEO & METADATA**
```
Meta Title (VN):        [_________________________________]
                        (Max 60 chars, Current: 28)
Meta Title (EN):        [_________________________________]

Meta Description (VN):  [_________________________________]
                        (Max 160 chars, Current: 95)
Meta Description (EN):  [_________________________________]

URL Slug:               elementa.vn/product/[lab-tee-ba]
                        [Edit Slug]

Search Keywords:        [cotton tee, basic shirt, lab tee]
```

**Tab 6: SHIPPING & LOGISTICS**
```
Weight:            [350] grams
Dimensions:        L:[30] Ã— W:[25] Ã— H: [videinfra](https://videinfra.com/blog/luxury-ecommerce-ux-best-practices-and-a-case-study) cm

Shipping Class:    [â— Standard  â—‹ Express-only]
Origin:            [Vietnam - Ho Chi Minh â–¼]

Packaging:         [â˜‘ CPE bag + Header card
                    â˜‘ Carton box (>2 items)
                    â˜ Gift wrapping available]
```

#### 3.3.2. Order Management

**Order List View:**
```
ORDERS (1,247)                        [Export CSV] [Print]

Status: [All â–¼]  Date: [Last 30 days â–¼]  Search: [____] ğŸ”

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ #EL-20260129-001          Jan 29, 10:30 AM               â”‚
â”‚ Nguyen Van A Â· â‚«967,000 Â· 3 items                        â”‚
â”‚ Status: â— PENDING QC      [View] [Process]               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ #EL-20260129-002          Jan 29, 11:15 AM               â”‚
â”‚ Tran Thi B Â· â‚«549,000 Â· 2 items                          â”‚
â”‚ Status: â— IN PRODUCTION   [View] [Mark as Packed]        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ #EL-20260128-089          Jan 28, 3:45 PM                â”‚
â”‚ Le Van C Â· â‚«1,234,000 Â· 5 items                          â”‚
â”‚ Status: â— SHIPPED         Tracking: GHN-XXX [View]       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Order Detail Screen:**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ORDER #EL-20260129-001                 [Print] [Export]  â”‚
â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”‚
â”‚                                                           â”‚
â”‚ STATUS TIMELINE:                                          â”‚
â”‚ âœ“ Placed       Jan 29, 10:30 AM                          â”‚
â”‚ â— QC Pending   (Current)             [APPROVE QC]        â”‚
â”‚ â—‹ Packing                                                 â”‚
â”‚ â—‹ Shipped                                                 â”‚
â”‚ â—‹ Delivered                                               â”‚
â”‚                                                           â”‚
â”‚ CUSTOMER INFO:                                            â”‚
â”‚ Name:    Nguyen Van A                                     â”‚
â”‚ Phone:   0901234567                  [Call] [SMS]         â”‚
â”‚ Email:   customer@email.com          [Email]              â”‚
â”‚ Address: 123 Nguyen Hue, Q1, HCMC                        â”‚
â”‚                                                           â”‚
â”‚ ORDER ITEMS:                                              â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚ â”‚ [IMG] The Lab Tee Â· Size L Â· White                 â”‚  â”‚
â”‚ â”‚       SKU: BA-M01-WH-L                             â”‚  â”‚
â”‚ â”‚       â‚«289,000 Ã— 1                                 â”‚  â”‚
â”‚ â”‚       QC: [âœ“ PASSED] [âœ— REJECT] [? HOLD]           â”‚  â”‚
â”‚ â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”‚
â”‚ â”‚ [IMG] Scholar Polo Â· Size M Â· Navy                 â”‚  â”‚
â”‚ â”‚       SKU: SC-M-POLO-NV-M                          â”‚  â”‚
â”‚ â”‚       â‚«349,000 Ã— 2                                 â”‚  â”‚
â”‚ â”‚       QC: [âœ“ PASSED] [âœ— REJECT] [? HOLD]           â”‚  â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                           â”‚
â”‚ PRICING:                                                  â”‚
â”‚ Subtotal:         â‚«987,000                                â”‚
â”‚ Shipping:         â‚«30,000 (Express)                       â”‚
â”‚ Discount:        -â‚«50,000 (Code: LAUNCH50)                â”‚
â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                                â”‚
â”‚ TOTAL:            â‚«967,000                                â”‚
â”‚                                                           â”‚
â”‚ PAYMENT:                                                  â”‚
â”‚ Method: Bank Transfer (Vietcombank)                       â”‚
â”‚ Status: â— PAID (Jan 29, 10:45 AM)                        â”‚
â”‚                                                           â”‚
â”‚ INTERNAL NOTES:                                           â”‚
â”‚ [Text area for staff notes...]                            â”‚
â”‚ [Add Note]                                                â”‚
â”‚                                                           â”‚
â”‚ ACTIONS:                                                  â”‚
â”‚ [Approve & Send to Packing] [Hold Order] [Refund]        â”‚
â”‚                                                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Workflow Automation:**
- Email tá»± Ä‘á»™ng gá»­i khÃ¡ch khi order status thay Ä‘á»•i
- SMS notification khi shipped
- Inventory tá»± Ä‘á»™ng trá»« khi order confirmed
- TÃ­ch há»£p shipper (GHN, GHTK) Ä‘á»ƒ táº¡o váº­n Ä‘Æ¡n 1-click

#### 3.3.3. Customer Management (CRM Lite)

```
CUSTOMERS (3,421)                     [+ Add Customer] [Export]

Segment: [All â–¼]  Lifetime Value: [All â–¼]  Search: [____] ğŸ”

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Nguyen Van A                          ğŸ… VIP              â”‚
â”‚ customer@email.com Â· 0901234567                           â”‚
â”‚ Orders: 12 Â· LTV: â‚«8,450,000 Â· Last order: 3 days ago   â”‚
â”‚ [View Profile] [Send Email] [Add Note]                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Tran Thi B                            â­ Regular          â”‚
â”‚ tran.b@email.com Â· 0912345678                             â”‚
â”‚ Orders: 3 Â· LTV: â‚«1,200,000 Â· Last order: 15 days ago   â”‚
â”‚ [View Profile] [Send Email] [Add Note]                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Customer Profile:**
- Order history vá»›i filters
- Wishlist items
- Reviews written
- Loyalty points (future)
- Communication history
- Custom tags (VIP, Wholesale, Influencer, etc.)

#### 3.3.4. Analytics & Reports

**Dashboard Widgets:**
```
SALES OVERVIEW:
â”œâ”€ Revenue Trend (Chart)
â”œâ”€ Top Products (Table)
â”œâ”€ Top Categories (Pie chart)
â””â”€ Conversion Rate (%)

INVENTORY ALERTS:
â”œâ”€ Low Stock Items
â”œâ”€ Out of Stock Items
â””â”€ Overstock Items

CUSTOMER INSIGHTS:
â”œâ”€ New vs. Returning
â”œâ”€ Customer Acquisition Cost
â”œâ”€ Average Order Value
â””â”€ Customer Lifetime Value

OPERATIONAL:
â”œâ”€ Orders by Status
â”œâ”€ Shipping Performance
â”œâ”€ Return/Refund Rate
â””â”€ QC Rejection Rate
```

**Custom Reports (Export to CSV/PDF):**
- Sales by Element ([Sc], [Hm], [Ki], [Ba])
- Sales by Region (Province/City)
- Inventory Movement Report
- Customer Cohort Analysis
- Marketing Attribution Report

#### 3.3.5. Content Management

**Pages Manager:**
```
PAGES:
â”œâ”€ Homepage             [Edit Sections] [Preview]
â”œâ”€ About Us             [Edit] [Preview]
â”œâ”€ Size Guide           [Edit] [Preview]
â”œâ”€ Contact              [Edit] [Preview]
â””â”€ Custom Pages         [+ Add New Page]
```

**Homepage Section Editor (Drag & Drop):**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ HOMEPAGE SECTIONS                        â”‚
â”‚                                          â”‚
â”‚ [â‰¡] Hero Slider         [Edit] [â–²] [â–¼] â”‚
â”‚ [â‰¡] Element Navigator   [Edit] [â–²] [â–¼] â”‚
â”‚ [â‰¡] Featured Products   [Edit] [â–²] [â–¼] â”‚
â”‚ [â‰¡] About Snippet       [Edit] [â–²] [â–¼] â”‚
â”‚ [â‰¡] Newsletter          [Edit] [â–²] [â–¼] â”‚
â”‚                                          â”‚
â”‚ [+ Add Section â–¼]                        â”‚
â”‚ Â· Image Banner                           â”‚
â”‚ Â· Product Collection                     â”‚
â”‚ Â· Text Block                             â”‚
â”‚ Â· Video Embed                            â”‚
â”‚ Â· Custom HTML                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Blog Module:**
- Post management (WYSIWYG editor)
- Categories & tags
- Featured image
- SEO settings
- Publish scheduling

#### 3.3.6. Marketing Tools

**Discount Codes:**
```
PROMOTIONS (8)                    [+ Create Discount]

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ LAUNCH50                            â— Active         â”‚
â”‚ Type: Percentage (-50%)                               â”‚
â”‚ Min. Purchase: â‚«500,000                               â”‚
â”‚ Valid: Jan 1 - Feb 28, 2026                          â”‚
â”‚ Usage: 127 / Unlimited                                â”‚
â”‚ [Edit] [Disable] [Duplicate]                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ FREESHIP                            â— Active         â”‚
â”‚ Type: Free Shipping                                   â”‚
â”‚ Min. Purchase: â‚«300,000                               â”‚
â”‚ Valid: Ongoing                                        â”‚
â”‚ Usage: 543 / Unlimited                                â”‚
â”‚ [Edit] [Disable] [Duplicate]                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Email Campaigns:**
- Template builder (branded templates)
- Customer segment targeting
- A/B testing
- Performance tracking (open rate, click rate)

**Notifications:**
- Abandoned cart recovery email (auto-send sau 1h, 24h, 72h)
- Back-in-stock alerts
- Price drop alerts
- New collection launch

#### 3.3.7. Settings

**General Settings:**
- Store name, logo, favicon
- Contact information
- Business hours
- Social media links
- Multi-language toggle

**Shipping Settings:**
```
SHIPPING ZONES:

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Zone: HO CHI MINH CITY                         â”‚
â”‚ Method: Standard (2-4 days) - â‚«30,000          â”‚
â”‚ Method: Express (1-2 days)  - â‚«50,000          â”‚
â”‚ Free shipping threshold: â‚«500,000              â”‚
â”‚ [Edit Zone] [Add Method]                       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Zone: HANOI                                    â”‚
â”‚ Method: Standard (3-5 days) - â‚«40,000          â”‚
â”‚ Method: Express (2-3 days)  - â‚«70,000          â”‚
â”‚ Free shipping threshold: â‚«500,000              â”‚
â”‚ [Edit Zone] [Add Method]                       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ [+ Add Shipping Zone]                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Payment Gateways:**
```
PAYMENT METHODS:

â˜‘ Cash on Delivery (COD)
  â””â”€ COD fee: â‚«20,000

â˜‘ Bank Transfer
  â””â”€ Bank accounts: [Manage]

â˜‘ MoMo Wallet
  â””â”€ API Key: [Configure]
  â””â”€ Status: â— Connected

â˜‘ ZaloPay
  â””â”€ API Key: [Configure]
  â””â”€ Status: â— Connected

â˜ VNPay
  â””â”€ [Setup Integration]

â˜ Stripe (International)
  â””â”€ [Setup Integration]
```

**Tax Settings:**
- VAT rate configuration
- Invoice generation settings
- Tax exemption rules

**User Roles & Permissions:**
```
STAFF ACCOUNTS (5):

â”œâ”€ Admin (Full access)
â”‚  â””â”€ You, CEO
â”‚
â”œâ”€ Manager (Orders + Products)
â”‚  â””â”€ Nguyen Van X
â”‚
â”œâ”€ QC Specialist (Orders view + QC approval)
â”‚  â””â”€ Tran Thi Y
â”‚
â”œâ”€ Content Editor (Products + Pages)
â”‚  â””â”€ Le Van Z
â”‚
â””â”€ Customer Service (Orders view + Customer)
   â””â”€ Pham Thi K

[+ Add Staff] [Manage Roles]
```

### 3.4. Mobile Admin App (Optional Phase 2)

á»¨ng dá»¥ng mobile cho admin Ä‘á»ƒ:
- Xem real-time notifications (Ä‘Æ¡n hÃ ng má»›i)
- Approve QC ngay trÃªn production floor (chá»¥p áº£nh sáº£n pháº©m, tick Pass/Reject)
- Scan barcode Ä‘á»ƒ check inventory
- Respond customer inquiries

**Tech:** React Native hoáº·c Flutter (cross-platform)

***
---

## 4. DESIGN PHILOSOPHY & INSPIRATION

### 4.1. Core Design Principles

Inspired by top-tier luxury fashion websites (Gucci, Dior, Miu Miu, Nudie Jeans), ELEMENTA web platform tuÃ¢n thá»§ cÃ¡c nguyÃªn táº¯c thiáº¿t káº¿ sau: [videinfra](https://videinfra.com/blog/luxury-ecommerce-ux-best-practices-and-a-case-study)

```
LUXURY E-COMMERCE UX PRINCIPLES:

1. WHITESPACE AS A LUXURY ELEMENT
   â””â”€ 40-60% whitespace ratio
   â””â”€ Generous padding (80-120px vertical sections)
   â””â”€ Products "breathe" - khÃ´ng chen chÃºc

2. VISUAL HIERARCHY THROUGH TYPOGRAPHY
   â””â”€ Large, bold headings (64-96px)
   â””â”€ Clear typographic scale (1.25 ratio)
   â””â”€ Limited font weights (Regular, Medium, Bold only)

3. HIGH-QUALITY IMAGERY DOMINANCE
   â””â”€ Full-bleed hero images (viewport height)
   â””â”€ Minimal 2000px width for product photos
   â””â”€ Professional photography, not stock images

4. MINIMALIST NAVIGATION
   â””â”€ Fixed header with <5 menu items
   â””â”€ Hamburger menu for secondary navigation
   â””â”€ No cluttered mega menus

5. SUBTLE, PURPOSEFUL ANIMATIONS
   â””â”€ Scroll-triggered reveals (fade-in, slide-up)
   â””â”€ Smooth page transitions (300-500ms)
   â””â”€ Micro-interactions on hover/click

6. DARK MODE FIRST (cho Gen Z/Alpha)
   â””â”€ OLED-optimized blacks (#000000)
   â””â”€ Reduced eye strain for night shopping
   â””â”€ Toggle visible but not intrusive
```

### 4.2. Color Palette - Expanded

```css
/* ELEMENTA Design Tokens */

/* Dark Theme (Primary) */
--color-background-dark: #0A0A0A;        /* Pure black for OLED */
--color-surface-dark: #1A1A1A;           /* Elevated surfaces */
--color-surface-elevated: #2A2A2A;       /* Cards, modals */

/* Light Theme (Secondary) */
--color-background-light: #FAFAFA;       /* Off-white, softer than pure white */
--color-surface-light: #FFFFFF;
--color-surface-elevated-light: #F5F5F5;

/* Brand Colors */
--color-primary: #D4AF37;                /* Amber Gold - CTAs */
--color-primary-hover: #C29D2F;
--color-secondary: #8B7355;              /* Bronze - accents */

/* Text Colors - Dark Theme */
--color-text-primary-dark: #FFFFFF;
--color-text-secondary-dark: #A0A0A0;    /* 62% opacity */
--color-text-tertiary-dark: #707070;     /* 44% opacity */

/* Text Colors - Light Theme */
--color-text-primary-light: #1A1A1A;
--color-text-secondary-light: #666666;
--color-text-tertiary-light: #999999;

/* Semantic Colors */
--color-success: #4CAF50;
--color-error: #EF4444;
--color-warning: #F59E0B;
--color-info: #3B82F6;

/* Borders & Dividers */
--color-border-dark: rgba(255, 255, 255, 0.08);
--color-border-light: rgba(0, 0, 0, 0.08);

/* Overlays */
--color-overlay-dark: rgba(0, 0, 0, 0.85);
--color-overlay-light: rgba(255, 255, 255, 0.95);
```

### 4.3. Typography System

```css
/* Font Stack */
--font-primary: 'Univers Next', 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
--font-secondary: 'Helvetica Neue', Arial, sans-serif;
--font-mono: 'JetBrains Mono', 'Courier New', monospace; /* For SKU, codes */

/* Type Scale (1.25 ratio - Perfect Fourth) */
--text-xs: 0.64rem;      /* 10.24px - Labels */
--text-sm: 0.8rem;       /* 12.8px - Captions */
--text-base: 1rem;       /* 16px - Body */
--text-lg: 1.25rem;      /* 20px - Subheadings */
--text-xl: 1.563rem;     /* 25px - H4 */
--text-2xl: 1.953rem;    /* 31.25px - H3 */
--text-3xl: 2.441rem;    /* 39px - H2 */
--text-4xl: 3.052rem;    /* 48.8px - H1 */
--text-5xl: 3.815rem;    /* 61px - Hero */
--text-6xl: 4.768rem;    /* 76.3px - Display */

/* Font Weights */
--font-regular: 400;
--font-medium: 500;
--font-semibold: 600;
--font-bold: 700;

/* Line Heights */
--leading-tight: 1.2;    /* Headings */
--leading-normal: 1.5;   /* Body text */
--leading-relaxed: 1.75; /* Long-form content */

/* Letter Spacing */
--tracking-tight: -0.02em;   /* Large headings */
--tracking-normal: 0;
--tracking-wide: 0.05em;     /* Uppercase labels */
--tracking-wider: 0.1em;     /* Buttons, badges */
```

***

## 5. PAGE-BY-PAGE DESIGN SPECIFICATIONS

### 5.1. HOMEPAGE - Thiáº¿t Káº¿ Chi Tiáº¿t

**Layout Structure:**

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ FIXED HEADER (70px height)                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                 â”‚
â”‚         HERO SECTION (100vh)                    â”‚
â”‚         - Full-screen video/image               â”‚
â”‚         - Centered headline                     â”‚
â”‚         - Scroll indicator                      â”‚
â”‚                                                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                 â”‚
â”‚    FEATURED COLLECTIONS (auto height)           â”‚
â”‚    - Horizontal scroll cards                    â”‚
â”‚    - Parallax effect                            â”‚
â”‚                                                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                 â”‚
â”‚    BRAND PHILOSOPHY SECTION (60vh)              â”‚
â”‚    - Split screen: Text left, Image right       â”‚
â”‚    - Fade-in on scroll                          â”‚
â”‚                                                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                 â”‚
â”‚    BEST SELLERS GRID (auto)                     â”‚
â”‚    - 4-column desktop, 2 mobile                 â”‚
â”‚    - Staggered reveal animation                 â”‚
â”‚                                                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                 â”‚
â”‚    3D INTERACTIVE SHOWCASE (80vh)               â”‚
â”‚    - Sticky scroll section                      â”‚
â”‚    - Product rotates as user scrolls            â”‚
â”‚                                                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                 â”‚
â”‚    INSTAGRAM FEED (auto)                        â”‚
â”‚    - Social proof                               â”‚
â”‚                                                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚    NEWSLETTER SIGNUP (40vh)                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚    FOOTER (auto)                                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### 5.1.1. Hero Section - Detailed Specs

**Desktop (1920x1080):**

```html
<!-- HTML Structure -->
<section class="hero-section">
  <div class="hero-background">
    <!-- Video background with fallback -->
    <video autoplay muted loop playsinline>
      <source src="hero-video.mp4" type="video/mp4">
    </video>
    <div class="hero-overlay"></div>
  </div>
  
  <div class="hero-content">
    <h1 class="hero-headline">
      <span class="line-1">The Science</span>
      <span class="line-2">of Comfort</span>
    </h1>
    <p class="hero-subheadline">
      Where Swiss precision meets streetwear culture
    </p>
    <a href="/shop" class="cta-primary">
      Explore Collections
      <svg class="arrow-icon">...</svg>
    </a>
  </div>
  
  <div class="scroll-indicator">
    <span class="scroll-text">Scroll to explore</span>
    <svg class="scroll-arrow">...</svg>
  </div>
</section>
```

**CSS Styling:**

```css
.hero-section {
  position: relative;
  height: 100vh;
  width: 100%;
  overflow: hidden;
  background-color: var(--color-background-dark);
}

.hero-background video {
  position: absolute;
  top: 50%;
  left: 50%;
  min-width: 100%;
  min-height: 100%;
  width: auto;
  height: auto;
  transform: translate(-50%, -50%);
  object-fit: cover;
  opacity: 0.7; /* Slightly dim for text readability */
}

.hero-overlay {
  position: absolute;
  inset: 0;
  background: linear-gradient(
    180deg,
    rgba(10, 10, 10, 0.3) 0%,
    rgba(10, 10, 10, 0.7) 100%
  );
}

.hero-content {
  position: relative;
  z-index: 10;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  height: 100%;
  text-align: center;
  padding: 0 24px;
}

.hero-headline {
  font-size: var(--text-6xl); /* 76px */
  font-weight: var(--font-bold);
  line-height: var(--leading-tight);
  letter-spacing: var(--tracking-tight);
  color: var(--color-text-primary-dark);
  margin-bottom: 24px;
  
  /* Staggered animation */
  overflow: hidden;
}

.hero-headline .line-1,
.hero-headline .line-2 {
  display: block;
  animation: slideUpFade 1s cubic-bezier(0.16, 1, 0.3, 1) forwards;
  transform: translateY(100%);
  opacity: 0;
}

.hero-headline .line-1 {
  animation-delay: 0.2s;
}

.hero-headline .line-2 {
  animation-delay: 0.4s;
}

@keyframes slideUpFade {
  to {
    transform: translateY(0);
    opacity: 1;
  }
}

.hero-subheadline {
  font-size: var(--text-xl);
  color: var(--color-text-secondary-dark);
  margin-bottom: 48px;
  animation: fadeIn 1s ease-out 0.6s forwards;
  opacity: 0;
}

@keyframes fadeIn {
  to { opacity: 1; }
}

.cta-primary {
  display: inline-flex;
  align-items: center;
  gap: 12px;
  padding: 18px 40px;
  font-size: var(--text-base);
  font-weight: var(--font-semibold);
  letter-spacing: var(--tracking-wide);
  text-transform: uppercase;
  color: var(--color-background-dark);
  background-color: var(--color-primary);
  border-radius: 0; /* Sharp corners for luxury feel */
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  animation: fadeIn 1s ease-out 0.8s forwards;
  opacity: 0;
}

.cta-primary:hover {
  background-color: var(--color-primary-hover);
  transform: translateY(-2px);
  box-shadow: 0 8px 24px rgba(212, 175, 55, 0.3);
}

.cta-primary .arrow-icon {
  width: 20px;
  height: 20px;
  transition: transform 0.3s ease;
}

.cta-primary:hover .arrow-icon {
  transform: translateX(4px);
}

.scroll-indicator {
  position: absolute;
  bottom: 40px;
  left: 50%;
  transform: translateX(-50%);
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 8px;
  animation: bounce 2s infinite;
}

@keyframes bounce {
  0%, 100% { transform: translate(-50%, 0); }
  50% { transform: translate(-50%, 10px); }
}

.scroll-text {
  font-size: var(--text-sm);
  color: var(--color-text-tertiary-dark);
  text-transform: uppercase;
  letter-spacing: var(--tracking-wider);
}

/* Mobile Responsive */
@media (max-width: 768px) {
  .hero-headline {
    font-size: var(--text-4xl); /* 48px on mobile */
  }
  
  .hero-subheadline {
    font-size: var(--text-lg);
  }
  
  .cta-primary {
    padding: 14px 32px;
    font-size: var(--text-sm);
  }
}
```

**Animations & Interactions:**

1. **On Page Load:**
   - Video fades in (0.5s)
   - Headline slides up in 2 lines (staggered 0.2s delay)
   - Subheadline fades in
   - CTA button fades in
   - Total duration: ~1.2s

2. **Scroll Behavior:**
   - Parallax effect on background video (slower scroll speed)
   - Hero content fades out as user scrolls down
   - Scroll indicator disappears after 50px scroll

3. **Interactive Elements:**
   - CTA button: Hover â†’ lift effect + glow
   - Video: Auto-play on load, pause when user scrolls past

***

#### 5.1.2. Featured Collections Section

**Layout:**

```html
<section class="featured-collections">
  <div class="container">
    <h2 class="section-title">Elemental Collections</h2>
    <p class="section-subtitle">
      Four elements. Infinite combinations.
    </p>
  </div>
  
  <div class="collections-scroll">
    <!-- Horizontal scroll container -->
    <div class="collection-card" data-element="Ba">
      <div class="card-image">
        <img src="base-collection.jpg" alt="Base Collection">
      </div>
      <div class="card-content">
        <span class="element-symbol">[Ba]</span>
        <h3 class="collection-name">Base Collection</h3>
        <p class="collection-desc">The foundation of every wardrobe</p>
        <a href="/shop/base" class="card-link">Explore â†’</a>
      </div>
    </div>
    
    <!-- Repeat for Sc, Ac, Px -->
  </div>
</section>
```

**CSS:**

```css
.featured-collections {
  padding: 120px 0;
  background-color: var(--color-background-dark);
}

.section-title {
  font-size: var(--text-4xl);
  font-weight: var(--font-bold);
  text-align: center;
  margin-bottom: 16px;
  /* Reveal animation on scroll */
  opacity: 0;
  transform: translateY(30px);
  transition: all 0.8s cubic-bezier(0.16, 1, 0.3, 1);
}

.section-title.in-view {
  opacity: 1;
  transform: translateY(0);
}

.section-subtitle {
  font-size: var(--text-lg);
  color: var(--color-text-secondary-dark);
  text-align: center;
  margin-bottom: 80px;
}

.collections-scroll {
  display: flex;
  gap: 40px;
  overflow-x: auto;
  overflow-y: hidden;
  scroll-snap-type: x mandatory;
  scrollbar-width: none; /* Hide scrollbar */
  padding: 0 80px;
  margin: 0 -80px; /* Negative margin to allow edge peek */
}

.collections-scroll::-webkit-scrollbar {
  display: none;
}

.collection-card {
  flex: 0 0 480px; /* Fixed width */
  scroll-snap-align: center;
  position: relative;
  border-radius: 4px;
  overflow: hidden;
  cursor: pointer;
  transition: transform 0.5s cubic-bezier(0.16, 1, 0.3, 1);
}

.collection-card:hover {
  transform: scale(1.02);
}

.card-image {
  position: relative;
  height: 600px;
  overflow: hidden;
}

.card-image img {
  width: 100%;
  height: 100%;
  object-fit: cover;
  transition: transform 0.6s cubic-bezier(0.16, 1, 0.3, 1);
}

.collection-card:hover .card-image img {
  transform: scale(1.05); /* Ken Burns effect */
}

.card-content {
  position: absolute;
  bottom: 0;
  left: 0;
  right: 0;
  padding: 40px;
  background: linear-gradient(
    to top,
    rgba(10, 10, 10, 0.95) 0%,
    rgba(10, 10, 10, 0.7) 50%,
    transparent 100%
  );
  transform: translateY(0);
  transition: transform 0.4s ease;
}

.element-symbol {
  display: inline-block;
  font-family: var(--font-mono);
  font-size: var(--text-3xl);
  color: var(--color-primary);
  margin-bottom: 12px;
}

.collection-name {
  font-size: var(--text-2xl);
  font-weight: var(--font-semibold);
  margin-bottom: 8px;
}

.collection-desc {
  font-size: var(--text-base);
  color: var(--color-text-secondary-dark);
  margin-bottom: 20px;
  opacity: 0;
  transform: translateY(10px);
  transition: all 0.3s ease 0.1s;
}

.collection-card:hover .collection-desc {
  opacity: 1;
  transform: translateY(0);
}

.card-link {
  display: inline-flex;
  align-items: center;
  font-size: var(--text-base);
  font-weight: var(--font-medium);
  color: var(--color-primary);
  opacity: 0;
  transform: translateY(10px);
  transition: all 0.3s ease 0.15s;
}

.collection-card:hover .card-link {
  opacity: 1;
  transform: translateY(0);
}

/* Mobile */
@media (max-width: 768px) {
  .collection-card {
    flex: 0 0 85vw;
  }
  
  .card-image {
    height: 500px;
  }
}
```

**Scroll Interactions:**

1. **Horizontal Scroll**:
   - Smooth scroll with momentum (native iOS-style)
   - Snap to center of each card
   - Edge cards peek to indicate more content

2. **Parallax Effect**:
   - As user scrolls horizontally, background images move at 0.5x speed
   - Creates depth perception

3. **Hover States** (Desktop):
   - Image zoom (1.05x scale)
   - Description slides up from bottom
   - Link arrow animates right

***

#### 5.1.3. 3D Interactive Showcase Section

**Concept:** Inspired by Nudie Jeans' interactive storytelling, this section uses scroll-triggered 3D rotation. [figma](https://www.figma.com/resource-library/web-design-trends/)

```html
<section class="product-showcase-3d">
  <div class="showcase-sticky-container">
    <div class="showcase-content">
      <div class="content-left">
        <span class="product-tag">New Release</span>
        <h2 class="product-name">The Lab Tee</h2>
        <p class="product-tagline">
          260 GSM compact cotton. Engineered for all-day comfort.
        </p>
        
        <!-- Scroll progress indicator -->
        <div class="scroll-progress">
          <div class="progress-bar" data-progress="0"></div>
          <span class="progress-text">Scroll to explore fabric technology</span>
        </div>
        
        <!-- Feature highlights (appear on scroll stages) -->
        <div class="feature-highlights">
          <div class="feature" data-stage="1">
            <h4>2-Way Stretch</h4>
            <p>Elastane-enhanced comfort</p>
          </div>
          <div class="feature" data-stage="2">
            <h4>Moisture-Wicking</h4>
            <p>Quick-dry technology</p>
          </div>
          <div class="feature" data-stage="3">
            <h4>UV Protection</h4>
            <p>UPF 50+ rated</p>
          </div>
        </div>
      </div>
      
      <div class="content-right">
        <!-- 3D model canvas -->
        <canvas id="product-3d-canvas"></canvas>
      </div>
    </div>
  </div>
</section>
```

**JavaScript Logic:**

```javascript
// Scroll-triggered 3D rotation
let scrollProgress = 0;

window.addEventListener('scroll', () => {
  const section = document.querySelector('.product-showcase-3d');
  const sectionTop = section.offsetTop;
  const sectionHeight = section.offsetHeight;
  const scrollPosition = window.scrollY;
  
  // Calculate scroll progress within this section (0 to 1)
  scrollProgress = Math.max(0, Math.min(1, 
    (scrollPosition - sectionTop) / sectionHeight
  ));
  
  // Rotate 3D model (0Â° to 360Â°)
  const rotation = scrollProgress * Math.PI * 2;
  productModel.rotation.y = rotation;
  
  // Update progress bar
  document.querySelector('.progress-bar').style.transform = 
    `scaleX(${scrollProgress})`;
  
  // Reveal features at specific stages
  if (scrollProgress > 0.25 && scrollProgress < 0.35) {
    showFeature(1);
  } else if (scrollProgress > 0.5 && scrollProgress < 0.6) {
    showFeature(2);
  } else if (scrollProgress > 0.75 && scrollProgress < 0.85) {
    showFeature(3);
  }
});

function showFeature(stage) {
  document.querySelectorAll('.feature').forEach(f => {
    f.classList.remove('active');
  });
  document.querySelector(`.feature[data-stage="${stage}"]`)
    .classList.add('active');
}
```

**CSS:**

```css
.product-showcase-3d {
  height: 400vh; /* 4x viewport to enable scroll storytelling */
  position: relative;
  background-color: var(--color-background-dark);
}

.showcase-sticky-container {
  position: sticky;
  top: 0;
  height: 100vh;
  display: flex;
  align-items: center;
  justify-content: center;
}

.showcase-content {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 80px;
  max-width: 1400px;
  padding: 0 80px;
}

.content-left {
  display: flex;
  flex-direction: column;
  justify-content: center;
}

.product-tag {
  display: inline-block;
  width: fit-content;
  padding: 6px 16px;
  font-size: var(--text-xs);
  font-weight: var(--font-semibold);
  text-transform: uppercase;
  letter-spacing: var(--tracking-wider);
  color: var(--color-background-dark);
  background-color: var(--color-primary);
  margin-bottom: 20px;
}

.product-name {
  font-size: var(--text-5xl);
  font-weight: var(--font-bold);
  margin-bottom: 24px;
}

.product-tagline {
  font-size: var(--text-xl);
  color: var(--color-text-secondary-dark);
  margin-bottom: 60px;
  max-width: 400px;
}

.scroll-progress {
  margin-bottom: 60px;
}

.progress-bar {
  width: 100%;
  height: 2px;
  background-color: var(--color-border-dark);
  margin-bottom: 12px;
  position: relative;
  overflow: hidden;
}

.progress-bar::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  height: 100%;
  width: 100%;
  background-color: var(--color-primary);
  transform: scaleX(0);
  transform-origin: left;
  transition: transform 0.1s linear;
}

.progress-text {
  font-size: var(--text-sm);
  color: var(--color-text-tertiary-dark);
}

.feature-highlights {
  display: flex;
  flex-direction: column;
  gap: 40px;
}

.feature {
  opacity: 0.3;
  transform: translateX(-20px);
  transition: all 0.5s cubic-bezier(0.16, 1, 0.3, 1);
}

.feature.active {
  opacity: 1;
  transform: translateX(0);
}

.feature h4 {
  font-size: var(--text-lg);
  font-weight: var(--font-semibold);
  margin-bottom: 8px;
}

.feature p {
  font-size: var(--text-base);
  color: var(--color-text-secondary-dark);
}

#product-3d-canvas {
  width: 100%;
  height: 600px;
  border-radius: 4px;
}

/* Mobile: Stack vertically */
@media (max-width: 1024px) {
  .showcase-content {
    grid-template-columns: 1fr;
    gap: 60px;
  }
  
  #product-3d-canvas {
    height: 400px;
  }
}
```

***

### 5.2. PRODUCT LISTING PAGE (PLP) - Shop

**Bá»‘ cá»¥c:**

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ HEADER (sticky)                                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                 â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚         â”‚  PRODUCT GRID                   â”‚ â”‚
â”‚ â”‚         â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â” â”‚ â”‚
â”‚ â”‚ FILTERS â”‚  â”‚ Prod â”‚ Prod â”‚ Prod â”‚ Prod â”‚ â”‚ â”‚
â”‚ â”‚ SIDEBAR â”‚  â”‚  1   â”‚  2   â”‚  3   â”‚  4   â”‚ â”‚ â”‚
â”‚ â”‚ (sticky)â”‚  â”œâ”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¤ â”‚ â”‚
â”‚ â”‚         â”‚  â”‚ Prod â”‚ Prod â”‚ Prod â”‚ Prod â”‚ â”‚ â”‚
â”‚ â”‚ - Cat   â”‚  â”‚  5   â”‚  6   â”‚  7   â”‚  8   â”‚ â”‚ â”‚
â”‚ â”‚ - Size  â”‚  â”œâ”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¤ â”‚ â”‚
â”‚ â”‚ - Color â”‚  â”‚ Prod â”‚ Prod â”‚ Prod â”‚ Prod â”‚ â”‚ â”‚
â”‚ â”‚ - Price â”‚  â”‚  9   â”‚  10  â”‚  11  â”‚  12  â”‚ â”‚ â”‚
â”‚ â”‚ - Elem  â”‚  â””â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”˜ â”‚ â”‚
â”‚ â”‚         â”‚                                 â”‚ â”‚
â”‚ â”‚         â”‚  [Load More Button]            â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Desktop (1920px):**
- Sidebar: 280px fixed width
- Grid: 4 columns (340px each)
- Gap: 32px

**Tablet (768px):**
- Sidebar: Collapsible drawer
- Grid: 2 columns
- Gap: 24px

**Mobile (375px):**
- Sidebar: Bottom sheet filter
- Grid: 1 column (full width)
- Gap: 16px

**HTML Structure:**

```html
<div class="shop-page">
  <!-- Breadcrumb -->
  <nav class="breadcrumb">
    <a href="/">Home</a>
    <span>/</span>
    <a href="/shop">Shop</a>
    <span>/</span>
    <span>All Products</span>
  </nav>
  
  <!-- Page Header -->
  <div class="page-header">
    <h1>All Products</h1>
    <div class="results-count">127 items</div>
  </div>
  
  <!-- Toolbar -->
  <div class="toolbar">
    <button class="filter-toggle" data-toggle="filters">
      <svg>...</svg>
      Filters
    </button>
    
    <div class="sort-dropdown">
      <select name="sort">
        <option value="newest">Newest First</option>
        <option value="price-asc">Price: Low to High</option>
        <option value="price-desc">Price: High to Low</option>
        <option value="best-selling">Best Selling</option>
      </select>
    </div>
    
    <div class="view-toggle">
      <button class="grid-view active" data-view="grid">
        <svg>...</svg>
      </button>
      <button class="list-view" data-view="list">
        <svg>...</svg>
      </button>
    </div>
  </div>
  
  <div class="shop-content">
    <!-- Filters Sidebar -->
    <aside class="filters-sidebar">
      <!-- Category Filter -->
      <div class="filter-group">
        <h3 class="filter-title">Category</h3>
        <div class="filter-options">
          <label class="filter-option">
            <input type="checkbox" name="category" value="t-shirts">
            <span>T-Shirts</span>
            <span class="count">(34)</span>
          </label>
          <label class="filter-option">
            <input type="checkbox" name="category" value="hoodies">
            <span>Hoodies</span>
            <span class="count">(22)</span>
          </label>
          <!-- More options -->
        </div>
      </div>
      
      <!-- Element Filter (Brand-specific) -->
      <div class="filter-group">
        <h3 class="filter-title">Element</h3>
        <div class="filter-options filter-elements">
          <button class="element-chip" data-element="Ba">
            <span class="symbol">[Ba]</span>
            <span class="name">Base</span>
          </button>
          <button class="element-chip" data-element="Sc">
            <span class="symbol">[Sc]</span>
            <span class="name">Scholar</span>
          </button>
          <!-- Ac, Px -->
        </div>
      </div>
      
      <!-- Size Filter -->
      <div class="filter-group">
        <h3 class="filter-title">Size</h3>
        <div class="filter-options filter-sizes">
          <button class="size-chip">XS</button>
          <button class="size-chip">S</button>
          <button class="size-chip">M</button>
          <button class="size-chip">L</button>
          <button class="size-chip">XL</button>
          <button class="size-chip">2XL</button>
        </div>
      </div>
      
      <!-- Price Range Slider -->
      <div class="filter-group">
        <h3 class="filter-title">Price Range</h3>
        <div class="price-slider">
          <input type="range" min="0" max="2000000" step="50000">
          <div class="price-labels">
            <span>â‚«0</span>
            <span>â‚«2,000,000</span>
          </div>
        </div>
      </div>
      
      <!-- Color Filter -->
      <div class="filter-group">
        <h3 class="filter-title">Color</h3>
        <div class="filter-options filter-colors">
          <button class="color-swatch" data-color="white" 
                  style="background: #F4F4F4;" title="White"></button>
          <button class="color-swatch" data-color="black" 
                  style="background: #111111;" title="Black"></button>
          <button class="color-swatch" data-color="navy" 
                  style="background: #1E3A8A;" title="Navy"></button>
          <!-- More colors -->
        </div>
      </div>
      
      <!-- Clear Filters -->
      <button class="clear-filters">Clear All Filters</button>
    </aside>
    
    <!-- Product Grid -->
    <div class="products-grid" data-view="grid">
      <!-- Product Card (will detail below) -->
      <article class="product-card" data-product-id="123">
        <!-- ... -->
      </article>
      <!-- Repeat -->
    </div>
  </div>
  
  <!-- Load More -->
  <div class="load-more-container">
    <button class="load-more-btn">
      Load More Products
      <span class="spinner"></span>
    </button>
  </div>
</div>
```

**Product Card Component - Chi Tiáº¿t:**

```html
<article class="product-card">
  <!-- Image Container with hover effect -->
  <div class="card-image-container">
    <a href="/product/the-lab-tee" class="image-link">
      <!-- Primary Image -->
      <img 
        class="primary-image" 
        src="product-front.jpg" 
        alt="The Lab Tee - Front"
        loading="lazy"
      >
      <!-- Hover Image (Back view) -->
      <img 
        class="hover-image" 
        src="product-back.jpg" 
        alt="The Lab Tee - Back"
        loading="lazy"
      >
    </a>
    
    <!-- Quick Add to Cart (appears on hover) -->
    <button class="quick-add" data-product-id="123">
      <svg>...</svg>
      Quick Add
    </button>
    
    <!-- Badges -->
    <div class="product-badges">
      <span class="badge badge-new">New</span>
      <span class="badge badge-sale">-20%</span>
    </div>
    
    <!-- Wishlist Icon -->
    <button class="wishlist-btn" aria-label="Add to wishlist">
      <svg class="heart-icon">...</svg>
    </button>
  </div>
  
  <!-- Card Content -->
  <div class="card-content">
    <!-- Element Tag -->
    <span class="element-tag">[Ba]</span>
    
    <!-- Product Name -->
    <h3 class="product-name">
      <a href="/product/the-lab-tee">The Lab Tee</a>
    </h3>
    
    <!-- Color Swatches -->
    <div class="color-swatches">
      <button class="swatch active" style="background: #F4F4F4;"></button>
      <button class="swatch" style="background: #111111;"></button>
      <button class="swatch" style="background: #1E3A8A;"></button>
      <span class="more-colors">+3</span>
    </div>
    
    <!-- Price -->
    <div class="product-price">
      <span class="current-price">â‚«289,000</span>
      <span class="original-price">â‚«350,000</span>
    </div>
    
    <!-- Quick Info (on hover) -->
    <div class="quick-info">
      <div class="info-row">
        <svg>...</svg>
        <span>100% Cotton</span>
      </div>
      <div class="info-row">
        <svg>...</svg>
        <span>Made in Vietnam</span>
      </div>
    </div>
  </div>
</article>
```

**CSS for Product Card:**

```css
.product-card {
  position: relative;
  background-color: var(--color-surface-dark);
  border-radius: 4px;
  overflow: hidden;
  transition: transform 0.3s ease, box-shadow 0.3s ease;
}

.product-card:hover {
  transform: translateY(-4px);
  box-shadow: 0 12px 32px rgba(0, 0, 0, 0.4);
}

/* Image Container */
.card-image-container {
  position: relative;
  aspect-ratio: 3 / 4; /* 600x800px */
  overflow: hidden;
  background-color: var(--color-surface-elevated);
}

.image-link {
  display: block;
  width: 100%;
  height: 100%;
  position: relative;
}

.primary-image,
.hover-image {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  object-fit: cover;
  transition: opacity 0.4s ease, transform 0.6s cubic-bezier(0.16, 1, 0.3, 1);
}

.hover-image {
  opacity: 0;
}

.product-card:hover .hover-image {
  opacity: 1;
  transform: scale(1.05); /* Subtle zoom */
}

.product-card:hover .primary-image {
  transform: scale(1.05);
}

/* Quick Add Button */
.quick-add {
  position: absolute;
  bottom: 16px;
  left: 50%;
  transform: translateX(-50%) translateY(60px);
  display: inline-flex;
  align-items: center;
  gap: 8px;
  padding: 12px 24px;
  font-size: var(--text-sm);
  font-weight: var(--font-semibold);
  text-transform: uppercase;
  letter-spacing: var(--tracking-wide);
  color: var(--color-background-dark);
  background-color: var(--color-text-primary-dark);
  border: none;
  border-radius: 2px;
  opacity: 0;
  transition: all 0.3s cubic-bezier(0.16, 1, 0.3, 1);
  cursor: pointer;
  z-index: 10;
}

.product-card:hover .quick-add {
  transform: translateX(-50%) translateY(0);
  opacity: 1;
}

.quick-add:hover {
  background-color: var(--color-primary);
}

/* Badges */
.product-badges {
  position: absolute;
  top: 12px;
  left: 12px;
  display: flex;
  flex-direction: column;
  gap: 6px;
  z-index: 5;
}

.badge {
  padding: 4px 12px;
  font-size: var(--text-xs);
  font-weight: var(--font-semibold);
  text-transform: uppercase;
  letter-spacing: var(--tracking-wider);
  border-radius: 2px;
  width: fit-content;
}

.badge-new {
  background-color: var(--color-primary);
  color: var(--color-background-dark);
}

.badge-sale {
  background-color: var(--color-error);
  color: white;
}

/* Wishlist Button */
.wishlist-btn {
  position: absolute;
  top: 12px;
  right: 12px;
  width: 40px;
  height: 40px;
  display: flex;
  align-items: center;
  justify-content: center;
  background-color: rgba(26, 26, 26, 0.6);
  backdrop-filter: blur(8px);
  border: 1px solid var(--color-border-dark);
  border-radius: 50%;
  cursor: pointer;
  transition: all 0.3s ease;
  z-index: 5;
}

.wishlist-btn:hover {
  background-color: var(--color-primary);
  border-color: var(--color-primary);
  transform: scale(1.1);
}

.heart-icon {
  width: 18px;
  height: 18px;
  fill: none;
  stroke: white;
  stroke-width: 2;
  transition: all 0.3s ease;
}

.wishlist-btn.active .heart-icon {
  fill: white;
  stroke: none;
}

/* Card Content */
.card-content {
  padding: 20px;
}

.element-tag {
  display: inline-block;
  font-family: var(--font-mono);
  font-size: var(--text-xs);
  color: var(--color-primary);
  margin-bottom: 8px;
}

.product-name {
  font-size: var(--text-lg);
  font-weight: var(--font-medium);
  margin-bottom: 12px;
}

.product-name a {
  color: var(--color-text-primary-dark);
  transition: color 0.2s ease;
}

.product-name a:hover {
  color: var(--color-primary);
}

/* Color Swatches */
.color-swatches {
  display: flex;
  align-items: center;
  gap: 8px;
  margin-bottom: 12px;
}

.swatch {
  width: 24px;
  height: 24px;
  border-radius: 50%;
  border: 2px solid transparent;
  cursor: pointer;
  transition: all 0.2s ease;
  position: relative;
}

.swatch:hover,
.swatch.active {
  border-color: var(--color-primary);
  transform: scale(1.1);
}

.more-colors {
  font-size: var(--text-xs);
  color: var(--color-text-tertiary-dark);
}

/* Price */
.product-price {
  display: flex;
  align-items: baseline;
  gap: 12px;
}

.current-price {
  font-size: var(--text-xl);
  font-weight: var(--font-bold);
  color: var(--color-text-primary-dark);
}

.original-price {
  font-size: var(--text-base);
  color: var(--color-text-tertiary-dark);
  text-decoration: line-through;
}

/* Quick Info (appears on hover) */
.quick-info {
  margin-top: 16px;
  padding-top: 16px;
  border-top: 1px solid var(--color-border-dark);
  opacity: 0;
  max-height: 0;
  overflow: hidden;
  transition: all 0.3s ease;
}

.product-card:hover .quick-info {
  opacity: 1;
  max-height: 100px;
}

.info-row {
  display: flex;
  align-items: center;
  gap: 8px;
  font-size: var(--text-sm);
  color: var(--color-text-secondary-dark);
  margin-bottom: 6px;
}

.info-row svg {
  width: 14px;
  height: 14px;
  opacity: 0.6;
}
```

**Interactions & Animations:**

1. **Card Hover:**
   - Lift effect (translateY -4px)
   - Box shadow appears
   - Image swaps from front to back
   - Quick Add button slides up
   - Quick Info section expands

2. **Quick Add Functionality:**
   - Click â†’ Size selector modal appears
   - Select size â†’ Item added to cart
   - Toast notification slides in
   - Cart icon count updates

3. **Infinite Scroll:**
   - As user reaches bottom 200px
   - AJAX loads next 20 products
   - Smooth fade-in animation for new products
   - "Load More" button becomes loading spinner

***

---

### 5.3. PRODUCT DETAIL PAGE (PDP) - Thiáº¿t Káº¿ Chi Tiáº¿t

**Layout Structure:**

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ HEADER (sticky)                                           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                           â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚ â”‚                         â”‚                             â”‚â”‚
â”‚ â”‚   IMAGE GALLERY         â”‚   PRODUCT INFO              â”‚â”‚
â”‚ â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚   - Breadcrumb              â”‚â”‚
â”‚ â”‚   â”‚                 â”‚   â”‚   - Element Tag             â”‚â”‚
â”‚ â”‚   â”‚  Main Image     â”‚   â”‚   - Product Name            â”‚â”‚
â”‚ â”‚   â”‚  (zoomable)     â”‚   â”‚   - Price                   â”‚â”‚
â”‚ â”‚   â”‚                 â”‚   â”‚   - Rating & Reviews        â”‚â”‚
â”‚ â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚   - Short Description       â”‚â”‚
â”‚ â”‚                         â”‚                             â”‚â”‚
â”‚ â”‚   [Thumbnail strip]     â”‚   SIZE SELECTOR             â”‚â”‚
â”‚ â”‚   â—‹ â—‹ â—‹ â—‹ â—‹            â”‚   [XS] [S] [M] [L] [XL]    â”‚â”‚
â”‚ â”‚                         â”‚                             â”‚â”‚
â”‚ â”‚   [3D View Toggle]      â”‚   COLOR PICKER              â”‚â”‚
â”‚ â”‚                         â”‚   â—‹ â—‹ â—‹ â—‹                  â”‚â”‚
â”‚ â”‚                         â”‚                             â”‚â”‚
â”‚ â”‚                         â”‚   QUANTITY                  â”‚â”‚
â”‚ â”‚                         â”‚   [-]   [+]              â”‚â”‚
â”‚ â”‚                         â”‚                             â”‚â”‚
â”‚ â”‚                         â”‚   [ADD TO CART - Primary]  â”‚â”‚
â”‚ â”‚                         â”‚   [BUY NOW - Secondary]    â”‚â”‚
â”‚ â”‚                         â”‚   â™¡ Add to Wishlist        â”‚â”‚
â”‚ â”‚                         â”‚                             â”‚â”‚
â”‚ â”‚                         â”‚   SHIPPING INFO             â”‚â”‚
â”‚ â”‚                         â”‚   Free shipping >â‚«300k     â”‚â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â”‚                                                           â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚ â”‚ TABS SECTION (sticky on scroll)                       â”‚â”‚
â”‚ â”‚ [Details] [Tech Specs] [Size Guide] [Reviews]        â”‚â”‚
â”‚ â”‚                                                       â”‚â”‚
â”‚ â”‚ Tab Content (smooth transition)                       â”‚â”‚
â”‚ â”‚ ...                                                   â”‚â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â”‚                                                           â”‚
â”‚ TECH SPECS TABLE (Detailed specifications)               â”‚
â”‚                                                           â”‚
â”‚ FABRIC TECHNOLOGY SECTION (Visual breakdown)              â”‚
â”‚                                                           â”‚
â”‚ SIZE GUIDE (Interactive size chart)                       â”‚
â”‚                                                           â”‚
â”‚ REVIEWS SECTION (with filters)                            â”‚
â”‚                                                           â”‚
â”‚ YOU MAY ALSO LIKE (carousel)                              â”‚
â”‚                                                           â”‚
â”‚ RECENTLY VIEWED (if applicable)                           â”‚
â”‚                                                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**HTML Structure:**

```html
<div class="pdp-container">
  <!-- Breadcrumb -->
  <nav class="breadcrumb" aria-label="Breadcrumb">
    <a href="/">Home</a>
    <span>/</span>
    <a href="/shop">Shop</a>
    <span>/</span>
    <a href="/shop/t-shirts">T-Shirts</a>
    <span>/</span>
    <span aria-current="page">The Lab Tee</span>
  </nav>

  <div class="pdp-main">
    <!-- Image Gallery Section -->
    <div class="gallery-section">
      <!-- Main Image Display -->
      <div class="main-image-container">
        <div class="image-wrapper" data-zoom-enabled>
          <img 
            id="main-image"
            src="lab-tee-white-front.jpg" 
            alt="The Lab Tee - White - Front View"
            data-zoom-image="lab-tee-white-front-high-res.jpg"
          >
          <!-- Zoom lens overlay -->
          <div class="zoom-lens"></div>
          <!-- Zoomed result container (appears on hover) -->
          <div class="zoom-result"></div>
        </div>
        
        <!-- Image Navigation Arrows -->
        <button class="image-nav prev" aria-label="Previous image">
          <svg>...</svg>
        </button>
        <button class="image-nav next" aria-label="Next image">
          <svg>...</svg>
        </button>
        
        <!-- Image Counter -->
        <div class="image-counter">
          <span class="current">1</span> / <span class="total">8</span>
        </div>
      </div>
      
      <!-- Thumbnail Strip -->
      <div class="thumbnail-strip">
        <button class="thumbnail active" data-image="front">
          <img src="lab-tee-white-front-thumb.jpg" alt="Front view">
        </button>
        <button class="thumbnail" data-image="back">
          <img src="lab-tee-white-back-thumb.jpg" alt="Back view">
        </button>
        <button class="thumbnail" data-image="detail1">
          <img src="lab-tee-white-detail1-thumb.jpg" alt="Detail view 1">
        </button>
        <button class="thumbnail" data-image="detail2">
          <img src="lab-tee-white-detail2-thumb.jpg" alt="Detail view 2">
        </button>
        <button class="thumbnail" data-image="lifestyle1">
          <img src="lab-tee-white-lifestyle1-thumb.jpg" alt="Lifestyle shot 1">
        </button>
        <button class="thumbnail thumbnail-3d" data-view="3d">
          <div class="icon-3d">
            <svg>...</svg>
            <span>360Â° View</span>
          </div>
        </button>
      </div>
      
      <!-- 3D Viewer (toggleable) -->
      <div class="viewer-3d" style="display: none;">
        <canvas id="product-3d"></canvas>
        <div class="viewer-3d-controls">
          <button class="control-btn" data-action="rotate-left">
            <svg>â†º</svg>
          </button>
          <button class="control-btn" data-action="rotate-right">
            <svg>â†»</svg>
          </button>
          <button class="control-btn" data-action="zoom-in">
            <svg>+</svg>
          </button>
          <button class="control-btn" data-action="zoom-out">
            <svg>-</svg>
          </button>
          <button class="control-btn" data-action="reset">
            <svg>âŸ²</svg>
          </button>
        </div>
        <button class="close-3d" data-action="close-3d">
          â† Back to Photos
        </button>
      </div>
    </div>

    <!-- Product Info Section -->
    <div class="product-info-section">
      <!-- Element Tag -->
      <div class="product-meta">
        <span class="element-badge">[Ba] Base Collection</span>
        <span class="product-sku">SKU: BA-M01-WH-L</span>
      </div>
      
      <!-- Product Name -->
      <h1 class="product-title">The Lab Tee</h1>
      
      <!-- Rating & Reviews -->
      <div class="rating-summary">
        <div class="stars" aria-label="4.8 out of 5 stars">
          <svg class="star filled">â˜…</svg>
          <svg class="star filled">â˜…</svg>
          <svg class="star filled">â˜…</svg>
          <svg class="star filled">â˜…</svg>
          <svg class="star half">â˜…</svg>
        </div>
        <span class="rating-score">4.8</span>
        <a href="#reviews" class="review-count">(127 reviews)</a>
      </div>
      
      <!-- Price -->
      <div class="price-container">
        <div class="price-main">
          <span class="current-price">â‚«289,000</span>
          <span class="original-price">â‚«350,000</span>
          <span class="discount-badge">-17%</span>
        </div>
        <div class="price-note">
          Tax included. Shipping calculated at checkout.
        </div>
      </div>
      
      <!-- Short Description -->
      <div class="product-description">
        <p>
          The Lab Tee lÃ  Ã¡o thun cÆ¡ báº£n Ä‘Æ°á»£c nÃ¢ng cáº¥p vá»›i cÃ´ng nghá»‡ váº£i 
          <strong>260 GSM Compact Cotton 2-Way Stretch</strong>. 
          Thiáº¿t káº¿ minimalist, form boxy thoáº£i mÃ¡i, phÃ¹ há»£p má»i hoÃ n cáº£nh.
        </p>
      </div>
      
      <!-- Key Features (Pills) -->
      <div class="key-features">
        <span class="feature-pill">
          <svg>âœ“</svg>
          100% Cotton
        </span>
        <span class="feature-pill">
          <svg>âœ“</svg>
          Made in Vietnam
        </span>
        <span class="feature-pill">
          <svg>âœ“</svg>
          Pre-shrunk
        </span>
        <span class="feature-pill">
          <svg>âœ“</svg>
          Oeko-Tex Certified
        </span>
      </div>
      
      <!-- Color Selector -->
      <div class="option-group">
        <label class="option-label">
          Color: <span class="selected-value">White Concrete</span>
        </label>
        <div class="color-selector">
          <button 
            class="color-option active" 
            data-color="white"
            aria-label="White Concrete"
          >
            <span class="color-swatch" style="background: #F4F4F4;"></span>
            <span class="color-name">White</span>
            <svg class="checkmark">âœ“</svg>
          </button>
          
          <button 
            class="color-option" 
            data-color="black"
            aria-label="Obsidian Black"
          >
            <span class="color-swatch" style="background: #111111;"></span>
            <span class="color-name">Black</span>
            <svg class="checkmark">âœ“</svg>
          </button>
          
          <button 
            class="color-option" 
            data-color="navy"
            aria-label="Midnight Navy"
          >
            <span class="color-swatch" style="background: #1E3A8A;"></span>
            <span class="color-name">Navy</span>
            <svg class="checkmark">âœ“</svg>
          </button>
          
          <button 
            class="color-option out-of-stock" 
            data-color="gray"
            aria-label="Slate Gray - Out of Stock"
            disabled
          >
            <span class="color-swatch" style="background: #64748B;"></span>
            <span class="color-name">Gray</span>
            <span class="oos-label">Out of Stock</span>
          </button>
        </div>
      </div>
      
      <!-- Size Selector -->
      <div class="option-group">
        <label class="option-label">
          Size: <span class="selected-value">L</span>
          <a href="#size-guide" class="size-guide-link">Size Guide</a>
        </label>
        <div class="size-selector">
          <button class="size-option" data-size="xs">
            XS
            <span class="stock-indicator low">Low Stock</span>
          </button>
          <button class="size-option" data-size="s">
            S
          </button>
          <button class="size-option active" data-size="m">
            M
            <svg class="checkmark">âœ“</svg>
          </button>
          <button class="size-option" data-size="l">
            L
          </button>
          <button class="size-option" data-size="xl">
            XL
          </button>
          <button class="size-option out-of-stock" data-size="2xl" disabled>
            2XL
            <span class="oos-overlay">
              <svg>âœ•</svg>
            </span>
          </button>
        </div>
      </div>
      
      <!-- Quantity Selector -->
      <div class="option-group">
        <label class="option-label">Quantity</label>
        <div class="quantity-selector">
          <button class="qty-btn minus" aria-label="Decrease quantity">
            <svg>âˆ’</svg>
          </button>
          <input 
            type="number" 
            class="qty-input" 
            value="1" 
            min="1" 
            max="10"
            aria-label="Quantity"
          >
          <button class="qty-btn plus" aria-label="Increase quantity">
            <svg>+</svg>
          </button>
          <span class="stock-info">124 in stock</span>
        </div>
      </div>
      
      <!-- Add to Cart Section -->
      <div class="actions-container">
        <button class="btn-add-to-cart" data-product-id="123">
          <svg class="cart-icon">...</svg>
          Add to Cart
          <span class="btn-loader" style="display: none;">
            <svg class="spinner">...</svg>
          </span>
        </button>
        
        <button class="btn-buy-now">
          Buy Now
        </button>
        
        <button class="btn-wishlist" aria-label="Add to wishlist">
          <svg class="heart-icon">â™¡</svg>
        </button>
      </div>
      
      <!-- Shipping & Returns Info -->
      <div class="shipping-info">
        <div class="info-item">
          <svg class="icon-truck">...</svg>
          <div class="info-content">
            <strong>Free Shipping</strong>
            <span>On orders over â‚«300,000</span>
          </div>
        </div>
        
        <div class="info-item">
          <svg class="icon-return">...</svg>
          <div class="info-content">
            <strong>30-Day Returns</strong>
            <span>Easy returns & exchanges</span>
          </div>
        </div>
        
        <div class="info-item">
          <svg class="icon-warranty">...</svg>
          <div class="info-content">
            <strong>Quality Guarantee</strong>
            <span>Backed by our quality promise</span>
          </div>
        </div>
      </div>
      
      <!-- Accordion Details (collapsed by default) -->
      <div class="accordion-section">
        <details class="accordion-item">
          <summary>
            <span>Material & Care</span>
            <svg class="chevron">â€º</svg>
          </summary>
          <div class="accordion-content">
            <ul>
              <li>100% Combed Cotton 260 GSM</li>
              <li>Pre-washed, pre-shrunk</li>
              <li>Machine wash cold, tumble dry low</li>
              <li>Do not bleach</li>
              <li>Iron on low heat if needed</li>
            </ul>
          </div>
        </details>
        
        <details class="accordion-item">
          <summary>
            <span>Shipping Information</span>
            <svg class="chevron">â€º</svg>
          </summary>
          <div class="accordion-content">
            <p>Standard shipping: 2-3 business days (â‚«30,000)</p>
            <p>Express shipping: Next day (â‚«60,000)</p>
            <p>Free shipping on orders over â‚«300,000</p>
          </div>
        </details>
        
        <details class="accordion-item">
          <summary>
            <span>Return Policy</span>
            <svg class="chevron">â€º</svg>
          </summary>
          <div class="accordion-content">
            <p>30-day return window. Items must be unworn, unwashed, with tags attached.</p>
            <a href="/returns">Full return policy â†’</a>
          </div>
        </details>
      </div>
      
      <!-- Social Share -->
      <div class="social-share">
        <span class="share-label">Share:</span>
        <button class="share-btn" data-platform="facebook">
          <svg>f</svg>
        </button>
        <button class="share-btn" data-platform="twitter">
          <svg>ğ•</svg>
        </button>
        <button class="share-btn" data-platform="pinterest">
          <svg>P</svg>
        </button>
        <button class="share-btn" data-platform="copy">
          <svg>ğŸ”—</svg>
        </button>
      </div>
    </div>
  </div>

  <!-- Sticky Add to Cart Bar (appears on scroll) -->
  <div class="sticky-atc-bar" data-visible="false">
    <div class="bar-content">
      <img src="lab-tee-thumb.jpg" alt="The Lab Tee" class="bar-thumb">
      <div class="bar-info">
        <span class="bar-name">The Lab Tee</span>
        <span class="bar-price">â‚«289,000</span>
      </div>
      <div class="bar-actions">
        <select class="bar-size-select">
          <option>Select Size</option>
          <option>XS</option>
          <option>S</option>
          <option>M</option>
          <option>L</option>
          <option>XL</option>
        </select>
        <button class="bar-atc-btn">Add to Cart</button>
      </div>
    </div>
  </div>

  <!-- Tabs Section -->
  <div class="tabs-section" data-sticky="false">
    <div class="tabs-nav">
      <button class="tab-btn active" data-tab="details">Product Details</button>
      <button class="tab-btn" data-tab="specs">Tech Specs</button>
      <button class="tab-btn" data-tab="size-guide">Size Guide</button>
      <button class="tab-btn" data-tab="reviews">Reviews (127)</button>
    </div>
    
    <!-- Tab Panels -->
    <div class="tabs-content">
      <!-- Details Tab -->
      <div class="tab-panel active" id="tab-details">
        <div class="details-content">
          <h3>About The Lab Tee</h3>
          <p>
            The Lab Tee lÃ  káº¿t quáº£ cá»§a 18 thÃ¡ng nghiÃªn cá»©u vÃ  phÃ¡t triá»ƒn. 
            ChÃºng tÃ´i Ä‘Ã£ thá»­ nghiá»‡m hÆ¡n 40 loáº¡i váº£i khÃ¡c nhau Ä‘á»ƒ tÃ¬m ra cÃ´ng thá»©c hoÃ n háº£o: 
            <strong>260 GSM Compact Cotton vá»›i 2% Elastane</strong>.
          </p>
          
          <h4>Design Philosophy</h4>
          <p>
            Boxy fit thoáº£i mÃ¡i, khÃ´ng bÃ³ sÃ¡t nhÆ°ng váº«n giá»¯ form dÃ¡ng. 
            Äá»™ dÃ i vá»«a pháº£i, cÃ³ thá»ƒ máº·c trong hoáº·c ngoÃ i quáº§n. 
            ÄÆ°á»ng may 14 SPI (stitches per inch) Ä‘áº£m báº£o Ä‘á»™ bá»n vÆ°á»£t trá»™i.
          </p>
          
          <h4>Perfect For</h4>
          <ul class="feature-list">
            <li>Everyday casual wear</li>
            <li>Gym & light workouts</li>
            <li>Layering under jackets</li>
            <li>Streetwear styling</li>
          </ul>
          
          <div class="image-grid">
            <img src="detail-fabric.jpg" alt="Fabric close-up">
            <img src="detail-stitching.jpg" alt="Stitching detail">
            <img src="detail-label.jpg" alt="Label detail">
          </div>
        </div>
      </div>
      
      <!-- Tech Specs Tab -->
      <div class="tab-panel" id="tab-specs">
        <table class="specs-table">
          <tbody>
            <tr>
              <th>Fabric Composition</th>
              <td>98% Cotton, 2% Elastane</td>
            </tr>
            <tr>
              <th>Fabric Weight</th>
              <td>260 GSM (grams per square meter)</td>
            </tr>
            <tr>
              <th>Fabric Construction</th>
              <td>Single Jersey Knit, Compact Spun</td>
            </tr>
            <tr>
              <th>Yarn Count</th>
              <td>30s Combed Cotton</td>
            </tr>
            <tr>
              <th>Stitch Density</th>
              <td>14 SPI (stitches per inch)</td>
            </tr>
            <tr>
              <th>Thread Type</th>
              <td>Polyester Core-Spun Thread</td>
            </tr>
            <tr>
              <th>Color Dyeing</th>
              <td>Reactive Dye, Colorfastness Grade 4-5</td>
            </tr>
            <tr>
              <th>Shrinkage</th>
              <td>Pre-shrunk, <2% residual shrinkage</td>
            </tr>
            <tr>
              <th>Certifications</th>
              <td>
                <ul class="cert-list">
                  <li>Oeko-Tex Standard 100 Class I</li>
                  <li>ISO 9001:2015 (Quality Management)</li>
                  <li>WRAP Certified Factory</li>
                </ul>
              </td>
            </tr>
            <tr>
              <th>Country of Origin</th>
              <td>Made in Vietnam ğŸ‡»ğŸ‡³</td>
            </tr>
          </tbody>
        </table>
        
        <div class="fabric-technology">
          <h3>Fabric Technology Breakdown</h3>
          <div class="tech-grid">
            <div class="tech-item">
              <svg class="tech-icon">...</svg>
              <h4>Compact Spinning</h4>
              <p>Reduces pilling, increases durability by 30%</p>
            </div>
            <div class="tech-item">
              <svg class="tech-icon">...</svg>
              <h4>2-Way Stretch</h4>
              <p>Horizontal elasticity for freedom of movement</p>
            </div>
            <div class="tech-item">
              <svg class="tech-icon">...</svg>
              <h4>Moisture Wicking</h4>
              <p>Pulls sweat away from skin, dries 40% faster</p>
            </div>
            <div class="tech-item">
              <svg class="tech-icon">...</svg>
              <h4>Shape Retention</h4>
              <p>Maintains form after 100+ washes (tested)</p>
            </div>
          </div>
        </div>
      </div>
      
      <!-- Size Guide Tab -->
      <div class="tab-panel" id="tab-size-guide">
        <div class="size-guide-container">
          <h3>Size Guide</h3>
          <p class="size-note">
            All measurements are in centimeters (cm). 
            For best results, measure a similar garment that fits you well.
          </p>
          
          <!-- Size Chart -->
          <div class="size-chart-wrapper">
            <table class="size-chart">
              <thead>
                <tr>
                  <th>Size</th>
                  <th>Chest (A)</th>
                  <th>Length (B)</th>
                  <th>Shoulder (C)</th>
                  <th>Sleeve (D)</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td><strong>XS</strong></td>
                  <td>96</td>
                  <td>68</td>
                  <td>44</td>
                  <td>20</td>
                </tr>
                <tr>
                  <td><strong>S</strong></td>
                  <td>100</td>
                  <td>70</td>
                  <td>46</td>
                  <td>21</td>
                </tr>
                <tr class="highlight">
                  <td><strong>M</strong></td>
                  <td>104</td>
                  <td>72</td>
                  <td>48</td>
                  <td>22</td>
                </tr>
                <tr>
                  <td><strong>L</strong></td>
                  <td>108</td>
                  <td>74</td>
                  <td>50</td>
                  <td>23</td>
                </tr>
                <tr>
                  <td><strong>XL</strong></td>
                  <td>112</td>
                  <td>76</td>
                  <td>52</td>
                  <td>24</td>
                </tr>
                <tr>
                  <td><strong>2XL</strong></td>
                  <td>116</td>
                  <td>78</td>
                  <td>54</td>
                  <td>25</td>
                </tr>
              </tbody>
            </table>
          </div>
          
          <!-- How to Measure -->
          <div class="measure-guide">
            <img src="how-to-measure.svg" alt="Measurement guide diagram">
            <div class="measure-instructions">
              <h4>How to Measure</h4>
              <ol>
                <li><strong>A - Chest:</strong> Measure 1cm below armhole, across chest</li>
                <li><strong>B - Length:</strong> From highest point of shoulder to bottom hem</li>
                <li><strong>C - Shoulder:</strong> From shoulder seam to shoulder seam</li>
                <li><strong>D - Sleeve:</strong> From shoulder seam to sleeve opening</li>
              </ol>
            </div>
          </div>
          
          <!-- Fit Recommendation -->
          <div class="fit-recommendation">
            <h4>Fit Recommendation</h4>
            <div class="fit-slider">
              <span class="fit-label">Tight</span>
              <div class="fit-bar">
                <div class="fit-indicator" style="left: 60%;"></div>
              </div>
              <span class="fit-label">Loose</span>
            </div>
            <p class="fit-desc">
              This product has a <strong>relaxed boxy fit</strong>. 
              If you prefer a slimmer fit, consider sizing down.
            </p>
          </div>
          
          <!-- Model Info -->
          <div class="model-info">
            <img src="model.jpg" alt="Model wearing The Lab Tee">
            <div class="model-details">
              <p><strong>Model is wearing size M</strong></p>
              <ul>
                <li>Height: 178 cm</li>
                <li>Chest: 96 cm</li>
                <li>Waist: 76 cm</li>
              </ul>
            </div>
          </div>
        </div>
      </div>
      
      <!-- Reviews Tab -->
      <div class="tab-panel" id="tab-reviews">
        <!-- Reviews content (detailed in next section) -->
      </div>
    </div>
  </div>

  <!-- Related Products Carousel -->
  <section class="related-products">
    <h2 class="section-title">You May Also Like</h2>
    <div class="products-carousel">
      <!-- Product cards (same as PLP) -->
    </div>
  </section>
</div>
```

**CSS for PDP - Key Sections:**

```css
/* PDP Main Layout */
.pdp-main {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 80px;
  max-width: 1600px;
  margin: 0 auto;
  padding: 40px 80px;
}

@media (max-width: 1024px) {
  .pdp-main {
    grid-template-columns: 1fr;
    gap: 40px;
    padding: 24px;
  }
}

/* Image Gallery */
.main-image-container {
  position: relative;
  aspect-ratio: 3 / 4;
  background-color: var(--color-surface-elevated);
  border-radius: 4px;
  overflow: hidden;
  cursor: zoom-in;
}

.image-wrapper {
  width: 100%;
  height: 100%;
  position: relative;
}

.image-wrapper img {
  width: 100%;
  height: 100%;
  object-fit: cover;
  transition: opacity 0.3s ease;
}

/* Image Zoom Effect */
.zoom-lens {
  position: absolute;
  border: 2px solid var(--color-primary);
  width: 150px;
  height: 150px;
  display: none;
  pointer-events: none;
  background-color: rgba(212, 175, 55, 0.1);
}

.main-image-container:hover .zoom-lens {
  display: block;
}

.zoom-result {
  position: absolute;
  right: -520px;
  top: 0;
  width: 500px;
  height: 500px;
  background-color: var(--color-surface-elevated);
  border: 1px solid var(--color-border-dark);
  border-radius: 4px;
  display: none;
  background-repeat: no-repeat;
  z-index: 100;
  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.4);
}

.main-image-container:hover .zoom-result {
  display: block;
}

/* Thumbnail Strip */
.thumbnail-strip {
  display: flex;
  gap: 12px;
  margin-top: 16px;
  overflow-x: auto;
  scrollbar-width: none;
}

.thumbnail-strip::-webkit-scrollbar {
  display: none;
}

.thumbnail {
  flex: 0 0 80px;
  height: 100px;
  border: 2px solid transparent;
  border-radius: 4px;
  overflow: hidden;
  cursor: pointer;
  transition: all 0.2s ease;
  background-color: var(--color-surface-elevated);
}

.thumbnail:hover {
  border-color: var(--color-text-secondary-dark);
}

.thumbnail.active {
  border-color: var(--color-primary);
}

.thumbnail img {
  width: 100%;
  height: 100%;
  object-fit: cover;
}

.thumbnail-3d {
  display: flex;
  align-items: center;
  justify-content: center;
  background: linear-gradient(135deg, #1A1A1A, #2A2A2A);
}

.icon-3d {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 4px;
  font-size: 10px;
  color: var(--color-primary);
}

/* Color Selector */
.color-selector {
  display: flex;
  gap: 12px;
  flex-wrap: wrap;
}

.color-option {
  position: relative;
  display: flex;
  align-items: center;
  gap: 12px;
  padding: 12px 20px;
  border: 2px solid var(--color-border-dark);
  border-radius: 4px;
  background-color: var(--color-surface-dark);
  cursor: pointer;
  transition: all 0.2s ease;
}

.color-option:hover {
  border-color: var(--color-text-secondary-dark);
}

.color-option.active {
  border-color: var(--color-primary);
  background-color: rgba(212, 175, 55, 0.05);
}

.color-swatch {
  width: 32px;
  height: 32px;
  border-radius: 50%;
  border: 1px solid rgba(255, 255, 255, 0.1);
  flex-shrink: 0;
}

.color-name {
  font-size: var(--text-sm);
  font-weight: var(--font-medium);
}

.checkmark {
  width: 16px;
  height: 16px;
  color: var(--color-primary);
  opacity: 0;
  transition: opacity 0.2s ease;
}

.color-option.active .checkmark {
  opacity: 1;
}

.color-option.out-of-stock {
  opacity: 0.4;
  cursor: not-allowed;
  position: relative;
}

.color-option.out-of-stock::before {
  content: '';
  position: absolute;
  top: 50%;
  left: 8px;
  right: 8px;
  height: 2px;
  background-color: var(--color-error);
  transform: translateY(-50%) rotate(-15deg);
}

/* Size Selector */
.size-selector {
  display: flex;
  gap: 12px;
  flex-wrap: wrap;
}

.size-option {
  position: relative;
  min-width: 60px;
  height: 50px;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  border: 2px solid var(--color-border-dark);
  border-radius: 4px;
  background-color: var(--color-surface-dark);
  font-size: var(--text-base);
  font-weight: var(--font-semibold);
  cursor: pointer;
  transition: all 0.2s ease;
}

.size-option:hover {
  border-color: var(--color-text-secondary-dark);
  transform: translateY(-2px);
}

.size-option.active {
  border-color: var(--color-primary);
  background-color: rgba(212, 175, 55, 0.1);
}

.size-option .checkmark {
  position: absolute;
  top: 4px;
  right: 4px;
  width: 12px;
  height: 12px;
  color: var(--color-primary);
  opacity: 0;
}

.size-option.active .checkmark {
  opacity: 1;
}

.stock-indicator {
  position: absolute;
  bottom: 2px;
  font-size: 8px;
  text-transform: uppercase;
  letter-spacing: 0.05em;
  padding: 2px 4px;
  border-radius: 2px;
}

.stock-indicator.low {
  background-color: var(--color-warning);
  color: var(--color-background-dark);
}

.size-option.out-of-stock {
  opacity: 0.3;
  cursor: not-allowed;
}

.oos-overlay {
  position: absolute;
  inset: 0;
  display: flex;
  align-items: center;
  justify-content: center;
  background-color: rgba(10, 10, 10, 0.8);
  color: var(--color-error);
  font-size: 24px;
}

/* Add to Cart Button */
.btn-add-to-cart {
  width: 100%;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  gap: 12px;
  padding: 18px 32px;
  font-size: var(--text-base);
  font-weight: var(--font-semibold);
  text-transform: uppercase;
  letter-spacing: var(--tracking-wide);
  color: var(--color-background-dark);
  background-color: var(--color-primary);
  border: none;
  border-radius: 2px;
  cursor: pointer;
  transition: all 0.3s cubic-bezier(0.16, 1, 0.3, 1);
  position: relative;
  overflow: hidden;
}

.btn-add-to-cart::before {
  content: '';
  position: absolute;
  top: 50%;
  left: 50%;
  width: 0;
  height: 0;
  border-radius: 50%;
  background-color: rgba(255, 255, 255, 0.2);
  transform: translate(-50%, -50%);
  transition: width 0.6s, height 0.6s;
}

.btn-add-to-cart:hover::before {
  width: 300px;
  height: 300px;
}

.btn-add-to-cart:hover {
  background-color: var(--color-primary-hover);
  transform: translateY(-2px);
  box-shadow: 0 8px 24px rgba(212, 175, 55, 0.4);
}

.btn-add-to-cart:active {
  transform: translateY(0);
}

/* Loading State */
.btn-add-to-cart.loading {
  pointer-events: none;
  opacity: 0.7;
}

.btn-loader {
  position: absolute;
  right: 20px;
}

.spinner {
  width: 20px;
  height: 20px;
  animation: spin 1s linear infinite;
}

@keyframes spin {
  to { transform: rotate(360deg); }
}

/* Sticky Add to Cart Bar */
.sticky-atc-bar {
  position: fixed;
  bottom: 0;
  left: 0;
  right: 0;
  background-color: var(--color-surface-dark);
  border-top: 1px solid var(--color-border-dark);
  padding: 16px 80px;
  transform: translateY(100%);
  transition: transform 0.3s cubic-bezier(0.16, 1, 0.3, 1);
  z-index: 900;
  box-shadow: 0 -4px 24px rgba(0, 0, 0, 0.3);
}

.sticky-atc-bar[data-visible="true"] {
  transform: translateY(0);
}

.bar-content {
  max-width: 1600px;
  margin: 0 auto;
  display: flex;
  align-items: center;
  gap: 24px;
}

.bar-thumb {
  width: 60px;
  height: 80px;
  object-fit: cover;
  border-radius: 4px;
}

.bar-info {
  display: flex;
  flex-direction: column;
  gap: 4px;
  flex: 1;
}

.bar-name {
  font-weight: var(--font-semibold);
}

.bar-price {
  color: var(--color-text-secondary-dark);
}

.bar-actions {
  display: flex;
  gap: 16px;
  align-items: center;
}

.bar-size-select {
  padding: 12px 20px;
  border: 1px solid var(--color-border-dark);
  border-radius: 2px;
  background-color: var(--color-surface-elevated);
  color: var(--color-text-primary-dark);
  font-size: var(--text-sm);
  cursor: pointer;
}

.bar-atc-btn {
  padding: 12px 40px;
  background-color: var(--color-primary);
  color: var(--color-background-dark);
  border: none;
  border-radius: 2px;
  font-weight: var(--font-semibold);
  text-transform: uppercase;
  cursor: pointer;
  transition: all 0.2s ease;
}

.bar-atc-btn:hover {
  background-color: var(--color-primary-hover);
}

/* Mobile Responsive */
@media (max-width: 768px) {
  .sticky-atc-bar {
    padding: 12px 16px;
  }
  
  .bar-content {
    flex-wrap: wrap;
  }
  
  .bar-actions {
    width: 100%;
    flex-direction: column;
  }
  
  .bar-size-select,
  .bar-atc-btn {
    width: 100%;
  }
}
```

***

---

### 5.4. SHOPPING CART PAGE - Thiáº¿t Káº¿ Chi Tiáº¿t

**Layout Structure:**

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ HEADER (sticky)                                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                 â”‚
â”‚ Shopping Cart (3 items)                         â”‚
â”‚                                                 â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚  CART ITEMS         â”‚  ORDER SUMMARY      â”‚ â”‚
â”‚ â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚ â”‚
â”‚ â”‚  â”‚ Product 1      â”‚ â”‚  â”‚ Subtotal       â”‚â”‚ â”‚
â”‚ â”‚  â”‚ [img] Details  â”‚ â”‚  â”‚ Shipping       â”‚â”‚ â”‚
â”‚ â”‚  â”‚ Qty:   [$]   â”‚ â”‚  â”‚ Discount       â”‚â”‚ â”‚
â”‚ â”‚  â”‚ [Remove]       â”‚ â”‚  â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚â”‚ â”‚
â”‚ â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚  â”‚ Total          â”‚â”‚ â”‚
â”‚ â”‚                     â”‚  â”‚                â”‚â”‚ â”‚
â”‚ â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚  â”‚ [Promo Code]   â”‚â”‚ â”‚
â”‚ â”‚  â”‚ Product 2      â”‚ â”‚  â”‚                â”‚â”‚ â”‚
â”‚ â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚  â”‚ [CHECKOUT]     â”‚â”‚ â”‚
â”‚ â”‚                     â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚ â”‚
â”‚ â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚                    â”‚ â”‚
â”‚ â”‚  â”‚ Product 3      â”‚ â”‚  TRUST BADGES     â”‚ â”‚
â”‚ â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚  - Secure Payment â”‚ â”‚
â”‚ â”‚                     â”‚  - Free Returns   â”‚ â”‚
â”‚ â”‚  [Continue Shopping]â”‚                    â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                 â”‚
â”‚ YOU MAY ALSO LIKE (carousel)                    â”‚
â”‚                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**HTML Structure:**

```html
<div class="cart-page">
  <!-- Page Header -->
  <div class="cart-header">
    <h1 class="page-title">Shopping Cart</h1>
    <span class="item-count">3 items</span>
  </div>

  <!-- Empty Cart State (shown when cart is empty) -->
  <div class="empty-cart" style="display: none;">
    <svg class="empty-cart-icon">
      <!-- Cart icon -->
    </svg>
    <h2>Your cart is empty</h2>
    <p>Looks like you haven't added anything to your cart yet.</p>
    <a href="/shop" class="btn-primary">Start Shopping</a>
  </div>

  <!-- Cart Content -->
  <div class="cart-content">
    <!-- Cart Items Section -->
    <div class="cart-items-section">
      <!-- Cart Item -->
      <article class="cart-item" data-item-id="item-123">
        <div class="item-checkbox">
          <input type="checkbox" id="item-123" checked>
          <label for="item-123" class="sr-only">Select item</label>
        </div>

        <div class="item-image">
          <a href="/product/lab-tee">
            <img 
              src="lab-tee-white-thumb.jpg" 
              alt="The Lab Tee - White"
              width="120"
              height="160"
            >
          </a>
        </div>

        <div class="item-details">
          <div class="item-header">
            <div class="item-info">
              <span class="item-element">[Ba]</span>
              <h3 class="item-name">
                <a href="/product/lab-tee">The Lab Tee</a>
              </h3>
            </div>
            <button 
              class="item-remove" 
              data-item-id="item-123"
              aria-label="Remove item"
            >
              <svg class="icon-trash">...</svg>
            </button>
          </div>

          <div class="item-variants">
            <span class="variant-label">Size:</span>
            <select class="variant-select" data-type="size">
              <option value="s">S</option>
              <option value="m" selected>M</option>
              <option value="l">L</option>
              <option value="xl">XL</option>
            </select>

            <span class="variant-label">Color:</span>
            <div class="color-selector-inline">
              <button 
                class="color-dot active" 
                data-color="white"
                style="background: #F4F4F4;"
                aria-label="White"
              ></button>
              <button 
                class="color-dot" 
                data-color="black"
                style="background: #111111;"
                aria-label="Black"
              ></button>
            </div>
          </div>

          <div class="item-stock-status">
            <svg class="icon-check">âœ“</svg>
            <span>In Stock</span>
          </div>

          <div class="item-footer">
            <!-- Quantity Selector -->
            <div class="quantity-selector-mini">
              <button class="qty-btn" data-action="decrease">âˆ’</button>
              <input 
                type="number" 
                class="qty-input" 
                value="2" 
                min="1" 
                max="10"
              >
              <button class="qty-btn" data-action="increase">+</button>
            </div>

            <!-- Price -->
            <div class="item-price">
              <span class="price-label">â‚«289,000</span>
              <span class="price-multiplier">Ã— 2</span>
              <span class="price-total">â‚«578,000</span>
            </div>

            <!-- Save for Later -->
            <button class="btn-text" data-action="save-later">
              <svg>â™¡</svg>
              Save for Later
            </button>
          </div>
        </div>
      </article>

      <!-- More cart items... -->

      <!-- Select All / Delete Selected -->
      <div class="cart-actions">
        <label class="select-all">
          <input type="checkbox" id="select-all">
          <span>Select All</span>
        </label>
        <button class="btn-text-danger" data-action="delete-selected">
          <svg>ğŸ—‘</svg>
          Delete Selected
        </button>
      </div>

      <!-- Continue Shopping Link -->
      <a href="/shop" class="continue-shopping">
        <svg>â†</svg>
        Continue Shopping
      </a>
    </div>

    <!-- Order Summary Sidebar (sticky) -->
    <aside class="order-summary" data-sticky>
      <h2 class="summary-title">Order Summary</h2>

      <!-- Price Breakdown -->
      <div class="summary-breakdown">
        <div class="summary-row">
          <span>Subtotal (3 items)</span>
          <span>â‚«867,000</span>
        </div>
        <div class="summary-row">
          <span>Shipping</span>
          <span class="shipping-calc">
            <button class="shipping-estimate">Calculate</button>
          </span>
        </div>
        <div class="summary-row discount" style="display: none;">
          <span>
            Discount
            <span class="discount-code">LAUNCH50</span>
          </span>
          <span class="text-success">-â‚«43,350</span>
        </div>
        <div class="summary-row taxes">
          <span>
            Tax (VAT 10%)
            <button class="info-tooltip" aria-label="Tax information">
              <svg>â„¹</svg>
            </button>
          </span>
          <span>â‚«86,700</span>
        </div>
      </div>

      <!-- Promo Code -->
      <div class="promo-code-section">
        <div class="promo-input-group">
          <input 
            type="text" 
            class="promo-input" 
            placeholder="Promo code"
            aria-label="Enter promo code"
          >
          <button class="promo-apply">Apply</button>
        </div>
        <!-- Error message (hidden by default) -->
        <div class="promo-error" style="display: none;">
          <svg>âš </svg>
          <span>Invalid promo code</span>
        </div>
        <!-- Success message -->
        <div class="promo-success" style="display: none;">
          <svg>âœ“</svg>
          <span>Discount applied: 50% off</span>
        </div>
      </div>

      <!-- Total -->
      <div class="summary-total">
        <span class="total-label">Total</span>
        <div class="total-amount">
          <span class="total-price">â‚«910,350</span>
          <span class="total-note">Includes VAT</span>
        </div>
      </div>

      <!-- Checkout Button -->
      <button class="btn-checkout" data-action="checkout">
        Proceed to Checkout
        <svg class="arrow-right">â†’</svg>
      </button>

      <!-- Payment Methods Preview -->
      <div class="payment-methods-preview">
        <span class="payment-label">We accept:</span>
        <div class="payment-icons">
          <img src="visa-logo.svg" alt="Visa">
          <img src="mastercard-logo.svg" alt="Mastercard">
          <img src="momo-logo.svg" alt="MoMo">
          <img src="zalopay-logo.svg" alt="ZaloPay">
          <img src="cod-icon.svg" alt="Cash on Delivery">
        </div>
      </div>

      <!-- Trust Badges -->
      <div class="trust-badges">
        <div class="badge-item">
          <svg class="badge-icon">ğŸ”’</svg>
          <span>Secure Checkout</span>
        </div>
        <div class="badge-item">
          <svg class="badge-icon">â†©</svg>
          <span>30-Day Returns</span>
        </div>
        <div class="badge-item">
          <svg class="badge-icon">âœ“</svg>
          <span>Authentic Products</span>
        </div>
      </div>

      <!-- Free Shipping Progress Bar -->
      <div class="free-shipping-progress">
        <div class="progress-header">
          <svg class="truck-icon">ğŸšš</svg>
          <span class="progress-text">
            Add <strong>â‚«133,000</strong> more for free shipping
          </span>
        </div>
        <div class="progress-bar-container">
          <div class="progress-bar-fill" style="width: 56%;"></div>
        </div>
      </div>
    </aside>
  </div>

  <!-- Recommended Products -->
  <section class="cart-recommendations">
    <h2 class="section-title">Complete Your Look</h2>
    <div class="recommendations-carousel">
      <!-- Product cards -->
    </div>
  </section>
</div>
```

**CSS for Cart Page:**

```css
.cart-page {
  max-width: 1600px;
  margin: 0 auto;
  padding: 40px 80px 120px;
}

.cart-header {
  display: flex;
  align-items: baseline;
  gap: 16px;
  margin-bottom: 40px;
  padding-bottom: 24px;
  border-bottom: 1px solid var(--color-border-dark);
}

.page-title {
  font-size: var(--text-4xl);
  font-weight: var(--font-bold);
}

.item-count {
  font-size: var(--text-lg);
  color: var(--color-text-secondary-dark);
}

/* Cart Content Layout */
.cart-content {
  display: grid;
  grid-template-columns: 1fr 400px;
  gap: 80px;
  align-items: start;
}

@media (max-width: 1024px) {
  .cart-content {
    grid-template-columns: 1fr;
    gap: 40px;
  }
  
  .order-summary {
    position: sticky;
    bottom: 0;
    left: 0;
    right: 0;
    z-index: 100;
    background: var(--color-surface-dark);
    border-top: 1px solid var(--color-border-dark);
    padding: 20px;
    box-shadow: 0 -4px 24px rgba(0, 0, 0, 0.3);
  }
}

/* Cart Item */
.cart-item {
  display: grid;
  grid-template-columns: auto 120px 1fr;
  gap: 24px;
  padding: 32px;
  background-color: var(--color-surface-dark);
  border: 1px solid var(--color-border-dark);
  border-radius: 4px;
  margin-bottom: 16px;
  transition: all 0.3s ease;
}

.cart-item:hover {
  border-color: var(--color-text-tertiary-dark);
  box-shadow: 0 4px 16px rgba(0, 0, 0, 0.2);
}

/* Remove animation */
.cart-item.removing {
  animation: slideOutRight 0.4s cubic-bezier(0.16, 1, 0.3, 1) forwards;
}

@keyframes slideOutRight {
  to {
    transform: translateX(100%);
    opacity: 0;
  }
}

.item-checkbox {
  display: flex;
  align-items: start;
  padding-top: 8px;
}

.item-checkbox input[type="checkbox"] {
  width: 20px;
  height: 20px;
  cursor: pointer;
  accent-color: var(--color-primary);
}

.item-image {
  border-radius: 4px;
  overflow: hidden;
  background-color: var(--color-surface-elevated);
}

.item-image img {
  width: 100%;
  height: auto;
  display: block;
  transition: transform 0.3s ease;
}

.cart-item:hover .item-image img {
  transform: scale(1.05);
}

/* Item Details */
.item-details {
  display: flex;
  flex-direction: column;
  gap: 16px;
}

.item-header {
  display: flex;
  justify-content: space-between;
  align-items: start;
}

.item-element {
  font-family: var(--font-mono);
  font-size: var(--text-xs);
  color: var(--color-primary);
  display: block;
  margin-bottom: 4px;
}

.item-name {
  font-size: var(--text-xl);
  font-weight: var(--font-semibold);
}

.item-name a {
  color: var(--color-text-primary-dark);
  transition: color 0.2s ease;
}

.item-name a:hover {
  color: var(--color-primary);
}

.item-remove {
  width: 36px;
  height: 36px;
  display: flex;
  align-items: center;
  justify-content: center;
  border: 1px solid var(--color-border-dark);
  border-radius: 50%;
  background-color: transparent;
  cursor: pointer;
  transition: all 0.2s ease;
}

.item-remove:hover {
  border-color: var(--color-error);
  background-color: rgba(239, 68, 68, 0.1);
}

.item-remove svg {
  width: 16px;
  height: 16px;
  stroke: var(--color-text-secondary-dark);
  transition: stroke 0.2s ease;
}

.item-remove:hover svg {
  stroke: var(--color-error);
}

/* Variants */
.item-variants {
  display: flex;
  align-items: center;
  gap: 16px;
  flex-wrap: wrap;
}

.variant-label {
  font-size: var(--text-sm);
  color: var(--color-text-secondary-dark);
}

.variant-select {
  padding: 6px 32px 6px 12px;
  font-size: var(--text-sm);
  border: 1px solid var(--color-border-dark);
  border-radius: 4px;
  background-color: var(--color-surface-elevated);
  color: var(--color-text-primary-dark);
  cursor: pointer;
  appearance: none;
  background-image: url("data:image/svg+xml,..."); /* Dropdown arrow */
  background-repeat: no-repeat;
  background-position: right 12px center;
  transition: border-color 0.2s ease;
}

.variant-select:hover,
.variant-select:focus {
  border-color: var(--color-primary);
}

.color-selector-inline {
  display: flex;
  gap: 8px;
}

.color-dot {
  width: 28px;
  height: 28px;
  border-radius: 50%;
  border: 2px solid transparent;
  cursor: pointer;
  transition: all 0.2s ease;
  position: relative;
}

.color-dot:hover {
  transform: scale(1.1);
}

.color-dot.active {
  border-color: var(--color-primary);
}

.color-dot.active::after {
  content: 'âœ“';
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  color: var(--color-primary);
  font-size: 12px;
  font-weight: bold;
}

/* Stock Status */
.item-stock-status {
  display: flex;
  align-items: center;
  gap: 6px;
  font-size: var(--text-sm);
  color: var(--color-success);
}

.item-stock-status svg {
  width: 16px;
  height: 16px;
}

/* Item Footer */
.item-footer {
  display: flex;
  align-items: center;
  gap: 24px;
  margin-top: auto;
}

.quantity-selector-mini {
  display: flex;
  align-items: center;
  border: 1px solid var(--color-border-dark);
  border-radius: 4px;
  overflow: hidden;
}

.quantity-selector-mini .qty-btn {
  width: 36px;
  height: 36px;
  display: flex;
  align-items: center;
  justify-content: center;
  background-color: var(--color-surface-elevated);
  border: none;
  cursor: pointer;
  transition: background-color 0.2s ease;
  font-size: 18px;
  color: var(--color-text-primary-dark);
}

.quantity-selector-mini .qty-btn:hover {
  background-color: var(--color-primary);
  color: var(--color-background-dark);
}

.quantity-selector-mini .qty-input {
  width: 50px;
  height: 36px;
  border: none;
  border-left: 1px solid var(--color-border-dark);
  border-right: 1px solid var(--color-border-dark);
  background-color: var(--color-surface-dark);
  color: var(--color-text-primary-dark);
  text-align: center;
  font-weight: var(--font-medium);
}

/* Remove number input spinners */
.quantity-selector-mini .qty-input::-webkit-inner-spin-button,
.quantity-selector-mini .qty-input::-webkit-outer-spin-button {
  -webkit-appearance: none;
  margin: 0;
}

.item-price {
  display: flex;
  align-items: baseline;
  gap: 8px;
  margin-left: auto;
}

.price-label {
  font-size: var(--text-base);
  color: var(--color-text-secondary-dark);
}

.price-multiplier {
  font-size: var(--text-sm);
  color: var(--color-text-tertiary-dark);
}

.price-total {
  font-size: var(--text-2xl);
  font-weight: var(--font-bold);
  color: var(--color-text-primary-dark);
}

/* Order Summary */
.order-summary {
  padding: 32px;
  background-color: var(--color-surface-dark);
  border: 1px solid var(--color-border-dark);
  border-radius: 4px;
  position: sticky;
  top: 100px; /* Below header */
}

.summary-title {
  font-size: var(--text-2xl);
  font-weight: var(--font-bold);
  margin-bottom: 24px;
  padding-bottom: 16px;
  border-bottom: 1px solid var(--color-border-dark);
}

.summary-breakdown {
  display: flex;
  flex-direction: column;
  gap: 16px;
  margin-bottom: 24px;
}

.summary-row {
  display: flex;
  justify-content: space-between;
  font-size: var(--text-base);
}

.summary-row span:first-child {
  color: var(--color-text-secondary-dark);
}

.summary-row span:last-child {
  font-weight: var(--font-medium);
  color: var(--color-text-primary-dark);
}

.summary-row.discount span:last-child {
  color: var(--color-success);
}

.discount-code {
  display: inline-block;
  padding: 2px 8px;
  margin-left: 8px;
  font-size: var(--text-xs);
  font-family: var(--font-mono);
  background-color: var(--color-success);
  color: white;
  border-radius: 2px;
}

/* Promo Code Section */
.promo-input-group {
  display: flex;
  gap: 8px;
  margin-bottom: 8px;
}

.promo-input {
  flex: 1;
  padding: 12px 16px;
  font-size: var(--text-base);
  border: 1px solid var(--color-border-dark);
  border-radius: 4px;
  background-color: var(--color-surface-elevated);
  color: var(--color-text-primary-dark);
  text-transform: uppercase;
  font-family: var(--font-mono);
  transition: border-color 0.2s ease;
}

.promo-input:focus {
  outline: none;
  border-color: var(--color-primary);
}

.promo-apply {
  padding: 12px 24px;
  font-size: var(--text-sm);
  font-weight: var(--font-semibold);
  text-transform: uppercase;
  color: var(--color-text-primary-dark);
  background-color: transparent;
  border: 1px solid var(--color-primary);
  border-radius: 4px;
  cursor: pointer;
  transition: all 0.2s ease;
}

.promo-apply:hover {
  background-color: var(--color-primary);
  color: var(--color-background-dark);
}

.promo-error,
.promo-success {
  display: flex;
  align-items: center;
  gap: 8px;
  padding: 8px 12px;
  border-radius: 4px;
  font-size: var(--text-sm);
  animation: slideDown 0.3s ease;
}

@keyframes slideDown {
  from {
    opacity: 0;
    transform: translateY(-10px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

.promo-error {
  background-color: rgba(239, 68, 68, 0.1);
  color: var(--color-error);
  border: 1px solid var(--color-error);
}

.promo-success {
  background-color: rgba(76, 175, 80, 0.1);
  color: var(--color-success);
  border: 1px solid var(--color-success);
}

/* Summary Total */
.summary-total {
  display: flex;
  justify-content: space-between;
  align-items: baseline;
  padding: 24px 0;
  border-top: 2px solid var(--color-border-dark);
  border-bottom: 2px solid var(--color-border-dark);
  margin-bottom: 24px;
}

.total-label {
  font-size: var(--text-xl);
  font-weight: var(--font-semibold);
}

.total-amount {
  display: flex;
  flex-direction: column;
  align-items: flex-end;
}

.total-price {
  font-size: var(--text-3xl);
  font-weight: var(--font-bold);
  color: var(--color-primary);
}

.total-note {
  font-size: var(--text-xs);
  color: var(--color-text-tertiary-dark);
}

/* Checkout Button */
.btn-checkout {
  width: 100%;
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 12px;
  padding: 18px 32px;
  font-size: var(--text-base);
  font-weight: var(--font-semibold);
  text-transform: uppercase;
  letter-spacing: var(--tracking-wide);
  color: var(--color-background-dark);
  background-color: var(--color-primary);
  border: none;
  border-radius: 2px;
  cursor: pointer;
  transition: all 0.3s cubic-bezier(0.16, 1, 0.3, 1);
  position: relative;
  overflow: hidden;
}

.btn-checkout::before {
  content: '';
  position: absolute;
  top: 50%;
  left: 50%;
  width: 0;
  height: 0;
  border-radius: 50%;
  background-color: rgba(255, 255, 255, 0.3);
  transform: translate(-50%, -50%);
  transition: width 0.6s, height 0.6s;
}

.btn-checkout:hover::before {
  width: 400px;
  height: 400px;
}

.btn-checkout:hover {
  background-color: var(--color-primary-hover);
  transform: translateY(-2px);
  box-shadow: 0 8px 24px rgba(212, 175, 55, 0.4);
}

.arrow-right {
  width: 20px;
  height: 20px;
  transition: transform 0.3s ease;
}

.btn-checkout:hover .arrow-right {
  transform: translateX(4px);
}

/* Free Shipping Progress */
.free-shipping-progress {
  margin-top: 24px;
  padding: 16px;
  background-color: rgba(212, 175, 55, 0.05);
  border: 1px solid rgba(212, 175, 55, 0.2);
  border-radius: 4px;
}

.progress-header {
  display: flex;
  align-items: center;
  gap: 8px;
  margin-bottom: 12px;
}

.truck-icon {
  font-size: 20px;
}

.progress-text {
  font-size: var(--text-sm);
  color: var(--color-text-secondary-dark);
}

.progress-text strong {
  color: var(--color-primary);
  font-weight: var(--font-bold);
}

.progress-bar-container {
  width: 100%;
  height: 8px;
  background-color: rgba(255, 255, 255, 0.1);
  border-radius: 4px;
  overflow: hidden;
}

.progress-bar-fill {
  height: 100%;
  background: linear-gradient(90deg, var(--color-primary) 0%, var(--color-secondary) 100%);
  border-radius: 4px;
  transition: width 0.5s cubic-bezier(0.16, 1, 0.3, 1);
}
```

***

### 5.5. CHECKOUT PAGE - Multi-Step Flow

**Layout Structure:**

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ HEADER (sticky)                                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                 â”‚
â”‚ PROGRESS INDICATOR                              â”‚
â”‚ â— â”€â”€â”€â”€â”€â”€â”€ â—‹ â”€â”€â”€â”€â”€â”€â”€ â—‹ â”€â”€â”€â”€â”€â”€â”€ â—‹               â”‚
â”‚ Info    Shipping  Payment  Review              â”‚
â”‚                                                 â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚  CHECKOUT FORM      â”‚  ORDER SUMMARY      â”‚ â”‚
â”‚ â”‚                     â”‚  (sticky)           â”‚ â”‚
â”‚ â”‚  STEP 1: Contact    â”‚                     â”‚ â”‚
â”‚ â”‚  - Email            â”‚  Product List       â”‚ â”‚
â”‚ â”‚  - Phone            â”‚  Subtotal           â”‚ â”‚
â”‚ â”‚                     â”‚  Shipping           â”‚ â”‚
â”‚ â”‚  STEP 2: Shipping   â”‚  Tax                â”‚ â”‚
â”‚ â”‚  - Address Form     â”‚  Total              â”‚ â”‚
â”‚ â”‚  - Shipping Method  â”‚                     â”‚ â”‚
â”‚ â”‚                     â”‚  [Place Order]      â”‚ â”‚
â”‚ â”‚  STEP 3: Payment    â”‚                     â”‚ â”‚
â”‚ â”‚  - Payment Methods  â”‚  Security Badges    â”‚ â”‚
â”‚ â”‚  - Billing Address  â”‚                     â”‚ â”‚
â”‚ â”‚                     â”‚                     â”‚ â”‚
â”‚ â”‚  [Continue]         â”‚                     â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**HTML Structure:**

```html
<div class="checkout-page">
  <!-- Progress Indicator -->
  <div class="checkout-progress">
    <div class="progress-step completed" data-step="1">
      <div class="step-circle">
        <span class="step-number">1</span>
        <svg class="step-check">âœ“</svg>
      </div>
      <span class="step-label">Contact Info</span>
    </div>
    <div class="progress-line completed"></div>
    
    <div class="progress-step active" data-step="2">
      <div class="step-circle">
        <span class="step-number">2</span>
        <svg class="step-check">âœ“</svg>
      </div>
      <span class="step-label">Shipping</span>
    </div>
    <div class="progress-line"></div>
    
    <div class="progress-step" data-step="3">
      <div class="step-circle">
        <span class="step-number">3</span>
        <svg class="step-check">âœ“</svg>
      </div>
      <span class="step-label">Payment</span>
    </div>
    <div class="progress-line"></div>
    
    <div class="progress-step" data-step="4">
      <div class="step-circle">
        <span class="step-number">4</span>
        <svg class="step-check">âœ“</svg>
      </div>
      <span class="step-label">Review</span>
    </div>
  </div>

  <div class="checkout-content">
    <!-- Checkout Form -->
    <div class="checkout-form">
      <!-- Step 1: Contact Information -->
      <section class="checkout-section" data-step="1">
        <h2 class="section-title">
          <span class="step-number-inline">1</span>
          Contact Information
        </h2>
        
        <div class="form-group">
          <label for="email" class="required">Email</label>
          <input 
            type="email" 
            id="email" 
            name="email"
            placeholder="your.email@example.com"
            required
            autocomplete="email"
          >
          <span class="field-note">Order confirmation will be sent here</span>
        </div>
        
        <div class="form-group">
          <label for="phone" class="required">Phone Number</label>
          <div class="phone-input-group">
            <select class="country-code">
              <option value="+84" selected>ğŸ‡»ğŸ‡³ +84</option>
              <option value="+1">ğŸ‡ºğŸ‡¸ +1</option>
              <option value="+44">ğŸ‡¬ğŸ‡§ +44</option>
            </select>
            <input 
              type="tel" 
              id="phone" 
              name="phone"
              placeholder="901 234 567"
              required
              autocomplete="tel"
            >
          </div>
        </div>
        
        <div class="form-group checkbox-group">
          <label class="checkbox-label">
            <input type="checkbox" name="marketing" id="marketing">
            <span class="checkbox-custom"></span>
            <span>Keep me updated on offers and news</span>
          </label>
        </div>
      </section>

      <!-- Step 2: Shipping Address -->
      <section class="checkout-section" data-step="2">
        <h2 class="section-title">
          <span class="step-number-inline">2</span>
          Shipping Address
        </h2>
        
        <div class="form-row">
          <div class="form-group">
            <label for="firstName" class="required">First Name</label>
            <input 
              type="text" 
              id="firstName" 
              name="firstName"
              required
              autocomplete="given-name"
            >
          </div>
          <div class="form-group">
            <label for="lastName" class="required">Last Name</label>
            <input 
              type="text" 
              id="lastName" 
              name="lastName"
              required
              autocomplete="family-name"
            >
          </div>
        </div>
        
        <div class="form-group">
          <label for="address" class="required">Street Address</label>
          <input 
            type="text" 
            id="address" 
            name="address"
            placeholder="123 Nguyen Hue Street"
            required
            autocomplete="address-line1"
          >
        </div>
        
        <div class="form-group">
          <label for="address2">Apartment, Suite, etc. (optional)</label>
          <input 
            type="text" 
            id="address2" 
            name="address2"
            placeholder="Apartment 4B"
            autocomplete="address-line2"
          >
        </div>
        
        <div class="form-row">
          <div class="form-group">
            <label for="city" class="required">City/Province</label>
            <select id="city" name="city" required>
              <option value="">Select city</option>
              <option value="hcm">Ho Chi Minh City</option>
              <option value="hanoi">Hanoi</option>
              <option value="danang">Da Nang</option>
              <!-- More cities -->
            </select>
          </div>
          <div class="form-group">
            <label for="district">District</label>
            <select id="district" name="district">
              <option value="">Select district</option>
              <!-- Dynamic based on city -->
            </select>
          </div>
        </div>
        
        <div class="form-group checkbox-group">
          <label class="checkbox-label">
            <input type="checkbox" name="saveAddress" checked>
            <span class="checkbox-custom"></span>
            <span>Save this address for future orders</span>
          </label>
        </div>
        
        <!-- Shipping Method Selection -->
        <div class="shipping-methods">
          <h3 class="subsection-title">Shipping Method</h3>
          
          <label class="shipping-option">
            <input 
              type="radio" 
              name="shippingMethod" 
              value="standard"
              checked
            >
            <span class="radio-custom"></span>
            <div class="shipping-details">
              <div class="shipping-header">
                <span class="shipping-name">Standard Shipping</span>
                <span class="shipping-price">â‚«30,000</span>
              </div>
              <span class="shipping-time">2-3 business days</span>
            </div>
          </label>
          
          <label class="shipping-option">
            <input 
              type="radio" 
              name="shippingMethod" 
              value="express"
            >
            <span class="radio-custom"></span>
            <div class="shipping-details">
              <div class="shipping-header">
                <span class="shipping-name">Express Shipping</span>
                <span class="shipping-price">â‚«60,000</span>
              </div>
              <span class="shipping-time">Next day delivery</span>
            </div>
          </label>
          
          <label class="shipping-option disabled">
            <input 
              type="radio" 
              name="shippingMethod" 
              value="sameday"
              disabled
            >
            <span class="radio-custom"></span>
            <div class="shipping-details">
              <div class="shipping-header">
                <span class="shipping-name">Same Day Delivery</span>
                <span class="shipping-price">â‚«100,000</span>
              </div>
              <span class="shipping-time">Not available for your area</span>
            </div>
          </label>
        </div>
      </section>

      <!-- Step 3: Payment -->
      <section class="checkout-section" data-step="3">
        <h2 class="section-title">
          <span class="step-number-inline">3</span>
          Payment Method
        </h2>
        
        <div class="payment-methods">
          <!-- Credit/Debit Card -->
          <label class="payment-option">
            <input 
              type="radio" 
              name="paymentMethod" 
              value="card"
            >
            <span class="radio-custom"></span>
            <div class="payment-details">
              <div class="payment-header">
                <span class="payment-name">Credit/Debit Card</span>
                <div class="card-logos">
                  <img src="visa.svg" alt="Visa">
                  <img src="mastercard.svg" alt="Mastercard">
                </div>
              </div>
            </div>
          </label>
          
          <!-- Card Details Form (shown when card selected) -->
          <div class="card-form" style="display: none;">
            <div class="form-group">
              <label for="cardNumber">Card Number</label>
              <div class="card-input-wrapper">
                <input 
                  type="text" 
                  id="cardNumber" 
                  placeholder="1234 5678 9012 3456"
                  maxlength="19"
                >
                <div class="card-type-icon"></div>
              </div>
            </div>
            
            <div class="form-row">
              <div class="form-group">
                <label for="cardExpiry">Expiry Date</label>
                <input 
                  type="text" 
                  id="cardExpiry" 
                  placeholder="MM/YY"
                  maxlength="5"
                >
              </div>
              <div class="form-group">
                <label for="cardCvc">CVC</label>
                <input 
                  type="text" 
                  id="cardCvc" 
                  placeholder="123"
                  maxlength="3"
                >
              </div>
            </div>
          </div>
          
          <!-- MoMo E-Wallet -->
          <label class="payment-option">
            <input 
              type="radio" 
              name="paymentMethod" 
              value="momo"
            >
            <span class="radio-custom"></span>
            <div class="payment-details">
              <div class="payment-header">
                <span class="payment-name">MoMo E-Wallet</span>
                <img src="momo-logo.svg" alt="MoMo" class="payment-logo">
              </div>
              <span class="payment-desc">Pay via MoMo app</span>
            </div>
          </label>
          
          <!-- ZaloPay -->
          <label class="payment-option">
            <input 
              type="radio" 
              name="paymentMethod" 
              value="zalopay"
            >
            <span class="radio-custom"></span>
            <div class="payment-details">
              <div class="payment-header">
                <span class="payment-name">ZaloPay</span>
                <img src="zalopay-logo.svg" alt="ZaloPay" class="payment-logo">
              </div>
              <span class="payment-desc">Pay via ZaloPay app</span>
            </div>
          </label>
          
          <!-- Cash on Delivery -->
          <label class="payment-option">
            <input 
              type="radio" 
              name="paymentMethod" 
              value="cod"
              checked
            >
            <span class="radio-custom"></span>
            <div class="payment-details">
              <div class="payment-header">
                <span class="payment-name">Cash on Delivery</span>
                <span class="cod-fee">+â‚«20,000 fee</span>
              </div>
              <span class="payment-desc">Pay when you receive</span>
            </div>
          </label>
        </div>
        
        <!-- Order Notes -->
        <div class="form-group">
          <label for="orderNotes">Order Notes (optional)</label>
          <textarea 
            id="orderNotes" 
            name="orderNotes"
            rows="3"
            placeholder="Special delivery instructions, gift message, etc."
          ></textarea>
        </div>
      </section>

      <!-- Navigation Buttons -->
      <div class="checkout-navigation">
        <button class="btn-secondary" data-action="back">
          <svg>â†</svg>
          Back
        </button>
        <button class="btn-primary" data-action="continue">
          Continue to Payment
          <svg>â†’</svg>
        </button>
      </div>
    </div>

    <!-- Order Summary (Sticky) -->
    <aside class="order-summary-checkout" data-sticky>
      <h2 class="summary-title">Order Summary</h2>
      
      <!-- Product List (Collapsible) -->
      <details class="order-items-toggle" open>
        <summary>
          <span>3 items in your order</span>
          <svg class="chevron">â€º</svg>
        </summary>
        
        <div class="order-items-list">
          <div class="order-item-mini">
            <div class="item-image-wrapper">
              <img src="product-thumb.jpg" alt="The Lab Tee">
              <span class="item-quantity">2</span>
            </div>
            <div class="item-info">
              <span class="item-name">The Lab Tee</span>
              <span class="item-variant">White / M</span>
            </div>
            <span class="item-price">â‚«578,000</span>
          </div>
          <!-- More items -->
        </div>
      </details>
      
      <!-- Promo Code -->
      <div class="promo-section-checkout">
        <input 
          type="text" 
          class="promo-input-small" 
          placeholder="Promo code"
        >
        <button class="btn-apply">Apply</button>
      </div>
      
      <!-- Summary Breakdown -->
      <div class="summary-breakdown-checkout">
        <div class="summary-row">
          <span>Subtotal</span>
          <span>â‚«867,000</span>
        </div>
        <div class="summary-row">
          <span>Shipping</span>
          <span>â‚«30,000</span>
        </div>
        <div class="summary-row">
          <span>COD Fee</span>
          <span>â‚«20,000</span>
        </div>
        <div class="summary-row">
          <span>Tax (VAT 10%)</span>
          <span>â‚«91,700</span>
        </div>
      </div>
      
      <!-- Total -->
      <div class="summary-total-checkout">
        <span class="total-label">Total</span>
        <span class="total-price">â‚«1,008,700</span>
      </div>
      
      <!-- Security Badges -->
      <div class="security-badges">
        <div class="badge-item">
          <svg>ğŸ”’</svg>
          <span>Secure SSL Encryption</span>
        </div>
        <div class="badge-item">
          <svg>âœ“</svg>
          <span>Money-Back Guarantee</span>
        </div>
      </div>
    </aside>
  </div>
</div>
```

**CSS for Payment Options with Animation:**

```css
.payment-option {
  display: flex;
  align-items: start;
  gap: 16px;
  padding: 20px;
  border: 2px solid var(--color-border-dark);
  border-radius: 4px;
  margin-bottom: 12px;
  cursor: pointer;
  transition: all 0.3s cubic-bezier(0.16, 1, 0.3, 1);
  position: relative;
  overflow: hidden;
}

.payment-option::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  width: 4px;
  height: 100%;
  background-color: var(--color-primary);
  transform: scaleY(0);
  transform-origin: top;
  transition: transform 0.3s cubic-bezier(0.16, 1, 0.3, 1);
}

.payment-option:hover {
  border-color: var(--color-text-secondary-dark);
  background-color: rgba(255, 255, 255, 0.02);
}

.payment-option:has(input:checked) {
  border-color: var(--color-primary);
  background-color: rgba(212, 175, 55, 0.05);
}

.payment-option:has(input:checked)::before {
  transform: scaleY(1);
}

/* Radio Custom Styling */
.radio-custom {
  position: relative;
  width: 24px;
  height: 24px;
  border: 2px solid var(--color-border-dark);
  border-radius: 50%;
  flex-shrink: 0;
  transition: all 0.2s ease;
}

.radio-custom::after {
  content: '';
  position: absolute;
  top: 50%;
  left: 50%;
  width: 12px;
  height: 12px;
  border-radius: 50%;
  background-color: var(--color-primary);
  transform: translate(-50%, -50%) scale(0);
  transition: transform 0.2s cubic-bezier(0.68, -0.55, 0.27, 1.55);
}

input[type="radio"]:checked + .radio-custom {
  border-color: var(--color-primary);
}

input[type="radio"]:checked + .radio-custom::after {
  transform: translate(-50%, -50%) scale(1);
}

/* Hide native radio */
input[type="radio"] {
  position: absolute;
  opacity: 0;
  pointer-events: none;
}
```

***

## 6. ADVANCED SCROLL ANIMATIONS & EFFECTS

### 6.1. Scroll-Triggered Animations Framework

Inspired by luxury fashion websites, ELEMENTA sá»­ dá»¥ng cÃ¡c scroll animations tinh táº¿ Ä‘á»ƒ táº¡o depth vÃ  engagement. [ambrosemarketing](https://www.ambrosemarketing.com/blog/ultimate-guide-to-luxury-website-ux-design)

**JavaScript Animation Controller:**

```javascript
// utils/scrollAnimations.js
class ScrollAnimationController {
  constructor() {
    this.observers = new Map();
    this.rafId = null;
    this.scrollY = 0;
    this.init();
  }

  init() {
    // Intersection Observer for reveal animations
    this.setupIntersectionObserver();
    
    // Scroll listener for parallax & progress
    this.setupScrollListener();
    
    // Resize handler
    window.addEventListener('resize', this.handleResize.bind(this));
  }

  setupIntersectionObserver() {
    const options = {
      root: null,
      rootMargin: '0px 0px -10% 0px', // Trigger before element fully visible
      threshold: [0, 0.25, 0.5, 0.75, 1]
    };

    const observer = new IntersectionObserver((entries) => {
      entries.forEach(entry => {
        if (entry.isIntersecting) {
          this.animateElement(entry.target, entry.intersectionRatio);
        }
      });
    }, options);

    // Observe all elements with data-animate attribute
    document.querySelectorAll('[data-animate]').forEach(el => {
      observer.observe(el);
    });

    this.observers.set('intersection', observer);
  }

  animateElement(element, ratio) {
    const animationType = element.getAttribute('data-animate');
    const delay = parseInt(element.getAttribute('data-delay')) || 0;
    const duration = parseInt(element.getAttribute('data-duration')) || 800;

    setTimeout(() => {
      element.classList.add('animating');

      switch (animationType) {
        case 'fade-up':
          this.fadeUp(element, duration);
          break;
        case 'fade-in':
          this.fadeIn(element, duration);
          break;
        case 'slide-left':
          this.slideLeft(element, duration);
          break;
        case 'scale-in':
          this.scaleIn(element, duration);
          break;
        case 'stagger-children':
          this.staggerChildren(element, duration);
          break;
        default:
          this.fadeIn(element, duration);
      }
    }, delay);
  }

  fadeUp(element, duration) {
    element.style.opacity = '0';
    element.style.transform = 'translateY(40px)';
    element.style.transition = `opacity ${duration}ms cubic-bezier(0.16, 1, 0.3, 1), 
                                transform ${duration}ms cubic-bezier(0.16, 1, 0.3, 1)`;
    
    requestAnimationFrame(() => {
      element.style.opacity = '1';
      element.style.transform = 'translateY(0)';
    });
  }

  fadeIn(element, duration) {
    element.style.opacity = '0';
    element.style.transition = `opacity ${duration}ms ease-out`;
    
    requestAnimationFrame(() => {
      element.style.opacity = '1';
    });
  }

  slideLeft(element, duration) {
    element.style.opacity = '0';
    element.style.transform = 'translateX(60px)';
    element.style.transition = `opacity ${duration}ms ease-out, 
                                transform ${duration}ms cubic-bezier(0.16, 1, 0.3, 1)`;
    
    requestAnimationFrame(() => {
      element.style.opacity = '1';
      element.style.transform = 'translateX(0)';
    });
  }

  scaleIn(element, duration) {
    element.style.opacity = '0';
    element.style.transform = 'scale(0.85)';
    element.style.transition = `opacity ${duration}ms ease-out, 
                                transform ${duration}ms cubic-bezier(0.34, 1.56, 0.64, 1)`;
    
    requestAnimationFrame(() => {
      element.style.opacity = '1';
      element.style.transform = 'scale(1)';
    });
  }

  staggerChildren(parent, duration) {
    const children = Array.from(parent.children);
    const staggerDelay = 100; // 100ms between each child

    children.forEach((child, index) => {
      setTimeout(() => {
        child.style.opacity = '0';
        child.style.transform = 'translateY(20px)';
        child.style.transition = `opacity ${duration}ms ease-out, 
                                  transform ${duration}ms cubic-bezier(0.16, 1, 0.3, 1)`;
        
        requestAnimationFrame(() => {
          child.style.opacity = '1';
          child.style.transform = 'translateY(0)';
        });
      }, index * staggerDelay);
    });
  }

  setupScrollListener() {
    let ticking = false;

    window.addEventListener('scroll', () => {
      this.scrollY = window.scrollY;

      if (!ticking) {
        window.requestAnimationFrame(() => {
          this.handleScroll();
          ticking = false;
        });
        ticking = true;
      }
    });
  }

  handleScroll() {
    // Parallax effects
    this.updateParallax();
    
    // Progress bars
    this.updateProgressBars();
    
    // Sticky elements state
    this.updateStickyElements();
    
    // Header hide/show on scroll
    this.updateHeader();
  }

  updateParallax() {
    const parallaxElements = document.querySelectorAll('[data-parallax]');
    
    parallaxElements.forEach(el => {
      const speed = parseFloat(el.getAttribute('data-parallax')) || 0.5;
      const rect = el.getBoundingClientRect();
      const elementCenter = rect.top + rect.height / 2;
      const viewportCenter = window.innerHeight / 2;
      const distance = elementCenter - viewportCenter;
      
      // Only apply if element is in viewport
      if (rect.top < window.innerHeight && rect.bottom > 0) {
        const offset = distance * speed;
        el.style.transform = `translateY(${offset}px)`;
      }
    });
  }

  updateProgressBars() {
    const progressBars = document.querySelectorAll('[data-progress-bar]');
    
    progressBars.forEach(bar => {
      const rect = bar.getBoundingClientRect();
      const windowHeight = window.innerHeight;
      
      if (rect.top < windowHeight && rect.bottom > 0) {
        const progress = Math.min(
          Math.max((windowHeight - rect.top) / windowHeight * 100, 0),
          100
        );
        
        const fill = bar.querySelector('.progress-fill');
        if (fill) {
          fill.style.transform = `scaleX(${progress / 100})`;
        }
      }
    });
  }

  updateStickyElements() {
    const stickyElements = document.querySelectorAll('[data-sticky]');
    
    stickyElements.forEach(el => {
      const triggerPoint = parseInt(el.getAttribute('data-sticky-trigger')) || 100;
      
      if (this.scrollY > triggerPoint) {
        el.classList.add('is-stuck');
      } else {
        el.classList.remove('is-stuck');
      }
    });
  }

  updateHeader() {
    const header = document.querySelector('.site-header');
    if (!header) return;

    const scrollThreshold = 100;
    const scrollDirection = this.scrollY > (this.lastScrollY || 0) ? 'down' : 'up';
    
    if (this.scrollY > scrollThreshold) {
      if (scrollDirection === 'down') {
        header.classList.add('header-hidden');
      } else {
        header.classList.remove('header-hidden');
        header.classList.add('header-scrolled');
      }
    } else {
      header.classList.remove('header-hidden', 'header-scrolled');
    }

    this.lastScrollY = this.scrollY;
  }

  handleResize() {
    // Recalculate positions on resize
    clearTimeout(this.resizeTimeout);
    this.resizeTimeout = setTimeout(() => {
      this.handleScroll();
    }, 250);
  }
}

// Initialize on DOMContentLoaded
document.addEventListener('DOMContentLoaded', () => {
  window.scrollController = new ScrollAnimationController();
});
```

**HTML Usage Examples:**

```html
<!-- Fade up on scroll -->
<div data-animate="fade-up" data-delay="0" data-duration="800">
  <h2>Product Collection</h2>
</div>

<!-- Staggered children animation -->
<div data-animate="stagger-children" data-duration="600">
  <div class="product-card">Product 1</div>
  <div class="product-card">Product 2</div>
  <div class="product-card">Product 3</div>
  <div class="product-card">Product 4</div>
</div>

<!-- Parallax background -->
<div class="hero-section">
  <div class="hero-bg" data-parallax="0.3">
    <img src="hero-bg.jpg" alt="Background">
  </div>
</div>

<!-- Progress bar -->
<div data-progress-bar>
  <div class="progress-fill"></div>
</div>
```

### 6.2. Specific Animation Effects

#### 6.2.1. Magnetic Button Effect

```html
<button class="btn-magnetic" data-magnetic>
  <span class="btn-text">Add to Cart</span>
  <span class="btn-bg"></span>
</button>
```

```javascript
// Magnetic button effect (follows cursor)
class MagneticButton {
  constructor(element) {
    this.element = element;
    this.text = element.querySelector('.btn-text');
    this.strength = 0.3; // Magnetic strength
    this.init();
  }

  init() {
    this.element.addEventListener('mousemove', this.handleMouseMove.bind(this));
    this.element.addEventListener('mouseleave', this.handleMouseLeave.bind(this));
  }

  handleMouseMove(e) {
    const rect = this.element.getBoundingClientRect();
    const centerX = rect.left + rect.width / 2;
    const centerY = rect.top + rect.height / 2;
    
    const deltaX = (e.clientX - centerX) * this.strength;
    const deltaY = (e.clientY - centerY) * this.strength;
    
    this.element.style.transform = `translate(${deltaX}px, ${deltaY}px)`;
    if (this.text) {
      this.text.style.transform = `translate(${deltaX * 0.5}px, ${deltaY * 0.5}px)`;
    }
  }

  handleMouseLeave() {
    this.element.style.transform = 'translate(0, 0)';
    if (this.text) {
      this.text.style.transform = 'translate(0, 0)';
    }
  }
}

// Initialize magnetic buttons
document.querySelectorAll('[data-magnetic]').forEach(btn => {
  new MagneticButton(btn);
});
```

```css
.btn-magnetic {
  position: relative;
  transition: transform 0.3s cubic-bezier(0.16, 1, 0.3, 1);
  cursor: pointer;
}

.btn-text {
  position: relative;
  z-index: 2;
  transition: transform 0.3s cubic-bezier(0.16, 1, 0.3, 1);
}

.btn-bg {
  position: absolute;
  inset: 0;
  background: var(--color-primary);
  z-index: 1;
  transition: transform 0.4s cubic-bezier(0.16, 1, 0.3, 1);
}

.btn-magnetic:hover .btn-bg {
  transform: scale(1.05);
}
```

#### 6.2.2. Image Reveal on Scroll

```html
<div class="image-reveal" data-reveal>
  <img src="product.jpg" alt="Product">
  <div class="reveal-overlay"></div>
</div>
```

```css
.image-reveal {
  position: relative;
  overflow: hidden;
}

.image-reveal img {
  display: block;
  width: 100%;
  height: 100%;
  object-fit: cover;
  transform: scale(1.2);
  transition: transform 1.2s cubic-bezier(0.16, 1, 0.3, 1);
}

.reveal-overlay {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: var(--color-background-dark);
  transform-origin: left;
  transform: scaleX(1);
  transition: transform 0.8s cubic-bezier(0.76, 0, 0.24, 1);
}

/* When in view */
.image-reveal.in-view .reveal-overlay {
  transform: scaleX(0);
}

.image-reveal.in-view img {
  transform: scale(1);
}
```

```javascript
// Image reveal on scroll
const revealObserver = new IntersectionObserver((entries) => {
  entries.forEach(entry => {
    if (entry.isIntersecting) {
      entry.target.classList.add('in-view');
      revealObserver.unobserve(entry.target); // Only animate once
    }
  });
}, { threshold: 0.2 });

document.querySelectorAll('[data-reveal]').forEach(el => {
  revealObserver.observe(el);
});
```

#### 6.2.3. Text Split Animation (Letter by Letter)

```html
<h1 class="split-text" data-split-text>
  The Science of Comfort
</h1>
```

```javascript
class TextSplitter {
  constructor(element) {
    this.element = element;
    this.text = element.textContent;
    this.split();
  }

  split() {
    // Clear original text
    this.element.innerHTML = '';
    
    // Split into words and letters
    const words = this.text.split(' ');
    
    words.forEach((word, wordIndex) => {
      const wordSpan = document.createElement('span');
      wordSpan.className = 'word';
      wordSpan.style.display = 'inline-block';
      wordSpan.style.whiteSpace = 'nowrap';
      
      word.split('').forEach((letter, letterIndex) => {
        const letterSpan = document.createElement('span');
        letterSpan.className = 'letter';
        letterSpan.textContent = letter;
        letterSpan.style.display = 'inline-block';
        letterSpan.style.opacity = '0';
        letterSpan.style.transform = 'translateY(100%)';
        letterSpan.style.transition = `opacity 0.5s cubic-bezier(0.16, 1, 0.3, 1) ${letterIndex * 0.03}s, 
                                       transform 0.5s cubic-bezier(0.16, 1, 0.3, 1) ${letterIndex * 0.03}s`;
        
        wordSpan.appendChild(letterSpan);
      });
      
      this.element.appendChild(wordSpan);
      
      // Add space between words
      if (wordIndex < words.length - 1) {
        this.element.appendChild(document.createTextNode(' '));
      }
    });
  }

  animate() {
    const letters = this.element.querySelectorAll('.letter');
    letters.forEach(letter => {
      letter.style.opacity = '1';
      letter.style.transform = 'translateY(0)';
    });
  }
}

// Initialize and animate
const splitTexts = document.querySelectorAll('[data-split-text]');
const splitTextObserver = new IntersectionObserver((entries) => {
  entries.forEach(entry => {
    if (entry.isIntersecting) {
      const splitter = new TextSplitter(entry.target);
      splitter.animate();
      splitTextObserver.unobserve(entry.target);
    }
  });
}, { threshold: 0.5 });

splitTexts.forEach(el => splitTextObserver.observe(el));
```

***

## 7. MICRO-INTERACTIONS

### 7.1. Add to Cart Animation

```html
<button class="add-to-cart-btn" data-product-id="123">
  <span class="btn-content">
    <svg class="icon-cart">...</svg>
    <span class="btn-text">Add to Cart</span>
  </span>
  <span class="success-checkmark" style="display: none;">
    <svg class="icon-check">âœ“</svg>
  </span>
</button>
```

```javascript
class AddToCartAnimation {
  constructor(button) {
    this.button = button;
    this.productImage = this.findProductImage();
    this.cartIcon = document.querySelector('.header-cart-icon');
  }

  async animate() {
    // 1. Button loading state
    this.button.classList.add('loading');
    
    // 2. Simulate API call
    await this.addToCartAPI();
    
    // 3. Success state
    this.button.classList.remove('loading');
    this.button.classList.add('success');
    
    // Show checkmark
    this.button.querySelector('.btn-content').style.display = 'none';
    this.button.querySelector('.success-checkmark').style.display = 'flex';
    
    // 4. Flying image animation
    if (this.productImage && this.cartIcon) {
      this.flyToCart();
    }
    
    // 5. Cart count update with bounce
    setTimeout(() => {
      this.updateCartCount();
    }, 800);
    
    // 6. Reset button after 2s
    setTimeout(() => {
      this.resetButton();
    }, 2000);
  }

  findProductImage() {
    // Find the closest product image
    const productCard = this.button.closest('.product-card, .pdp-main');
    return productCard ? productCard.querySelector('img') : null;
  }

  async addToCartAPI() {
    // Simulate API call
    return new Promise(resolve => setTimeout(resolve, 600));
  }

  flyToCart() {
    // Clone the product image
    const clone = this.productImage.cloneNode();
    clone.className = 'flying-image';
    document.body.appendChild(clone);
    
    // Get positions
    const startRect = this.productImage.getBoundingClientRect();
    const endRect = this.cartIcon.getBoundingClientRect();
    
    // Set initial position
    clone.style.position = 'fixed';
    clone.style.top = `${startRect.top}px`;
    clone.style.left = `${startRect.left}px`;
    clone.style.width = `${startRect.width}px`;
    clone.style.height = `${startRect.height}px`;
    clone.style.zIndex = '10000';
    clone.style.transition = 'all 0.8s cubic-bezier(0.16, 1, 0.3, 1)';
    clone.style.pointerEvents = 'none';
    
    // Trigger animation
    requestAnimationFrame(() => {
      clone.style.top = `${endRect.top}px`;
      clone.style.left = `${endRect.left}px`;
      clone.style.width = '40px';
      clone.style.height = '40px';
      clone.style.opacity = '0';
      clone.style.transform = 'scale(0.2)';
    });
    
    // Remove clone after animation
    setTimeout(() => {
      clone.remove();
    }, 800);
  }

  updateCartCount() {
    const countElement = document.querySelector('.cart-count');
    if (!countElement) return;
    
    const currentCount = parseInt(countElement.textContent) || 0;
    const newCount = currentCount + 1;
    
    // Bounce animation
    countElement.classList.add('bounce');
    countElement.textContent = newCount;
    
    setTimeout(() => {
      countElement.classList.remove('bounce');
    }, 600);
  }

  resetButton() {
    this.button.classList.remove('success');
    this.button.querySelector('.btn-content').style.display = 'flex';
    this.button.querySelector('.success-checkmark').style.display = 'none';
  }
}

// Event delegation
document.addEventListener('click', (e) => {
  const btn = e.target.closest('.add-to-cart-btn');
  if (btn && !btn.classList.contains('loading')) {
    const animation = new AddToCartAnimation(btn);
    animation.animate();
  }
});
```

```css
.add-to-cart-btn {
  position: relative;
  overflow: hidden;
  transition: all 0.3s cubic-bezier(0.16, 1, 0.3, 1);
}

.add-to-cart-btn.loading {
  pointer-events: none;
  opacity: 0.7;
}

.add-to-cart-btn.loading::after {
  content: '';
  position: absolute;
  top: 50%;
  left: 50%;
  width: 20px;
  height: 20px;
  border: 2px solid rgba(255, 255, 255, 0.3);
  border-top-color: white;
  border-radius: 50%;
  animation: spin 0.6s linear infinite;
  transform: translate(-50%, -50%);
}

@keyframes spin {
  to { transform: translate(-50%, -50%) rotate(360deg); }
}

.add-to-cart-btn.success {
  background-color: var(--color-success);
}

.success-checkmark {
  display: flex;
  align-items: center;
  justify-content: center;
  animation: checkmarkPop 0.4s cubic-bezier(0.68, -0.55, 0.27, 1.55);
}

@keyframes checkmarkPop {
  0% {
    transform: scale(0);
    opacity: 0;
  }
  50% {
    transform: scale(1.2);
  }
  100% {
    transform: scale(1);
    opacity: 1;
  }
}

.cart-count.bounce {
  animation: bounce 0.6s cubic-bezier(0.68, -0.55, 0.27, 1.55);
}

@keyframes bounce {
  0%, 100% { transform: scale(1); }
  50% { transform: scale(1.3); }
}

.flying-image {
  border-radius: 8px;
  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.4);
}
```

### 7.2. Wishlist Heart Animation

```html
<button class="wishlist-btn" data-product-id="123">
  <svg class="heart-icon" viewBox="0 0 24 24">
    <path class="heart-outline" d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"/>
    <path class="heart-fill" style="opacity: 0;" d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"/>
  </svg>
  <div class="particle-burst" style="display: none;"></div>
</button>
```

```javascript
class WishlistAnimation {
  constructor(button) {
    this.button = button;
    this.heartOutline = button.querySelector('.heart-outline');
    this.heartFill = button.querySelector('.heart-fill');
    this.isActive = button.classList.contains('active');
  }

  toggle() {
    if (this.isActive) {
      this.remove();
    } else {
      this.add();
    }
  }

  add() {
    this.button.classList.add('active');
    this.isActive = true;
    
    // Heart animation
    this.button.style.animation = 'heartBeat 0.6s cubic-bezier(0.68, -0.55, 0.27, 1.55)';
    
    // Fill animation
    this.heartFill.style.transition = 'opacity 0.3s ease, transform 0.3s cubic-bezier(0.68, -0.55, 0.27, 1.55)';
    this.heartFill.style.opacity = '1';
    this.heartFill.style.transform = 'scale(1)';
    
    // Particle burst
    this.createParticleBurst();
    
    // Reset animation
    setTimeout(() => {
      this.button.style.animation = '';
    }, 600);
  }

  remove() {
    this.button.classList.remove('active');
    this.isActive = false;
    
    this.heartFill.style.opacity = '0';
    this.heartFill.style.transform = 'scale(0.8)';
  }

  createParticleBurst() {
    const burst = this.button.querySelector('.particle-burst');
    burst.style.display = 'block';
    burst.innerHTML = '';
    
    // Create 8 particles
    for (let i = 0; i < 8; i++) {
      const particle = document.createElement('div');
      particle.className = 'particle';
      
      const angle = (i / 8) * Math.PI * 2;
      const distance = 30;
      const x = Math.cos(angle) * distance;
      const y = Math.sin(angle) * distance;
      
      particle.style.cssText = `
        position: absolute;
        width: 4px;
        height: 4px;
        background: var(--color-error);
        border-radius: 50%;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        animation: particleBurst 0.6s ease-out forwards;
        animation-delay: ${i * 0.02}s;
        --x: ${x}px;
        --y: ${y}px;
      `;
      
      burst.appendChild(particle);
    }
    
    // Clean up
    setTimeout(() => {
      burst.style.display = 'none';
      burst.innerHTML = '';
    }, 700);
  }
}

// Event listener
document.addEventListener('click', (e) => {
  const btn = e.target.closest('.wishlist-btn');
  if (btn) {
    const animation = new WishlistAnimation(btn);
    animation.toggle();
  }
});
```

```css
@keyframes heartBeat {
  0%, 100% { transform: scale(1); }
  25% { transform: scale(1.3); }
  50% { transform: scale(1.1); }
}

@keyframes particleBurst {
  0% {
    transform: translate(-50%, -50%) translate(0, 0) scale(1);
    opacity: 1;
  }
  100% {
    transform: translate(-50%, -50%) translate(var(--x), var(--y)) scale(0);
    opacity: 0;
  }
}

.wishlist-btn {
  position: relative;
  width: 40px;
  height: 40px;
  display: flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
  transition: all 0.2s ease;
}

.heart-icon {
  width: 24px;
  height: 24px;
}

.heart-outline {
  fill: none;
  stroke: currentColor;
  stroke-width: 2;
  transition: stroke 0.3s ease;
}

.heart-fill {
  fill: var(--color-error);
  transform-origin: center;
}

.wishlist-btn.active .heart-outline {
  stroke: var(--color-error);
}

.particle-burst {
  position: absolute;
  inset: 0;
  pointer-events: none;
}
```

***

## 8. LOADING STATES & SKELETON SCREENS

### 8.1. Product Card Skeleton

```html
<div class="product-card-skeleton">
  <div class="skeleton skeleton-image"></div>
  <div class="skeleton skeleton-text skeleton-title"></div>
  <div class="skeleton skeleton-text skeleton-price"></div>
  <div class="skeleton-color-dots">
    <div class="skeleton skeleton-dot"></div>
    <div class="skeleton skeleton-dot"></div>
    <div class="skeleton skeleton-dot"></div>
  </div>
</div>
```

```css
.skeleton {
  background: linear-gradient(
    90deg,
    var(--color-surface-elevated) 0%,
    rgba(255, 255, 255, 0.05) 50%,
    var(--color-surface-elevated) 100%
  );
  background-size: 200% 100%;
  animation: shimmer 1.5s ease-in-out infinite;
  border-radius: 4px;
}

@keyframes shimmer {
  0% {
    background-position: -200% 0;
  }
  100% {
    background-position: 200% 0;
  }
}

.skeleton-image {
  width: 100%;
  aspect-ratio: 3 / 4;
  margin-bottom: 16px;
}

.skeleton-text {
  height: 16px;
  margin-bottom: 12px;
}

.skeleton-title {
  width: 80%;
}

.skeleton-price {
  width: 40%;
}

.skeleton-color-dots {
  display: flex;
  gap: 8px;
}

.skeleton-dot {
  width: 24px;
  height: 24px;
  border-radius: 50%;
}
```

### 8.2. Page Transition Loader

```html
<div class="page-loader" data-page-loader>
  <div class="loader-content">
    <div class="loader-logo">
      <svg><!-- ELEMENTA logo --></svg>
    </div>
    <div class="loader-progress">
      <div class="loader-bar"></div>
    </div>
    <span class="loader-text">Loading...</span>
  </div>
</div>
```

```javascript
class PageLoader {
  constructor() {
    this.loader = document.querySelector('[data-page-loader]');
    this.progressBar = this.loader.querySelector('.loader-bar');
    this.progress = 0;
  }

  show() {
    this.loader.style.display = 'flex';
    this.loader.classList.add('active');
    this.simulateProgress();
  }

  hide() {
    this.progress = 100;
    this.updateProgress();
    
    setTimeout(() => {
      this.loader.classList.add('complete');
      
      setTimeout(() => {
        this.loader.classList.remove('active', 'complete');
        this.loader.style.display = 'none';
        this.progress = 0;
      }, 400);
    }, 200);
  }

  simulateProgress() {
    const interval = setInterval(() => {
      this.progress += Math.random() * 30;
      if (this.progress >= 90) {
        this.progress = 90;
        clearInterval(interval);
      }
      this.updateProgress();
    }, 200);
  }

  updateProgress() {
    this.progressBar.style.transform = `scaleX(${this.progress / 100})`;
  }
}

// Usage
const pageLoader = new PageLoader();

// Show on page navigation
document.addEventListener('click', (e) => {
  const link = e.target.closest('a[href]');
  if (link && !link.target) {
    pageLoader.show();
  }
});

// Hide on page load
window.addEventListener('load', () => {
  pageLoader.hide();
});
```

```css
.page-loader {
  position: fixed;
  inset: 0;
  background-color: var(--color-background-dark);
  display: none;
  align-items: center;
  justify-content: center;
  z-index: 10000;
  opacity: 0;
  transition: opacity 0.3s ease;
}

.page-loader.active {
  opacity: 1;
}

.page-loader.complete {
  opacity: 0;
}

.loader-content {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 24px;
}

.loader-logo {
  width: 60px;
  height: 60px;
  animation: pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite;
}

@keyframes pulse {
  0%, 100% {
    opacity: 1;
    transform: scale(1);
  }
  50% {
    opacity: 0.5;
    transform: scale(0.95);
  }
}

.loader-progress {
  width: 200px;
  height: 2px;
  background-color: rgba(255, 255, 255, 0.1);
  border-radius: 2px;
  overflow: hidden;
}

.loader-bar {
  width: 100%;
  height: 100%;
  background-color: var(--color-primary);
  transform: scaleX(0);
  transform-origin: left;
  transition: transform 0.3s ease;
}

.loader-text {
  font-size: var(--text-sm);
  color: var(--color-text-secondary-dark);
  letter-spacing: var(--tracking-wider);
  text-transform: uppercase;
}
```

***

## 9. MOBILE-SPECIFIC UX PATTERNS

### 9.1. Bottom Sheet Navigation (Mobile Menu)

```html
<div class="mobile-menu" data-mobile-menu>
  <div class="mobile-menu-overlay" data-close-menu></div>
  <div class="mobile-menu-content">
    <div class="mobile-menu-header">
      <h2>Menu</h2>
      <button class="close-btn" data-close-menu>
        <svg>Ã—</svg>
      </button>
    </div>
    
    <nav class="mobile-nav">
      <a href="/shop" class="mobile-nav-item">
        <span>Shop</span>
        <svg>â†’</svg>
      </a>
      <a href="/collections" class="mobile-nav-item">
        <span>Collections</span>
        <svg>â†’</svg>
      </a>
      <!-- More items -->
    </nav>
  </div>
</div>
```

```css
.mobile-menu {
  position: fixed;
  inset: 0;
  z-index: 9999;
  display: none;
}

.mobile-menu.active {
  display: block;
}

.mobile-menu-overlay {
  position: absolute;
  inset: 0;
  background-color: rgba(0, 0, 0, 0.8);
  backdrop-filter: blur(4px);
  animation: fadeIn 0.3s ease;
}

.mobile-menu-content {
  position: absolute;
  bottom: 0;
  left: 0;
  right: 0;
  max-height: 90vh;
  background-color: var(--color-surface-dark);
  border-radius: 24px 24px 0 0;
  padding: 24px;
  animation: slideUp 0.4s cubic-bezier(0.16, 1, 0.3, 1);
  overflow-y: auto;
}

@keyframes fadeIn {
  from { opacity: 0; }
  to { opacity: 1; }
}

@keyframes slideUp {
  from {
    transform: translateY(100%);
  }
  to {
    transform: translateY(0);
  }
}

/* Closing animation */
.mobile-menu.closing .mobile-menu-content {
  animation: slideDown 0.3s cubic-bezier(0.16, 1, 0.3, 1);
}

.mobile-menu.closing .mobile-menu-overlay {
  animation: fadeOut 0.3s ease;
}

@keyframes slideDown {
  to { transform: translateY(100%); }
}

@keyframes fadeOut {
  to { opacity: 0; }
}
```

### 9.2. Pull-to-Refresh

```javascript
class PullToRefresh {
  constructor(element) {
    this.element = element;
    this.threshold = 80; // Pull distance to trigger refresh
    this.startY = 0;
    this.currentY = 0;
    this.pulling = false;
    this.init();
  }

  init() {
    this.element.addEventListener('touchstart', this.handleTouchStart.bind(this));
    this.element.addEventListener('touchmove', this.handleTouchMove.bind(this));
    this.element.addEventListener('touchend', this.handleTouchEnd.bind(this));
  }

  handleTouchStart(e) {
    if (window.scrollY === 0) {
      this.startY = e.touches[0].pageY;
      this.pulling = true;
    }
  }

  handleTouchMove(e) {
    if (!this.pulling) return;
    
    this.currentY = e.touches[0].pageY;
    const pullDistance = Math.max(0, this.currentY - this.startY);
    
    if (pullDistance > 0 && pullDistance < this.threshold * 2) {
      e.preventDefault();
      this.updatePullIndicator(pullDistance);
    }
  }

  handleTouchEnd() {
    if (!this.pulling) return;
    
    const pullDistance = this.currentY - this.startY;
    
    if (pullDistance >= this.threshold) {
      this.triggerRefresh();
    } else {
      this.resetPullIndicator();
    }
    
    this.pulling = false;
  }

  updatePullIndicator(distance) {
    const progress = Math.min(distance / this.threshold, 1);
    const indicator = document.querySelector('.pull-indicator');
    
    if (indicator) {
      indicator.style.transform = `translateY(${distance * 0.5}px)`;
      indicator.style.opacity = progress;
      
      if (progress >= 1) {
        indicator.classList.add('ready');
      } else {
        indicator.classList.remove('ready');
      }
    }
  }

  async triggerRefresh() {
    const indicator = document.querySelector('.pull-indicator');
    indicator.classList.add('refreshing');
    
    // Perform refresh (reload data, etc.)
    await this.refresh();
    
    setTimeout(() => {
      this.resetPullIndicator();
    }, 1000);
  }

  async refresh() {
    // Simulate data refresh
    return new Promise(resolve => {
      setTimeout(() => {
        window.location.reload();
        resolve();
      }, 1000);
    });
  }

  resetPullIndicator() {
    const indicator = document.querySelector('.pull-indicator');
    if (indicator) {
      indicator.style.transform = 'translateY(0)';
      indicator.style.opacity = '0';
      indicator.classList.remove('ready', 'refreshing');
    }
  }
}

// Initialize on mobile
if ('ontouchstart' in window) {
  new PullToRefresh(document.body);
}
```

***


## 10. ACCESSIBILITY (A11Y) FEATURES

### 10.1. Keyboard Navigation

```javascript
// Keyboard navigation controller
class KeyboardNavigationController {
  constructor() {
    this.focusableElements = [
      'a[href]',
      'button:not([disabled])',
      'input:not([disabled])',
      'select:not([disabled])',
      'textarea:not([disabled])',
      '[tabindex]:not([tabindex="-1"])'
    ].join(', ');
    
    this.init();
  }

  init() {
    // Focus visible only on keyboard navigation
    document.addEventListener('keydown', (e) => {
      if (e.key === 'Tab') {
        document.body.classList.add('keyboard-nav');
      }
    });

    document.addEventListener('mousedown', () => {
      document.body.classList.remove('keyboard-nav');
    });

    // Skip to main content
    this.setupSkipLink();

    // Trap focus in modals
    this.setupModalFocusTrap();

    // Arrow key navigation for product grids
    this.setupGridNavigation();
  }

  setupSkipLink() {
    const skipLink = document.querySelector('.skip-to-content');
    if (!skipLink) return;

    skipLink.addEventListener('click', (e) => {
      e.preventDefault();
      const mainContent = document.querySelector('#main-content');
      if (mainContent) {
        mainContent.setAttribute('tabindex', '-1');
        mainContent.focus();
      }
    });
  }

  setupModalFocusTrap() {
    document.addEventListener('keydown', (e) => {
      const modal = document.querySelector('.modal.active');
      if (!modal || e.key !== 'Tab') return;

      const focusable = Array.from(modal.querySelectorAll(this.focusableElements));
      const firstElement = focusable[0];
      const lastElement = focusable[focusable.length - 1];

      if (e.shiftKey) {
        // Shift + Tab
        if (document.activeElement === firstElement) {
          e.preventDefault();
          lastElement.focus();
        }
      } else {
        // Tab
        if (document.activeElement === lastElement) {
          e.preventDefault();
          firstElement.focus();
        }
      }
    });
  }

  setupGridNavigation() {
    const grids = document.querySelectorAll('[data-grid-nav]');
    
    grids.forEach(grid => {
      grid.addEventListener('keydown', (e) => {
        const items = Array.from(grid.querySelectorAll('.product-card'));
        const currentIndex = items.indexOf(document.activeElement.closest('.product-card'));
        
        if (currentIndex === -1) return;

        const cols = parseInt(getComputedStyle(grid).gridTemplateColumns.split(' ').length);
        let targetIndex = currentIndex;

        switch(e.key) {
          case 'ArrowRight':
            targetIndex = Math.min(currentIndex + 1, items.length - 1);
            break;
          case 'ArrowLeft':
            targetIndex = Math.max(currentIndex - 1, 0);
            break;
          case 'ArrowDown':
            targetIndex = Math.min(currentIndex + cols, items.length - 1);
            break;
          case 'ArrowUp':
            targetIndex = Math.max(currentIndex - cols, 0);
            break;
          default:
            return;
        }

        if (targetIndex !== currentIndex) {
          e.preventDefault();
          const targetLink = items[targetIndex].querySelector('a');
          if (targetLink) targetLink.focus();
        }
      });
    });
  }
}

// Initialize
new KeyboardNavigationController();
```

**HTML - Skip to Content Link:**

```html
<a href="#main-content" class="skip-to-content">
  Skip to main content
</a>

<style>
.skip-to-content {
  position: absolute;
  top: -100px;
  left: 50%;
  transform: translateX(-50%);
  z-index: 10000;
  padding: 12px 24px;
  background-color: var(--color-primary);
  color: var(--color-background-dark);
  text-decoration: none;
  font-weight: var(--font-semibold);
  border-radius: 4px;
  transition: top 0.3s ease;
}

.skip-to-content:focus {
  top: 20px;
}

/* Focus visible only on keyboard navigation */
body:not(.keyboard-nav) *:focus {
  outline: none;
}

body.keyboard-nav *:focus {
  outline: 2px solid var(--color-primary);
  outline-offset: 2px;
}
</style>
```

### 10.2. Screen Reader Optimization

```html
<!-- ARIA Labels & Landmarks -->
<header role="banner" aria-label="Site header">
  <nav role="navigation" aria-label="Main navigation">
    <ul>
      <li><a href="/shop">Shop</a></li>
      <li><a href="/collections">Collections</a></li>
    </ul>
  </nav>
</header>

<main id="main-content" role="main" aria-label="Main content">
  <!-- Page content -->
</main>

<aside role="complementary" aria-label="Shopping cart">
  <!-- Cart sidebar -->
</aside>

<footer role="contentinfo" aria-label="Site footer">
  <!-- Footer content -->
</footer>

<!-- Live Regions for Dynamic Updates -->
<div 
  class="cart-notification" 
  role="status" 
  aria-live="polite" 
  aria-atomic="true"
>
  <!-- Cart update messages -->
</div>

<div 
  class="error-notification" 
  role="alert" 
  aria-live="assertive"
>
  <!-- Error messages -->
</div>

<!-- Product Card with Proper ARIA -->
<article class="product-card" aria-labelledby="product-title-123">
  <a href="/product/lab-tee" aria-label="View The Lab Tee product details">
    <img 
      src="product.jpg" 
      alt="The Lab Tee in white color, front view"
      loading="lazy"
    >
  </a>
  
  <h3 id="product-title-123">The Lab Tee</h3>
  
  <div class="rating" role="img" aria-label="4.8 out of 5 stars based on 127 reviews">
    <div class="stars" aria-hidden="true">â˜…â˜…â˜…â˜…â˜…</div>
  </div>
  
  <div class="price">
    <span class="sr-only">Current price</span>
    <span aria-label="289,000 Vietnamese dong">â‚«289,000</span>
    <span class="sr-only">Original price</span>
    <span aria-label="350,000 Vietnamese dong" class="original-price">â‚«350,000</span>
  </div>
  
  <button 
    class="add-to-cart" 
    aria-label="Add The Lab Tee to shopping cart"
    aria-describedby="stock-status-123"
  >
    Add to Cart
  </button>
  
  <div id="stock-status-123" class="sr-only">
    In stock, 124 units available
  </div>
</article>

<!-- Screen Reader Only Class -->
<style>
.sr-only {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border: 0;
}

.sr-only-focusable:focus {
  position: static;
  width: auto;
  height: auto;
  overflow: visible;
  clip: auto;
  white-space: normal;
}
</style>
```

### 10.3. Color Contrast & Text Sizing

```css
/* Ensure WCAG AA compliance (4.5:1 for normal text, 3:1 for large text) */

/* High Contrast Mode Support */
@media (prefers-contrast: high) {
  :root {
    --color-text-primary-dark: #FFFFFF;
    --color-text-secondary-dark: #E0E0E0;
    --color-border-dark: rgba(255, 255, 255, 0.3);
  }
  
  .btn-primary {
    border: 2px solid currentColor;
  }
}

/* Reduced Motion Support */
@media (prefers-reduced-motion: reduce) {
  *,
  *::before,
  *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
    scroll-behavior: auto !important;
  }
}

/* User Font Size Preferences */
html {
  font-size: 16px; /* Base size */
}

@media (prefers-reduced-data: reduce) {
  /* Disable heavy animations, videos */
  video {
    display: none;
  }
  
  [data-animate] {
    animation: none !important;
  }
}

/* Focus Indicators with High Contrast */
:focus-visible {
  outline: 3px solid var(--color-primary);
  outline-offset: 3px;
}

/* Minimum Touch Target Size: 44x44px (WCAG 2.5.5) */
button,
a,
input[type="checkbox"],
input[type="radio"] {
  min-width: 44px;
  min-height: 44px;
  display: inline-flex;
  align-items: center;
  justify-content: center;
}
```

***

## 11. DARK/LIGHT MODE TOGGLE

### 11.1. Theme Switcher Implementation

```html
<!-- Theme Toggle Button -->
<button 
  class="theme-toggle" 
  aria-label="Toggle dark/light mode"
  data-theme-toggle
>
  <svg class="icon-sun" aria-hidden="true">
    <circle cx="12" cy="12" r="5"/>
    <!-- Sun rays -->
  </svg>
  <svg class="icon-moon" aria-hidden="true">
    <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"/>
  </svg>
  <span class="sr-only">Current theme: <span data-theme-label>dark</span></span>
</button>
```

```javascript
class ThemeController {
  constructor() {
    this.currentTheme = this.getPreferredTheme();
    this.toggle = document.querySelector('[data-theme-toggle]');
    this.init();
  }

  init() {
    // Apply saved theme
    this.setTheme(this.currentTheme, false);

    // Toggle listener
    if (this.toggle) {
      this.toggle.addEventListener('click', () => {
        this.toggleTheme();
      });
    }

    // Listen for system theme changes
    window.matchMedia('(prefers-color-scheme: dark)').addEventListener('change', (e) => {
      if (!localStorage.getItem('theme')) {
        this.setTheme(e.matches ? 'dark' : 'light', true);
      }
    });
  }

  getPreferredTheme() {
    // 1. Check localStorage
    const savedTheme = localStorage.getItem('theme');
    if (savedTheme) return savedTheme;

    // 2. Check system preference
    if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
      return 'dark';
    }

    // 3. Default to dark (brand preference)
    return 'dark';
  }

  setTheme(theme, animate = true) {
    this.currentTheme = theme;
    
    // Add transition class if animating
    if (animate) {
      document.documentElement.classList.add('theme-transitioning');
    }

    // Set data attribute on <html>
    document.documentElement.setAttribute('data-theme', theme);

    // Update toggle button state
    if (this.toggle) {
      this.toggle.setAttribute('aria-pressed', theme === 'dark' ? 'true' : 'false');
      const label = this.toggle.querySelector('[data-theme-label]');
      if (label) label.textContent = theme;
    }

    // Save to localStorage
    localStorage.setItem('theme', theme);

    // Remove transition class
    if (animate) {
      setTimeout(() => {
        document.documentElement.classList.remove('theme-transitioning');
      }, 300);
    }

    // Dispatch event for other components
    window.dispatchEvent(new CustomEvent('themechange', { detail: { theme } }));
  }

  toggleTheme() {
    const newTheme = this.currentTheme === 'dark' ? 'light' : 'dark';
    this.setTheme(newTheme, true);
  }
}

// Initialize
const themeController = new ThemeController();
```

**CSS Variables for Both Themes:**

```css
:root {
  /* Default: Dark Theme */
  --color-background: #0A0A0A;
  --color-surface: #1A1A1A;
  --color-surface-elevated: #2A2A2A;
  --color-text-primary: #FFFFFF;
  --color-text-secondary: #A0A0A0;
  --color-text-tertiary: #707070;
  --color-border: rgba(255, 255, 255, 0.08);
  --color-overlay: rgba(0, 0, 0, 0.85);
}

/* Light Theme Override */
[data-theme="light"] {
  --color-background: #FAFAFA;
  --color-surface: #FFFFFF;
  --color-surface-elevated: #F5F5F5;
  --color-text-primary: #1A1A1A;
  --color-text-secondary: #666666;
  --color-text-tertiary: #999999;
  --color-border: rgba(0, 0, 0, 0.08);
  --color-overlay: rgba(255, 255, 255, 0.95);
  
  /* Adjust primary color for better contrast in light mode */
  --color-primary: #C29D2F; /* Darker gold */
}

/* Smooth theme transition */
html.theme-transitioning,
html.theme-transitioning *,
html.theme-transitioning *::before,
html.theme-transitioning *::after {
  transition: background-color 0.3s ease,
              color 0.3s ease,
              border-color 0.3s ease !important;
}

/* Theme Toggle Button */
.theme-toggle {
  position: relative;
  width: 44px;
  height: 44px;
  border: 1px solid var(--color-border);
  border-radius: 50%;
  background-color: var(--color-surface-elevated);
  cursor: pointer;
  transition: all 0.3s ease;
}

.theme-toggle:hover {
  border-color: var(--color-primary);
  background-color: var(--color-surface);
}

.theme-toggle svg {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  width: 20px;
  height: 20px;
  transition: all 0.3s ease;
}

.icon-sun {
  opacity: 0;
  transform: translate(-50%, -50%) rotate(-90deg);
  fill: var(--color-text-primary);
}

.icon-moon {
  opacity: 1;
  transform: translate(-50%, -50%) rotate(0deg);
  fill: var(--color-text-primary);
}

[data-theme="light"] .icon-sun {
  opacity: 1;
  transform: translate(-50%, -50%) rotate(0deg);
}

[data-theme="light"] .icon-moon {
  opacity: 0;
  transform: translate(-50%, -50%) rotate(90deg);
}
```

***

## 12. RESPONSIVE BREAKPOINTS & MOBILE-FIRST DESIGN

### 12.1. Breakpoint System

```css
/* Mobile-First Approach */

/* Base styles (Mobile: 320px - 767px) */
:root {
  --container-padding: 16px;
  --grid-gap: 16px;
  --section-padding: 60px 0;
}

.container {
  width: 100%;
  padding-left: var(--container-padding);
  padding-right: var(--container-padding);
  margin: 0 auto;
}

.products-grid {
  display: grid;
  grid-template-columns: 1fr; /* Single column on mobile */
  gap: var(--grid-gap);
}

/* Small Tablets (sm: 768px+) */
@media (min-width: 768px) {
  :root {
    --container-padding: 32px;
    --grid-gap: 24px;
    --section-padding: 80px 0;
  }
  
  .products-grid {
    grid-template-columns: repeat(2, 1fr); /* 2 columns */
  }
  
  .hero-headline {
    font-size: var(--text-5xl);
  }
}

/* Tablets/Landscape (md: 1024px+) */
@media (min-width: 1024px) {
  :root {
    --container-padding: 60px;
    --grid-gap: 32px;
    --section-padding: 120px 0;
  }
  
  .container {
    max-width: 1200px;
  }
  
  .products-grid {
    grid-template-columns: repeat(3, 1fr); /* 3 columns */
  }
  
  /* Show desktop navigation */
  .mobile-menu-toggle {
    display: none;
  }
  
  .desktop-nav {
    display: flex;
  }
}

/* Desktop (lg: 1280px+) */
@media (min-width: 1280px) {
  .container {
    max-width: 1280px;
  }
  
  .products-grid {
    grid-template-columns: repeat(4, 1fr); /* 4 columns */
  }
}

/* Large Desktop (xl: 1536px+) */
@media (min-width: 1536px) {
  .container {
    max-width: 1440px;
  }
  
  :root {
    --container-padding: 80px;
  }
}

/* Extra Large (2xl: 1920px+) */
@media (min-width: 1920px) {
  .container {
    max-width: 1600px;
  }
  
  .hero-section {
    height: 100vh;
  }
}
```

### 12.2. Mobile Navigation Pattern

```html
<!-- Mobile Header -->
<header class="site-header mobile-header" data-mobile-only>
  <button class="menu-toggle" aria-label="Open menu" data-menu-toggle>
    <span class="hamburger">
      <span></span>
      <span></span>
      <span></span>
    </span>
  </button>
  
  <a href="/" class="logo-mobile">
    <img src="logo.svg" alt="ELEMENTA">
  </a>
  
  <div class="mobile-header-actions">
    <button class="search-toggle" aria-label="Search">
      <svg>ğŸ”</svg>
    </button>
    <a href="/cart" class="cart-link" aria-label="Shopping cart, 3 items">
      <svg>ğŸ›’</svg>
      <span class="cart-count">3</span>
    </a>
  </div>
</header>

<!-- Mobile Menu Drawer -->
<nav class="mobile-drawer" data-mobile-drawer>
  <div class="drawer-overlay" data-close-drawer></div>
  <div class="drawer-content">
    <div class="drawer-header">
      <button class="close-drawer" data-close-drawer>
        <svg>Ã—</svg>
      </button>
    </div>
    
    <div class="drawer-user">
      <a href="/account" class="user-greeting">
        <div class="user-avatar">JD</div>
        <div class="user-info">
          <span class="user-name">John Doe</span>
          <span class="user-email">john@example.com</span>
        </div>
      </a>
    </div>
    
    <div class="drawer-nav">
      <!-- Accordion Menu -->
      <div class="nav-section">
        <button class="nav-item expandable" data-toggle="shop-menu">
          <span>Shop</span>
          <svg class="chevron">â€º</svg>
        </button>
        <div class="sub-menu" id="shop-menu">
          <a href="/shop/all">All Products</a>
          <a href="/shop/new">New Arrivals</a>
          <a href="/shop/bestsellers">Bestsellers</a>
        </div>
      </div>
      
      <div class="nav-section">
        <button class="nav-item expandable" data-toggle="collections-menu">
          <span>Collections</span>
          <svg class="chevron">â€º</svg>
        </button>
        <div class="sub-menu" id="collections-menu">
          <a href="/collections/base">[Ba] Base</a>
          <a href="/collections/scholar">[Sc] Scholar</a>
          <a href="/collections/active">[Ac] Active</a>
          <a href="/collections/proximal">[Px] Proximal</a>
        </div>
      </div>
      
      <a href="/about" class="nav-item">About</a>
      <a href="/contact" class="nav-item">Contact</a>
    </div>
    
    <div class="drawer-footer">
      <div class="theme-selector">
        <button class="theme-option" data-theme="dark">
          <svg>ğŸŒ™</svg>
          Dark
        </button>
        <button class="theme-option active" data-theme="light">
          <svg>â˜€ï¸</svg>
          Light
        </button>
      </div>
      
      <div class="language-selector">
        <button>ğŸ‡»ğŸ‡³ Tiáº¿ng Viá»‡t</button>
        <button>ğŸ‡¬ğŸ‡§ English</button>
      </div>
    </div>
  </div>
</nav>
```

```css
/* Mobile Drawer Styles */
.mobile-drawer {
  position: fixed;
  inset: 0;
  z-index: 9999;
  display: none;
  pointer-events: none;
}

.mobile-drawer.active {
  display: block;
  pointer-events: auto;
}

.drawer-overlay {
  position: absolute;
  inset: 0;
  background-color: rgba(0, 0, 0, 0.7);
  backdrop-filter: blur(4px);
  opacity: 0;
  transition: opacity 0.3s ease;
}

.mobile-drawer.active .drawer-overlay {
  opacity: 1;
}

.drawer-content {
  position: absolute;
  top: 0;
  left: 0;
  bottom: 0;
  width: 85%;
  max-width: 380px;
  background-color: var(--color-surface);
  display: flex;
  flex-direction: column;
  transform: translateX(-100%);
  transition: transform 0.4s cubic-bezier(0.16, 1, 0.3, 1);
  overflow-y: auto;
}

.mobile-drawer.active .drawer-content {
  transform: translateX(0);
}

.drawer-header {
  display: flex;
  justify-content: flex-end;
  padding: 16px;
  border-bottom: 1px solid var(--color-border);
}

.close-drawer {
  width: 40px;
  height: 40px;
  display: flex;
  align-items: center;
  justify-content: center;
  border-radius: 50%;
  background-color: var(--color-surface-elevated);
  border: none;
  cursor: pointer;
  font-size: 24px;
}

.drawer-user {
  padding: 24px 20px;
  border-bottom: 1px solid var(--color-border);
}

.user-greeting {
  display: flex;
  align-items: center;
  gap: 12px;
  text-decoration: none;
}

.user-avatar {
  width: 48px;
  height: 48px;
  border-radius: 50%;
  background: linear-gradient(135deg, var(--color-primary), var(--color-secondary));
  display: flex;
  align-items: center;
  justify-content: center;
  font-weight: var(--font-bold);
  color: var(--color-background);
}

.user-info {
  display: flex;
  flex-direction: column;
  gap: 2px;
}

.user-name {
  font-weight: var(--font-semibold);
  color: var(--color-text-primary);
}

.user-email {
  font-size: var(--text-sm);
  color: var(--color-text-secondary);
}

/* Nav Items */
.drawer-nav {
  flex: 1;
  padding: 8px 0;
}

.nav-section {
  margin-bottom: 4px;
}

.nav-item {
  display: flex;
  align-items: center;
  justify-content: space-between;
  width: 100%;
  padding: 16px 20px;
  font-size: var(--text-base);
  font-weight: var(--font-medium);
  color: var(--color-text-primary);
  text-decoration: none;
  background: none;
  border: none;
  cursor: pointer;
  transition: background-color 0.2s ease;
  text-align: left;
}

.nav-item:active {
  background-color: var(--color-surface-elevated);
}

.nav-item.expandable .chevron {
  width: 20px;
  height: 20px;
  transition: transform 0.3s ease;
}

.nav-item.expandable.active .chevron {
  transform: rotate(90deg);
}

.sub-menu {
  max-height: 0;
  overflow: hidden;
  transition: max-height 0.3s ease;
  background-color: var(--color-surface-elevated);
}

.sub-menu.active {
  max-height: 500px;
}

.sub-menu a {
  display: block;
  padding: 12px 20px 12px 52px;
  font-size: var(--text-sm);
  color: var(--color-text-secondary);
  text-decoration: none;
  transition: color 0.2s ease;
}

.sub-menu a:active {
  color: var(--color-primary);
}

/* Drawer Footer */
.drawer-footer {
  padding: 20px;
  border-top: 1px solid var(--color-border);
}

.theme-selector,
.language-selector {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 8px;
  margin-bottom: 12px;
}

.theme-option,
.language-selector button {
  padding: 10px;
  font-size: var(--text-sm);
  border: 1px solid var(--color-border);
  border-radius: 4px;
  background-color: var(--color-surface-elevated);
  color: var(--color-text-primary);
  cursor: pointer;
  transition: all 0.2s ease;
}

.theme-option.active {
  border-color: var(--color-primary);
  background-color: rgba(212, 175, 55, 0.1);
}

/* Hamburger Icon Animation */
.hamburger {
  width: 24px;
  height: 18px;
  display: flex;
  flex-direction: column;
  justify-content: space-between;
}

.hamburger span {
  display: block;
  height: 2px;
  background-color: var(--color-text-primary);
  border-radius: 2px;
  transition: all 0.3s ease;
}

.menu-toggle.active .hamburger span:nth-child(1) {
  transform: translateY(8px) rotate(45deg);
}

.menu-toggle.active .hamburger span:nth-child(2) {
  opacity: 0;
}

.menu-toggle.active .hamburger span:nth-child(3) {
  transform: translateY(-8px) rotate(-45deg);
}
```

```javascript
// Mobile Drawer Controller
class MobileDrawer {
  constructor() {
    this.drawer = document.querySelector('[data-mobile-drawer]');
    this.toggle = document.querySelector('[data-menu-toggle]');
    this.closeButtons = document.querySelectorAll('[data-close-drawer]');
    this.expandables = document.querySelectorAll('.nav-item.expandable');
    this.init();
  }

  init() {
    // Toggle drawer
    this.toggle?.addEventListener('click', () => this.open());
    
    // Close drawer
    this.closeButtons.forEach(btn => {
      btn.addEventListener('click', () => this.close());
    });
    
    // Expandable menu items
    this.expandables.forEach(item => {
      item.addEventListener('click', (e) => {
        const targetId = item.getAttribute('data-toggle');
        const submenu = document.getElementById(targetId);
        
        item.classList.toggle('active');
        submenu.classList.toggle('active');
      });
    });
    
    // Close on escape
    document.addEventListener('keydown', (e) => {
      if (e.key === 'Escape' && this.drawer.classList.contains('active')) {
        this.close();
      }
    });
  }

  open() {
    this.drawer.classList.add('active');
    this.toggle.classList.add('active');
    document.body.style.overflow = 'hidden';
  }

  close() {
    this.drawer.classList.remove('active');
    this.toggle.classList.remove('active');
    document.body.style.overflow = '';
  }
}

// Initialize
new MobileDrawer();
```

***

## 13. PERFORMANCE OPTIMIZATION TECHNIQUES

### 13.1. Image Lazy Loading & Optimization

```html
<!-- Native Lazy Loading -->
<img 
  src="product-thumb.jpg"
  alt="The Lab Tee"
  loading="lazy"
  decoding="async"
  width="400"
  height="533"
>

<!-- Progressive Image Loading with Blur-up -->
<div class="progressive-image" data-progressive>
  <img 
    src="tiny-placeholder.jpg" 
    data-large="full-size-image.jpg"
    alt="Product"
    class="blur-up"
  >
</div>

<style>
.progressive-image {
  position: relative;
  overflow: hidden;
}

.blur-up {
  filter: blur(20px);
  transform: scale(1.1);
  transition: filter 0.5s ease, transform 0.5s ease;
}

.blur-up.loaded {
  filter: blur(0);
  transform: scale(1);
}
</style>

<script>
// Progressive image loader
document.querySelectorAll('[data-progressive]').forEach(container => {
  const img = container.querySelector('img');
  const largeSrc = img.getAttribute('data-large');
  
  const largeImage = new Image();
  largeImage.onload = () => {
    img.src = largeSrc;
    img.classList.add('loaded');
  };
  largeImage.src = largeSrc;
});
</script>
```

### 13.2. Code Splitting & Dynamic Imports

```javascript
// Lazy load heavy components
const load3DViewer = () => {
  return import('./components/ProductViewer3D.js')
    .then(module => module.ProductViewer3D);
};

// Only load when needed
document.querySelector('[data-3d-toggle]').addEventListener('click', async () => {
  const ProductViewer3D = await load3DViewer();
  new ProductViewer3D(config);
});

// Route-based code splitting
const routes = {
  '/shop': () => import('./pages/Shop.js'),
  '/product/:id': () => import('./pages/ProductDetail.js'),
  '/cart': () => import('./pages/Cart.js'),
  '/checkout': () => import('./pages/Checkout.js')
};
```

### 13.3. Critical CSS Inlining

```html
<!DOCTYPE html>
<html>
<head>
  <!-- Inline Critical CSS (above-the-fold styles) -->
  <style>
    /* Header, Hero, Layout - First 600px viewport */
    .site-header{position:fixed;top:0;width:100%;z-index:1000}
    .hero-section{height:100vh;background:#0A0A0A}
    /* ... more critical styles */
  </style>
  
  <!-- Preload key resources -->
  <link rel="preload" href="/fonts/univers-next.woff2" as="font" type="font/woff2" crossorigin>
  <link rel="preload" href="/hero-video.mp4" as="video">
  
  <!-- Non-critical CSS (deferred) -->
  <link rel="stylesheet" href="/styles/main.css" media="print" onload="this.media='all'">
  <noscript><link rel="stylesheet" href="/styles/main.css"></noscript>
</head>
```

***

## 14. Tá»”NG Káº¾T UX/UI GUIDELINES

### 14.1. Design Checklist

**Visual Design:**
- âœ… Consistent typography scale (1.25 ratio)
- âœ… 40-60% whitespace ratio on all pages
- âœ… High-quality imagery (min 2000px width)
- âœ… Color contrast ratio â‰¥ 4.5:1 (WCAG AA)
- âœ… Smooth animations (300-800ms, cubic-bezier easing)
- âœ… Dark mode optimized for OLED displays

**Interaction Design:**
- âœ… Touch targets â‰¥ 44x44px
- âœ… Hover states on all interactive elements
- âœ… Loading states for async actions
- âœ… Success/error feedback within 200ms
- âœ… Magnetic buttons for primary CTAs
- âœ… Micro-interactions (heart animation, cart fly-in)

**Performance:**
- âœ… LCP < 2.5s (Largest Contentful Paint)
- âœ… FID < 100ms (First Input Delay)
- âœ… CLS < 0.1 (Cumulative Layout Shift)
- âœ… Lazy loading for images below fold
- âœ… Code splitting for routes
- âœ… Progressive image loading with blur-up

**Accessibility:**
- âœ… Keyboard navigation support
- âœ… Screen reader optimization (ARIA labels)
- âœ… Skip to content link
- âœ… Focus visible indicators
- âœ… Reduced motion support
- âœ… High contrast mode support

**Mobile UX:**
- âœ… Mobile-first responsive design
- âœ… Bottom sheet navigation
- âœ… Pull-to-refresh (optional)
- âœ… Sticky add-to-cart bar
- âœ… Touch-optimized carousels
- âœ… Native-like app feel (PWA ready)

### 14.2. Animation Timing Reference

```javascript
const ANIMATION_TIMINGS = {
  // Micro-interactions
  buttonHover: '200ms',
  iconChange: '300ms',
  checkboxToggle: '150ms',
  
  // Component transitions
  modalOpen: '400ms',
  drawerSlide: '400ms',
  dropdownExpand: '300ms',
  tabSwitch: '250ms',
  
  // Page transitions
  routeChange: '500ms',
  sectionReveal: '800ms',
  imageReveal: '1200ms',
  
  // Scroll-triggered
  fadeUp: '800ms',
  parallax: 'instant', // No delay
  progressBar: '100ms',
  
  // Easing functions
  easeOutQuart: 'cubic-bezier(0.16, 1, 0.3, 1)',
  easeInOutQuart: 'cubic-bezier(0.76, 0, 0.24, 1)',
  bounceOut: 'cubic-bezier(0.34, 1.56, 0.64, 1)'
};
```

### 14.3. Component Library Structure

```
components/
â”œâ”€â”€ ui/                    # Atomic components
â”‚   â”œâ”€â”€ Button.jsx
â”‚   â”œâ”€â”€ Input.jsx
â”‚   â”œâ”€â”€ Modal.jsx
â”‚   â”œâ”€â”€ Card.jsx
â”‚   â””â”€â”€ Badge.jsx
â”‚
â”œâ”€â”€ layout/                # Layout components
â”‚   â”œâ”€â”€ Header.jsx
â”‚   â”œâ”€â”€ Footer.jsx
â”‚   â”œâ”€â”€ Sidebar.jsx
â”‚   â””â”€â”€ Container.jsx
â”‚
â”œâ”€â”€ product/              # Product-specific
â”‚   â”œâ”€â”€ ProductCard.jsx
â”‚   â”œâ”€â”€ ProductGrid.jsx
â”‚   â”œâ”€â”€ ProductViewer3D.jsx
â”‚   â”œâ”€â”€ SizeSelector.jsx
â”‚   â””â”€â”€ ColorPicker.jsx
â”‚
â”œâ”€â”€ cart/                 # Cart components
â”‚   â”œâ”€â”€ CartItem.jsx
â”‚   â”œâ”€â”€ MiniCart.jsx
â”‚   â””â”€â”€ CartSummary.jsx
â”‚
â””â”€â”€ animations/           # Animation components
    â”œâ”€â”€ FadeUp.jsx
    â”œâ”€â”€ ScaleIn.jsx
    â””â”€â”€ Parallax.jsx
```

***

**Káº¾T LUáº¬N PHáº¦N UX/UI:**

ELEMENTA E-Commerce Platform Ä‘Æ°á»£c thiáº¿t káº¿ vá»›i triáº¿t lÃ½ "Less is More" - tá»‘i giáº£n nhÆ°ng tinh táº¿. Má»—i animation, má»—i interaction Ä‘á»u cÃ³ má»¥c Ä‘Ã­ch rÃµ rÃ ng: hÆ°á»›ng dáº«n ngÆ°á»i dÃ¹ng, cung cáº¥p feedback, hoáº·c táº¡o delight moments. 

Inspired by luxury fashion houses nhÆ° Gucci, Dior, nhÆ°ng adapted cho market Viá»‡t Nam vá»›i:
- Dark mode first (80% Gen Z shop vÃ o ban Ä‘Ãªm)
- 3D product viewer (unique differentiator)
- Technical transparency (lab reports, fabric specs)
- Mobile-optimized (75% traffic tá»« mobile)
- Performance-first (fast load times cho 3G/4G)


***

## 15. Æ¯U ÄIá»‚M Cáº NH TRANH & ÄIá»‚M Ná»”I Báº¬T

### 15.1. So SÃ¡nh Vá»›i Äá»‘i Thá»§

| TiÃªu ChÃ­ | Shopee/Lazada | Uniqlo VN | **ELEMENTA** |
|----------|---------------|-----------|--------------|
| **Product Visualization** | áº¢nh 2D 4-6 táº¥m | áº¢nh 2D cháº¥t lÆ°á»£ng cao | **3D 360Â° Interactive** |
| **Technical Transparency** | ThÃ´ng tin mÆ¡ há»“ | Moderate | **Full Fabric Data + Lab Reports** |
| **Pricing** | Cáº¡nh tranh nhÆ°ng cÃ³ phÃ­ platform | GiÃ¡ cá»‘ Ä‘á»‹nh cao | **Direct Factory Price (-30%)** |
| **Brand Experience** | Generic template | Premium branded | **Unique Industrial Aesthetic** |
| **Mobile UX** | App native tá»‘t | Website responsive | **Web + PWA tá»‘i Æ°u** |
| **Dark Mode** | KhÃ´ng | KhÃ´ng | **âœ“ CÃ³ (optimized)** |
| **Customer Service** | Chat bot | Email/Hotline | **Zalo + Live Chat + Hotline** |

### 15.2. Key Selling Points (Cho Proposal)

**1. Revolutionary 3D Product Experience**
> "Láº§n Ä‘áº§u tiÃªn táº¡i Viá»‡t Nam, khÃ¡ch hÃ ng cÃ³ thá»ƒ xoay, zoom, vÃ  kiá»ƒm tra sáº£n pháº©m á»Ÿ má»i gÃ³c Ä‘á»™ nhÆ° Ä‘ang cáº§m trÃªn tay - ngay cáº£ khi mua sáº¯m lÃºc 2h sÃ¡ng tá»« giÆ°á»ng ngá»§." [blog.pixelfreestudio](https://blog.pixelfreestudio.com/webgl-for-e-commerce-how-3d-graphics-enhance-user-experience/)

**2. Night-Shopping Optimized**
> "80% Gen Z mua sáº¯m vÃ o 9PM-2AM. Website cá»§a chÃºng tÃ´i tá»‘i Æ°u Dark Mode vá»›i mÃ u Amber #FFB300 giáº£m blue light, báº£o vá»‡ máº¯t khÃ¡ch hÃ ng." [ppl-ai-file-upload.s3.amazonaws](https://ppl-ai-file-upload.s3.amazonaws.com/web/direct-files/attachments/14105502/fb02f63b-3788-45c8-834e-1dcc043fd857/Bo-Nhan-Dien-Thuong-Hieu-Triet-Ly-Thiet-Ke.docx)

**3. M2C Pricing Transparency**
> "KhÃ¡ch hÃ ng tháº¥y rÃµ: 70% giÃ¡ trá»‹ Ä‘áº¿n tá»« váº£i, 20% sáº£n xuáº¥t, 10% margin - khÃ´ng cÃ³ chi phÃ­ brand markup nhÆ° cÃ¡c thÆ°Æ¡ng hiá»‡u khÃ¡c." [ppl-ai-file-upload.s3.amazonaws](https://ppl-ai-file-upload.s3.amazonaws.com/web/direct-files/attachments/14105502/fb02f63b-3788-45c8-834e-1dcc043fd857/Bo-Nhan-Dien-Thuong-Hieu-Triet-Ly-Thiet-Ke.docx)

**4. Technical Specification Dashboard**
> "Má»—i sáº£n pháº©m cÃ³ Lab Report PDF download Ä‘Æ°á»£c. KhÃ¡ch hÃ ng biáº¿t chÃ­nh xÃ¡c mÃ¬nh Ä‘ang mua gÃ¬: GSM, weave type, color code, seam density." [ppl-ai-file-upload.s3.amazonaws](https://ppl-ai-file-upload.s3.amazonaws.com/web/direct-files/attachments/14105502/fb02f63b-3788-45c8-834e-1dcc043fd857/Bo-Nhan-Dien-Thuong-Hieu-Triet-Ly-Thiet-Ke.docx)

**5. Seamless Multi-Language**
> "Má»™t click chuyá»ƒn Ä‘á»•i Tiáº¿ng Viá»‡t â†” English. Má»i thÃ´ng tin sáº£n pháº©m, checkout, customer service Ä‘á»u song ngá»¯ hoÃ n háº£o."

### 15.3. ROI Projection (3 Years)

```
PHASE 1 (Year 1): Foundation
â”œâ”€ Month 1-3: Development + Testing
â”œâ”€ Month 4-6: Soft Launch (VN only)
â””â”€ Month 7-12: Full Launch + Marketing


PHASE 2 (Year 2): Optimization
â”œâ”€ A/B testing, conversion optimization
â”œâ”€ International expansion (English market)
â””â”€ Mobile app launch

PHASE 3 (Year 3): Scale
â”œâ”€ AI recommendation engine
â”œâ”€ Virtual try-on (AR)
â”œâ”€ Wholesale B2B portal
â””â”€ Regional expansion (Thailand, Singapore)

COST SAVINGS vs. Marketplace Model:
â”œâ”€ Shopee/Lazada commission: 15-18%
â”œâ”€ Platform advertising: 5-8%
â”œâ”€ Total platform cost: 20-26%
â”‚
â””â”€ Own website cost: 
   â”œâ”€ Hosting + CDN: 1-2%
   â”œâ”€ Payment gateway: 2-3%
   â”œâ”€ Marketing (SEO/Ads): 8-12%
   â””â”€ Total: 11-17%
   
NET SAVINGS: 9-15% margin improvement
```

### 15.4. Rá»§i Ro & Giáº£i PhÃ¡p Giáº£m Thiá»ƒu

| Rá»§i Ro | Má»©c Äá»™ | Giáº£i PhÃ¡p |
|--------|---------|-----------|
| **3D model tá»‘n resource mobile yáº¿u** | Cao | Fallback vá» áº£nh 2D cháº¥t lÆ°á»£ng cao khi detect GPU yáº¿u  [dev](https://dev.to/kellythomas/how-to-create-high-performance-3d-product-viewers-using-threejs-react-for-modern-ecommerce-stores-5f7p) |
| **Chi phÃ­ táº¡o 3D model cho táº¥t cáº£ sáº£n pháº©m** | Trung bÃ¬nh | Báº¯t Ä‘áº§u vá»›i top 20% sáº£n pháº©m bÃ¡n cháº¡y; tá»± Ä‘á»™ng hÃ³a báº±ng photogrammetry |
| **Traffic tháº¥p ban Ä‘áº§u** | Cao | Budget marketing 20% revenue cho 6 thÃ¡ng Ä‘áº§u; SEO optimization; social media |
| **KhÃ¡ch quen marketplace khÃ´ng chuyá»ƒn sang** | Cao | Exclusive products chá»‰ bÃ¡n trÃªn website; loyalty program; better pricing |
| **Cáº¡nh tranh vá»›i Shopee/Lazada vá» giÃ¡ ship** | Trung bÃ¬nh | Free ship threshold tháº¥p (â‚«300k vs â‚«500k); Ä‘Ã³ng gÃ³i premium táº¡o value |
| **CÃ´ng nghá»‡ quÃ¡ phá»©c táº¡p cho team** | Tháº¥p | Training intensive; documentation chi tiáº¿t; support 24/7 tá»« dev team |

***

## 16. ROADMAP TRIá»‚N KHAI

### 16.1. Timeline Chi Tiáº¿t

```
PHASE 0: PREPARATION (Week 1-2)
â”œâ”€ Finalize technical requirements
â”œâ”€ UI/UX mockup approval
â”œâ”€ Content preparation (product photos, descriptions)
â”œâ”€ 3D model pilot (5 hero products)
â””â”€ Infrastructure setup (domain, hosting, CDN)

PHASE 1: MVP DEVELOPMENT (Week 3-10)
â”œâ”€ Week 3-4: Frontend structure + Design system
â”œâ”€ Week 5-6: Product catalog + Detail pages
â”œâ”€ Week 7: Cart + Checkout flow
â”œâ”€ Week 8: Admin panel core modules
â”œâ”€ Week 9: Payment integration + Testing
â””â”€ Week 10: UAT (User Acceptance Testing)

PHASE 2: SOFT LAUNCH (Week 11-14)
â”œâ”€ Week 11: Staging environment final testing
â”œâ”€ Week 12: Production deployment
â”œâ”€ Week 13-14: Limited release (email list, social media followers)
â”œâ”€ Bug fixing + Performance optimization
â””â”€ Collect user feedback

PHASE 3: FULL LAUNCH (Week 15-16)
â”œâ”€ Marketing campaign activation
â”œâ”€ PR release
â”œâ”€ Influencer partnerships
â””â”€ Paid advertising (Google Ads, Facebook)

PHASE 4: OPTIMIZATION (Month 4-6)
â”œâ”€ A/B testing (CTAs, layouts, copy)
â”œâ”€ Conversion rate optimization
â”œâ”€ SEO improvements
â”œâ”€ Feature enhancements based on data
â””â”€ Mobile app planning (Phase 2 project)
```

### 16.2. Success Metrics (KPIs)

```
TRAFFIC METRICS:
â”œâ”€ Unique visitors: 50,000/month (Month 6)
â”œâ”€ Page views: 200,000/month
â”œâ”€ Avg session duration: >3 minutes
â””â”€ Bounce rate: <50%

CONVERSION METRICS:
â”œâ”€ Conversion rate: 3.5-5%
â”œâ”€ Add-to-cart rate: >15%
â”œâ”€ Cart abandonment: <70%
â””â”€ Average order value: â‚«450,000+

ENGAGEMENT METRICS:
â”œâ”€ 3D viewer interaction rate: >40%
â”œâ”€ Product page time: >2 minutes
â”œâ”€ Return visitor rate: >30%
â””â”€ Mobile traffic: >70%

BUSINESS METRICS:
â”œâ”€ Revenue: â‚«600M/month (Month 12)
â”œâ”€ Customer acquisition cost: <â‚«150,000
â”œâ”€ Customer lifetime value: >â‚«1,500,000
â””â”€ Return customer rate: >25%
```

***


# PHáº¦N 2: TECHSTACK - TÃ€I LIá»†U Ká»¸ THUáº¬T CHI TIáº¾T

## 1. PRODUCT REQUIREMENTS DOCUMENT (PRD)

### 1.1. Executive Summary

**Product Name:** ELEMENTA E-Commerce Platform  
**Version:** 1.0 (MVP)  
**Document Owner:** Technical Product Manager  
**Last Updated:** January 29, 2026  

**Product Vision:**
> XÃ¢y dá»±ng ná»n táº£ng thÆ°Æ¡ng máº¡i Ä‘iá»‡n tá»­ thá»i trang hÃ ng Ä‘áº§u Viá»‡t Nam, tiÃªn phong trong viá»‡c á»©ng dá»¥ng cÃ´ng nghá»‡ 3D visualization vÃ  minh báº¡ch hÃ³a quy trÃ¬nh sáº£n xuáº¥t, táº¡o tráº£i nghiá»‡m mua sáº¯m vÆ°á»£t trá»™i cho tháº¿ há»‡ digital natives.

### 1.2. User Personas

**Persona 1: "Digital Native Duy" - Gen Z Shopper**
```
Demographics:
â”œâ”€ Age: 19 tuá»•i, sinh viÃªn nÄƒm 2
â”œâ”€ Location: TP.HCM
â”œâ”€ Income: â‚«3-5M/thÃ¡ng (part-time + tiá»n nhÃ )
â””â”€ Devices: iPhone 13, iPad Air

Behaviors:
â”œâ”€ Mua sáº¯m online 90% (chá»§ yáº¿u Shopee, TikTok Shop)
â”œâ”€ Shopping time: 9PM-1AM (sau khi há»c)
â”œâ”€ Quyáº¿t Ä‘á»‹nh mua trong 5-10 phÃºt
â”œâ”€ So sÃ¡nh giÃ¡ trÃªn 3-4 platforms
â””â”€ Chá»‹u áº£nh hÆ°á»Ÿng tá»« KOLs, review

Pain Points:
â”œâ”€ KhÃ´ng tháº¥y rÃµ cháº¥t lÆ°á»£ng váº£i qua áº£nh 2D
â”œâ”€ Sá»£ hÃ ng vá» khÃ´ng Ä‘Ãºng mÃ u/size
â”œâ”€ KhÃ³ tin thÃ´ng tin sáº£n pháº©m (quÃ¡ chung chung)
â””â”€ Website marketplace lá»—i, UX kÃ©m

Goals:
â”œâ”€ Mua Ä‘Æ°á»£c Ä‘á»“ cháº¥t lÆ°á»£ng vá»›i giÃ¡ há»£p lÃ½
â”œâ”€ Mua nhanh, khÃ´ng máº¥t thá»i gian
â”œâ”€ Nháº­n hÃ ng Ä‘Ãºng háº¹n, Ä‘Ã³ng gÃ³i Ä‘áº¹p
â””â”€ Dá»… Ä‘á»•i tráº£ náº¿u khÃ´ng vá»«a
```

**Persona 2: "Professional Lan" - Gen Y Professional**
```
Demographics:
â”œâ”€ Age: 32 tuá»•i, Marketing Manager
â”œâ”€ Location: HÃ  Ná»™i
â”œâ”€ Income: â‚«25M/thÃ¡ng
â””â”€ Devices: MacBook Pro, iPhone 15 Pro

Behaviors:
â”œâ”€ Mua sáº¯m online chá»n lá»c (trá»ng quality > quantity)
â”œâ”€ Shopping time: Lunch break (12-1PM), evening (8-10PM)
â”œâ”€ Research ká»¹ trÆ°á»›c khi mua (Ä‘á»c review, so sÃ¡nh)
â”œâ”€ Trung thÃ nh vá»›i brand Æ°ng Ã½
â””â”€ Sáºµn sÃ ng tráº£ thÃªm cho quality + service

Pain Points:
â”œâ”€ KhÃ´ng Ä‘á»§ thá»i gian Ä‘i mua offline
â”œâ”€ ChÃ¡n cÃ¡c brand fast fashion kÃ©m quality
â”œâ”€ Muá»‘n sáº£n pháº©m unique, khÃ´ng "Ä‘á»¥ng hÃ ng"
â””â”€ Cáº§n thÃ´ng tin ká»¹ thuáº­t rÃµ rÃ ng (fabric, care)

Goals:
â”œâ”€ XÃ¢y dá»±ng tá»§ Ä‘á»“ professional, bá»n vá»¯ng
â”œâ”€ Mua tá»« brand cÃ³ story, values phÃ¹ há»£p
â”œâ”€ Tráº£i nghiá»‡m mua sáº¯m premium
â””â”€ Customer service tá»‘t, responsive
```

**Persona 3: "Bulk Buyer Minh" - School/Company Purchaser**
```
Demographics:
â”œâ”€ Age: 28 tuá»•i, Quáº£n lÃ½ mua hÃ ng
â”œâ”€ Location: ToÃ n quá»‘c
â”œâ”€ Budget: â‚«50-200M/Ä‘Æ¡n
â””â”€ Devices: Laptop Windows, Android phone

Behaviors:
â”œâ”€ Mua sá»‘ lÆ°á»£ng lá»›n (100-1000 pcs)
â”œâ”€ Cáº§n customization (logo, mÃ u sáº¯c)
â”œâ”€ Quy trÃ¬nh duyá»‡t máº«u, bÃ¡o giÃ¡, PO phá»©c táº¡p
â””â”€ Quan tÃ¢m giÃ¡ buÃ´n, thanh toÃ¡n cÃ´ng ná»£

Pain Points:
â”œâ”€ Website thÆ°á»ng khÃ´ng cÃ³ chá»©c nÄƒng B2B
â”œâ”€ Cáº§n liÃªn há»‡ qua email/phone máº¥t thá»i gian
â”œâ”€ KhÃ³ quáº£n lÃ½ Ä‘Æ¡n hÃ ng lá»›n, nhiá»u variant
â””â”€ Muá»‘n tracking chi tiáº¿t tiáº¿n Ä‘á»™ sáº£n xuáº¥t

Goals:
â”œâ”€ Äáº·t hÃ ng bulk online dá»… dÃ ng
â”œâ”€ Nháº­n bÃ¡o giÃ¡ tá»± Ä‘á»™ng
â”œâ”€ Theo dÃµi Ä‘Æ¡n hÃ ng real-time
â””â”€ Portal riÃªng Ä‘á»ƒ quáº£n lÃ½ lá»‹ch sá»­ mua hÃ ng
```

### 1.3. Functional Requirements (Chi Tiáº¿t)

#### FR-1: User Authentication & Account Management

| ID | Requirement | Priority | Acceptance Criteria |
|----|-------------|----------|---------------------|
| FR-1.1 | Guest checkout | MUST | User cÃ³ thá»ƒ checkout khÃ´ng cáº§n Ä‘Äƒng kÃ½ |
| FR-1.2 | Email/Password registration | MUST | Validate email format, password â‰¥8 chars, cÃ³ uppercase+number |
| FR-1.3 | Social login (Google, Facebook) | SHOULD | OAuth 2.0 integration, auto-fill profile |
| FR-1.4 | Phone verification | COULD | OTP via SMS, verify trong 5 phÃºt |
| FR-1.5 | Password reset | MUST | Email reset link, expire sau 1 giá» |
| FR-1.6 | User profile management | MUST | Edit name, phone, email, addresses, password |
| FR-1.7 | Order history view | MUST | List all orders, filter by status, download invoice |
| FR-1.8 | Wishlist/Save for later | SHOULD | Add/remove products, notify when price drop |
| FR-1.9 | Multi-address management | SHOULD | Save multiple shipping addresses, set default |

#### FR-2: Product Catalog & Discovery

| ID | Requirement | Priority | Acceptance Criteria |
|----|-------------|----------|---------------------|
| FR-2.1 | Product listing page | MUST | Grid view, pagination/infinite scroll, 20 products/page |
| FR-2.2 | Multi-criteria filtering | MUST | Filter by: category, size, color, price, element, fabric type |
| FR-2.3 | Sorting options | MUST | Sort by: newest, price (low-high, high-low), best-selling, rating |
| FR-2.4 | Search functionality | MUST | Full-text search, autocomplete, typo tolerance |
| FR-2.5 | Product detail page | MUST | Display: images, 3D model, specs, price, inventory, reviews |
| FR-2.6 | **3D Product Viewer** | MUST | 360Â° rotation, zoom 3x, material view, fallback to 2D |
| FR-2.7 | Size/color selector | MUST | Real-time price/inventory update, visual feedback |
| FR-2.8 | Quantity selector | MUST | Min 1, max = stock, +/- buttons |
| FR-2.9 | Product recommendations | SHOULD | "You may also like" based on category, price range |
| FR-2.10 | Quick view modal | SHOULD | Popup vá»›i key info, khÃ´ng reload page |

#### FR-3: Shopping Cart & Checkout

| ID | Requirement | Priority | Acceptance Criteria |
|----|-------------|----------|---------------------|
| FR-3.1 | Add to cart | MUST | AJAX add, toast notification, update cart count |
| FR-3.2 | Cart page | MUST | List items, edit quantity, remove, calculate total |
| FR-3.3 | Mini cart sidebar | SHOULD | Slide-in panel, quick edit, checkout CTA |
| FR-3.4 | Cart persistence | MUST | Save cart for 30 days (logged in), 7 days (guest) |
| FR-3.5 | Promo code application | MUST | Validate code, apply discount, show savings |
| FR-3.6 | Shipping cost calculation | MUST | Real-time based on address + weight |
| FR-3.7 | Single-page checkout | MUST | All steps on 1 page, progressive disclosure |
| FR-3.8 | Guest checkout | MUST | No account required, email for receipt |
| FR-3.9 | Multiple payment methods | MUST | COD, Bank Transfer, MoMo, ZaloPay, Credit Card |
| FR-3.10 | Order confirmation | MUST | Email + SMS, order tracking link |
| FR-3.11 | Inventory reservation | MUST | Hold stock for 15 min during checkout |

#### FR-4: Payment Integration

| ID | Requirement | Priority | Acceptance Criteria |
|----|-------------|----------|---------------------|
| FR-4.1 | COD (Cash on Delivery) | MUST | Add COD fee, confirmation email |
| FR-4.2 | Bank Transfer | MUST | Show bank details, upload proof of payment |
| FR-4.3 | MoMo integration | MUST | API integration, QR payment, deep link |
| FR-4.4 | ZaloPay integration | SHOULD | API integration, redirect flow |
| FR-4.5 | VNPay gateway | COULD | Domestic card payment |
| FR-4.6 | Stripe (International) | COULD | Credit card (Visa, Mastercard, Amex) |
| FR-4.7 | Payment status webhook | MUST | Real-time update order status |
| FR-4.8 | Refund processing | SHOULD | Admin can initiate refund, auto-reverse payment |

#### FR-5: Order Management (Customer Side)

| ID | Requirement | Priority | Acceptance Criteria |
|----|-------------|----------|---------------------|
| FR-5.1 | Order tracking | MUST | Enter order #, view status timeline |
| FR-5.2 | Order history | MUST | List all orders, filter by date/status |
| FR-5.3 | Reorder functionality | SHOULD | 1-click reorder past items |
| FR-5.4 | Cancel order | MUST | Allow cancel if status = pending/processing |
| FR-5.5 | Return request | SHOULD | Submit return request with reason + photos |
| FR-5.6 | Invoice download | MUST | PDF invoice with VAT |

#### FR-6: Content Management (CMS)

| ID | Requirement | Priority | Acceptance Criteria |
|----|-------------|----------|---------------------|
| FR-6.1 | Homepage builder | MUST | Drag-drop sections, preview before publish |
| FR-6.2 | Page editor | MUST | WYSIWYG editor for static pages |
| FR-6.3 | Blog module | SHOULD | Create/edit posts, categories, SEO fields |
| FR-6.4 | Media library | MUST | Upload images/videos, organize folders |
| FR-6.5 | Menu management | MUST | Edit header/footer menus, multi-level |
| FR-6.6 | Banner/slider management | MUST | Schedule banners, A/B testing |

#### FR-7: Admin Panel Core Features

| ID | Requirement | Priority | Acceptance Criteria |
|----|-------------|----------|---------------------|
| FR-7.1 | Dashboard analytics | MUST | Revenue, orders, top products, charts |
| FR-7.2 | Product CRUD | MUST | Create, read, update, delete products |
| FR-7.3 | Variant management | MUST | Size/color matrix, bulk pricing |
| FR-7.4 | Inventory tracking | MUST | Real-time stock, low stock alerts |
| FR-7.5 | Order processing workflow | MUST | Pending â†’ QC â†’ Packing â†’ Shipped â†’ Delivered |
| FR-7.6 | Customer database | MUST | View profiles, order history, LTV |
| FR-7.7 | Reports export | SHOULD | CSV/PDF export for sales, inventory |
| FR-7.8 | Staff accounts & roles | SHOULD | Role-based permissions (admin, manager, staff) |
| FR-7.9 | Email templates editor | SHOULD | Customize transactional emails |

#### FR-8: Marketing & Engagement

| ID | Requirement | Priority | Acceptance Criteria |
|----|-------------|----------|---------------------|
| FR-8.1 | Discount codes | MUST | Percentage/fixed, min purchase, expiry |
| FR-8.2 | Free shipping rules | MUST | Threshold-based, zone-based |
| FR-8.3 | Email campaigns | SHOULD | Newsletter builder, segment targeting |
| FR-8.4 | Abandoned cart recovery | SHOULD | Auto-email after 1h, 24h, 72h |
| FR-8.5 | Product reviews | SHOULD | Star rating, text review, photo upload |
| FR-8.6 | Loyalty program | COULD | Points for purchases, referrals (Phase 2) |

#### FR-9: Multi-language & Localization

| ID | Requirement | Priority | Acceptance Criteria |
|----|-------------|----------|---------------------|
| FR-9.1 | Vietnamese language | MUST | Full translation of UI + content |
| FR-9.2 | English language | MUST | Full translation of UI + content |
| FR-9.3 | Language switcher | MUST | Toggle in header, persist choice |
| FR-9.4 | Currency display | MUST | VND (primary), USD (secondary for intl) |
| FR-9.5 | Date/time localization | MUST | dd/mm/yyyy for VN, mm/dd/yyyy for EN |

#### FR-10: Mobile Optimization

| ID | Requirement | Priority | Acceptance Criteria |
|----|-------------|----------|---------------------|
| FR-10.1 | Responsive design | MUST | Work on 320px-2560px screen widths |
| FR-10.2 | Touch gestures | MUST | Swipe, pinch-zoom, tap, long-press |
| FR-10.3 | Mobile menu | MUST | Hamburger menu, full-screen overlay |
| FR-10.4 | PWA capabilities | SHOULD | Add to home screen, offline fallback |
| FR-10.5 | Mobile payment | MUST | MoMo/ZaloPay deep linking |

### 1.4. Non-Functional Requirements

#### NFR-1: Performance

| ID | Requirement | Target | Measurement |
|----|-------------|--------|-------------|
| NFR-1.1 | Page load time (LCP) | <2.5s | Google Lighthouse |
| NFR-1.2 | Time to Interactive (TTI) | <3.8s | Google Lighthouse |
| NFR-1.3 | First Input Delay (FID) | <100ms | Real User Monitoring |
| NFR-1.4 | Cumulative Layout Shift (CLS) | <0.1 | Google Lighthouse |
| NFR-1.5 | API response time (p95) | <500ms | New Relic APM |
| NFR-1.6 | Database query time (p95) | <200ms | Slow query log |
| NFR-1.7 | 3D model load time | <3s | Custom metric |
| NFR-1.8 | Concurrent users | 1,000 | Load testing (JMeter) |

#### NFR-2: Scalability

- Horizontal scaling: Add more server instances khi traffic tÄƒng
- Database: Support 1M+ products, 10M+ orders
- Image CDN: Serve 10M+ image requests/month
- Auto-scaling: Trigger khi CPU >70% trong 5 phÃºt

#### NFR-3: Security

- SSL/TLS encryption (HTTPS only)
- PCI-DSS compliance cho payment processing
- SQL injection prevention (parameterized queries)
- XSS protection (input sanitization)
- CSRF protection (token-based)
- Rate limiting (100 requests/minute/IP)
- Password hashing (bcrypt, cost factor 12)
- Regular security audits (quarterly)

#### NFR-4: Availability

- Uptime SLA: 99.5% (downtime <3.6 hours/month)
- Backup frequency: Daily (full), hourly (incremental)
- Disaster recovery RTO: <4 hours
- Disaster recovery RPO: <1 hour

#### NFR-5: Usability

- Checkout flow: â‰¤5 clicks from product â†’ order confirmation
- Form field labels: Bilingual (VN/EN)
- Error messages: Actionable, khÃ´ng technical jargon
- Mobile tap targets: â‰¥44x44px
- Color contrast ratio: â‰¥4.5:1 (WCAG AA)

#### NFR-6: Maintainability

- Code documentation: JSDoc cho functions, inline comments
- API documentation: OpenAPI 3.0 (Swagger)
- Version control: Git vá»›i semantic versioning
- Code review: Minimum 1 reviewer trÆ°á»›c khi merge
- Automated testing: >80% code coverage

***

## 2. SYSTEM ARCHITECTURE (KIáº¾N TRÃšC Há»† THá»NG)

### 2.1. Architecture Overview - Monolithic Approach

Dá»± Ã¡n sá»­ dá»¥ng kiáº¿n trÃºc **Modular Monolith** - cÃ¢n báº±ng giá»¯a Ä‘Æ¡n giáº£n cá»§a monolith vÃ  tÃ­nh má»Ÿ rá»™ng cá»§a modular design. [mvst](https://www.mvst.co/blog/post/headless-vs-monolithic-the-key-differences-driving-e-commerce-innovation)

```mermaid
graph TB
    subgraph "Client Layer"
        WEB[Web Browser]
        MOBILE[Mobile Browser]
        ADMIN[Admin Panel]
    end
    
    subgraph "CDN Layer"
        CDN[Cloudflare CDN]
    end
    
    subgraph "Application Server - Monolithic"
        LB[Load Balancer<br/>Nginx]
        
        subgraph "Node.js Application"
            API[API Gateway<br/>Express.js]
            
            subgraph "Business Logic Modules"
                AUTH[Auth Module]
                PROD[Product Module]
                CART[Cart Module]
                ORDER[Order Module]
                PAY[Payment Module]
                CMS[CMS Module]
                ADMIN_M[Admin Module]
            end
            
            CACHE[Redis Cache]
        end
    end
    
    subgraph "Data Layer"
        DB[(PostgreSQL<br/>Primary)]
        DB_R[(PostgreSQL<br/>Read Replica)]
        S3[AWS S3<br/>Media Storage]
    end
    
    subgraph "External Services"
        PAYMENT[Payment Gateways<br/>MoMo/ZaloPay/Stripe]
        EMAIL[Email Service<br/>SendGrid]
        SMS[SMS Service<br/>Twilio]
        SHIP[Shipping APIs<br/>GHN/GHTK]
    end
    
    WEB --> CDN
    MOBILE --> CDN
    ADMIN --> CDN
    CDN --> LB
    LB --> API
    
    API --> AUTH
    API --> PROD
    API --> CART
    API --> ORDER
    API --> PAY
    API --> CMS
    API --> ADMIN_M
    
    AUTH -.-> CACHE
    PROD -.-> CACHE
    CART -.-> CACHE
    
    AUTH --> DB
    PROD --> DB
    CART --> DB
    ORDER --> DB
    PAY --> DB
    CMS --> DB
    ADMIN_M --> DB
    
    PROD --> DB_R
    ORDER --> DB_R
    
    PROD --> S3
    CMS --> S3
    
    PAY --> PAYMENT
    ORDER --> EMAIL
    ORDER --> SMS
    ORDER --> SHIP
```

### 2.2. Technology Stack Recommendations

#### 2.2.1. Frontend Stack

```
CORE FRAMEWORK:
â”œâ”€ React 18.x
â”‚  â””â”€ Reason: Component reusability, virtual DOM performance,
â”‚     massive ecosystem, team familiarity
â”‚
â”œâ”€ Next.js 14.x (React Framework)
â”‚  â””â”€ Reason: SSR/SSG for SEO, API routes, file-based routing,
â”‚     Image optimization, great DX
â”‚
â””â”€ TypeScript 5.x
   â””â”€ Reason: Type safety, better IDE support, maintainability

STATE MANAGEMENT:
â”œâ”€ Zustand (Lightweight state)
â”‚  â””â”€ For: Cart, UI state, user preferences
â”‚
â””â”€ React Query (Server state)
   â””â”€ For: API data fetching, caching, synchronization

UI FRAMEWORK:
â”œâ”€ Tailwind CSS 3.x
â”‚  â””â”€ Reason: Utility-first, fast development, small bundle size
â”‚
â””â”€ Headless UI / Radix UI
   â””â”€ Reason: Accessible components, unstyled (full control)

3D VISUALIZATION:
â”œâ”€ Three.js
â”‚  â””â”€ Core 3D engine
â”‚
â”œâ”€ React Three Fiber (R3F)
â”‚  â””â”€ React wrapper for Three.js
â”‚
â””â”€ @react-three/drei
   â””â”€ Helper components (OrbitControls, Loader, etc.)

FORMS & VALIDATION:
â”œâ”€ React Hook Form
â”‚  â””â”€ Performance, less re-renders
â”‚
â””â”€ Zod
   â””â”€ Schema validation, type inference

UTILITIES:
â”œâ”€ Axios (HTTP client)
â”œâ”€ date-fns (Date manipulation)
â”œâ”€ react-i18next (Internationalization)
â”œâ”€ framer-motion (Animations)
â””â”€ react-helmet (SEO meta tags)
```

#### 2.2.2. Backend Stack

```
RUNTIME:
â””â”€ Node.js 20.x LTS
   â””â”€ Reason: JavaScript fullstack, event-driven, mature ecosystem

FRAMEWORK:
â””â”€ Express.js 4.x
   â””â”€ Reason: Minimalist, flexible, huge plugin ecosystem

ORM:
â””â”€ Prisma 5.x
   â””â”€ Reason: Type-safe, excellent DX, auto-migrations,
      supports PostgreSQL perfectly

AUTHENTICATION:
â”œâ”€ Passport.js (Strategy pattern)
â”‚  â””â”€ Local, Google OAuth, Facebook OAuth
â”‚
â””â”€ JWT (jsonwebtoken)
   â””â”€ Stateless auth tokens

VALIDATION:
â””â”€ Joi / Zod
   â””â”€ Request body validation

FILE UPLOAD:
â””â”€ Multer + Sharp
   â””â”€ Multer: Handle multipart/form-data
   â””â”€ Sharp: Image processing (resize, optimize)

UTILITIES:
â”œâ”€ bcrypt (Password hashing)
â”œâ”€ helmet (Security headers)
â”œâ”€ cors (CORS middleware)
â”œâ”€ compression (Gzip compression)
â”œâ”€ express-rate-limit (Rate limiting)
â””â”€ morgan (HTTP logging)
```

#### 2.2.3. Database & Caching

```
PRIMARY DATABASE:
â””â”€ PostgreSQL 15.x
   â””â”€ Reason: ACID compliance, JSON support, full-text search,
      mature, excellent for e-commerce

CACHE:
â””â”€ Redis 7.x
   â””â”€ Use cases:
      â”œâ”€ Session storage
      â”œâ”€ Product catalog cache
      â”œâ”€ Cart data (fast access)
      â”œâ”€ Rate limiting counters
      â””â”€ Pub/sub for real-time features

SEARCH ENGINE (Optional Phase 2):
â””â”€ Elasticsearch
   â””â”€ For: Advanced product search, faceted filtering
```

#### 2.2.4. Infrastructure & DevOps

```
HOSTING:
â””â”€ VPS / Cloud Provider
   â”œâ”€ DigitalOcean (Recommended for Vietnam)
   â”œâ”€ AWS (Scalability if needed)
   â””â”€ Google Cloud (Alternative)

CDN:
â””â”€ Cloudflare
   â””â”€ Free tier: Global CDN, DDoS protection, SSL

FILE STORAGE:
â””â”€ AWS S3 / DigitalOcean Spaces
   â””â”€ Store: Product images, 3D models, user uploads

EMAIL SERVICE:
â””â”€ SendGrid / Amazon SES
   â””â”€ Transactional emails (order confirmation, etc.)

SMS SERVICE:
â””â”€ Twilio / SMSAPI.vn
   â””â”€ OTP, order notifications

MONITORING:
â”œâ”€ Sentry (Error tracking)
â”œâ”€ Google Analytics 4 (Web analytics)
â””â”€ Uptime Robot (Uptime monitoring)

CI/CD:
â”œâ”€ GitHub Actions
â”‚  â””â”€ Automated testing + deployment
â”‚
â””â”€ Docker
   â””â”€ Containerization for consistency
```

### 2.3. Data Flow Diagram

```mermaid
sequenceDiagram
    participant U as User
    participant F as Frontend (Next.js)
    participant CDN as CDN (Cloudflare)
    participant API as API Server (Express)
    participant Cache as Redis Cache
    participant DB as PostgreSQL
    participant S3 as AWS S3
    participant Pay as Payment Gateway
    
    U->>F: Browse product listing
    F->>CDN: Request cached product images
    CDN-->>F: Return optimized images
    F->>API: GET /api/products?category=scholar
    API->>Cache: Check cache for key "products:scholar"
    
    alt Cache Hit
        Cache-->>API: Return cached data
    else Cache Miss
        API->>DB: SELECT * FROM products WHERE...
        DB-->>API: Return query result
        API->>Cache: Store result (TTL: 5 min)
    end
    
    API-->>F: Return product list JSON
    F-->>U: Render product grid
    
    U->>F: Click product â†’ View detail
    F->>API: GET /api/products/{id}
    API->>DB: Get product details + inventory
    DB-->>API: Return product data
    F->>S3: Load 3D model (async)
    S3-->>F: Return GLB file
    API-->>F: Return product JSON
    F-->>U: Render product detail + 3D viewer
    
    U->>F: Add to cart (size L, color White)
    F->>API: POST /api/cart/add
    API->>Cache: Update cart in Redis
    API->>DB: Check inventory availability
    
    alt Stock Available
        DB-->>API: Stock OK
        API->>Cache: Reserve stock (15 min)
        Cache-->>API: Reservation confirmed
        API-->>F: Success response
        F-->>U: Show "Added to cart" toast
    else Out of Stock
        DB-->>API: Stock insufficient
        API-->>F: Error response
        F-->>U: Show "Out of stock" message
    end
    
    U->>F: Proceed to checkout
    F->>API: POST /api/orders/create
    API->>DB: BEGIN TRANSACTION
    API->>DB: Insert order record
    API->>DB: Deduct inventory
    API->>DB: Clear cart
    
    U->>F: Select payment method (MoMo)
    F->>API: POST /api/payments/initiate
    API->>Pay: Create payment request
    Pay-->>API: Return payment URL
    API-->>F: Return payment URL
    F-->>U: Redirect to MoMo page
    
    U->>Pay: Complete payment
    Pay->>API: Webhook: Payment success
    API->>DB: Update order status = PAID
    API->>DB: COMMIT TRANSACTION
    API->>Email: Send confirmation email
    API-->>Pay: Acknowledge webhook
    
    F->>API: Poll order status
    API->>DB: Get order status
    DB-->>API: Status = PAID
    API-->>F: Return updated status
    F-->>U: Show "Order confirmed" page
```

### 2.4. Database Schema (ERD)

```mermaid
erDiagram
    USERS ||--o{ ORDERS : places
    USERS ||--o{ CART_ITEMS : has
    USERS ||--o{ ADDRESSES : has
    USERS ||--o{ REVIEWS : writes
    USERS ||--o{ WISHLISTS : has
    
    PRODUCTS ||--o{ PRODUCT_VARIANTS : has
    PRODUCTS ||--o{ PRODUCT_IMAGES : has
    PRODUCTS ||--o{ REVIEWS : receives
    PRODUCTS }o--|| CATEGORIES : "belongs to"
    PRODUCTS }o--|| ELEMENTS : "belongs to"
    PRODUCTS ||--o{ ORDER_ITEMS : "included in"
    PRODUCTS ||--o{ CART_ITEMS : "added to"
    PRODUCTS ||--o{ WISHLISTS : "saved in"
    
    PRODUCT_VARIANTS ||--o{ ORDER_ITEMS : "ordered as"
    PRODUCT_VARIANTS ||--o{ CART_ITEMS : "in cart as"
    
    ORDERS ||--o{ ORDER_ITEMS : contains
    ORDERS }o--|| ADDRESSES : "ships to"
    ORDERS ||--o{ PAYMENTS : has
    ORDERS ||--o{ SHIPMENTS : has
    
    DISCOUNTS ||--o{ ORDERS : "applied to"
    
    USERS {
        uuid id PK
        string email UK
        string password_hash
        string full_name
        string phone
        enum role
        datetime created_at
        datetime updated_at
    }
    
    ADDRESSES {
        uuid id PK
        uuid user_id FK
        string full_name
        string phone
        string address_line1
        string address_line2
        string city
        string province
        string postal_code
        string country
        boolean is_default
    }
    
    CATEGORIES {
        uuid id PK
        string name_vi
        string name_en
        string slug
        text description
        string image_url
        int sort_order
    }
    
    ELEMENTS {
        uuid id PK
        string code
        string name_vi
        string name_en
        string symbol
        text description
        string color
    }
    
    PRODUCTS {
        uuid id PK
        string sku UK
        string name_vi
        string name_en
        text description_vi
        text description_en
        uuid category_id FK
        uuid element_id FK
        decimal base_price
        string model_3d_url
        json tech_specs
        enum status
        datetime created_at
        datetime updated_at
    }
    
    PRODUCT_VARIANTS {
        uuid id PK
        uuid product_id FK
        string sku UK
        string size
        string color
        string color_code
        decimal price
        int stock_quantity
        int reserved_quantity
        string barcode
    }
    
    PRODUCT_IMAGES {
        uuid id PK
        uuid product_id FK
        string url
        string alt_text
        int sort_order
        boolean is_primary
    }
    
    CART_ITEMS {
        uuid id PK
        uuid user_id FK
        uuid product_id FK
        uuid variant_id FK
        int quantity
        datetime created_at
        datetime updated_at
    }
    
    WISHLISTS {
        uuid id PK
        uuid user_id FK
        uuid product_id FK
        datetime created_at
    }
    
    ORDERS {
        uuid id PK
        string order_number UK
        uuid user_id FK
        uuid shipping_address_id FK
        enum status
        decimal subtotal
        decimal shipping_fee
        decimal discount_amount
        decimal tax_amount
        decimal total_amount
        text customer_notes
        text internal_notes
        datetime created_at
        datetime updated_at
    }
    
    ORDER_ITEMS {
        uuid id PK
        uuid order_id FK
        uuid product_id FK
        uuid variant_id FK
        string product_name
        string variant_name
        int quantity
        decimal unit_price
        decimal subtotal
        enum qc_status
    }
    
    PAYMENTS {
        uuid id PK
        uuid order_id FK
        enum method
        enum status
        decimal amount
        string transaction_id
        json gateway_response
        datetime paid_at
    }
    
    SHIPMENTS {
        uuid id PK
        uuid order_id FK
        enum carrier
        string tracking_number
        enum status
        datetime shipped_at
        datetime delivered_at
    }
    
    DISCOUNTS {
        uuid id PK
        string code UK
        enum type
        decimal value
        decimal min_purchase
        int usage_limit
        int usage_count
        datetime start_date
        datetime end_date
        boolean is_active
    }
    
    REVIEWS {
        uuid id PK
        uuid product_id FK
        uuid user_id FK
        uuid order_id FK
        int rating
        text review_text
        json images
        boolean is_verified_purchase
        datetime created_at
    }
```

### 2.5. API Specifications

#### API Design Principles

- **RESTful**: Follow REST conventions
- **Versioning**: `/api/v1/...` (prepare for future versions)
- **JSON**: Request/Response format
- **HTTP Status Codes**: Proper usage (200, 201, 400, 401, 404, 500)
- **Pagination**: Limit/offset or cursor-based
- **Rate Limiting**: 100 requests/minute per IP

#### Core API Endpoints

```
AUTHENTICATION:
â”œâ”€ POST   /api/v1/auth/register
â”œâ”€ POST   /api/v1/auth/login
â”œâ”€ POST   /api/v1/auth/logout
â”œâ”€ POST   /api/v1/auth/refresh-token
â”œâ”€ POST   /api/v1/auth/forgot-password
â””â”€ POST   /api/v1/auth/reset-password

PRODUCTS:
â”œâ”€ GET    /api/v1/products
â”‚  Query: ?page=1&limit=20&category=scholar&element=Sc&sort=newest
â”œâ”€ GET    /api/v1/products/{id}
â”œâ”€ GET    /api/v1/products/{id}/variants
â”œâ”€ GET    /api/v1/products/search?q=polo
â””â”€ GET    /api/v1/products/{id}/reviews

CATEGORIES & ELEMENTS:
â”œâ”€ GET    /api/v1/categories
â”œâ”€ GET    /api/v1/elements
â””â”€ GET    /api/v1/categories/{slug}/products

CART:
â”œâ”€ GET    /api/v1/cart
â”œâ”€ POST   /api/v1/cart/items
â”‚  Body: { productId, variantId, quantity }
â”œâ”€ PATCH  /api/v1/cart/items/{id}
â”‚  Body: { quantity }
â”œâ”€ DELETE /api/v1/cart/items/{id}
â””â”€ DELETE /api/v1/cart/clear

WISHLIST:
â”œâ”€ GET    /api/v1/wishlist
â”œâ”€ POST   /api/v1/wishlist/items
â””â”€ DELETE /api/v1/wishlist/items/{productId}

CHECKOUT & ORDERS:
â”œâ”€ POST   /api/v1/checkout/calculate
â”‚  Body: { items[], shippingAddressId, discountCode }
â”œâ”€ POST   /api/v1/orders
â”‚  Body: { items[], shipping, payment, discount }
â”œâ”€ GET    /api/v1/orders
â”œâ”€ GET    /api/v1/orders/{orderNumber}
â”œâ”€ POST   /api/v1/orders/{id}/cancel
â””â”€ POST   /api/v1/orders/{id}/return

PAYMENTS:
â”œâ”€ POST   /api/v1/payments/initiate
â”‚  Body: { orderId, method }
â”œâ”€ POST   /api/v1/payments/webhook/momo
â”œâ”€ POST   /api/v1/payments/webhook/zalopay
â””â”€ GET    /api/v1/payments/{id}/status

USER ACCOUNT:
â”œâ”€ GET    /api/v1/users/me
â”œâ”€ PATCH  /api/v1/users/me
â”œâ”€ GET    /api/v1/users/me/addresses
â”œâ”€ POST   /api/v1/users/me/addresses
â”œâ”€ PATCH  /api/v1/users/me/addresses/{id}
â””â”€ DELETE /api/v1/users/me/addresses/{id}

REVIEWS:
â”œâ”€ POST   /api/v1/products/{id}/reviews
â”‚  Body: { rating, reviewText, images[], orderId }
â””â”€ GET    /api/v1/products/{id}/reviews?page=1

ADMIN - PRODUCTS:
â”œâ”€ GET    /api/v1/admin/products
â”œâ”€ POST   /api/v1/admin/products
â”œâ”€ PATCH  /api/v1/admin/products/{id}
â”œâ”€ DELETE /api/v1/admin/products/{id}
â””â”€ POST   /api/v1/admin/products/bulk-import

ADMIN - ORDERS:
â”œâ”€ GET    /api/v1/admin/orders
â”œâ”€ GET    /api/v1/admin/orders/{id}
â”œâ”€ PATCH  /api/v1/admin/orders/{id}/status
â”œâ”€ POST   /api/v1/admin/orders/{id}/qc-approve
â””â”€ POST   /api/v1/admin/orders/{id}/refund

ADMIN - ANALYTICS:
â”œâ”€ GET    /api/v1/admin/analytics/dashboard
â”œâ”€ GET    /api/v1/admin/analytics/sales
â””â”€ GET    /api/v1/admin/analytics/inventory
```

#### Sample API Request/Response

**GET /api/v1/products/{id}**

Request:
```http
GET /api/v1/products/123e4567-e89b-12d3-a456-426614174000 HTTP/1.1
Host: api.elementa.vn
Accept: application/json
Accept-Language: vi
```

Response (200 OK):
```json
{
  "success": true,
  "data": {
    "id": "123e4567-e89b-12d3-a456-426614174000",
    "sku": "BA-M01",
    "name": "The Lab Tee",
    "slug": "the-lab-tee",
    "description": "Ão thun cÆ¡ báº£n phom boxy...",
    "category": {
      "id": "cat-001",
      "name": "T-Shirts",
      "slug": "t-shirts"
    },
    "element": {
      "code": "Ba",
      "name": "Base",
      "symbol": "[Ba]"
    },
    "basePrice": 289000,
    "images": [
      {
        "id": "img-001",
        "url": "https://cdn.elementa.vn/products/ba-m01-white-front.jpg",
        "altText": "The Lab Tee - White - Front",
        "isPrimary": true
      },
      {
        "id": "img-002",
        "url": "https://cdn.elementa.vn/products/ba-m01-white-back.jpg",
        "altText": "The Lab Tee - White - Back",
        "isPrimary": false
      }
    ],
    "model3dUrl": "https://cdn.elementa.vn/models/ba-m01-tee.glb",
    "variants": [
      {
        "id": "var-001",
        "sku": "BA-M01-WH-L",
        "size": "L",
        "color": "White",
        "colorCode": "#F4F4F4",
        "price": 289000,
        "stockQuantity": 124,
        "inStock": true
      },
      {
        "id": "var-002",
        "sku": "BA-M01-BK-L",
        "size": "L",
        "color": "Black",
        "colorCode": "#111111",
        "price": 289000,
        "stockQuantity": 98,
        "inStock": true
      }
    ],
    "techSpecs": {
      "fabric": "100% Cotton Compact 2-Way",
      "weight": "260 GSM",
      "weave": "Plain Weave",
      "colorCode": "Pantone 11-0601 TCX",
      "seamDensity": "14 SPI",
      "certifications": ["Oeko-Tex Standard 100", "ISO 9001:2015"]
    },
    "shippingInfo": {
      "weight": 350,
      "dimensions": {
        "length": 30,
        "width": 25,
        "height": 3
      },
      "shippingClass": "standard"
    },
    "avgRating": 4.8,
    "reviewCount": 127,
    "createdAt": "2025-12-01T10:30:00Z",
    "updatedAt": "2026-01-28T15:45:00Z"
  }
}
```

## 3. FRONTEND ARCHITECTURE

### 3.1. Project Structure (Next.js)

```
elementa-frontend/
â”œâ”€â”€ public/
â”‚   â”œâ”€â”€ images/
â”‚   â”‚   â”œâ”€â”€ logo.svg
â”‚   â”‚   â””â”€â”€ icons/
â”‚   â”œâ”€â”€ models/              # 3D models (GLB/GLTF)
â”‚   â””â”€â”€ fonts/
â”‚
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ app/                 # Next.js 14 App Router
â”‚   â”‚   â”œâ”€â”€ (main)/         # Main layout group
â”‚   â”‚   â”‚   â”œâ”€â”€ page.tsx    # Homepage
â”‚   â”‚   â”‚   â”œâ”€â”€ shop/
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ page.tsx
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ [category]/
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ loading.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ product/
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ [slug]/
â”‚   â”‚   â”‚   â”‚       â””â”€â”€ page.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ cart/
â”‚   â”‚   â”‚   â”œâ”€â”€ checkout/
â”‚   â”‚   â”‚   â””â”€â”€ about/
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ (account)/      # Account layout group
â”‚   â”‚   â”‚   â”œâ”€â”€ login/
â”‚   â”‚   â”‚   â”œâ”€â”€ register/
â”‚   â”‚   â”‚   â””â”€â”€ account/
â”‚   â”‚   â”‚       â”œâ”€â”€ orders/
â”‚   â”‚   â”‚       â”œâ”€â”€ profile/
â”‚   â”‚   â”‚       â””â”€â”€ wishlist/
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ (admin)/        # Admin layout group
â”‚   â”‚   â”‚   â””â”€â”€ admin/
â”‚   â”‚   â”‚       â”œâ”€â”€ dashboard/
â”‚   â”‚   â”‚       â”œâ”€â”€ products/
â”‚   â”‚   â”‚       â”œâ”€â”€ orders/
â”‚   â”‚   â”‚       â””â”€â”€ customers/
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ api/            # API routes (if needed)
â”‚   â”‚   â”‚   â””â”€â”€ webhooks/
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ layout.tsx      # Root layout
â”‚   â”‚   â””â”€â”€ globals.css
â”‚   â”‚
â”‚   â”œâ”€â”€ components/
â”‚   â”‚   â”œâ”€â”€ ui/             # Reusable UI components
â”‚   â”‚   â”‚   â”œâ”€â”€ Button.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ Input.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ Modal.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ Card.tsx
â”‚   â”‚   â”‚   â””â”€â”€ Badge.tsx
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ layout/         # Layout components
â”‚   â”‚   â”‚   â”œâ”€â”€ Header.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ Footer.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ Sidebar.tsx
â”‚   â”‚   â”‚   â””â”€â”€ MobileMenu.tsx
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ product/        # Product-specific components
â”‚   â”‚   â”‚   â”œâ”€â”€ ProductCard.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ ProductGrid.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ ProductViewer3D.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ SizeSelector.tsx
â”‚   â”‚   â”‚   â””â”€â”€ ColorPicker.tsx
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ cart/
â”‚   â”‚   â”‚   â”œâ”€â”€ CartItem.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ MiniCart.tsx
â”‚   â”‚   â”‚   â””â”€â”€ CartSummary.tsx
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ checkout/
â”‚   â”‚   â”‚   â”œâ”€â”€ CheckoutForm.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ ShippingForm.tsx
â”‚   â”‚   â”‚   â””â”€â”€ PaymentSelector.tsx
â”‚   â”‚   â”‚
â”‚   â”‚   â””â”€â”€ admin/
â”‚   â”‚       â”œâ”€â”€ DataTable.tsx
â”‚   â”‚       â”œâ”€â”€ OrderRow.tsx
â”‚   â”‚       â””â”€â”€ ProductForm.tsx
â”‚   â”‚
â”‚   â”œâ”€â”€ lib/                # Utilities & configurations
â”‚   â”‚   â”œâ”€â”€ api.ts          # API client (Axios)
â”‚   â”‚   â”œâ”€â”€ auth.ts         # Auth utilities
â”‚   â”‚   â”œâ”€â”€ constants.ts
â”‚   â”‚   â””â”€â”€ utils.ts        # Helper functions
â”‚   â”‚
â”‚   â”œâ”€â”€ hooks/              # Custom React hooks
â”‚   â”‚   â”œâ”€â”€ useAuth.ts
â”‚   â”‚   â”œâ”€â”€ useCart.ts
â”‚   â”‚   â”œâ”€â”€ useProducts.ts
â”‚   â”‚   â””â”€â”€ useMediaQuery.ts
â”‚   â”‚
â”‚   â”œâ”€â”€ store/              # State management (Zustand)
â”‚   â”‚   â”œâ”€â”€ cartStore.ts
â”‚   â”‚   â”œâ”€â”€ uiStore.ts
â”‚   â”‚   â””â”€â”€ authStore.ts
â”‚   â”‚
â”‚   â”œâ”€â”€ types/              # TypeScript types
â”‚   â”‚   â”œâ”€â”€ product.ts
â”‚   â”‚   â”œâ”€â”€ order.ts
â”‚   â”‚   â”œâ”€â”€ user.ts
â”‚   â”‚   â””â”€â”€ api.ts
â”‚   â”‚
â”‚   â””â”€â”€ styles/
â”‚       â”œâ”€â”€ globals.css
â”‚       â””â”€â”€ tailwind.css
â”‚
â”œâ”€â”€ .env.local
â”œâ”€â”€ .env.production
â”œâ”€â”€ next.config.js
â”œâ”€â”€ tailwind.config.js
â”œâ”€â”€ tsconfig.json
â””â”€â”€ package.json
```

### 3.2. Component Architecture Pattern

**Atomic Design Methodology:**

```
ATOMS (Smallest building blocks):
â”œâ”€ Button, Input, Label, Badge, Icon
â””â”€ Typography components (H1, H2, Body, Caption)

MOLECULES (Combine atoms):
â”œâ”€ FormField (Label + Input + ErrorMessage)
â”œâ”€ SearchBar (Input + Icon + Button)
â””â”€ PriceTag (Currency + Amount + Badge)

ORGANISMS (Complex components):
â”œâ”€ Header (Logo + Navigation + SearchBar + CartIcon)
â”œâ”€ ProductCard (Image + Title + Price + Button)
â””â”€ CheckoutForm (Multiple FormFields + PaymentSelector)

TEMPLATES (Page layouts):
â”œâ”€ MainLayout (Header + Content + Footer)
â”œâ”€ AdminLayout (Sidebar + Content)
â””â”€ CheckoutLayout (StepIndicator + Form + Summary)

PAGES (Specific instances):
â”œâ”€ HomePage, ProductListPage, ProductDetailPage
â””â”€ CheckoutPage, AccountPage, AdminDashboard
```

### 3.3. State Management Strategy

```typescript
// store/cartStore.ts - Zustand Example
import { create } from 'zustand';
import { persist } from 'zustand/middleware';

interface CartItem {
  id: string;
  productId: string;
  variantId: string;
  name: string;
  price: number;
  quantity: number;
  image: string;
  size: string;
  color: string;
}

interface CartStore {
  items: CartItem[];
  isOpen: boolean;
  addItem: (item: CartItem) => void;
  removeItem: (id: string) => void;
  updateQuantity: (id: string, quantity: number) => void;
  clearCart: () => void;
  toggleCart: () => void;
  getTotal: () => number;
  getItemCount: () => number;
}

export const useCartStore = create<CartStore>()(
  persist(
    (set, get) => ({
      items: [],
      isOpen: false,

      addItem: (item) => {
        const existingItem = get().items.find(i => i.id === item.id);
        if (existingItem) {
          set({
            items: get().items.map(i =>
              i.id === item.id
                ? { ...i, quantity: i.quantity + item.quantity }
                : i
            )
          });
        } else {
          set({ items: [...get().items, item] });
        }
      },

      removeItem: (id) => {
        set({ items: get().items.filter(i => i.id !== id) });
      },

      updateQuantity: (id, quantity) => {
        if (quantity <= 0) {
          get().removeItem(id);
          return;
        }
        set({
          items: get().items.map(i =>
            i.id === id ? { ...i, quantity } : i
          )
        });
      },

      clearCart: () => set({ items: [] }),

      toggleCart: () => set({ isOpen: !get().isOpen }),

      getTotal: () => {
        return get().items.reduce(
          (sum, item) => sum + item.price * item.quantity,
          0
        );
      },

      getItemCount: () => {
        return get().items.reduce((sum, item) => sum + item.quantity, 0);
      }
    }),
    {
      name: 'elementa-cart', // localStorage key
      partialize: (state) => ({ items: state.items }) // Only persist items
    }
  )
);
```

### 3.4. 3D Product Viewer Implementation

```typescript
// components/product/ProductViewer3D.tsx
'use client';

import { Suspense, useRef, useState } from 'react';
import { Canvas, useLoader } from '@react-three/fiber';
import { OrbitControls, Stage, PresentationControls } from '@react-three/drei';
import { GLTFLoader } from 'three/examples/jsm/loaders/GLTFLoader';
import * as THREE from 'three';

interface ProductViewer3DProps {
  modelUrl: string;
  fallbackImage?: string;
}

function Model({ url, color }: { url: string; color?: string }) {
  const gltf = useLoader(GLTFLoader, url);
  const meshRef = useRef<THREE.Group>(null);

  // Apply color change to material
  if (color && meshRef.current) {
    meshRef.current.traverse((child) => {
      if ((child as THREE.Mesh).isMesh) {
        const mesh = child as THREE.Mesh;
        if (mesh.material) {
          (mesh.material as THREE.MeshStandardMaterial).color = new THREE.Color(color);
        }
      }
    });
  }

  return <primitive ref={meshRef} object={gltf.scene} scale={1.5} />;
}

function Loader() {
  return (
    <div className="flex items-center justify-center h-full">
      <div className="animate-spin rounded-full h-12 w-12 border-b-2 border-amber-500" />
    </div>
  );
}

export default function ProductViewer3D({ 
  modelUrl, 
  fallbackImage 
}: ProductViewer3DProps) {
  const [hasWebGL, setHasWebGL] = useState(true);
  const [selectedColor, setSelectedColor] = useState<string>('#F4F4F4');

  // WebGL detection
  if (typeof window !== 'undefined' && !hasWebGL) {
    const canvas = document.createElement('canvas');
    const gl = canvas.getContext('webgl') || canvas.getContext('experimental-webgl');
    if (!gl) {
      setHasWebGL(false);
    }
  }

  // Fallback to 2D image if no WebGL
  if (!hasWebGL && fallbackImage) {
    return (
      <img 
        src={fallbackImage} 
        alt="Product" 
        className="w-full h-full object-contain"
      />
    );
  }

  return (
    <div className="w-full h-[600px] bg-concrete-white rounded-lg overflow-hidden">
      <Canvas
        camera={{ position: [0, 0, 5], fov: 50 }}
        gl={{ preserveDrawingBuffer: true }}
      >
        <Suspense fallback={<Loader />}>
          <PresentationControls
            global
            config={{ mass: 2, tension: 500 }}
            snap={{ mass: 4, tension: 1500 }}
            rotation={[0, 0, 0]}
            polar={[-Math.PI / 3, Math.PI / 3]}
            azimuth={[-Math.PI / 1.4, Math.PI / 2]}
          >
            <Stage environment="city" intensity={0.6}>
              <Model url={modelUrl} color={selectedColor} />
            </Stage>
          </PresentationControls>
          <OrbitControls
            enablePan={false}
            enableZoom={true}
            minDistance={3}
            maxDistance={8}
          />
        </Suspense>
      </Canvas>

      {/* Controls UI */}
      <div className="absolute bottom-4 left-4 flex gap-2">
        <button 
          className="bg-white px-3 py-2 rounded shadow text-sm"
          onClick={() => {/* Reset camera */}}
        >
          Reset View
        </button>
        <button className="bg-white px-3 py-2 rounded shadow text-sm">
          Fabric Detail
        </button>
      </div>
    </div>
  );
}
```

### 3.5. Performance Optimization Techniques

```typescript
// Next.js Image Optimization
import Image from 'next/image';

<Image
  src="/products/ba-m01-white.jpg"
  alt="The Lab Tee"
  width={800}
  height={800}
  quality={85}
  priority // LCP optimization for above-fold images
  placeholder="blur"
  blurDataURL="data:image/jpeg;base64,/9j/4AAQSkZJRg..." // Low-quality placeholder
/>

// Code Splitting - Dynamic Import
import dynamic from 'next/dynamic';

const ProductViewer3D = dynamic(
  () => import('@/components/product/ProductViewer3D'),
  { 
    ssr: false, // Don't render on server
    loading: () => <ProductViewerSkeleton />
  }
);

// React Query for Data Fetching
import { useQuery } from '@tanstack/react-query';

function ProductDetail({ productId }: { productId: string }) {
  const { data, isLoading, error } = useQuery({
    queryKey: ['product', productId],
    queryFn: () => fetch(`/api/v1/products/${productId}`).then(r => r.json()),
    staleTime: 5 * 60 * 1000, // Cache for 5 minutes
  });

  if (isLoading) return <ProductSkeleton />;
  if (error) return <ErrorState />;

  return <ProductView product={data} />;
}

// Virtual Scrolling for Long Lists
import { useVirtualizer } from '@tanstack/react-virtual';

function ProductList({ products }: { products: Product[] }) {
  const parentRef = useRef<HTMLDivElement>(null);

  const virtualizer = useVirtualizer({
    count: products.length,
    getScrollElement: () => parentRef.current,
    estimateSize: () => 400, // Estimated item height
  });

  return (
    <div ref={parentRef} className="h-screen overflow-auto">
      <div style={{ height: `${virtualizer.getTotalSize()}px` }}>
        {virtualizer.getVirtualItems().map((virtualItem) => (
          <div
            key={virtualItem.key}
            style={{
              position: 'absolute',
              top: 0,
              left: 0,
              width: '100%',
              height: `${virtualItem.size}px`,
              transform: `translateY(${virtualItem.start}px)`,
            }}
          >
            <ProductCard product={products[virtualItem.index]} />
          </div>
        ))}
      </div>
    </div>
  );
}
```

***

## 4. BACKEND ARCHITECTURE

### 4.1. Project Structure (Node.js + Express)

```
elementa-backend/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ config/
â”‚   â”‚   â”œâ”€â”€ database.ts      # Prisma client config
â”‚   â”‚   â”œâ”€â”€ redis.ts         # Redis connection
â”‚   â”‚   â”œâ”€â”€ cloudinary.ts    # Image upload config
â”‚   â”‚   â””â”€â”€ env.ts           # Environment variables
â”‚   â”‚
â”‚   â”œâ”€â”€ modules/
â”‚   â”‚   â”œâ”€â”€ auth/
â”‚   â”‚   â”‚   â”œâ”€â”€ auth.controller.ts
â”‚   â”‚   â”‚   â”œâ”€â”€ auth.service.ts
â”‚   â”‚   â”‚   â”œâ”€â”€ auth.routes.ts
â”‚   â”‚   â”‚   â”œâ”€â”€ auth.middleware.ts
â”‚   â”‚   â”‚   â””â”€â”€ auth.validation.ts
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ products/
â”‚   â”‚   â”‚   â”œâ”€â”€ product.controller.ts
â”‚   â”‚   â”‚   â”œâ”€â”€ product.service.ts
â”‚   â”‚   â”‚   â”œâ”€â”€ product.routes.ts
â”‚   â”‚   â”‚   â”œâ”€â”€ product.validation.ts
â”‚   â”‚   â”‚   â””â”€â”€ product.types.ts
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ orders/
â”‚   â”‚   â”‚   â”œâ”€â”€ order.controller.ts
â”‚   â”‚   â”‚   â”œâ”€â”€ order.service.ts
â”‚   â”‚   â”‚   â”œâ”€â”€ order.routes.ts
â”‚   â”‚   â”‚   â””â”€â”€ order.workflow.ts
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ cart/
â”‚   â”‚   â”œâ”€â”€ payments/
â”‚   â”‚   â”œâ”€â”€ users/
â”‚   â”‚   â””â”€â”€ admin/
â”‚   â”‚
â”‚   â”œâ”€â”€ middlewares/
â”‚   â”‚   â”œâ”€â”€ errorHandler.ts
â”‚   â”‚   â”œâ”€â”€ authenticate.ts
â”‚   â”‚   â”œâ”€â”€ authorize.ts
â”‚   â”‚   â”œâ”€â”€ validate.ts
â”‚   â”‚   â””â”€â”€ rateLimit.ts
â”‚   â”‚
â”‚   â”œâ”€â”€ utils/
â”‚   â”‚   â”œâ”€â”€ logger.ts        # Winston logger
â”‚   â”‚   â”œâ”€â”€ email.ts         # Email sender
â”‚   â”‚   â”œâ”€â”€ sms.ts           # SMS sender
â”‚   â”‚   â””â”€â”€ helpers.ts
â”‚   â”‚
â”‚   â”œâ”€â”€ types/
â”‚   â”‚   â””â”€â”€ express.d.ts     # Extend Express types
â”‚   â”‚
â”‚   â”œâ”€â”€ prisma/
â”‚   â”‚   â”œâ”€â”€ schema.prisma
â”‚   â”‚   â”œâ”€â”€ migrations/
â”‚   â”‚   â””â”€â”€ seed.ts
â”‚   â”‚
â”‚   â”œâ”€â”€ app.ts               # Express app setup
â”‚   â””â”€â”€ server.ts            # Server entry point
â”‚
â”œâ”€â”€ tests/
â”‚   â”œâ”€â”€ unit/
â”‚   â”œâ”€â”€ integration/
â”‚   â””â”€â”€ e2e/
â”‚
â”œâ”€â”€ .env
â”œâ”€â”€ .env.test
â”œâ”€â”€ .env.production
â”œâ”€â”€ Dockerfile
â”œâ”€â”€ docker-compose.yml
â”œâ”€â”€ package.json
â””â”€â”€ tsconfig.json
```

### 4.2. Module Pattern Example

```typescript
// modules/products/product.service.ts
import { PrismaClient, Product, Prisma } from '@prisma/client';
import { redisClient } from '@/config/redis';
import { AppError } from '@/utils/errors';

const prisma = new PrismaClient();

export class ProductService {
  
  async getProducts(filters: {
    category?: string;
    element?: string;
    minPrice?: number;
    maxPrice?: number;
    page?: number;
    limit?: number;
    sort?: string;
  }) {
    const { 
      category, 
      element, 
      minPrice, 
      maxPrice, 
      page = 1, 
      limit = 20, 
      sort = 'newest' 
    } = filters;

    // Build cache key
    const cacheKey = `products:${JSON.stringify(filters)}`;
    
    // Check cache
    const cached = await redisClient.get(cacheKey);
    if (cached) {
      return JSON.parse(cached);
    }

    // Build where clause
    const where: Prisma.ProductWhereInput = {
      status: 'ACTIVE',
      ...(category && { category: { slug: category } }),
      ...(element && { element: { code: element } }),
      ...(minPrice || maxPrice ? {
        basePrice: {
          ...(minPrice && { gte: minPrice }),
          ...(maxPrice && { lte: maxPrice })
        }
      } : {})
    };

    // Build orderBy
    const orderBy: Prisma.ProductOrderByWithRelationInput = 
      sort === 'price-asc' ? { basePrice: 'asc' } :
      sort === 'price-desc' ? { basePrice: 'desc' } :
      sort === 'best-selling' ? { orderItems: { _count: 'desc' } } :
      { createdAt: 'desc' }; // Default: newest

    const [products, total] = await Promise.all([
      prisma.product.findMany({
        where,
        include: {
          category: true,
          element: true,
          images: { where: { isPrimary: true } },
          variants: {
            select: {
              id: true,
              size: true,
              color: true,
              price: true,
              stockQuantity: true
            }
          }
        },
        orderBy,
        skip: (page - 1) * limit,
        take: limit
      }),
      prisma.product.count({ where })
    ]);

    const result = {
      products,
      pagination: {
        total,
        page,
        limit,
        totalPages: Math.ceil(total / limit)
      }
    };

    // Cache result for 5 minutes
    await redisClient.setex(cacheKey, 300, JSON.stringify(result));

    return result;
  }

  async getProductById(id: string) {
    const product = await prisma.product.findUnique({
      where: { id },
      include: {
        category: true,
        element: true,
        images: { orderBy: { sortOrder: 'asc' } },
        variants: true,
        reviews: {
          include: { user: { select: { fullName: true } } },
          orderBy: { createdAt: 'desc' },
          take: 10
        }
      }
    });

    if (!product) {
      throw new AppError('Product not found', 404);
    }

    return product;
  }

  async createProduct(data: Prisma.ProductCreateInput) {
    // Invalidate cache
    await this.invalidateProductCache();

    return await prisma.product.create({
      data,
      include: {
        category: true,
        element: true,
        images: true,
        variants: true
      }
    });
  }

  async updateProduct(id: string, data: Prisma.ProductUpdateInput) {
    await this.invalidateProductCache();

    return await prisma.product.update({
      where: { id },
      data,
      include: {
        category: true,
        element: true,
        images: true,
        variants: true
      }
    });
  }

  async deleteProduct(id: string) {
    await this.invalidateProductCache();

    return await prisma.product.delete({
      where: { id }
    });
  }

  private async invalidateProductCache() {
    const keys = await redisClient.keys('products:*');
    if (keys.length > 0) {
      await redisClient.del(...keys);
    }
  }
}
```

```typescript
// modules/products/product.controller.ts
import { Request, Response, NextFunction } from 'express';
import { ProductService } from './product.service';

const productService = new ProductService();

export class ProductController {
  
  async getProducts(req: Request, res: Response, next: NextFunction) {
    try {
      const filters = {
        category: req.query.category as string,
        element: req.query.element as string,
        minPrice: req.query.minPrice ? Number(req.query.minPrice) : undefined,
        maxPrice: req.query.maxPrice ? Number(req.query.maxPrice) : undefined,
        page: req.query.page ? Number(req.query.page) : 1,
        limit: req.query.limit ? Number(req.query.limit) : 20,
        sort: req.query.sort as string
      };

      const result = await productService.getProducts(filters);

      res.json({
        success: true,
        data: result.products,
        pagination: result.pagination
      });
    } catch (error) {
      next(error);
    }
  }

  async getProduct(req: Request, res: Response, next: NextFunction) {
    try {
      const { id } = req.params;
      const product = await productService.getProductById(id);

      res.json({
        success: true,
        data: product
      });
    } catch (error) {
      next(error);
    }
  }

  async createProduct(req: Request, res: Response, next: NextFunction) {
    try {
      const product = await productService.createProduct(req.body);

      res.status(201).json({
        success: true,
        data: product
      });
    } catch (error) {
      next(error);
    }
  }

  // ... other methods
}
```

```typescript
// modules/products/product.routes.ts
import { Router } from 'express';
import { ProductController } from './product.controller';
import { authenticate } from '@/middlewares/authenticate';
import { authorize } from '@/middlewares/authorize';
import { validate } from '@/middlewares/validate';
import { productValidation } from './product.validation';

const router = Router();
const controller = new ProductController();

// Public routes
router.get('/', controller.getProducts);
router.get('/:id', controller.getProduct);
router.get('/:id/reviews', controller.getProductReviews);

// Protected routes (Admin only)
router.post(
  '/',
  authenticate,
  authorize(['ADMIN', 'MANAGER']),
  validate(productValidation.create),
  controller.createProduct
);

router.patch(
  '/:id',
  authenticate,
  authorize(['ADMIN', 'MANAGER']),
  validate(productValidation.update),
  controller.updateProduct
);

router.delete(
  '/:id',
  authenticate,
  authorize(['ADMIN']),
  controller.deleteProduct
);

export default router;
```

### 4.3. Order Workflow Engine

```typescript
// modules/orders/order.workflow.ts
import { Order, OrderStatus } from '@prisma/client';
import { EmailService } from '@/utils/email';
import { SMSService } from '@/utils/sms';
import { AppError } from '@/utils/errors';

export class OrderWorkflow {
  
  private emailService = new EmailService();
  private smsService = new SMSService();

  async transitionStatus(
    orderId: string, 
    fromStatus: OrderStatus, 
    toStatus: OrderStatus,
    actor: { id: string; role: string }
  ): Promise<Order> {
    
    // Validate transition
    this.validateTransition(fromStatus, toStatus);

    // Execute pre-transition hooks
    await this.executePreHooks(orderId, toStatus, actor);

    // Update order status
    const order = await prisma.order.update({
      where: { id: orderId },
      data: { 
        status: toStatus,
        updatedAt: new Date()
      },
      include: {
        user: true,
        items: {
          include: {
            product: true,
            variant: true
          }
        },
        shippingAddress: true
      }
    });

    // Execute post-transition hooks
    await this.executePostHooks(order, toStatus);

    return order;
  }

  private validateTransition(from: OrderStatus, to: OrderStatus) {
    const validTransitions: Record<OrderStatus, OrderStatus[]> = {
      PENDING: ['PAID', 'CANCELLED'],
      PAID: ['QC_APPROVED', 'QC_REJECTED', 'REFUNDED'],
      QC_APPROVED: ['PACKING', 'CANCELLED'],
      QC_REJECTED: ['REFUNDED'],
      PACKING: ['SHIPPED'],
      SHIPPED: ['DELIVERED', 'RETURNING'],
      DELIVERED: ['COMPLETED', 'RETURNING'],
      RETURNING: ['REFUNDED'],
      REFUNDED: [],
      CANCELLED: [],
      COMPLETED: []
    };

    if (!validTransitions[from]?.includes(to)) {
      throw new AppError(
        `Invalid status transition from ${from} to ${to}`,
        400
      );
    }
  }

  private async executePreHooks(
    orderId: string, 
    toStatus: OrderStatus,
    actor: { id: string; role: string }
  ) {
    switch (toStatus) {
      case 'QC_APPROVED':
        // Check if actor has QC permission
        if (!['ADMIN', 'QC_SPECIALIST'].includes(actor.role)) {
          throw new AppError('Unauthorized to approve QC', 403);
        }
        break;

      case 'SHIPPED':
        // Ensure shipping info is complete
        const order = await prisma.order.findUnique({
          where: { id: orderId },
          include: { shipments: true }
        });
        if (!order?.shipments || order.shipments.length === 0) {
          throw new AppError('Shipping information required', 400);
        }
        break;

      case 'REFUNDED':
        // Process refund via payment gateway
        // (implementation depends on gateway)
        break;
    }
  }

  private async executePostHooks(order: Order, toStatus: OrderStatus) {
    switch (toStatus) {
      case 'PAID':
        // Send confirmation email
        await this.emailService.sendOrderConfirmation(order);
        await this.smsService.sendOrderConfirmation(
          order.user.phone,
          order.orderNumber
        );
        break;

      case 'QC_APPROVED':
        // Notify packing team
        await this.emailService.notifyPackingTeam(order);
        break;

      case 'SHIPPED':
        // Send tracking info
        await this.emailService.sendShippingNotification(order);
        await this.smsService.sendTrackingNumber(
          order.user.phone,
          order.shipments[0].trackingNumber
        );
        break;

      case 'DELIVERED':
        // Request review
        await this.emailService.requestReview(order);
        break;

      case 'REFUNDED':
        // Send refund confirmation
        await this.emailService.sendRefundConfirmation(order);
        break;
    }
  }
}
```

### 4.4. Payment Integration Example (MoMo)

```typescript
// modules/payments/momo.service.ts
import crypto from 'crypto';
import axios from 'axios';
import { AppError } from '@/utils/errors';

interface MoMoConfig {
  partnerCode: string;
  accessKey: string;
  secretKey: string;
  endpoint: string;
  returnUrl: string;
  notifyUrl: string;
}

export class MoMoService {
  private config: MoMoConfig;

  constructor() {
    this.config = {
      partnerCode: process.env.MOMO_PARTNER_CODE!,
      accessKey: process.env.MOMO_ACCESS_KEY!,
      secretKey: process.env.MOMO_SECRET_KEY!,
      endpoint: process.env.MOMO_ENDPOINT!,
      returnUrl: `${process.env.APP_URL}/checkout/success`,
      notifyUrl: `${process.env.API_URL}/api/v1/payments/webhook/momo`
    };
  }

  async createPayment(order: {
    id: string;
    orderNumber: string;
    amount: number;
    userInfo: { email: string; phone: string };
  }) {
    const requestId = `${order.orderNumber}-${Date.now()}`;
    const orderId = order.orderNumber;
    const amount = order.amount.toString();
    const orderInfo = `Thanh toÃ¡n Ä‘Æ¡n hÃ ng ${order.orderNumber}`;
    const requestType = 'captureWallet';
    const extraData = Buffer.from(JSON.stringify({ 
      orderId: order.id 
    })).toString('base64');

    // Generate signature
    const rawSignature = `accessKey=${this.config.accessKey}&amount=${amount}&extraData=${extraData}&ipnUrl=${this.config.notifyUrl}&orderId=${orderId}&orderInfo=${orderInfo}&partnerCode=${this.config.partnerCode}&redirectUrl=${this.config.returnUrl}&requestId=${requestId}&requestType=${requestType}`;
    
    const signature = crypto
      .createHmac('sha256', this.config.secretKey)
      .update(rawSignature)
      .digest('hex');

    const requestBody = {
      partnerCode: this.config.partnerCode,
      accessKey: this.config.accessKey,
      requestId,
      amount,
      orderId,
      orderInfo,
      redirectUrl: this.config.returnUrl,
      ipnUrl: this.config.notifyUrl,
      requestType,
      extraData,
      signature,
      lang: 'vi'
    };

    try {
      const response = await axios.post(this.config.endpoint, requestBody);

      if (response.data.resultCode === 0) {
        // Save payment record
        await prisma.payment.create({
          data: {
            orderId: order.id,
            method: 'MOMO',
            status: 'PENDING',
            amount: order.amount,
            transactionId: requestId,
            gatewayResponse: response.data
          }
        });

        return {
          paymentUrl: response.data.payUrl,
          requestId
        };
      } else {
        throw new AppError(
          `MoMo payment failed: ${response.data.message}`,
          400
        );
      }
    } catch (error) {
      throw new AppError('Payment gateway error', 500);
    }
  }

  async handleWebhook(webhookData: any) {
    // Verify signature
    const {
      partnerCode,
      accessKey,
      requestId,
      amount,
      orderId,
      orderInfo,
      orderType,
      transId,
      message,
      localMessage,
      responseTime,
      errorCode,
      payType,
      extraData,
      signature
    } = webhookData;

    const rawSignature = `accessKey=${accessKey}&amount=${amount}&extraData=${extraData}&message=${message}&orderId=${orderId}&orderInfo=${orderInfo}&orderType=${orderType}&partnerCode=${partnerCode}&payType=${payType}&requestId=${requestId}&responseTime=${responseTime}&resultCode=${errorCode}&transId=${transId}`;

    const expectedSignature = crypto
      .createHmac('sha256', this.config.secretKey)
      .update(rawSignature)
      .digest('hex');

    if (signature !== expectedSignature) {
      throw new AppError('Invalid signature', 400);
    }

    // Update payment status
    const payment = await prisma.payment.findFirst({
      where: { transactionId: requestId },
      include: { order: true }
    });

    if (!payment) {
      throw new AppError('Payment not found', 404);
    }

    if (errorCode === 0) {
      // Payment successful
      await prisma.$transaction([
        prisma.payment.update({
          where: { id: payment.id },
          data: {
            status: 'PAID',
            paidAt: new Date(),
            gatewayResponse: webhookData
          }
        }),
        prisma.order.update({
          where: { id: payment.orderId },
          data: { status: 'PAID' }
        })
      ]);

      // Trigger order workflow
      const workflow = new OrderWorkflow();
      await workflow.transitionStatus(
        payment.orderId,
        'PENDING',
        'PAID',
        { id: 'system', role: 'SYSTEM' }
      );
    } else {
      // Payment failed
      await prisma.payment.update({
        where: { id: payment.id },
        data: {
          status: 'FAILED',
          gatewayResponse: webhookData
        }
      });
    }

    return { success: true };
  }
}
```

---

## 5. SECURITY ARCHITECTURE

### 5.1. Security Layers Overview

```mermaid
graph TB
    subgraph "Infrastructure Security"
        SSL[SSL/TLS Certificate<br/>Let's Encrypt]
        FW[Firewall Rules<br/>UFW/iptables]
        DDoS[DDoS Protection<br/>Cloudflare]
    end
    
    subgraph "Application Security"
        HELMET[Security Headers<br/>Helmet.js]
        CORS[CORS Policy]
        RATE[Rate Limiting<br/>Redis-based]
        CSRF[CSRF Protection]
        XSS[XSS Prevention<br/>DOMPurify]
        SQL[SQL Injection Prevention<br/>Parameterized Queries]
    end
    
    subgraph "Authentication & Authorization"
        JWT[JWT Tokens<br/>Access + Refresh]
        BCRYPT[Password Hashing<br/>bcrypt]
        RBAC[Role-Based Access Control]
        OAUTH[OAuth 2.0<br/>Google/Facebook]
        MFA[2FA/OTP<br/>Optional Phase 2]
    end
    
    subgraph "Data Security"
        ENCRYPT[Encryption at Rest<br/>AES-256]
        PII[PII Data Protection]
        BACKUP[Encrypted Backups]
        AUDIT[Audit Logs]
    end
    
    subgraph "Payment Security"
        PCI[PCI-DSS Compliance]
        TOKENIZE[Card Tokenization]
        GATEWAY[Secure Gateway Integration]
    end
    
    SSL --> HELMET
    FW --> RATE
    DDoS --> CORS
    
    HELMET --> JWT
    RATE --> RBAC
    
    JWT --> ENCRYPT
    RBAC --> PII
    
    GATEWAY --> PCI
```

### 5.2. Authentication Implementation

```typescript
// middlewares/authenticate.ts
import jwt from 'jsonwebtoken';
import { Request, Response, NextFunction } from 'express';
import { PrismaClient } from '@prisma/client';
import { AppError } from '@/utils/errors';

const prisma = new PrismaClient();

interface JWTPayload {
  userId: string;
  email: string;
  role: string;
}

// Extend Express Request type
declare global {
  namespace Express {
    interface Request {
      user?: {
        id: string;
        email: string;
        role: string;
      };
    }
  }
}

export async function authenticate(
  req: Request, 
  res: Response, 
  next: NextFunction
) {
  try {
    // Extract token from header
    const authHeader = req.headers.authorization;
    if (!authHeader || !authHeader.startsWith('Bearer ')) {
      throw new AppError('No token provided', 401);
    }

    const token = authHeader.split(' ') [ppl-ai-file-upload.s3.amazonaws](https://ppl-ai-file-upload.s3.amazonaws.com/web/direct-files/attachments/14105502/bb34c01a-defe-4e6e-a0a5-77127f182ebb/Bo-Nhan-Dien-Thuong-Hieu-Triet-Ly-Thiet-Ke.docx);

    // Verify token
    const decoded = jwt.verify(
      token, 
      process.env.JWT_ACCESS_SECRET!
    ) as JWTPayload;

    // Check if user still exists
    const user = await prisma.user.findUnique({
      where: { id: decoded.userId },
      select: { id: true, email: true, role: true, status: true }
    });

    if (!user) {
      throw new AppError('User no longer exists', 401);
    }

    if (user.status !== 'ACTIVE') {
      throw new AppError('User account is inactive', 403);
    }

    // Attach user to request
    req.user = {
      id: user.id,
      email: user.email,
      role: user.role
    };

    next();
  } catch (error) {
    if (error instanceof jwt.TokenExpiredError) {
      return next(new AppError('Token expired', 401));
    }
    if (error instanceof jwt.JsonWebTokenError) {
      return next(new AppError('Invalid token', 401));
    }
    next(error);
  }
}

// middlewares/authorize.ts
export function authorize(roles: string[]) {
  return (req: Request, res: Response, next: NextFunction) => {
    if (!req.user) {
      return next(new AppError('Unauthorized', 401));
    }

    if (!roles.includes(req.user.role)) {
      return next(new AppError('Insufficient permissions', 403));
    }

    next();
  };
}
```

```typescript
// modules/auth/auth.service.ts
import bcrypt from 'bcrypt';
import jwt from 'jsonwebtoken';
import { PrismaClient } from '@prisma/client';
import { AppError } from '@/utils/errors';

const prisma = new PrismaClient();

export class AuthService {
  
  async register(data: {
    email: string;
    password: string;
    fullName: string;
    phone?: string;
  }) {
    // Check if user exists
    const existingUser = await prisma.user.findUnique({
      where: { email: data.email }
    });

    if (existingUser) {
      throw new AppError('Email already registered', 400);
    }

    // Hash password
    const passwordHash = await bcrypt.hash(data.password, 12);

    // Create user
    const user = await prisma.user.create({
      data: {
        email: data.email,
        passwordHash,
        fullName: data.fullName,
        phone: data.phone,
        role: 'CUSTOMER',
        status: 'ACTIVE'
      },
      select: {
        id: true,
        email: true,
        fullName: true,
        role: true
      }
    });

    // Generate tokens
    const tokens = this.generateTokens(user);

    return { user, tokens };
  }

  async login(email: string, password: string) {
    // Find user
    const user = await prisma.user.findUnique({
      where: { email }
    });

    if (!user) {
      throw new AppError('Invalid credentials', 401);
    }

    if (user.status !== 'ACTIVE') {
      throw new AppError('Account is inactive', 403);
    }

    // Verify password
    const isPasswordValid = await bcrypt.compare(password, user.passwordHash);
    if (!isPasswordValid) {
      throw new AppError('Invalid credentials', 401);
    }

    // Update last login
    await prisma.user.update({
      where: { id: user.id },
      data: { lastLoginAt: new Date() }
    });

    // Generate tokens
    const tokens = this.generateTokens(user);

    return {
      user: {
        id: user.id,
        email: user.email,
        fullName: user.fullName,
        role: user.role
      },
      tokens
    };
  }

  async refreshToken(refreshToken: string) {
    try {
      const decoded = jwt.verify(
        refreshToken,
        process.env.JWT_REFRESH_SECRET!
      ) as { userId: string };

      const user = await prisma.user.findUnique({
        where: { id: decoded.userId },
        select: { id: true, email: true, role: true, status: true }
      });

      if (!user || user.status !== 'ACTIVE') {
        throw new AppError('Invalid refresh token', 401);
      }

      const tokens = this.generateTokens(user);
      return tokens;
    } catch (error) {
      throw new AppError('Invalid refresh token', 401);
    }
  }

  private generateTokens(user: { id: string; email: string; role: string }) {
    const accessToken = jwt.sign(
      { userId: user.id, email: user.email, role: user.role },
      process.env.JWT_ACCESS_SECRET!,
      { expiresIn: '15m' }
    );

    const refreshToken = jwt.sign(
      { userId: user.id },
      process.env.JWT_REFRESH_SECRET!,
      { expiresIn: '7d' }
    );

    return { accessToken, refreshToken };
  }

  async requestPasswordReset(email: string) {
    const user = await prisma.user.findUnique({ where: { email } });
    
    if (!user) {
      // Don't reveal if email exists
      return { message: 'If email exists, reset link will be sent' };
    }

    // Generate reset token
    const resetToken = crypto.randomBytes(32).toString('hex');
    const resetTokenHash = await bcrypt.hash(resetToken, 10);

    await prisma.user.update({
      where: { id: user.id },
      data: {
        passwordResetToken: resetTokenHash,
        passwordResetExpires: new Date(Date.now() + 3600000) // 1 hour
      }
    });

    // Send email (implementation depends on email service)
    const resetUrl = `${process.env.APP_URL}/reset-password?token=${resetToken}&email=${email}`;
    await emailService.sendPasswordResetEmail(email, resetUrl);

    return { message: 'Password reset email sent' };
  }

  async resetPassword(email: string, token: string, newPassword: string) {
    const user = await prisma.user.findUnique({
      where: { email }
    });

    if (!user || !user.passwordResetToken || !user.passwordResetExpires) {
      throw new AppError('Invalid or expired reset token', 400);
    }

    if (user.passwordResetExpires < new Date()) {
      throw new AppError('Reset token has expired', 400);
    }

    const isTokenValid = await bcrypt.compare(token, user.passwordResetToken);
    if (!isTokenValid) {
      throw new AppError('Invalid reset token', 400);
    }

    // Update password
    const passwordHash = await bcrypt.hash(newPassword, 12);
    await prisma.user.update({
      where: { id: user.id },
      data: {
        passwordHash,
        passwordResetToken: null,
        passwordResetExpires: null
      }
    });

    return { message: 'Password reset successful' };
  }
}
```

### 5.3. Rate Limiting & DDoS Protection

```typescript
// middlewares/rateLimit.ts
import rateLimit from 'express-rate-limit';
import RedisStore from 'rate-limit-redis';
import { redisClient } from '@/config/redis';

// General API rate limit
export const apiLimiter = rateLimit({
  store: new RedisStore({
    client: redisClient,
    prefix: 'rl:api:'
  }),
  windowMs: 15 * 60 * 1000, // 15 minutes
  max: 100, // 100 requests per window
  message: 'Too many requests, please try again later',
  standardHeaders: true,
  legacyHeaders: false
});

// Stricter limit for auth endpoints
export const authLimiter = rateLimit({
  store: new RedisStore({
    client: redisClient,
    prefix: 'rl:auth:'
  }),
  windowMs: 15 * 60 * 1000,
  max: 5, // 5 login attempts per 15 minutes
  skipSuccessfulRequests: true,
  message: 'Too many login attempts, please try again later'
});

// Checkout rate limit (prevent abuse)
export const checkoutLimiter = rateLimit({
  store: new RedisStore({
    client: redisClient,
    prefix: 'rl:checkout:'
  }),
  windowMs: 60 * 1000, // 1 minute
  max: 3, // 3 checkout attempts per minute
  message: 'Please slow down'
});

// Payment webhook (very strict)
export const webhookLimiter = rateLimit({
  store: new RedisStore({
    client: redisClient,
    prefix: 'rl:webhook:'
  }),
  windowMs: 60 * 1000,
  max: 10,
  keyGenerator: (req) => {
    // Use IP + partner code for webhooks
    return `${req.ip}-${req.body?.partnerCode || 'unknown'}`;
  }
});
```

### 5.4. Input Validation & Sanitization

```typescript
// middlewares/validate.ts
import { Request, Response, NextFunction } from 'express';
import { AnySchema } from 'joi';
import { AppError } from '@/utils/errors';

export function validate(schema: AnySchema) {
  return (req: Request, res: Response, next: NextFunction) => {
    const { error, value } = schema.validate(req.body, {
      abortEarly: false, // Return all errors
      stripUnknown: true // Remove unknown fields
    });

    if (error) {
      const errors = error.details.map(detail => ({
        field: detail.path.join('.'),
        message: detail.message
      }));

      return next(new AppError('Validation failed', 400, errors));
    }

    req.body = value; // Use sanitized data
    next();
  };
}
```

```typescript
// modules/products/product.validation.ts
import Joi from 'joi';

export const productValidation = {
  create: Joi.object({
    sku: Joi.string().required().max(50),
    nameVi: Joi.string().required().max(200),
    nameEn: Joi.string().required().max(200),
    descriptionVi: Joi.string().required(),
    descriptionEn: Joi.string().required(),
    categoryId: Joi.string().uuid().required(),
    elementId: Joi.string().uuid().required(),
    basePrice: Joi.number().min(0).required(),
    techSpecs: Joi.object({
      fabric: Joi.string().required(),
      weight: Joi.string().required(),
      weave: Joi.string().required(),
      certifications: Joi.array().items(Joi.string())
    }),
    variants: Joi.array().items(
      Joi.object({
        size: Joi.string().required(),
        color: Joi.string().required(),
        colorCode: Joi.string().pattern(/^#[0-9A-F]{6}$/i),
        price: Joi.number().min(0).required(),
        stockQuantity: Joi.number().integer().min(0).required()
      })
    ).min(1).required()
  }),

  update: Joi.object({
    nameVi: Joi.string().max(200),
    nameEn: Joi.string().max(200),
    descriptionVi: Joi.string(),
    descriptionEn: Joi.string(),
    basePrice: Joi.number().min(0),
    techSpecs: Joi.object(),
    status: Joi.string().valid('ACTIVE', 'INACTIVE', 'OUT_OF_STOCK')
  }).min(1) // At least one field to update
};
```

### 5.5. Content Security Policy

```typescript
// app.ts - Security headers setup
import helmet from 'helmet';
import express from 'express';

const app = express();

app.use(helmet({
  contentSecurityPolicy: {
    directives: {
      defaultSrc: ["'self'"],
      scriptSrc: [
        "'self'",
        "'unsafe-inline'", // Required for Next.js
        "https://www.googletagmanager.com",
        "https://cdn.momo.vn"
      ],
      styleSrc: [
        "'self'",
        "'unsafe-inline'", // Required for Tailwind
        "https://fonts.googleapis.com"
      ],
      fontSrc: [
        "'self'",
        "https://fonts.gstatic.com"
      ],
      imgSrc: [
        "'self'",
        "data:",
        "https:",
        "https://cdn.elementa.vn",
        "https://s3.amazonaws.com"
      ],
      connectSrc: [
        "'self'",
        "https://api.elementa.vn",
        "https://analytics.google.com"
      ],
      frameSrc: [
        "https://www.google.com", // Google OAuth
        "https://payment.momo.vn" // MoMo payment
      ],
      objectSrc: ["'none'"],
      upgradeInsecureRequests: []
    }
  },
  hsts: {
    maxAge: 31536000, // 1 year
    includeSubDomains: true,
    preload: true
  },
  frameguard: {
    action: 'deny'
  },
  noSniff: true,
  xssFilter: true
}));

// CORS configuration
import cors from 'cors';

const corsOptions = {
  origin: function (origin, callback) {
    const allowedOrigins = [
      'https://elementa.vn',
      'https://www.elementa.vn',
      'https://admin.elementa.vn',
      process.env.NODE_ENV === 'development' ? 'http://localhost:3000' : null
    ].filter(Boolean);

    if (!origin || allowedOrigins.includes(origin)) {
      callback(null, true);
    } else {
      callback(new Error('Not allowed by CORS'));
    }
  },
  credentials: true,
  methods: ['GET', 'POST', 'PUT', 'PATCH', 'DELETE', 'OPTIONS'],
  allowedHeaders: ['Content-Type', 'Authorization']
};

app.use(cors(corsOptions));
```

***

## 6. DEPLOYMENT STRATEGY

### 6.1. Infrastructure Architecture

```mermaid
graph TB
    subgraph "DNS & CDN Layer"
        DNS[Cloudflare DNS<br/>elementa.vn]
        CDN[Cloudflare CDN<br/>Global Edge Caching]
    end
    
    subgraph "Load Balancer"
        LB[Nginx Load Balancer<br/>SSL Termination]
    end
    
    subgraph "Application Servers - Auto-scaling"
        APP1[Node.js App #1<br/>4 vCPU, 8GB RAM]
        APP2[Node.js App #2<br/>4 vCPU, 8GB RAM]
        APP3[Node.js App #3<br/>Standby]
    end
    
    subgraph "Database Cluster"
        DB_PRIMARY[(PostgreSQL Primary<br/>Write + Read)]
        DB_REPLICA[(PostgreSQL Replica<br/>Read Only)]
    end
    
    subgraph "Cache & Queue"
        REDIS[Redis Cluster<br/>Cache + Sessions]
        QUEUE[Redis Queue<br/>Background Jobs]
    end
    
    subgraph "Storage"
        S3[AWS S3 / DO Spaces<br/>Static Assets]
    end
    
    subgraph "Monitoring"
        SENTRY[Sentry<br/>Error Tracking]
        LOGS[Elasticsearch<br/>Log Aggregation]
        METRICS[Prometheus + Grafana<br/>Metrics Dashboard]
    end
    
    DNS --> CDN
    CDN --> LB
    
    LB --> APP1
    LB --> APP2
    LB --> APP3
    
    APP1 --> DB_PRIMARY
    APP2 --> DB_PRIMARY
    APP3 --> DB_PRIMARY
    
    APP1 --> DB_REPLICA
    APP2 --> DB_REPLICA
    APP3 --> DB_REPLICA
    
    APP1 --> REDIS
    APP2 --> REDIS
    APP3 --> REDIS
    
    APP1 --> QUEUE
    APP2 --> QUEUE
    
    APP1 --> S3
    APP2 --> S3
    
    DB_PRIMARY -.Replication.-> DB_REPLICA
    
    APP1 --> SENTRY
    APP2 --> SENTRY
    
    APP1 --> LOGS
    APP2 --> LOGS
    
    METRICS -.Monitor.-> APP1
    METRICS -.Monitor.-> APP2
    METRICS -.Monitor.-> DB_PRIMARY
```

### 6.2. Docker Configuration

```dockerfile
# Dockerfile (Backend)
FROM node:20-alpine AS builder

WORKDIR /app

# Copy package files
COPY package*.json ./
COPY prisma ./prisma/

# Install dependencies
RUN npm ci --only=production && \
    npm cache clean --force

# Copy source code
COPY . .

# Generate Prisma Client
RUN npx prisma generate

# Build TypeScript
RUN npm run build

# Production image
FROM node:20-alpine

WORKDIR /app

# Create non-root user
RUN addgroup -g 1001 -S nodejs && \
    adduser -S nodejs -u 1001

# Copy built files
COPY --from=builder --chown=nodejs:nodejs /app/dist ./dist
COPY --from=builder --chown=nodejs:nodejs /app/node_modules ./node_modules
COPY --from=builder --chown=nodejs:nodejs /app/prisma ./prisma
COPY --from=builder --chown=nodejs:nodejs /app/package.json ./

# Switch to non-root user
USER nodejs

# Expose port
EXPOSE 4000

# Health check
HEALTHCHECK --interval=30s --timeout=3s --start-period=40s \
  CMD node -e "require('http').get('http://localhost:4000/health', (r) => {process.exit(r.statusCode === 200 ? 0 : 1)})"

# Start app
CMD ["node", "dist/server.js"]
```

```dockerfile
# Dockerfile (Frontend - Next.js)
FROM node:20-alpine AS deps

WORKDIR /app
COPY package*.json ./
RUN npm ci

FROM node:20-alpine AS builder

WORKDIR /app
COPY --from=deps /app/node_modules ./node_modules
COPY . .

ENV NEXT_TELEMETRY_DISABLED 1

RUN npm run build

FROM node:20-alpine AS runner

WORKDIR /app

ENV NODE_ENV production
ENV NEXT_TELEMETRY_DISABLED 1

RUN addgroup -g 1001 -S nodejs && \
    adduser -S nextjs -u 1001

COPY --from=builder /app/public ./public
COPY --from=builder --chown=nextjs:nodejs /app/.next/standalone ./
COPY --from=builder --chown=nextjs:nodejs /app/.next/static ./.next/static

USER nextjs

EXPOSE 3000

ENV PORT 3000

CMD ["node", "server.js"]
```

### 6.3. Docker Compose (Development)

```yaml
# docker-compose.yml
version: '3.8'

services:
  # PostgreSQL Database
  postgres:
    image: postgres:15-alpine
    container_name: elementa-db
    environment:
      POSTGRES_DB: elementa
      POSTGRES_USER: elementa
      POSTGRES_PASSWORD: ${DB_PASSWORD}
    ports:
      - "5432:5432"
    volumes:
      - postgres_data:/var/lib/postgresql/data
    healthcheck:
      test: ["CMD-SHELL", "pg_isready -U elementa"]
      interval: 10s
      timeout: 5s
      retries: 5

  # Redis Cache
  redis:
    image: redis:7-alpine
    container_name: elementa-redis
    ports:
      - "6379:6379"
    volumes:
      - redis_data:/data
    command: redis-server --appendonly yes
    healthcheck:
      test: ["CMD", "redis-cli", "ping"]
      interval: 10s
      timeout: 3s
      retries: 5

  # Backend API
  backend:
    build:
      context: ./backend
      dockerfile: Dockerfile
    container_name: elementa-api
    environment:
      NODE_ENV: development
      DATABASE_URL: postgresql://elementa:${DB_PASSWORD}@postgres:5432/elementa
      REDIS_URL: redis://redis:6379
      JWT_ACCESS_SECRET: ${JWT_ACCESS_SECRET}
      JWT_REFRESH_SECRET: ${JWT_REFRESH_SECRET}
    ports:
      - "4000:4000"
    volumes:
      - ./backend/src:/app/src
      - /app/node_modules
    depends_on:
      postgres:
        condition: service_healthy
      redis:
        condition: service_healthy
    command: npm run dev

  # Frontend
  frontend:
    build:
      context: ./frontend
      dockerfile: Dockerfile.dev
    container_name: elementa-web
    environment:
      NEXT_PUBLIC_API_URL: http://localhost:4000/api/v1
    ports:
      - "3000:3000"
    volumes:
      - ./frontend:/app
      - /app/node_modules
      - /app/.next
    depends_on:
      - backend
    command: npm run dev

  # Nginx (Load Balancer / Reverse Proxy)
  nginx:
    image: nginx:alpine
    container_name: elementa-nginx
    ports:
      - "80:80"
      - "443:443"
    volumes:
      - ./nginx/nginx.conf:/etc/nginx/nginx.conf
      - ./nginx/ssl:/etc/nginx/ssl
    depends_on:
      - frontend
      - backend

volumes:
  postgres_data:
  redis_data:
```

### 6.4. Nginx Configuration

```nginx
# nginx/nginx.conf
upstream backend_servers {
    least_conn; # Load balancing method
    server backend:4000 max_fails=3 fail_timeout=30s;
    # Add more backend servers for production
    # server backend-2:4000;
    # server backend-3:4000;
}

upstream frontend_servers {
    server frontend:3000;
}

# Rate limiting zones
limit_req_zone $binary_remote_addr zone=api_limit:10m rate=100r/m;
limit_req_zone $binary_remote_addr zone=auth_limit:10m rate=5r/m;
limit_req_zone $binary_remote_addr zone=static_limit:10m rate=1000r/m;

# Cache settings
proxy_cache_path /var/cache/nginx levels=1:2 keys_zone=api_cache:10m max_size=1g inactive=60m;

server {
    listen 80;
    server_name elementa.vn www.elementa.vn;

    # Redirect HTTP to HTTPS
    return 301 https://$server_name$request_uri;
}

server {
    listen 443 ssl http2;
    server_name elementa.vn www.elementa.vn;

    # SSL Configuration
    ssl_certificate /etc/nginx/ssl/elementa.vn.crt;
    ssl_certificate_key /etc/nginx/ssl/elementa.vn.key;
    ssl_protocols TLSv1.2 TLSv1.3;
    ssl_ciphers HIGH:!aNULL:!MD5;
    ssl_prefer_server_ciphers on;
    ssl_session_cache shared:SSL:10m;
    ssl_session_timeout 10m;

    # Security Headers
    add_header Strict-Transport-Security "max-age=31536000; includeSubDomains; preload" always;
    add_header X-Frame-Options "DENY" always;
    add_header X-Content-Type-Options "nosniff" always;
    add_header X-XSS-Protection "1; mode=block" always;
    add_header Referrer-Policy "strict-origin-when-cross-origin" always;

    # Gzip Compression
    gzip on;
    gzip_vary on;
    gzip_min_length 1024;
    gzip_types text/plain text/css text/xml text/javascript application/json application/javascript application/xml+rss application/rss+xml font/truetype font/opentype application/vnd.ms-fontobject image/svg+xml;

    # Client body size limit (for file uploads)
    client_max_body_size 10M;

    # Logging
    access_log /var/log/nginx/elementa_access.log;
    error_log /var/log/nginx/elementa_error.log;

    # API Routes
    location /api/ {
        limit_req zone=api_limit burst=20 nodelay;

        proxy_pass http://backend_servers;
        proxy_http_version 1.1;
        proxy_set_header Upgrade $http_upgrade;
        proxy_set_header Connection 'upgrade';
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
        proxy_cache_bypass $http_upgrade;

        # Timeouts
        proxy_connect_timeout 60s;
        proxy_send_timeout 60s;
        proxy_read_timeout 60s;
    }

    # Auth endpoints (stricter rate limit)
    location /api/v1/auth/ {
        limit_req zone=auth_limit burst=3 nodelay;

        proxy_pass http://backend_servers;
        proxy_http_version 1.1;
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
    }

    # Static files (images, fonts, etc.)
    location /_next/static/ {
        limit_req zone=static_limit burst=50;
        proxy_pass http://frontend_servers;
        proxy_cache api_cache;
        proxy_cache_valid 200 7d;
        proxy_cache_use_stale error timeout updating http_500 http_502 http_503 http_504;
        add_header Cache-Control "public, max-age=604800, immutable";
    }

    # Next.js pages
    location / {
        proxy_pass http://frontend_servers;
        proxy_http_version 1.1;
        proxy_set_header Upgrade $http_upgrade;
        proxy_set_header Connection 'upgrade';
        proxy_set_header Host $host;
        proxy_cache_bypass $http_upgrade;
    }

    # Health check endpoint
    location /health {
        access_log off;
        return 200 "healthy\n";
        add_header Content-Type text/plain;
    }
}
```

***

## 7. CI/CD PIPELINE

### 7.1. GitHub Actions Workflow

```yaml
# .github/workflows/deploy.yml
name: Deploy to Production

on:
  push:
    branches: [main]
  pull_request:
    branches: [main]

env:
  NODE_VERSION: '20.x'
  REGISTRY: ghcr.io
  IMAGE_NAME: ${{ github.repository }}

jobs:
  # Test Backend
  test-backend:
    runs-on: ubuntu-latest
    
    services:
      postgres:
        image: postgres:15
        env:
          POSTGRES_DB: elementa_test
          POSTGRES_USER: test
          POSTGRES_PASSWORD: test
        options: >-
          --health-cmd pg_isready
          --health-interval 10s
          --health-timeout 5s
          --health-retries 5
        ports:
          - 5432:5432
      
      redis:
        image: redis:7-alpine
        options: >-
          --health-cmd "redis-cli ping"
          --health-interval 10s
          --health-timeout 5s
          --health-retries 5
        ports:
          - 6379:6379

    steps:
      - uses: actions/checkout@v3

      - name: Setup Node.js
        uses: actions/setup-node@v3
        with:
          node-version: ${{ env.NODE_VERSION }}
          cache: 'npm'
          cache-dependency-path: backend/package-lock.json

      - name: Install dependencies
        working-directory: ./backend
        run: npm ci

      - name: Run Prisma migrations
        working-directory: ./backend
        env:
          DATABASE_URL: postgresql://test:test@localhost:5432/elementa_test
        run: npx prisma migrate deploy

      - name: Run tests
        working-directory: ./backend
        env:
          DATABASE_URL: postgresql://test:test@localhost:5432/elementa_test
          REDIS_URL: redis://localhost:6379
          NODE_ENV: test
        run: npm run test:coverage

      - name: Upload coverage
        uses: codecov/codecov-action@v3
        with:
          directory: ./backend/coverage

  # Test Frontend
  test-frontend:
    runs-on: ubuntu-latest

    steps:
      - uses: actions/checkout@v3

      - name: Setup Node.js
        uses: actions/setup-node@v3
        with:
          node-version: ${{ env.NODE_VERSION }}
          cache: 'npm'
          cache-dependency-path: frontend/package-lock.json

      - name: Install dependencies
        working-directory: ./frontend
        run: npm ci

      - name: Run linter
        working-directory: ./frontend
        run: npm run lint

      - name: Run tests
        working-directory: ./frontend
        run: npm run test:coverage

      - name: Build
        working-directory: ./frontend
        run: npm run build

  # Build & Push Docker Images
  build-and-push:
    needs: [test-backend, test-frontend]
    runs-on: ubuntu-latest
    if: github.event_name == 'push' && github.ref == 'refs/heads/main'

    permissions:
      contents: read
      packages: write

    steps:
      - uses: actions/checkout@v3

      - name: Log in to Container Registry
        uses: docker/login-action@v2
        with:
          registry: ${{ env.REGISTRY }}
          username: ${{ github.actor }}
          password: ${{ secrets.GITHUB_TOKEN }}

      - name: Extract metadata (backend)
        id: meta-backend
        uses: docker/metadata-action@v4
        with:
          images: ${{ env.REGISTRY }}/${{ env.IMAGE_NAME }}-backend
          tags: |
            type=sha,prefix={{branch}}-
            type=raw,value=latest,enable={{is_default_branch}}

      - name: Build and push backend
        uses: docker/build-push-action@v4
        with:
          context: ./backend
          push: true
          tags: ${{ steps.meta-backend.outputs.tags }}
          labels: ${{ steps.meta-backend.outputs.labels }}

      - name: Extract metadata (frontend)
        id: meta-frontend
        uses: docker/metadata-action@v4
        with:
          images: ${{ env.REGISTRY }}/${{ env.IMAGE_NAME }}-frontend

      - name: Build and push frontend
        uses: docker/build-push-action@v4
        with:
          context: ./frontend
          push: true
          tags: ${{ steps.meta-frontend.outputs.tags }}
          labels: ${{ steps.meta-frontend.outputs.labels }}

  # Deploy to Production
  deploy:
    needs: [build-and-push]
    runs-on: ubuntu-latest

    steps:
      - name: Deploy to server
        uses: appleboy/ssh-action@master
        with:
          host: ${{ secrets.PROD_HOST }}
          username: ${{ secrets.PROD_USERNAME }}
          key: ${{ secrets.PROD_SSH_KEY }}
          script: |
            cd /opt/elementa
            docker-compose pull
            docker-compose up -d
            docker system prune -af

      - name: Run database migrations
        uses: appleboy/ssh-action@master
        with:
          host: ${{ secrets.PROD_HOST }}
          username: ${{ secrets.PROD_USERNAME }}
          key: ${{ secrets.PROD_SSH_KEY }}
          script: |
            cd /opt/elementa
            docker-compose exec -T backend npx prisma migrate deploy

      - name: Health check
        run: |
          sleep 30
          curl --fail https://api.elementa.vn/health || exit 1
          curl --fail https://elementa.vn || exit 1

      - name: Notify deployment
        uses: 8398a7/action-slack@v3
        with:
          status: ${{ job.status }}
          text: 'Production deployment completed!'
          webhook_url: ${{ secrets.SLACK_WEBHOOK }}
        if: always()
```

### 7.2. Database Migration Strategy

```typescript
// scripts/migrate.ts - Safe migration wrapper
import { PrismaClient } from '@prisma/client';
import { exec } from 'child_process';
import { promisify } from 'util';

const execAsync = promisify(exec);
const prisma = new PrismaClient();

async function runMigration() {
  console.log('ğŸ”„ Starting migration process...');

  try {
    // 1. Backup database
    console.log('ğŸ“¦ Creating backup...');
    const timestamp = new Date().toISOString().replace(/[:.]/g, '-');
    await execAsync(`pg_dump $DATABASE_URL > backup-${timestamp}.sql`);

    // 2. Run migrations
    console.log('ğŸš€ Running Prisma migrations...');
    await execAsync('npx prisma migrate deploy');

    // 3. Verify migration
    console.log('âœ… Verifying migration...');
    await prisma.$queryRaw`SELECT 1`;

    console.log('âœ… Migration completed successfully!');
    process.exit(0);
  } catch (error) {
    console.error('âŒ Migration failed:', error);

    // 4. Rollback (restore from backup if needed)
    console.log('ğŸ”™ Consider rolling back from backup...');
    process.exit(1);
  } finally {
    await prisma.$disconnect();
  }
}

runMigration();
```

---

## 8. TESTING STRATEGY

### 8.1. Test Pyramid

```mermaid
graph TB
    subgraph "Test Pyramid - Target Coverage"
        E2E[E2E Tests<br/>10%<br/>Critical User Journeys]
        INT[Integration Tests<br/>30%<br/>API + Database]
        UNIT[Unit Tests<br/>60%<br/>Business Logic]
    end
    
    UNIT --> INT
    INT --> E2E
    
    style E2E fill:#ff6b6b
    style INT fill:#ffd93d
    style UNIT fill:#6bcf7f
```

### 8.2. Unit Testing (Backend)

```typescript
// backend/tests/unit/product.service.test.ts
import { describe, it, expect, beforeEach, afterEach, vi } from 'vitest';
import { PrismaClient } from '@prisma/client';
import { ProductService } from '@/modules/products/product.service';
import { mockDeep, mockReset, DeepMockProxy } from 'vitest-mock-extended';

vi.mock('@/config/redis', () => ({
  redisClient: {
    get: vi.fn(),
    setex: vi.fn(),
    keys: vi.fn(),
    del: vi.fn()
  }
}));

const prismaMock = mockDeep<PrismaClient>() as DeepMockProxy<PrismaClient>;

describe('ProductService', () => {
  let productService: ProductService;

  beforeEach(() => {
    productService = new ProductService();
    // Inject mock
    (productService as any).prisma = prismaMock;
  });

  afterEach(() => {
    mockReset(prismaMock);
  });

  describe('getProducts', () => {
    it('should return paginated products', async () => {
      const mockProducts = [
        {
          id: '1',
          sku: 'BA-M01',
          nameVi: 'The Lab Tee',
          nameEn: 'The Lab Tee',
          basePrice: 289000,
          category: { id: 'cat-1', name: 'T-Shirts', slug: 't-shirts' },
          element: { id: 'el-1', code: 'Ba', name: 'Base' },
          images: [{ id: 'img-1', url: 'image.jpg', isPrimary: true }],
          variants: []
        }
      ];

      prismaMock.product.findMany.mockResolvedValue(mockProducts as any);
      prismaMock.product.count.mockResolvedValue(1);

      const result = await productService.getProducts({ page: 1, limit: 20 });

      expect(result.products).toHaveLength(1);
      expect(result.pagination.total).toBe(1);
      expect(prismaMock.product.findMany).toHaveBeenCalledWith(
        expect.objectContaining({
          skip: 0,
          take: 20
        })
      );
    });

    it('should filter by category', async () => {
      prismaMock.product.findMany.mockResolvedValue([]);
      prismaMock.product.count.mockResolvedValue(0);

      await productService.getProducts({ category: 't-shirts' });

      expect(prismaMock.product.findMany).toHaveBeenCalledWith(
        expect.objectContaining({
          where: expect.objectContaining({
            category: { slug: 't-shirts' }
          })
        })
      );
    });

    it('should filter by price range', async () => {
      prismaMock.product.findMany.mockResolvedValue([]);
      prismaMock.product.count.mockResolvedValue(0);

      await productService.getProducts({ minPrice: 200000, maxPrice: 500000 });

      expect(prismaMock.product.findMany).toHaveBeenCalledWith(
        expect.objectContaining({
          where: expect.objectContaining({
            basePrice: {
              gte: 200000,
              lte: 500000
            }
          })
        })
      );
    });
  });

  describe('getProductById', () => {
    it('should return product when found', async () => {
      const mockProduct = {
        id: '1',
        sku: 'BA-M01',
        nameVi: 'The Lab Tee'
      };

      prismaMock.product.findUnique.mockResolvedValue(mockProduct as any);

      const result = await productService.getProductById('1');

      expect(result).toEqual(mockProduct);
    });

    it('should throw error when product not found', async () => {
      prismaMock.product.findUnique.mockResolvedValue(null);

      await expect(productService.getProductById('999'))
        .rejects
        .toThrow('Product not found');
    });
  });
});
```

### 8.3. Integration Testing (API)

```typescript
// backend/tests/integration/products.test.ts
import { describe, it, expect, beforeAll, afterAll } from 'vitest';
import request from 'supertest';
import { app } from '@/app';
import { PrismaClient } from '@prisma/client';

const prisma = new PrismaClient();

describe('Products API', () => {
  let authToken: string;
  let testProductId: string;

  beforeAll(async () => {
    // Setup test database
    await prisma.$executeRaw`TRUNCATE TABLE products CASCADE`;

    // Create test user and get auth token
    const response = await request(app)
      .post('/api/v1/auth/register')
      .send({
        email: 'test@example.com',
        password: 'Test1234!',
        fullName: 'Test User'
      });

    authToken = response.body.data.tokens.accessToken;
  });

  afterAll(async () => {
    await prisma.$executeRaw`TRUNCATE TABLE products CASCADE`;
    await prisma.$disconnect();
  });

  describe('GET /api/v1/products', () => {
    it('should return empty array when no products', async () => {
      const response = await request(app)
        .get('/api/v1/products')
        .expect(200);

      expect(response.body.success).toBe(true);
      expect(response.body.data).toEqual([]);
    });

    it('should return paginated products', async () => {
      // Create test products
      await prisma.product.createMany({
        data: Array.from({ length: 25 }, (_, i) => ({
          sku: `TEST-${i}`,
          nameVi: `Product ${i}`,
          nameEn: `Product ${i}`,
          descriptionVi: 'Test',
          descriptionEn: 'Test',
          basePrice: 100000,
          categoryId: 'cat-id',
          elementId: 'el-id',
          status: 'ACTIVE'
        }))
      });

      const response = await request(app)
        .get('/api/v1/products?page=1&limit=10')
        .expect(200);

      expect(response.body.data).toHaveLength(10);
      expect(response.body.pagination.total).toBe(25);
      expect(response.body.pagination.totalPages).toBe(3);
    });

    it('should filter by category', async () => {
      const response = await request(app)
        .get('/api/v1/products?category=t-shirts')
        .expect(200);

      expect(response.body.success).toBe(true);
    });

    it('should sort by price', async () => {
      const response = await request(app)
        .get('/api/v1/products?sort=price-asc')
        .expect(200);

      const prices = response.body.data.map((p: any) => p.basePrice);
      expect(prices).toEqual([...prices].sort((a, b) => a - b));
    });
  });

  describe('POST /api/v1/products', () => {
    it('should create product when authenticated as admin', async () => {
      const productData = {
        sku: 'BA-M01',
        nameVi: 'The Lab Tee',
        nameEn: 'The Lab Tee',
        descriptionVi: 'Ão thun cÆ¡ báº£n',
        descriptionEn: 'Basic tee',
        categoryId: 'cat-id',
        elementId: 'el-id',
        basePrice: 289000,
        techSpecs: {
          fabric: '100% Cotton',
          weight: '260 GSM'
        },
        variants: [
          {
            size: 'L',
            color: 'White',
            colorCode: '#FFFFFF',
            price: 289000,
            stockQuantity: 100
          }
        ]
      };

      const response = await request(app)
        .post('/api/v1/products')
        .set('Authorization', `Bearer ${authToken}`)
        .send(productData)
        .expect(201);

      expect(response.body.success).toBe(true);
      expect(response.body.data.sku).toBe('BA-M01');
      testProductId = response.body.data.id;
    });

    it('should return 401 when not authenticated', async () => {
      await request(app)
        .post('/api/v1/products')
        .send({})
        .expect(401);
    });

    it('should return 400 when validation fails', async () => {
      const response = await request(app)
        .post('/api/v1/products')
        .set('Authorization', `Bearer ${authToken}`)
        .send({ sku: 'INVALID' }) // Missing required fields
        .expect(400);

      expect(response.body.success).toBe(false);
      expect(response.body.message).toContain('Validation failed');
    });
  });

  describe('GET /api/v1/products/:id', () => {
    it('should return product details', async () => {
      const response = await request(app)
        .get(`/api/v1/products/${testProductId}`)
        .expect(200);

      expect(response.body.success).toBe(true);
      expect(response.body.data.id).toBe(testProductId);
      expect(response.body.data.variants).toBeDefined();
    });

    it('should return 404 for non-existent product', async () => {
      await request(app)
        .get('/api/v1/products/00000000-0000-0000-0000-000000000000')
        .expect(404);
    });
  });
});
```

### 8.4. E2E Testing (Frontend)

```typescript
// frontend/tests/e2e/checkout.spec.ts
import { test, expect } from '@playwright/test';

test.describe('Checkout Flow', () => {
  test.beforeEach(async ({ page }) => {
    // Navigate to homepage
    await page.goto('/');
  });

  test('complete checkout as guest user', async ({ page }) => {
    // 1. Browse products
    await page.click('text=Shop');
    await expect(page).toHaveURL(/\/shop/);

    // 2. Select product
    await page.click('[data-testid="product-card"]:first-child');
    await expect(page.locator('h1')).toContainText('The Lab Tee');

    // 3. Select size and color
    await page.click('[data-testid="size-L"]');
    await page.click('[data-testid="color-white"]');

    // 4. Add to cart
    await page.click('[data-testid="add-to-cart"]');
    await expect(page.locator('[data-testid="cart-count"]')).toHaveText('1');

    // 5. Open cart
    await page.click('[data-testid="cart-icon"]');
    await expect(page.locator('[data-testid="mini-cart"]')).toBeVisible();

    // 6. Proceed to checkout
    await page.click('text=Checkout');
    await expect(page).toHaveURL(/\/checkout/);

    // 7. Fill shipping info
    await page.fill('[name="email"]', 'test@example.com');
    await page.fill('[name="fullName"]', 'Nguyen Van A');
    await page.fill('[name="phone"]', '0901234567');
    await page.fill('[name="address"]', '123 Nguyen Hue');
    await page.selectOption('[name="city"]', 'Ho Chi Minh');

    // 8. Select shipping method
    await page.click('[data-testid="shipping-express"]');

    // 9. Select payment method
    await page.click('[data-testid="payment-cod"]');

    // 10. Place order
    await page.click('[data-testid="place-order"]');

    // 11. Verify success page
    await expect(page).toHaveURL(/\/checkout\/success/);
    await expect(page.locator('h1')).toContainText('Order Confirmed');
    
    const orderNumber = await page.locator('[data-testid="order-number"]').textContent();
    expect(orderNumber).toMatch(/^EL-\d{8}-\d{3}$/);
  });

  test('apply discount code', async ({ page }) => {
    // Add product to cart (abbreviated)
    await page.goto('/product/test-product');
    await page.click('[data-testid="add-to-cart"]');
    await page.goto('/checkout');

    // Apply promo code
    await page.fill('[name="promoCode"]', 'LAUNCH50');
    await page.click('[data-testid="apply-promo"]');

    // Verify discount applied
    await expect(page.locator('[data-testid="discount-amount"]'))
      .toContainText('-â‚«');
    await expect(page.locator('[data-testid="total-amount"]'))
      .not.toContainText('â‚«987,000'); // Should be discounted
  });

  test('handle out of stock product', async ({ page }) => {
    // Navigate to out-of-stock product
    await page.goto('/product/out-of-stock-item');

    // Verify add to cart is disabled
    const addToCartBtn = page.locator('[data-testid="add-to-cart"]');
    await expect(addToCartBtn).toBeDisabled();
    await expect(page.locator('text=Out of Stock')).toBeVisible();

    // Verify notify me option
    await expect(page.locator('[data-testid="notify-me"]')).toBeVisible();
  });
});

test.describe('3D Product Viewer', () => {
  test('should load and interact with 3D model', async ({ page }) => {
    await page.goto('/product/test-product-3d');

    // Wait for 3D viewer to load
    const viewer = page.locator('[data-testid="3d-viewer"]');
    await expect(viewer).toBeVisible();

    // Check canvas rendered
    const canvas = viewer.locator('canvas');
    await expect(canvas).toBeVisible();

    // Test color change
    await page.click('[data-testid="color-black"]');
    
    // Wait for material update (check if canvas re-rendered)
    await page.waitForTimeout(1000);

    // Test zoom controls
    await page.click('[data-testid="zoom-in"]');
    await page.click('[data-testid="reset-view"]');
  });

  test('should fallback to 2D images on WebGL failure', async ({ page, context }) => {
    // Disable WebGL
    await context.addInitScript(() => {
      HTMLCanvasElement.prototype.getContext = () => null;
    });

    await page.goto('/product/test-product-3d');

    // Verify 2D fallback image shown
    await expect(page.locator('[data-testid="fallback-image"]')).toBeVisible();
    await expect(page.locator('canvas')).not.toBeVisible();
  });
});
```

### 8.5. Performance Testing (Load Testing)

```javascript
// tests/load/checkout.k6.js
import http from 'k6/http';
import { check, sleep } from 'k6';
import { Rate } from 'k6/metrics';

const errorRate = new Rate('errors');

export const options = {
  stages: [
    { duration: '2m', target: 100 },  // Ramp up to 100 users
    { duration: '5m', target: 100 },  // Stay at 100 users
    { duration: '2m', target: 200 },  // Ramp up to 200 users
    { duration: '5m', target: 200 },  // Stay at 200 users
    { duration: '2m', target: 0 },    // Ramp down
  ],
  thresholds: {
    http_req_duration: ['p(95)<500'], // 95% requests < 500ms
    http_req_failed: ['rate<0.01'],   // Error rate < 1%
    errors: ['rate<0.1'],
  },
};

const BASE_URL = 'https://api.elementa.vn/api/v1';

export default function () {
  // 1. Browse products
  let res = http.get(`${BASE_URL}/products?page=1&limit=20`);
  check(res, {
    'products loaded': (r) => r.status === 200,
    'response time OK': (r) => r.timings.duration < 500,
  }) || errorRate.add(1);

  sleep(1);

  // 2. Get product detail
  res = http.get(`${BASE_URL}/products/test-product-id`);
  check(res, {
    'product detail loaded': (r) => r.status === 200,
  }) || errorRate.add(1);

  sleep(2);

  // 3. Add to cart
  const cartPayload = JSON.stringify({
    productId: 'test-product-id',
    variantId: 'test-variant-id',
    quantity: 1,
  });

  res = http.post(`${BASE_URL}/cart/items`, cartPayload, {
    headers: { 'Content-Type': 'application/json' },
  });
  check(res, {
    'added to cart': (r) => r.status === 201,
  }) || errorRate.add(1);

  sleep(1);

  // 4. Create order (simulation)
  const orderPayload = JSON.stringify({
    items: [{ variantId: 'test-variant-id', quantity: 1 }],
    shippingAddress: {
      fullName: 'Test User',
      phone: '0901234567',
      address: '123 Test St',
      city: 'HCMC',
    },
    paymentMethod: 'COD',
  });

  res = http.post(`${BASE_URL}/orders`, orderPayload, {
    headers: { 'Content-Type': 'application/json' },
  });
  check(res, {
    'order created': (r) => r.status === 201,
  }) || errorRate.add(1);

  sleep(3);
}
```

**Run load test:**
```bash
k6 run tests/load/checkout.k6.js
```

***

## 9. MONITORING & LOGGING STRATEGY

### 9.1. Monitoring Architecture

```mermaid
graph TB
    subgraph "Application Layer"
        APP[Node.js App]
        NEXT[Next.js App]
    end
    
    subgraph "Metrics Collection"
        PROM[Prometheus]
        EXPORTER[Node Exporter<br/>Postgres Exporter<br/>Redis Exporter]
    end
    
    subgraph "Logging"
        WINSTON[Winston Logger]
        ELASTIC[Elasticsearch]
        KIBANA[Kibana Dashboard]
    end
    
    subgraph "Error Tracking"
        SENTRY[Sentry.io]
    end
    
    subgraph "Visualization"
        GRAFANA[Grafana<br/>Metrics Dashboard]
    end
    
    subgraph "Alerting"
        ALERT[Alertmanager]
        SLACK[Slack Notifications]
        EMAIL[Email Alerts]
    end
    
    subgraph "APM"
        NEWRELIC[New Relic APM<br/>Optional]
    end
    
    APP --> WINSTON
    APP --> SENTRY
    APP --> PROM
    
    NEXT --> SENTRY
    
    WINSTON --> ELASTIC
    ELASTIC --> KIBANA
    
    EXPORTER --> PROM
    PROM --> GRAFANA
    PROM --> ALERT
    
    ALERT --> SLACK
    ALERT --> EMAIL
    
    APP --> NEWRELIC
```

### 9.2. Application Logging

```typescript
// utils/logger.ts
import winston from 'winston';
import 'winston-daily-rotate-file';

const { combine, timestamp, printf, colorize, errors } = winston.format;

// Custom log format
const logFormat = printf(({ level, message, timestamp, stack, ...meta }) => {
  let msg = `${timestamp} [${level}]: ${message}`;
  
  if (Object.keys(meta).length > 0) {
    msg += ` ${JSON.stringify(meta)}`;
  }
  
  if (stack) {
    msg += `\n${stack}`;
  }
  
  return msg;
});

// Transport configurations
const transports: winston.transport[] = [
  // Console transport (development)
  new winston.transports.Console({
    format: combine(
      colorize(),
      timestamp({ format: 'YYYY-MM-DD HH:mm:ss' }),
      errors({ stack: true }),
      logFormat
    ),
  }),

  // File transport - Error logs
  new winston.transports.DailyRotateFile({
    filename: 'logs/error-%DATE%.log',
    datePattern: 'YYYY-MM-DD',
    level: 'error',
    maxSize: '20m',
    maxFiles: '14d',
    format: combine(
      timestamp(),
      errors({ stack: true }),
      winston.format.json()
    ),
  }),

  // File transport - Combined logs
  new winston.transports.DailyRotateFile({
    filename: 'logs/combined-%DATE%.log',
    datePattern: 'YYYY-MM-DD',
    maxSize: '20m',
    maxFiles: '14d',
    format: combine(
      timestamp(),
      winston.format.json()
    ),
  }),
];

// Elasticsearch transport (production)
if (process.env.NODE_ENV === 'production') {
  const ElasticsearchTransport = require('winston-elasticsearch');
  
  transports.push(new ElasticsearchTransport({
    level: 'info',
    clientOpts: { node: process.env.ELASTICSEARCH_URL },
    index: 'elementa-logs',
  }));
}

export const logger = winston.createLogger({
  level: process.env.LOG_LEVEL || 'info',
  transports,
  exceptionHandlers: [
    new winston.transports.File({ filename: 'logs/exceptions.log' })
  ],
  rejectionHandlers: [
    new winston.transports.File({ filename: 'logs/rejections.log' })
  ],
});

// Usage examples
export default logger;
```

**Usage in application:**

```typescript
// Example usage
import logger from '@/utils/logger';

// Info log
logger.info('User logged in', { userId: '123', email: 'user@example.com' });

// Error log
logger.error('Payment failed', {
  orderId: 'ORD-001',
  error: error.message,
  stack: error.stack
});

// HTTP request logging middleware
export function requestLogger(req: Request, res: Response, next: NextFunction) {
  const startTime = Date.now();

  res.on('finish', () => {
    const duration = Date.now() - startTime;
    
    logger.info('HTTP Request', {
      method: req.method,
      url: req.originalUrl,
      statusCode: res.statusCode,
      duration: `${duration}ms`,
      userAgent: req.get('user-agent'),
      ip: req.ip,
    });
  });

  next();
}
```

### 9.3. Metrics Collection (Prometheus)

```typescript
// utils/metrics.ts
import promClient from 'prom-client';

const register = new promClient.Registry();

// Default metrics (CPU, memory, etc.)
promClient.collectDefaultMetrics({ register });

// Custom metrics
export const httpRequestDuration = new promClient.Histogram({
  name: 'http_request_duration_seconds',
  help: 'Duration of HTTP requests in seconds',
  labelNames: ['method', 'route', 'status_code'],
  buckets: [0.1, 0.3, 0.5, 0.7, 1, 3, 5, 7, 10],
  registers: [register],
});

export const httpRequestTotal = new promClient.Counter({
  name: 'http_requests_total',
  help: 'Total number of HTTP requests',
  labelNames: ['method', 'route', 'status_code'],
  registers: [register],
});

export const orderCreatedTotal = new promClient.Counter({
  name: 'orders_created_total',
  help: 'Total number of orders created',
  labelNames: ['payment_method', 'status'],
  registers: [register],
});

export const orderValue = new promClient.Histogram({
  name: 'order_value_vnd',
  help: 'Order value in VND',
  buckets: [100000, 300000, 500000, 1000000, 2000000, 5000000],
  registers: [register],
});

export const activeUsers = new promClient.Gauge({
  name: 'active_users',
  help: 'Number of currently active users',
  registers: [register],
});

export const databaseQueryDuration = new promClient.Histogram({
  name: 'database_query_duration_seconds',
  help: 'Database query duration',
  labelNames: ['operation'],
  buckets: [0.01, 0.05, 0.1, 0.3, 0.5, 1],
  registers: [register],
});

// Expose metrics endpoint
export function metricsMiddleware(req: Request, res: Response) {
  res.set('Content-Type', register.contentType);
  res.end(register.metrics());
}

// Middleware to track HTTP metrics
export function trackHttpMetrics(req: Request, res: Response, next: NextFunction) {
  const start = Date.now();

  res.on('finish', () => {
    const duration = (Date.now() - start) / 1000;
    const route = req.route?.path || req.path;

    httpRequestDuration.observe(
      { method: req.method, route, status_code: res.statusCode },
      duration
    );

    httpRequestTotal.inc({
      method: req.method,
      route,
      status_code: res.statusCode,
    });
  });

  next();
}
```

### 9.4. Error Tracking (Sentry)

```typescript
// config/sentry.ts
import * as Sentry from '@sentry/node';
import { ProfilingIntegration } from '@sentry/profiling-node';

export function initSentry() {
  Sentry.init({
    dsn: process.env.SENTRY_DSN,
    environment: process.env.NODE_ENV,
    integrations: [
      new Sentry.Integrations.Http({ tracing: true }),
      new Sentry.Integrations.Express({ app }),
      new ProfilingIntegration(),
    ],
    tracesSampleRate: 0.1, // 10% of transactions
    profilesSampleRate: 0.1,

    beforeSend(event, hint) {
      // Filter out sensitive data
      if (event.request) {
        delete event.request.cookies;
        if (event.request.headers) {
          delete event.request.headers['authorization'];
        }
      }
      return event;
    },
  });
}

// Usage in Express app
app.use(Sentry.Handlers.requestHandler());
app.use(Sentry.Handlers.tracingHandler());

// ... routes ...

app.use(Sentry.Handlers.errorHandler());
```

### 9.5. Grafana Dashboard Configuration

**Dashboard Panels:**

```json
{
  "dashboard": {
    "title": "ELEMENTA - E-Commerce Metrics",
    "panels": [
      {
        "title": "Request Rate (req/s)",
        "targets": [
          {
            "expr": "rate(http_requests_total[5m])"
          }
        ]
      },
      {
        "title": "P95 Response Time",
        "targets": [
          {
            "expr": "histogram_quantile(0.95, rate(http_request_duration_seconds_bucket[5m]))"
          }
        ]
      },
      {
        "title": "Error Rate",
        "targets": [
          {
            "expr": "rate(http_requests_total{status_code=~\"5..\"}[5m])"
          }
        ]
      },
      {
        "title": "Orders per Hour",
        "targets": [
          {
            "expr": "rate(orders_created_total[1h]) * 3600"
          }
        ]
      },
      {
        "title": "Average Order Value",
        "targets": [
          {
            "expr": "histogram_quantile(0.50, rate(order_value_vnd_bucket[1h]))"
          }
        ]
      },
      {
        "title": "Active Users",
        "targets": [
          {
            "expr": "active_users"
          }
        ]
      },
      {
        "title": "Database Query Duration P95",
        "targets": [
          {
            "expr": "histogram_quantile(0.95, rate(database_query_duration_seconds_bucket[5m]))"
          }
        ]
      },
      {
        "title": "CPU Usage",
        "targets": [
          {
            "expr": "100 - (avg by (instance) (irate(node_cpu_seconds_total{mode=\"idle\"}[5m])) * 100)"
          }
        ]
      },
      {
        "title": "Memory Usage",
        "targets": [
          {
            "expr": "(node_memory_MemTotal_bytes - node_memory_MemAvailable_bytes) / node_memory_MemTotal_bytes * 100"
          }
        ]
      }
    ]
  }
}
```

### 9.6. Alert Rules

```yaml
# prometheus/alerts.yml
groups:
  - name: elementa_alerts
    interval: 30s
    rules:
      # High error rate
      - alert: HighErrorRate
        expr: rate(http_requests_total{status_code=~"5.."}[5m]) > 0.05
        for: 5m
        labels:
          severity: critical
        annotations:
          summary: "High error rate detected"
          description: "Error rate is {{ $value }} requests/sec (threshold: 0.05)"

      # Slow response time
      - alert: SlowResponseTime
        expr: histogram_quantile(0.95, rate(http_request_duration_seconds_bucket[5m])) > 1
        for: 5m
        labels:
          severity: warning
        annotations:
          summary: "Slow response time"
          description: "P95 response time is {{ $value }}s (threshold: 1s)"

      # Database down
      - alert: DatabaseDown
        expr: up{job="postgres"} == 0
        for: 1m
        labels:
          severity: critical
        annotations:
          summary: "Database is down"
          description: "PostgreSQL database is unreachable"

      # High memory usage
      - alert: HighMemoryUsage
        expr: (node_memory_MemTotal_bytes - node_memory_MemAvailable_bytes) / node_memory_MemTotal_bytes * 100 > 90
        for: 5m
        labels:
          severity: warning
        annotations:
          summary: "High memory usage"
          description: "Memory usage is {{ $value }}% (threshold: 90%)"

      # Low inventory alert
      - alert: LowInventory
        expr: product_stock_quantity < 10
        for: 1h
        labels:
          severity: info
        annotations:
          summary: "Low inventory for {{ $labels.product_name }}"
          description: "Only {{ $value }} units left in stock"
```

***

## 10. PERFORMANCE OPTIMIZATION PLAN

### 10.1. Frontend Optimization Checklist

```typescript
// 1. Image Optimization
import Image from 'next/image';

<Image
  src="/products/ba-m01.jpg"
  alt="The Lab Tee"
  width={800}
  height={800}
  quality={85}
  priority={isAboveFold}
  placeholder="blur"
  blurDataURL="data:image/..." // Low-quality placeholder
  sizes="(max-width: 768px) 100vw, (max-width: 1200px) 50vw, 33vw"
/>

// 2. Code Splitting
const AdminPanel = dynamic(() => import('@/components/admin/AdminPanel'), {
  ssr: false,
  loading: () => <Skeleton />
});

// 3. Lazy Loading Components
import { lazy, Suspense } from 'react';

const ProductViewer3D = lazy(() => import('@/components/product/ProductViewer3D'));

<Suspense fallback={<ViewerSkeleton />}>
  <ProductViewer3D modelUrl={product.model3dUrl} />
</Suspense>

// 4. Virtualized Lists (for long product lists)
import { FixedSizeList } from 'react-window';

<FixedSizeList
  height={600}
  itemCount={products.length}
  itemSize={400}
  width="100%"
>
  {({ index, style }) => (
    <div style={style}>
      <ProductCard product={products[index]} />
    </div>
  )}
</FixedSizeList>

// 5. Debounce Search Input
import { useDebouncedCallback } from 'use-debounce';

const debouncedSearch = useDebouncedCallback(
  (value) => {
    fetchSearchResults(value);
  },
  500 // 500ms delay
);

// 6. Optimize Bundle Size
// next.config.js
module.exports = {
  webpack: (config, { dev, isServer }) => {
    if (!dev && !isServer) {
      config.optimization.splitChunks = {
        chunks: 'all',
        cacheGroups: {
          default: false,
          vendors: false,
          // Vendor chunk
          vendor: {
            name: 'vendor',
            chunks: 'all',
            test: /node_modules/,
            priority: 20
          },
          // Common chunk
          common: {
            name: 'common',
            minChunks: 2,
            chunks: 'all',
            priority: 10,
            reuseExistingChunk: true,
            enforce: true
          }
        }
      };
    }
    return config;
  }
};
```

### 10.2. Backend Optimization

```typescript
// 1. Database Query Optimization
// Use select to fetch only needed fields
const products = await prisma.product.findMany({
  select: {
    id: true,
    sku: true,
    nameVi: true,
    basePrice: true,
    images: {
      where: { isPrimary: true },
      select: { url: true, altText: true }
    }
  }
});

// 2. N+1 Query Prevention with include
const orders = await prisma.order.findMany({
  include: {
    items: {
      include: {
        product: true,
        variant: true
      }
    },
    user: true
  }
});

// 3. Database Indexing
// prisma/schema.prisma
model Product {
  id        String   @id @default(uuid())
  sku       String   @unique
  slug      String   @unique
  categoryId String
  elementId String
  status    Status   @default(ACTIVE)
  createdAt DateTime @default(now())

  @@index([categoryId])
  @@index([elementId])
  @@index([status])
  @@index([createdAt])
  @@index([categoryId, status]) // Composite index
}

// 4. Caching Strategy
import { redisClient } from '@/config/redis';

async function getProductWithCache(id: string) {
  const cacheKey = `product:${id}`;
  
  // Check cache
  const cached = await redisClient.get(cacheKey);
  if (cached) {
    return JSON.parse(cached);
  }
  
  // Fetch from DB
  const product = await prisma.product.findUnique({
    where: { id },
    include: { ... }
  });
  
  // Store in cache (5 minutes TTL)
  await redisClient.setex(cacheKey, 300, JSON.stringify(product));
  
  return product;
}

// 5. Batch Operations
// Instead of:
for (const item of cartItems) {
  await prisma.orderItem.create({ data: item });
}

// Use:
await prisma.orderItem.createMany({
  data: cartItems
});

// 6. Connection Pooling
// Database connection pool
const prisma = new PrismaClient({
  datasources: {
    db: {
      url: process.env.DATABASE_URL,
    },
  },
  // Connection pool settings
  log: ['query', 'error', 'warn'],
});

// 7. Response Compression
import compression from 'compression';
app.use(compression());
```

### 10.3. CDN & Caching Strategy

```
ASSET CACHING RULES:
â”œâ”€ Static Assets (images, fonts, CSS, JS)
â”‚  â””â”€ Cache-Control: public, max-age=31536000, immutable
â”‚
â”œâ”€ Product Images
â”‚  â””â”€ Cache-Control: public, max-age=604800 (7 days)
â”‚
â”œâ”€ 3D Models (GLB/GLTF)
â”‚  â””â”€ Cache-Control: public, max-age=2592000 (30 days)
â”‚
â”œâ”€ HTML Pages
â”‚  â””â”€ Cache-Control: public, max-age=300, must-revalidate
â”‚
â””â”€ API Responses
   â”œâ”€ GET /products: max-age=60, stale-while-revalidate=300
   â”œâ”€ GET /product/:id: max-age=300
   â””â”€ POST/PATCH/DELETE: no-cache
```

***

## 11. SCALABILITY PLAN

### 11.1. Phase 1: Monolithic Optimization (0-10K orders/month)

```
CURRENT STATE:
â””â”€ Single server deployment
   â”œâ”€ App + DB + Redis on same server
   â””â”€ Vertical scaling (upgrade CPU/RAM)

OPTIMIZATIONS:
â”œâ”€ Database query optimization
â”œâ”€ Redis caching layer
â”œâ”€ CDN for static assets
â””â”€ Connection pooling
```

### 11.2. Phase 2: Horizontal Scaling (10K-50K orders/month)

```mermaid
graph TB
    LB[Load Balancer]
    
    subgraph "Application Tier"
        APP1[App Server 1]
        APP2[App Server 2]
        APP3[App Server 3]
    end
    
    subgraph "Database Tier"
        DB_MASTER[(PostgreSQL Master)]
        DB_READ1[(Read Replica 1)]
        DB_READ2[(Read Replica 2)]
    end
    
    REDIS[(Redis Cluster)]
    
    LB --> APP1
    LB --> APP2
    LB --> APP3
    
    APP1 -->|Write| DB_MASTER
    APP2 -->|Write| DB_MASTER
    APP3 -->|Write| DB_MASTER
    
    APP1 -->|Read| DB_READ1
    APP2 -->|Read| DB_READ2
    APP3 -->|Read| DB_READ1
    
    DB_MASTER -.Replication.-> DB_READ1
    DB_MASTER -.Replication.-> DB_READ2
    
    APP1 --> REDIS
    APP2 --> REDIS
    APP3 --> REDIS
```

### 11.3. Phase 3: Migration to Modular Monolith (50K-200K orders/month)

```
REFACTOR TO MODULES:
â”œâ”€ Product Service Module (ë…ë¦½ deploy)
â”œâ”€ Order Service Module
â”œâ”€ Payment Service Module
â””â”€ User Service Module

BENEFITS:
â”œâ”€ Independent scaling per module
â”œâ”€ Easier debugging
â”œâ”€ Team can work independently
â””â”€ Prep for future microservices (if needed)
```

### 11.4. Database Sharding Strategy (Future)

```
SHARDING KEY: user_id or region

SHARD 1 (Vietnam North):
â””â”€ Users with ID ending 0-2

SHARD 2 (Vietnam Central):
â””â”€ Users with ID ending 3-5

SHARD 3 (Vietnam South):
â””â”€ Users with ID ending 6-9
```

***

## 12. WORKFLOWS & DIAGRAMS CHI TIáº¾T

### 12.1. User Registration & Login Flow

```mermaid
sequenceDiagram
    participant U as User
    participant F as Frontend
    participant API as API Server
    participant DB as Database
    participant Redis as Redis Cache
    participant Email as Email Service

    Note over U,Email: Registration Flow
    
    U->>F: Click "Register"
    F->>U: Show registration form
    U->>F: Submit form (email, password, name)
    F->>F: Validate input (client-side)
    F->>API: POST /api/v1/auth/register
    API->>API: Validate input (server-side)
    API->>DB: Check if email exists
    
    alt Email already exists
        DB-->>API: User found
        API-->>F: Error: Email already registered
        F-->>U: Show error message
    else Email available
        DB-->>API: No user found
        API->>API: Hash password (bcrypt)
        API->>DB: Create user record
        DB-->>API: User created
        API->>API: Generate JWT tokens
        API->>Redis: Store refresh token
        API-->>F: Success + tokens + user data
        F->>F: Store tokens in localStorage
        F-->>U: Redirect to homepage (logged in)
        API->>Email: Send welcome email (async)
    end

    Note over U,Email: Login Flow
    
    U->>F: Click "Login"
    F->>U: Show login form
    U->>F: Submit credentials
    F->>API: POST /api/v1/auth/login
    API->>DB: Find user by email
    
    alt User not found
        DB-->>API: No user
        API-->>F: Error: Invalid credentials
        F-->>U: Show error
    else User found
        DB-->>API: Return user
        API->>API: Compare password hash
        
        alt Password incorrect
            API-->>F: Error: Invalid credentials
            F-->>U: Show error
        else Password correct
            API->>DB: Update last_login_at
            API->>API: Generate JWT tokens
            API->>Redis: Store refresh token
            API-->>F: Success + tokens + user data
            F->>F: Store tokens
            F-->>U: Redirect to dashboard
        end
    end
```

### 12.2. Complete Order Processing Workflow

```mermaid
stateDiagram-v2
    [*] --> CartBuilding: User adds items
    
    CartBuilding --> Checkout: Click checkout
    
    Checkout --> PaymentPending: Submit order
    
    PaymentPending --> PaymentFailed: Payment declined
    PaymentPending --> Paid: Payment success
    PaymentPending --> Cancelled: User cancels
    
    PaymentFailed --> [*]: Notify user
    
    Paid --> QC_Queue: Auto-assign to QC
    
    QC_Queue --> QC_Approved: QC passes
    QC_Queue --> QC_Rejected: QC fails
    
    QC_Rejected --> RefundProcessing: Initiate refund
    
    QC_Approved --> Packing: Send to warehouse
    
    Packing --> PackingComplete: Items packed
    
    PackingComplete --> Shipped: Hand to shipper
    
    Shipped --> InTransit: Tracking active
    
    InTransit --> Delivered: Customer receives
    InTransit --> DeliveryFailed: Failed delivery
    
    DeliveryFailed --> InTransit: Retry delivery
    DeliveryFailed --> Returning: Return to sender
    
    Delivered --> Completed: Auto-complete after 7 days
    Delivered --> ReturnRequested: Customer requests return
    
    ReturnRequested --> Returning: Approve return
    
    Returning --> RefundProcessing: Item received
    
    RefundProcessing --> Refunded: Refund completed
    
    Refunded --> [*]
    Completed --> [*]
    Cancelled --> [*]
    
    note right of QC_Approved
        Email: QC approved
        SMS: Packing started
    end note
    
    note right of Shipped
        Email: Tracking number
        SMS: Estimated delivery
    end note
    
    note right of Delivered
        Email: Request review
        Push: Rate your order
    end note
```

### 12.3. Inventory Management Flow

```mermaid
flowchart TD
    Start([Product Added to Cart]) --> CheckStock{Stock Available?}
    
    CheckStock -->|Yes| ReserveStock[Reserve Stock<br/>TTL: 15 minutes]
    CheckStock -->|No| OutOfStock[Show Out of Stock]
    
    OutOfStock --> NotifyMe{User Opts for<br/>Notify Me?}
    NotifyMe -->|Yes| SaveNotification[Save Email<br/>to Notification Queue]
    NotifyMe -->|No| End1([End])
    SaveNotification --> End1
    
    ReserveStock --> UserCheckout{User Completes<br/>Checkout?}
    
    UserCheckout -->|Yes, within 15min| DeductStock[Deduct from<br/>Available Stock]
    UserCheckout -->|No, timeout| ReleaseStock[Release Reserved Stock]
    
    ReleaseStock --> End2([End])
    
    DeductStock --> UpdateDB[(Update<br/>product_variants<br/>stock_quantity)]
    
    UpdateDB --> CheckThreshold{Stock < 10?}
    
    CheckThreshold -->|Yes| LowStockAlert[Trigger Low Stock Alert<br/>Email to Manager]
    CheckThreshold -->|No| End3([End])
    
    LowStockAlert --> End3
    
    style CheckStock fill:#fff4e6
    style CheckThreshold fill:#fff4e6
    style OutOfStock fill:#ffe0e0
    style LowStockAlert fill:#ffe0e0
    style DeductStock fill:#e6ffe6
```

***

## 13. TÃ“M Táº®T & DELIVERABLES

### 13.1. Báº£ng Tá»•ng Há»£p CÃ´ng Nghá»‡

| Layer | Technology | Purpose |
|-------|------------|---------|
| **Frontend** | Next.js 14 + React 18 + TypeScript | SSR/SSG framework, type safety |
| | Tailwind CSS | Utility-first styling |
| | Three.js + React Three Fiber | 3D product visualization |
| | Zustand | State management |
| | React Query | Server state management |
| **Backend** | Node.js 20 + Express.js | Runtime + web framework |
| | TypeScript | Type safety |
| | Prisma | ORM + database migrations |
| | Passport.js + JWT | Authentication |
| **Database** | PostgreSQL 15 | Primary database |
| | Redis 7 | Caching + sessions |
| **Infrastructure** | Docker + Docker Compose | Containerization |
| | Nginx | Load balancer + reverse proxy |
| | Cloudflare | CDN + DDoS protection |
| | AWS S3 / DO Spaces | Object storage |
| **Monitoring** | Prometheus + Grafana | Metrics + dashboards |
| | Elasticsearch + Kibana | Log aggregation |
| | Sentry | Error tracking |
| **CI/CD** | GitHub Actions | Automated testing + deployment |

### 13.2. Timeline Tá»•ng Há»£p

```
WEEK 1-2: Preparation
â”œâ”€ Requirements finalization
â”œâ”€ Design system creation
â””â”€ Infrastructure setup

WEEK 3-10: Development (8 weeks)
â”œâ”€ Week 3-4: Core frontend + design system
â”œâ”€ Week 5-6: Product catalog + PDP
â”œâ”€ Week 7: Cart + checkout
â”œâ”€ Week 8: Admin panel MVP
â”œâ”€ Week 9: Payment integration
â””â”€ Week 10: Testing + bug fixes

WEEK 11-14: Launch (4 weeks)
â”œâ”€ Week 11: Staging deployment + UAT
â”œâ”€ Week 12: Production deployment
â”œâ”€ Week 13-14: Soft launch + monitoring
â””â”€ Week 15+: Full marketing launch

TOTAL: 14-16 weeks (3.5-4 months)
```

### 13.3. Deliverables Checklist

**Documentation:**
- âœ… Technical Design Document (this document)
- âœ… API Documentation (OpenAPI/Swagger)
- âœ… Database Schema (ERD)
- âœ… User Manual (Admin Panel)
- âœ… Deployment Guide
- âœ… Runbook (Operations manual)

**Code Repositories:**
- âœ… Frontend repository (Next.js)
- âœ… Backend repository (Node.js)
- âœ… Infrastructure as Code (Docker configs)
- âœ… CI/CD pipelines (GitHub Actions)

**Environments:**
- âœ… Development environment
- âœ… Staging environment
- âœ… Production environment

**Testing:**
- âœ… Unit tests (>80% coverage)
- âœ… Integration tests
- âœ… E2E tests (critical paths)
- âœ… Load testing results

**Monitoring:**
- âœ… Grafana dashboards
- âœ… Alert rules configured
- âœ… Error tracking (Sentry)
- âœ… Log aggregation (ELK Stack)

***

## 14. Káº¾T LUáº¬N

### 14.1. Tá»•ng Quan Giáº£i PhÃ¡p

ELEMENTA E-Commerce Platform lÃ  giáº£i phÃ¡p toÃ n diá»‡n Ä‘Æ°á»£c thiáº¿t káº¿ Ä‘á»ƒ:

1. **Táº¡o Tráº£i Nghiá»‡m VÆ°á»£t Trá»™i**: 3D product viewer, dark mode optimization, mobile-first design phÃ¹ há»£p vá»›i thÃ³i quen mua sáº¯m cá»§a Gen Z/Alpha
2. **Minh Báº¡ch Ká»¹ Thuáº­t**: Hiá»ƒn thá»‹ Ä‘áº§y Ä‘á»§ tech specs, fabric data, certifications - phÃ¹ há»£p vá»›i triáº¿t lÃ½ "The Science of Comfort"
3. **Dá»… Má»Ÿ Rá»™ng**: Kiáº¿n trÃºc modular monolith cho phÃ©p scale tá»« 100 â†’ 10,000+ Ä‘Æ¡n/thÃ¡ng
4. **An ToÃ n & Tin Cáº­y**: Security best practices, 99.5% uptime SLA, encrypted data
5. **Hiá»‡u Quáº£ Váº­n HÃ nh**: CMS máº¡nh máº½, automated workflows, real-time analytics

### 14.2. Äiá»ƒm Máº¡nh Cáº¡nh Tranh

- **3D Visualization**: Äá»™c nháº¥t táº¡i VN, tÄƒng conversion rate 15-30%
- **Technical Transparency**: XÃ¢y dá»±ng trust vá»›i customer qua lab reports
- **M2C Pricing**: GiÃ¡ tá»‘t hÆ¡n marketplace 20-30%
- **Night Shopping UX**: Tá»‘i Æ°u cho 80% thá»i gian mua sáº¯m cá»§a Gen Z
- **Admin Efficiency**: Workflow tá»± Ä‘á»™ng giáº£m 50% thá»i gian xá»­ lÃ½ Ä‘Æ¡n

### 14.3. Rá»§i Ro & Mitigation

| Rá»§i Ro | Impact | Mitigation |
|--------|--------|------------|
| 3D performance trÃªn mobile yáº¿u | Cao | WebGL detection + 2D fallback |
| Chi phÃ­ 3D modeling cao | TB | Báº¯t Ä‘áº§u vá»›i top products, tá»± Ä‘á»™ng hÃ³a dáº§n |
| Traffic tháº¥p ban Ä‘áº§u | Cao | Budget marketing 20% revenue, SEO intensive |
| Complexity cho non-tech team | TB | Training 40h, documentation chi tiáº¿t |

### 14.4. Next Steps

**Immediate (Week 1-2):**
1. Approve technical design document
2. Finalize UI/UX mockups (Figma)
3. Prepare product content (photos, descriptions, 3D models for 5 hero products)
4. Set up development environments

**Short-term (Month 1-2):**
1. MVP development (core features)
2. Weekly progress reviews
3. Staging deployment
4. User acceptance testing

**Medium-term (Month 3-4):**
1. Production launch
2. Marketing campaign
3. Performance monitoring
4. Feature iterations based on feedback

***

**Document Version:** 1.0  
**Last Updated:** January 29, 2026  
**Prepared by:** Technical Architecture Team  
**Status:** Ready for Client Review & Approval  

***

**Háº¾T TÃ€I LIá»†U**
